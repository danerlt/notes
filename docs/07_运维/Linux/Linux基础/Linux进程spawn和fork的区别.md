# Linux进程spawn和fork的区别.md

在 Linux 中,spawn 和 fork 都是创建新进程的方式,但有一些区别:

- fork

    -   fork() 是通过系统调用创建一个与父进程几乎完全相同的子进程。
    -   子进程是父进程的一个完整复制,除了一些标识(如进程ID)不同外,两个进程的代码段、数据段、堆栈等都是相同的。
    -   在 fork 之后,父子进程同时继续执行,但执行路径可以不同。
    -   fork 是Unix/Linux中最常见的创建新进程的方式。

- spawn

    -   spawn 实际上是执行一个全新的程序,这个新程序与父进程代码是不同的。
    -   当使用 spawn 时,内核会为新程序创建一个新的虚拟内存空间加载程序代码和数据。
    -   spawn 通常用于启动新的程序,而不是复制现有进程。

所以在 Linux 中:

-   fork 用于将现有进程复制出一个几乎完全相同的子进程,两个进程可以共享部分资源。
-   spawn 用于创建一个全新的进程来执行不同的程序,新旧进程完全独立,资源不共享。

fork 通常用于创建子进程以实现并发,而 spawn 更适合启动新的程序或命令。二者有些重叠但本质不同。
