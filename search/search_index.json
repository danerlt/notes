{"config":{"lang":["zh"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stemmer"]},"docs":[{"location":"index.html","title":"notes","text":"<p>\u4e2a\u4eba\u5e38\u7528\u7b14\u8bb0</p> <p>\u7f51\u7ad9\u94fe\u63a5: https://danerlt.github.io/notes/</p> <p>\u6548\u679c\u56fe\uff1a </p> <p></p>"},{"location":"index.html#1","title":"1. \u4e3a\u4ec0\u4e48\u8981\u5199\u8fd9\u4e2a\u7b14\u8bb0","text":"<ol> <li>\u5c06\u81ea\u5df1\u5e38\u7528\u7684\u547d\u4ee4\uff0c\u65b9\u6cd5\u7b49\u77e5\u8bc6\u8bb0\u5f55\u4e0b\u6765\uff0c\u65b9\u4fbf\u81ea\u5df1\u67e5\u627e</li> <li>\u597d\u8bb0\u6027\u4e0d\u5982\u70c2\u7b14\u5934\uff0c\u65b9\u4fbf\u81ea\u5df1\u590d\u4e60</li> </ol>"},{"location":"index.html#2_mkdocs","title":"2. \u4e3a\u4ec0\u4e48\u8981\u7528mkdocs","text":"<p>mkdocs\u662f\u4e00\u4e2a\u7528\u4e8e\u7f16\u5199\u6587\u6863\u7684\u5de5\u5177\uff0c\u5b83\u7684\u4f18\u70b9\u6709\uff1a 1. \u6709\u5f88\u591a\u4f18\u79c0\u7684\u4e3b\u9898\u53ef\u4f9b\u9009\u62e9 2. \u81ea\u5b9a\u4e49\u914d\u7f6e\u7b80\u5355 3. \u53ef\u4ee5\u7f16\u4e66\u5199\u8fb9\u9884\u89c8\uff0c\u9884\u89c8\u901f\u5ea6\u6bd4vuepress\u5feb\u591a\u4e86 4. \u65b9\u4fbf\u7684\u90e8\u7f72\u5230github pages 5. \u4f7f\u7528 Python \u7f16\u5199, \u53ef\u4ee5\u65b9\u4fbf\u7684\u6269\u5c55 6. \u652f\u6301\u591a\u79cd\u683c\u5f0f\u7684\u95ee\u9898\uff0c\u4f8b\u5982md\uff0cipynb, py\u7b49(ipynb\u548cpy\u683c\u5f0f\u9700\u8981\u5b89\u88c5\u63d2\u4ef6)</p>"},{"location":"index.html#_1","title":"\u73af\u5883\u642d\u5efa","text":"<pre><code># \u521b\u5efa conda \u73af\u5883\nconda activate -n docs python==3.11\n\n# \u5b89\u88c5 pip \u4f9d\u8d56\npip install -r requirements.txt \n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/01_%E5%9F%BA%E7%A1%80/01_%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html","title":"\u57fa\u7840\u8bed\u6cd5","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/01_%E5%9F%BA%E7%A1%80/02_%E5%8F%98%E9%87%8F%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html","title":"\u53d8\u91cf\u548c\u6570\u636e\u7c7b\u578b","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/01_%E5%9F%BA%E7%A1%80/02_%E5%8F%98%E9%87%8F%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_2","title":"\u53d8\u91cf","text":"<p>Python \u4e2d\u7684\u53d8\u91cf\u7528\u4e8e\u5b58\u50a8\u503c,\u8fd9\u4e9b\u503c\u53ef\u4ee5\u662f\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u3001\u5217\u8868\u7b49\u5404\u79cd\u7c7b\u578b\u3002Python \u53d8\u91cf\u7684\u547d\u540d\u9075\u5faa\u4e00\u4e9b\u89c4\u5219:</p> <ul> <li>\u53d8\u91cf\u540d\u5fc5\u987b\u4ee5\u5b57\u6bcd\u6216\u4e0b\u5212\u7ebf\u5f00\u5934</li> <li>\u53d8\u91cf\u540d\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934</li> <li>\u53d8\u91cf\u540d\u53ea\u80fd\u5305\u542b\u5b57\u6bcd\u6570\u5b57\u548c\u4e0b\u5212\u7ebf,\u4e0d\u80fd\u5305\u542b\u7a7a\u683c\u6216\u5176\u4ed6\u7279\u6b8a\u5b57\u7b26</li> <li>\u53d8\u91cf\u540d\u533a\u5206\u5927\u5c0f\u5199</li> <li>Python \u4e2d\u4e0d\u9700\u8981\u9884\u5148\u58f0\u660e\u53d8\u91cf\u7684\u7c7b\u578b,\u5728\u7ed9\u53d8\u91cf\u8d4b\u503c\u65f6,Python \u4f1a\u81ea\u52a8\u63a8\u65ad\u53d8\u91cf\u7684\u7c7b\u578b\u3002\u4e0b\u9762\u662f\u4e00\u4e9b Python \u53d8\u91cf\u7684\u4f7f\u7528\u793a\u4f8b:</li> </ul> <p><pre><code># \u6574\u6570\u53d8\u91cf\nx = 5\n\n# \u6d6e\u70b9\u6570\u53d8\u91cf \ny = 3.14\n\n# \u5b57\u7b26\u4e32\u53d8\u91cf\nname = \"Alice\"\n\n# \u5e03\u5c14\u53d8\u91cf\nis_student = True\n\n# \u5217\u8868\u53d8\u91cf\nfruits = [\"apple\", \"banana\", \"cherry\"]\n\n# \u5b57\u5178\u53d8\u91cf\nperson = {\"name\": \"Bob\", \"age\": 30}\n</code></pre> </p> <p>\u53d8\u91cf\u7684\u672c\u8d28\u662f\u7ed9\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u8d77\u4e2a\u540d\u5b57,\u53d8\u91cf\u540d\u5c31\u662f\u8fd9\u4e2a\u5185\u5b58\u5730\u5740\u7684\u522b\u540d\u3002\u8d4b\u503c\u64cd\u4f5c\u5c31\u662f\u7ed9\u53d8\u91cf\u540d\u7ed1\u5b9a\u5185\u5b58\u5730\u5740\u7684\u8fc7\u7a0b\u3002</p> <p>\u6bd4\u5982<code>x = 5</code>\uff0c<code>x</code>\u5c31\u662f\u8fd9\u4e2a\u5185\u5b58\u5730\u5740\u7684\u522b\u540d\uff0c<code>5</code>\u5c31\u662f\u8fd9\u4e2a\u5185\u5b58\u5730\u5740\u5b58\u50a8\u7684\u503c\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7 <code>id</code> \u51fd\u6570\u67e5\u770b\u53d8\u91cf\u7684\u5185\u5b58\u5730\u5740: <pre><code>&gt;&gt;&gt; x = 5                                                             \n&gt;&gt;&gt; id(x)\n140731514721192\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/01_%E5%9F%BA%E7%A1%80/02_%E5%8F%98%E9%87%8F%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_3","title":"\u6570\u636e\u7c7b\u578b","text":"<p>Python \u5e38\u89c1\u7684\u6570\u636e\u7c7b\u578b\u6709: int, str, bytes, list, tuple, set, dict, bool, float, complex\u7b49\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/01_%E5%9F%BA%E7%A1%80/02_%E5%8F%98%E9%87%8F%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html#_4","title":"\u53c2\u8003\u8fde\u63a5","text":"<ul> <li>Python\u53ef\u89c6\u5316\u5de5\u5177</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/01_%E5%9F%BA%E7%A1%80/Python%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92-%E8%B5%8B%E5%80%BC%E4%BC%A0%E9%80%92.html","title":"Python\u53c2\u6570\u4f20\u9012-\u8d4b\u503c\u4f20\u9012","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/01_%E5%9F%BA%E7%A1%80/Python%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92-%E8%B5%8B%E5%80%BC%E4%BC%A0%E9%80%92.html#c","title":"C++\u4e2d\u7684\u53c2\u6570\u4f20\u9012","text":"<p>C++\u4e2d,\u51fd\u6570\u7684\u53c2\u6570\u4f20\u9012\u4e3b\u8981\u6709\u4e24\u79cd\u65b9\u5f0f:</p> <ol> <li>\u503c\u4f20\u9012(pass by value)</li> </ol> <p>\u8fd9\u662fC++\u7684\u9ed8\u8ba4\u53c2\u6570\u4f20\u9012\u673a\u5236\u3002\u8c03\u7528\u51fd\u6570\u65f6\u4f1a\u5c06\u5b9e\u53c2\u7684\u503c\u590d\u5236\u4e00\u4efd\u7ed9\u5f62\u53c2,\u51fd\u6570\u5185\u90e8\u5bf9\u5f62\u53c2\u7684\u4fee\u6539\u4e0d\u4f1a\u6539\u53d8\u5916\u90e8\u5b9e\u53c2\u3002</p> <p>\u4f8b\u5982:</p> <pre><code>void func(int a) {\n  a++;\n}\n\nint main() {\n  int x = 10;\n  func(x);\n  // x\u4ecd\u7b49\u4e8e10,\u672a\u6539\u53d8\n}\n</code></pre> <ol> <li>\u5f15\u7528\u4f20\u9012(pass by reference)</li> </ol> <p>\u53ef\u4ee5\u901a\u8fc7\u5728\u51fd\u6570\u58f0\u660e\u548c\u5b9a\u4e49\u4e2d\u53c2\u6570\u524d\u52a0\u4e0a&amp;\u5b9e\u73b0\u3002\u8fd9\u65f6\u5185\u5916\u90fd\u5f15\u7528\u540c\u4e00\u5757\u5185\u5b58,\u51fd\u6570\u5185\u7684\u4fee\u6539\u4f1a\u5f71\u54cd\u5230\u5916\u90e8\u5b9e\u53c2\u3002</p> <p>\u4f8b\u5982:</p> <pre><code>void func(int &amp;a) {\n  a++;  \n}\n\nint main() {\n  int x = 10;\n  func(x);\n  // x\u53d8\u4e3a11\n}\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/01_%E5%9F%BA%E7%A1%80/Python%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92-%E8%B5%8B%E5%80%BC%E4%BC%A0%E9%80%92.html#python","title":"Python\u4e2d\u7684\u53c2\u6570\u4f20\u9012","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/01_%E5%9F%BA%E7%A1%80/Python%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92-%E8%B5%8B%E5%80%BC%E4%BC%A0%E9%80%92.html#python_1","title":"Python\u4e0d\u662f\u503c\u4f20\u9012","text":"<p>\u793a\u4f8b\u5982\u4e0b\uff1a</p> <p>\u4e0b\u9762\u662f<code>C++</code>\u503c\u4f20\u9012\u7684\u4e00\u4e2a\u793a\u4f8b\uff1a</p> <p><pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nvoid add(int n) {\n  cout &lt;&lt; \"start add, n: \" &lt;&lt; n &lt;&lt; \", address: \" &lt;&lt; &amp;n &lt;&lt; endl; \n  n = n + 1;\n  cout &lt;&lt; \"end add, n: \" &lt;&lt; n &lt;&lt; \", address: \" &lt;&lt; &amp;n &lt;&lt; endl;\n}\n\nvoid foo() {\n  int n = 9001;\n  cout &lt;&lt; \"foo before add, n: \" &lt;&lt; n &lt;&lt; \", address: \" &lt;&lt; &amp;n &lt;&lt; endl;\n\n  add(n);\n\n  cout &lt;&lt; \"foo after add, n: \" &lt;&lt; n &lt;&lt; \", address: \" &lt;&lt; &amp;n &lt;&lt; endl;  \n}\n\nint main() {\n  foo();\n\n  return 0;\n}\n</code></pre> \u6267\u884c\u7684\u7ed3\u679c\u4e3a\uff1a <pre><code>foo before add, n: 9001, address: 0x7fffff25014c\nstart add, n: 9001, address: 0x7fffff25012c\nend add, n: 9002, address: 0x7fffff25012c\nfoo after add, n: 9001, address: 0x7fffff25014c\n</code></pre></p> <p>\u53ef\u4ee5\u770b\u51fa\u5728\u51fd\u6570\u4f20\u9012\u7684\u65f6\u5019\uff0c\u5f62\u53c2\u548c\u5b9e\u53c2\u7684\u5730\u5740\u4e0d\u4e00\u6837\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a<code>Python</code>\u53c2\u6570\u4f20\u9012\u7684\u793a\u4f8b\uff1a <pre><code>def foo():\n    n = 9001\n    print(f\"foo before add, n: {n}, id(n): {id(n)}\")\n    add(n)\n    print(f\"foo after add, n: {n}, id(n): {id(n)}\")\n\ndef add(n):\n    print(f\"start add, n: {n}, id(n): {id(n)}\")\n    n = n + 1\n    print(f\"end add, n: {n}, id(n): {id(n)}\")\n\nfoo()\n</code></pre></p> <p>\u6267\u884c\u7ed3\u679c\u4e3a\uff1a <pre><code>foo before add, n: 9001, id(n): 140609093743280\nstart add, n: 9001, id(n): 140609093743280\nend add, n: 9002, id(n): 140609093742320\nfoo after add, n: 9001, id(n): 140609093743280\n</code></pre></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u51fd\u6570\u53c2\u6570\u4f20\u9012\u7684\u65f6\u5019\uff0c\u5f62\u53c2\u548c\u5b9e\u53c2\u7684\u5730\u5740\u662f\u4e00\u6837\u7684\uff0c\u8bf4\u660ePython\u4e0d\u662f\u503c\u4f20\u9012\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/01_%E5%9F%BA%E7%A1%80/Python%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92-%E8%B5%8B%E5%80%BC%E4%BC%A0%E9%80%92.html#python_2","title":"Python\u4e0d\u662f\u5f15\u7528\u4f20\u9012","text":"<p>\u793a\u4f8b\u5982\u4e0b</p> <p>\u4e0b\u9762\u662f<code>C++</code>\u5f15\u7528\u4f20\u9012\u7684\u4e00\u4e2a\u793a\u4f8b\uff1a</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nvoid append(vector&lt;int&gt;&amp; arr) {\n  cout &lt;&lt; \"start append, arr: \";\n  for(int i : arr) {\n    cout &lt;&lt; i &lt;&lt; \" \"; \n  }\n  cout &lt;&lt; \", address: \" &lt;&lt; &amp;arr &lt;&lt; endl;\n\n  arr.push_back(4);\n\n  cout &lt;&lt; \"end append, arr: \";\n  for(int i : arr) {\n    cout &lt;&lt; i &lt;&lt; \" \";\n  }\n  cout &lt;&lt; \", address: \" &lt;&lt; &amp;arr &lt;&lt; endl;\n}\n\nvoid bar() {\n  vector&lt;int&gt; arr = {1, 2, 3};\n  cout &lt;&lt; \"bar before append, arr: \";\n  for(int i : arr) {\n    cout &lt;&lt; i &lt;&lt; \" \";\n  }\n  cout &lt;&lt; \", address: \" &lt;&lt; &amp;arr &lt;&lt; endl;\n\n  append(arr);\n\n  cout &lt;&lt; \"bar after append, arr: \";\n  for(int i : arr) {\n    cout &lt;&lt; i &lt;&lt; \" \";\n  }\n  cout &lt;&lt; \", address: \" &lt;&lt; &amp;arr &lt;&lt; endl;\n}\n\nint main() {\n  bar();\n  return 0;\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u4e3a\uff1a</p> <pre><code>bar before append, arr: 1 2 3 , address: 0x7ffdfda76a90\nstart append, arr: 1 2 3 , address: 0x7ffdfda76a90\nend append, arr: 1 2 3 4 , address: 0x7ffdfda76a90\nbar after append, arr: 1 2 3 4 , address: 0x7ffdfda76a90\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\uff0cC++\u4e2d\u5f15\u7528\u4f20\u9012\uff1a \u5f62\u53c2\u548c\u5b9e\u53c2\u662f\u540c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u6539\u53d8\u4e86\u5f62\u53c2\uff0c\u5b9e\u53c2\u4e5f\u4f1a\u53d1\u751f\u5bf9\u5e94\u7684\u6539\u53d8\u3002</p> <p>\u540c\u6837\u7684\uff0c\u5bf9\u5e94\u7684Python\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>def bar():\n    arr = [1,2,3]\n    print(f\"bar before append, arr: {arr}, id(arr): {id(arr)}\")\n    append(arr)\n    print(f\"bar after append, arr: {arr}, id(arr): {id(arr)}\")\n\ndef append(arr):\n    print(f\"start append, arr: {arr}, id(arr): {id(arr)}\")\n    arr.append(4)\n    print(f\"end append, arr: {arr}, id(arr): {id(arr)}\")\n\nbar()\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u4e3a\uff1a</p> <pre><code>bar before append, arr: [1, 2, 3], id(arr): 140609044388096\nstart append, arr: [1, 2, 3], id(arr): 140609044388096\nend append, arr: [1, 2, 3, 4], id(arr): 140609044388096\nbar after append, arr: [1, 2, 3, 4], id(arr): 140609044388096\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\uff0cPython\u4e2d\uff0c\u6267\u884c\u7ed3\u679c\u548c<code>C++</code>\u7c7b\u4f3c\uff0c\u5f62\u53c2\u6539\u53d8\u4e86\uff0c\u5b9e\u53c2\u4e5f\u53d1\u751f\u4e86\u6539\u53d8\uff0c\u5f88\u591a\u4eba\u5c31\u662f\u56e0\u4e3a\u8fd9\u4e2a\u6848\u4f8b\u89c9\u5f97Python\u4e5f\u662f\u5f15\u7528\u4f20\u9012\u3002\u63a5\u4e0b\u6765\u770b\u53e6\u4e00\u4e2a\u6848\u4f8b\u3002</p> <p><code>C++</code>\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>#include &lt;iostream&gt;  \n#include &lt;vector&gt;\n\nusing namespace std;\n\nvoid append2(vector&lt;int&gt; &amp;arr) {\n  cout &lt;&lt; \"start append2, arr: \";\n  for(int i : arr) {\n    cout &lt;&lt; i &lt;&lt; \" \";\n  }\n  cout &lt;&lt; \", address: \" &lt;&lt; &amp;arr &lt;&lt; endl;\n\n  arr = {1, 2, 3, 4};\n\n  cout &lt;&lt; \"end append2, arr: \";\n  for(int i : arr) {\n    cout &lt;&lt; i &lt;&lt; \" \";\n  }\n  cout &lt;&lt; \", address: \" &lt;&lt; &amp;arr &lt;&lt; endl;\n}\n\nvoid bar2() {\n  vector&lt;int&gt; arr = {1, 2, 3};\n\n  cout &lt;&lt; \"bar2 before append2, arr: \";\n  for(int i : arr) {\n    cout &lt;&lt; i &lt;&lt; \" \";\n  }\n  cout &lt;&lt; \", address: \" &lt;&lt; &amp;arr &lt;&lt; endl;\n\n  append2(arr);\n\n  cout &lt;&lt; \"bar2 after append2, arr: \";\n  for(int i : arr) { \n    cout &lt;&lt; i &lt;&lt; \" \";\n  }\n  cout &lt;&lt; \", address: \" &lt;&lt; &amp;arr &lt;&lt; endl;\n}\n\nint main() {\n  bar2();\n\n  return 0;\n}\n</code></pre> <p>\u8fd9\u4e2a\u6848\u4f8b\u548c\u4e0a\u9762\u7684\u6848\u4f8b\u533a\u522b\u5728\u4e8e\uff0c\u4e0a\u9762\u4e00\u4e2a\u6848\u4f8b\u662f\u7528\u7684<code>arr.push_back(4);</code>\u4fee\u6539<code>vector</code>,\u8fd9\u4e2a\u6848\u4f8b\u662f\u5c06<code>arr</code>\u91cd\u65b0\u8d4b\u503c\u4e3a<code>arr = {1, 2, 3, 4};</code>\u3002</p> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>bar2 before append2, arr: 1 2 3 , address: 0x7ffce8217af0\nstart append2, arr: 1 2 3 , address: 0x7ffce8217af0\nend append2, arr: 1 2 3 4 , address: 0x7ffce8217af0\nbar2 after append2, arr: 1 2 3 4 , address: 0x7ffce8217af0\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u7ed3\u679c\u548c\u4e0a\u9762\u7684\u7ed3\u679c\u4e00\u6837\uff0c \u5f62\u53c2\u548c\u5b9e\u53c2\u662f\u540c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u6539\u53d8\u4e86\u5f62\u53c2\uff0c\u5b9e\u53c2\u4e5f\u4f1a\u53d1\u751f\u5bf9\u5e94\u7684\u6539\u53d8\u3002</p> <p>\u4e0b\u9762\u6765\u770b\u4e00\u4e2aPython\u7684\u6848\u4f8b</p> <pre><code>def bar2():\n    arr = [1,2,3]\n    print(f\"bar2 before append2, arr: {arr}, id(arr): {id(arr)}\")\n    append2(arr)\n    print(f\"bar2 after append2, arr: {arr}, id(arr): {id(arr)}\")\n\ndef append2(arr):\n    print(f\"start append2, arr: {arr}, id(arr): {id(arr)}\")\n    arr = [1,2,3,4]\n    print(f\"end append2, arr: {arr}, id(arr): {id(arr)}\")\n\nbar2()\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>bar2 before append2, arr: [1, 2, 3], id(arr): 140609044388736\nstart append2, arr: [1, 2, 3], id(arr): 140609044388736\nend append2, arr: [1, 2, 3, 4], id(arr): 140609044387136\nbar2 after append2, arr: [1, 2, 3], id(arr): 140609044388736\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\u5728\u51fd\u6570<code>append2</code>\u4e2d\u7684<code>arr</code>\u91cd\u65b0\u8d4b\u503c\u4e4b\u540e\uff0c\u6539\u53d8\u4e86\u5f62\u53c2\uff0c\u5b9e\u53c2\u5e76\u6ca1\u6709\u53d1\u751f\u6539\u53d8\u3002\u6240\u4ee5Python\u4e2d\u7684\u53c2\u6570\u4f20\u9012\u4e0d\u662f\u5f15\u7528\u4f20\u9012\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/01_%E5%9F%BA%E7%A1%80/Python%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92-%E8%B5%8B%E5%80%BC%E4%BC%A0%E9%80%92.html#_1","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Pass by Reference in Python: Background and Best Practices</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/02_%E8%BF%9B%E9%98%B6/05_type_hint.html","title":"\u7c7b\u578b\u63d0\u793a","text":"<p>Python\u4ece3.5\u5f00\u59cb\u652f\u6301\u7c7b\u578b\u63d0\u793a\uff0c\u7c7b\u578b\u63d0\u793a\u662fPython\u7684\u4e00\u79cd\u9759\u6001\u7c7b\u578b\u68c0\u67e5\u5de5\u5177\uff0c\u53ef\u4ee5\u51cf\u5c11\u4ee3\u7801\u51fa\u9519\u7684\u51e0\u7387\u3002</p> <p>\u597d\u7684\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5173\u4e8ePython typing hint\u7684\u6587\u7ae0\u5927\u7eb2\uff1a</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/02_%E8%BF%9B%E9%98%B6/05_type_hint.html#1","title":"1. \u5f15\u8a00","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/02_%E8%BF%9B%E9%98%B6/05_type_hint.html#typing_hints","title":"\u4ec0\u4e48\u662f\u7c7b\u578b\u63d0\u793a\uff08typing hints\uff09","text":"<p>\u7c7b\u578b\u63d0\u793a\uff08typing hints\uff09\u662fPython\u4e2d\u7684\u4e00\u79cd\u8bed\u6cd5\u7279\u6027\uff0c\u7528\u4e8e\u5728\u4ee3\u7801\u4e2d\u660e\u786e\u6307\u5b9a\u53d8\u91cf\u3001\u51fd\u6570\u53c2\u6570\u548c\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u3002\u867d\u7136Python\u662f\u4e00\u79cd\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff0c\u5141\u8bb8\u5728\u8fd0\u884c\u65f6\u786e\u5b9a\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u4f46\u7c7b\u578b\u63d0\u793a\u63d0\u4f9b\u4e86\u4e00\u79cd\u5728\u7f16\u5199\u4ee3\u7801\u65f6\u660e\u786e\u6807\u6ce8\u7c7b\u578b\u7684\u65b9\u6cd5\u3002\u8fd9\u53ef\u4ee5\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u3001\u53ef\u7ef4\u62a4\u6027\u548c\u53ef\u9760\u6027\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/02_%E8%BF%9B%E9%98%B6/05_type_hint.html#python","title":"\u7c7b\u578b\u63d0\u793a\u5728Python\u4e2d\u7684\u91cd\u8981\u6027\u548c\u53d1\u5c55\u80cc\u666f","text":"<p>\u7c7b\u578b\u63d0\u793a\u5728Python\u4e2d\u7684\u91cd\u8981\u6027</p> <ul> <li>\u63d0\u9ad8\u4ee3\u7801\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u3002\u7c7b\u578b\u63d0\u793a\u8ba9\u4ee3\u7801\u7684\u610f\u56fe\u66f4\u52a0\u660e\u786e\uff0c\u4f7f\u5176\u4ed6\u5f00\u53d1\u8005\u6216\u672a\u6765\u7684\u81ea\u5df1\u5728\u9605\u8bfb\u4ee3\u7801\u65f6\u66f4\u5bb9\u6613\u7406\u89e3\u53d8\u91cf\u548c\u51fd\u6570\u7684\u9884\u671f\u7528\u9014\u3002</li> <li>\u63d0\u4f9b\u65e9\u671f\u9519\u8bef\u68c0\u6d4b\uff0c\u63d0\u9ad8\u53ef\u9760\u6027\u3002\u901a\u8fc7\u7c7b\u578b\u63d0\u793a\uff0c\u53ef\u4ee5\u4f7f\u7528\u9759\u6001\u7c7b\u578b\u68c0\u67e5\u5de5\u5177\uff08\u5982mypy\uff09\u5728\u8fd0\u884c\u4ee3\u7801\u4e4b\u524d\u6355\u6349\u7c7b\u578b\u9519\u8bef\u3002\u8fd9\u79cd\u65e9\u671f\u9519\u8bef\u68c0\u6d4b\u53ef\u4ee5\u663e\u8457\u51cf\u5c11\u8fd0\u884c\u65f6\u9519\u8bef\uff0c\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u9760\u6027\u3002</li> <li>\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u548c\u8d28\u91cf\u3002\u73b0\u4ee3\u7684\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09\u548c\u7f16\u8f91\u5668\uff08\u5982PyCharm, VSCode\uff09\u53ef\u4ee5\u5229\u7528\u7c7b\u578b\u63d0\u793a\u63d0\u4f9b\u66f4\u667a\u80fd\u7684\u4ee3\u7801\u8865\u5168\u3001\u7c7b\u578b\u68c0\u67e5\u3001\u91cd\u6784\u652f\u6301\u548c\u6587\u6863\u751f\u6210\u3002</li> <li>\u6539\u5584\u5927\u578b\u4ee3\u7801\u5e93\u7684\u7ba1\u7406\u3002\u5728\u5927\u578b\u4ee3\u7801\u5e93\u4e2d\uff0c\u7c7b\u578b\u63d0\u793a\u6709\u52a9\u4e8e\u660e\u786e\u63a5\u53e3\u548c\u4f9d\u8d56\u5173\u7cfb\uff0c\u7b80\u5316\u4ee3\u7801\u7684\u91cd\u6784\u548c\u7ef4\u62a4\u3002\u5b83\u4eec\u4e3a\u5f00\u53d1\u56e2\u961f\u63d0\u4f9b\u4e86\u4e00\u81f4\u7684\u89c4\u8303\uff0c\u51cf\u5c11\u4e86\u6c9f\u901a\u6210\u672c\u3002</li> </ul> <p>\u7c7b\u578b\u63d0\u793a\u7684\u53d1\u5c55\u80cc\u666f</p> <p>Python\u4f5c\u4e3a\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff0c\u63d0\u4f9b\u4e86\u6781\u5927\u7684\u7075\u6d3b\u6027\uff0c\u5141\u8bb8\u5728\u8fd0\u884c\u65f6\u786e\u5b9a\u53d8\u91cf\u7684\u7c7b\u578b\u3002\u7136\u800c\uff0c\u8fd9\u79cd\u7075\u6d3b\u6027\u4e5f\u5e26\u6765\u4e86\u8fd0\u884c\u65f6\u9519\u8bef\u548c\u96be\u4ee5\u8c03\u8bd5\u7684\u95ee\u9898\uff0c\u5c24\u5176\u5728\u5927\u578b\u4ee3\u7801\u5e93\u4e2d\u3002\u8fd9\u4fc3\u4f7f\u4e86\u5bf9\u9759\u6001\u7c7b\u578b\u7cfb\u7edf\u7684\u9700\u6c42\uff0c\u4ee5\u5728\u5f00\u53d1\u9636\u6bb5\u6355\u6349\u66f4\u591a\u7684\u9519\u8bef\u3002</p> <p>\u7c7b\u578b\u63d0\u793a\u5728Python\u4e2d\u7684\u5f15\u5165\u4e3b\u8981\u6e90\u4e8ePEP 484\uff08Python Enhancement Proposal 484\uff09\uff0c\u8be5\u63d0\u6848\u4e8e2014\u5e74\u7531Guido van Rossum\u7b49\u63d0\u51fa\uff0c\u5e76\u5728Python 3.5\u4e2d\u6b63\u5f0f\u5f15\u5165\u3002PEP 484\u5b9a\u4e49\u4e86\u4e00\u79cd\u6807\u51c6\u7684\u7c7b\u578b\u6ce8\u89e3\u8bed\u6cd5\uff0c\u4f7f\u5f97\u5f00\u53d1\u8005\u53ef\u4ee5\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528\u7c7b\u578b\u63d0\u793a\u3002</p> <p>\u5173\u952e\u7684PEP\u548c\u6539\u8fdb - PEP 484\uff1a\u5b9a\u4e49\u4e86\u57fa\u672c\u7684\u7c7b\u578b\u63d0\u793a\u8bed\u6cd5\uff0c\u5305\u62ec\u5185\u7f6e\u7c7b\u578b\uff08\u5982int\u3001str\uff09\u548c\u96c6\u5408\u7c7b\u578b\uff08\u5982List\u3001Dict\uff09\u3002 - PEP 526\uff1a\u5728Python 3.6\u4e2d\u5f15\u5165\u4e86\u53d8\u91cf\u6ce8\u89e3\u8bed\u6cd5\uff0c\u4f7f\u5f97\u53d8\u91cf\u53ef\u4ee5\u5728\u58f0\u660e\u65f6\u4f7f\u7528\u7c7b\u578b\u63d0\u793a\u3002 - PEP 544\uff1a\u5728Python 3.8\u4e2d\u5f15\u5165\u4e86\u7ed3\u6784\u5316\u7c7b\u578b\uff08Protocols\uff09\uff0c\u5141\u8bb8\u66f4\u7075\u6d3b\u7684\u7c7b\u578b\u68c0\u67e5\u3002 - PEP 563\uff1a\u63d0\u51fa\u63a8\u8fdf\u7c7b\u578b\u6ce8\u89e3\u7684\u8ba1\u7b97\uff0c\u4ee5\u51cf\u5c11\u7c7b\u578b\u68c0\u67e5\u5bf9\u8fd0\u884c\u65f6\u6027\u80fd\u7684\u5f71\u54cd\uff08Python 3.7\u5f15\u5165\uff0cPython 3.10\u4e2d\u5f3a\u5236\uff09\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/02_%E8%BF%9B%E9%98%B6/05_type_hint.html#2","title":"2. \u7c7b\u578b\u63d0\u793a\u7684\u57fa\u7840","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/02_%E8%BF%9B%E9%98%B6/05_type_hint.html#python_1","title":"Python\u7c7b\u578b\u63d0\u793a\u7684\u8bed\u6cd5","text":"<p>Python\u7c7b\u578b\u63d0\u793a\u7684\u8bed\u6cd5\u4e3b\u8981\u7528\u4e8e\u6307\u5b9a\u53d8\u91cf\u3001\u51fd\u6570\u53c2\u6570\u548c\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u3002\u5b83\u901a\u8fc7\u663e\u5f0f\u6807\u6ce8\u7c7b\u578b\uff0c\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u548c\u53ef\u9760\u6027\u3002\u4ee5\u4e0b\u662fPython\u7c7b\u578b\u63d0\u793a\u7684\u57fa\u672c\u8bed\u6cd5\u548c\u7528\u6cd5\uff1a</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/02_%E8%BF%9B%E9%98%B6/05_type_hint.html#1_1","title":"1. \u57fa\u672c\u7c7b\u578b\u63d0\u793a","text":"<p>\u53d8\u91cf\u7c7b\u578b\u63d0\u793a \u5728\u53d8\u91cf\u58f0\u660e\u65f6\u53ef\u4ee5\u4f7f\u7528\u7c7b\u578b\u63d0\u793a\uff0c\u5728\u53d8\u91cf\u540e\u9762\u6dfb\u52a0<code>:</code>\u7136\u540e\u6dfb\u52a0\u7c7b\u578b\uff1a</p> <p><pre><code>name: str = \"Alice\"\nage: int = 30\nheight: float = 5.9\nis_active: bool = True\n</code></pre> \u51fd\u6570\u53c2\u6570\u548c\u8fd4\u56de\u503c\u7c7b\u578b\u63d0\u793a \u53ef\u4ee5\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u548c\u8fd4\u56de\u503c\u6dfb\u52a0\u7c7b\u578b\u63d0\u793a\uff0c\u51fd\u6570\u53c2\u6570\u5728\u51fd\u6570\u53c2\u6570\u540e\u9762\u6dfb\u52a0<code>:</code>\u8fdb\u884c\u7c7b\u578b\u63d0\u793a\uff0c\u8fd4\u56de\u503c\u5728\u51fd\u6570<code>)</code>\u540e\u9762\u6dfb\u52a0<code>-&gt;</code>\u8fdb\u884c\u7c7b\u578b\u63d0\u793a\uff1a</p> <pre><code>def greet(name: str) -&gt; str:\n    return f\"Hello, {name}\"\n\ndef add(x: int, y: int) -&gt; int:\n    return x + y\n\ndef is_even(num: int) -&gt; bool:\n    return num % 2 == 0\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/02_%E8%BF%9B%E9%98%B6/05_type_hint.html#2_1","title":"2. \u590d\u6742\u7c7b\u578b\u63d0\u793a","text":"<p>\u5185\u7f6e\u96c6\u5408\u7c7b\u578b \u4f7f\u7528typing\u6a21\u5757\u6765\u4e3a\u96c6\u5408\u7c7b\u578b\u6307\u5b9a\u7c7b\u578b\u63d0\u793a\uff0c\u53ef\u4ee5\u4f7f\u7528List\u3001Tuple\u3001Dict\u548cSet\u6765\u6307\u5b9a\u96c6\u5408\u7c7b\u578b\uff0c\u5728\u96c6\u5408\u7c7b\u578b\u540e\u9762\u6dfb\u52a0<code>[...]</code>\u6765\u6307\u5b9a\u96c6\u5408\u5143\u7d20\u7684\u7c7b\u578b\uff1a</p> <pre><code>from typing import List, Tuple, Dict, Set\n\nnames: List[str] = [\"Alice\", \"Bob\", \"Charlie\"]\ncoordinates: Tuple[float, float] = (1.0, 2.0)\nuser_ages: Dict[str, int] = {\"Alice\": 30, \"Bob\": 25}\nunique_ids: Set[int] = {1, 2, 3}\n</code></pre> <p>Optional\u7c7b\u578b \u8868\u793a\u67d0\u4e2a\u503c\u53ef\u4ee5\u662f\u67d0\u79cd\u7c7b\u578b\u6216None\uff1a</p> <pre><code>from typing import Optional\n\ndef find_user(user_id: int) -&gt; Optional[str]:\n    if user_id == 1:\n        return \"Alice\"\n    return None\n</code></pre> <p>Union\u7c7b\u578b \u8868\u793a\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u662f\u591a\u79cd\u7c7b\u578b\u4e4b\u4e00\uff1a</p> <pre><code>from typing import Union\n\ndef process_data(data: Union[str, bytes]) -&gt; None:\n    if isinstance(data, str):\n        print(f\"Processing string data: {data}\")\n    else:\n        print(f\"Processing bytes data: {data}\")\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/02_%E8%BF%9B%E9%98%B6/05_type_hint.html#3","title":"3. \u9ad8\u7ea7\u7c7b\u578b\u63d0\u793a","text":"<p>Callable\u7c7b\u578b \u8868\u793a\u4e00\u4e2a\u53ef\u8c03\u7528\u5bf9\u8c61\uff08\u5982\u51fd\u6570\uff09\uff0c\u9700\u8981\u6307\u5b9a\u53c2\u6570\u7c7b\u578b\u548c\u8fd4\u56de\u503c\u7c7b\u578b\uff1a</p> <pre><code>from typing import Callable\n\ndef apply_function(f: Callable[[int, int], int], x: int, y: int) -&gt; int:\n    return f(x, y)\n\ndef multiply(a: int, b: int) -&gt; int:\n    return a * b\n\nresult = apply_function(multiply, 3, 4)  # result = 12\n</code></pre> <p>TypeVar\u548c\u6cdb\u578b \u4f7f\u7528TypeVar\u5b9a\u4e49\u6cdb\u578b\u51fd\u6570\u6216\u7c7b\uff1a</p> <pre><code>from typing import TypeVar, Generic, List\n\nT = TypeVar('T')\n\ndef get_first_element(elements: List[T]) -&gt; T:\n    return elements[0]\n\nclass Box(Generic[T]):\n    def __init__(self, content: T):\n        self.content = content\n\n    def get_content(self) -&gt; T:\n        return self.content\n\nint_box = Box(123)\nstr_box = Box(\"Hello\")\n</code></pre> <p>Protocol\u7c7b\u578b \u5b9a\u4e49\u7ed3\u6784\u5316\u7c7b\u578b\uff08PEP 544\uff09\uff0c\u7528\u4e8e\u6307\u5b9a\u5177\u5907\u67d0\u4e9b\u65b9\u6cd5\u6216\u5c5e\u6027\u7684\u5bf9\u8c61\uff1a</p> <pre><code>from typing import Protocol\n\nclass Drawable(Protocol):\n    def draw(self) -&gt; None:\n        ...\n\nclass Circle:\n    def draw(self) -&gt; None:\n        print(\"Drawing a circle\")\n\nclass Square:\n    def draw(self) -&gt; None:\n        print(\"Drawing a square\")\n\ndef draw_shape(shape: Drawable) -&gt; None:\n    shape.draw()\n\ncircle = Circle()\nsquare = Square()\n\ndraw_shape(circle)  # Drawing a circle\ndraw_shape(square)  # Drawing a square\n</code></pre> <p>Literal\u7c7b\u578b \u8868\u793a\u4e00\u4e2a\u5177\u4f53\u7684\u503c\u6216\u4e00\u7ec4\u5177\u4f53\u7684\u503c\uff1a</p> <pre><code>from typing import Literal\n\ndef get_status(status: Literal['open', 'closed', 'pending']) -&gt; str:\n    return f\"Status is {status}\"\n\nstatus = get_status('open')\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/02_%E8%BF%9B%E9%98%B6/05_type_hint.html#4","title":"4. \u7c7b\u578b\u522b\u540d","text":"<p>\u4f7f\u7528\u7c7b\u578b\u522b\u540d\u7b80\u5316\u590d\u6742\u7c7b\u578b\u7684\u8868\u793a\uff1a</p> <pre><code>from typing import List, Tuple\n\nCoordinates = Tuple[float, float]\nPath = List[Coordinates]\n\ndef calculate_path_length(path: Path) -&gt; float:\n    # \u8ba1\u7b97\u8def\u5f84\u957f\u5ea6\u7684\u793a\u4f8b\u51fd\u6570\n    return sum(((x2 - x1) ** 2 + (y2 - y1) ** 2) ** 0.5 for (x1, y1), (x2, y2) in zip(path[:-1], path[1:]))\n\npath = [(0.0, 0.0), (1.0, 1.0), (2.0, 2.0)]\nlength = calculate_path_length(path)\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/02_%E8%BF%9B%E9%98%B6/05_type_hint.html#5","title":"5. \u63a8\u8fdf\u7c7b\u578b\u6ce8\u89e3","text":"<p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u63a8\u8fdf\u7c7b\u578b\u6ce8\u89e3\u7684\u8ba1\u7b97\uff08PEP 563\uff09\uff0c\u4ee5\u907f\u514d\u5faa\u73af\u5bfc\u5165\u95ee\u9898\u6216\u63d0\u9ad8\u6027\u80fd\uff1a</p> <pre><code>from __future__ import annotations  # \u5728\u6a21\u5757\u7684\u9876\u90e8\u5bfc\u5165\n\nclass Node:\n    def __init__(self, value: int, next: Node | None = None):\n        self.value = value\n        self.next = next\n</code></pre> <p>\u6216\u8005\u4f7f\u7528<code>\"</code>\u5c06\u7c7b\u578b\u5305\u542b\u8d77\u6765\uff1a <pre><code>class Node:\n    def __init__(self, value: int, next: \"Node\" | None = None):\n        self.value = value\n        self.next = next\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/02_%E8%BF%9B%E9%98%B6/05_type_hint.html#_2","title":"\u53c2\u8003\u6587\u732e","text":"<ul> <li>PEP 484: Type Hints</li> <li>PEP 544: Protocols: Structural subtyping (static duck typing)</li> <li>\u5b98\u65b9\u6587\u6863\u548c\u5176\u4ed6\u6709\u7528\u7684\u8d44\u6e90</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/Miniconda.html","title":"Miniconda","text":"<p>Miniconda\u662fconda\u7684\u514d\u8d39\u6700\u5c0f\u5b89\u88c5\u7a0b\u5e8f\u3002</p> <p>\u5b83\u662fAnaconda\u7684\u4e00\u4e2a\u5c0f\u578b\u5f15\u5bfc\u7248\u672c\uff0c\u4ec5\u5305\u62ecconda\u3001Python\u3001\u5b83\u4eec\u4f9d\u8d56\u7684\u8f6f\u4ef6\u5305\u4ee5\u53ca\u4e00\u4e9b\u5176\u4ed6\u6709\u7528\u7684\u8f6f\u4ef6\u5305\uff0c\u5305\u62ecpip\u3001zlib\u548c\u5c11\u91cf\u5176\u4ed6\u8f6f\u4ef6\u5305\u3002</p> <p>\u4f7f\u7528conda install\u547d\u4ee4\u4eceAnaconda\u5b58\u50a8\u5e93\u5b89\u88c5720\u591a\u4e2a\u989d\u5916\u7684conda\u8f6f\u4ef6\u5305\u3002</p> <p>\u5b98\u7f51\u5730\u5740: https://docs.conda.io/en/main/miniconda.html</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/Miniconda.html#miniconda_1","title":"\u5b89\u88c5miniconda","text":"<p>\u4e0b\u8f7d\u5b89\u88c5\u811a\u672c <pre><code>wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh\n</code></pre></p> <p>\u6267\u884c\u5b89\u88c5\u811a\u672c <pre><code>bash Miniconda3-latest-Linux-x86_64.sh\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/Miniconda.html#_1","title":"\u521b\u5efa\u865a\u62df\u73af\u5883","text":"<p>\u521b\u5efa\u865a\u62df\u73af\u5883, \u4e0b\u9762\u7684\u547d\u4ee4\u4f1a\u521b\u5efa\u4e00\u4e2a\u540d\u4e3adocs\u7684\u865a\u62df\u73af\u5883, \u5e76\u4e14\u5b89\u88c5python3.11 <pre><code>conda create -n docs python=3.11\n</code></pre></p> <p>\u5207\u6362\u5230\u865a\u62df\u73af\u5883, \u4e0b\u9762\u7684\u547d\u4ee4\u4f1a\u5207\u6362\u5230docs\u865a\u62df\u73af\u5883 <pre><code>conda activate docs\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/hatch.html","title":"hatch","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/hatch.html#hatch_1","title":"hatch\u7b80\u4ecb","text":"<p>Hatch \u662f\u4e00\u4e2a\u7528\u4e8e Python \u9879\u76ee\u7684\u96c6\u6210\u6784\u5efa\u548c\u73af\u5883\u7ba1\u7406\u5de5\u5177\uff0c\u65e8\u5728\u7b80\u5316\u548c\u4f18\u5316\u5f00\u53d1\u8fc7\u7a0b\u3002\u5b83\u63d0\u4f9b\u4e86\u5e7f\u6cdb\u7684\u529f\u80fd\uff0c\u80fd\u591f\u6709\u6548\u66ff\u4ee3 setuptools\u3001tox \u548c nox \u7b49\u5de5\u5177\u3002</p> <p>\u4f18\u70b9\uff1a</p> <ul> <li>\u96c6\u6210\u5ea6\u9ad8\uff1a \u4f7f\u7528 Hatch \u7684\u6240\u6709\u529f\u80fd\u540e\uff0c\u8bb8\u591a\u5176\u4ed6\u5de5\u5177\u53d8\u5f97\u4e0d\u5fc5\u8981\uff0c\u56e0\u4e3a\u5b83\u6db5\u76d6\u4e86\u9879\u76ee\u5f00\u53d1\u6240\u9700\u7684\u6240\u6709\u529f\u80fd\u3002</li> <li>\u4f18\u5316\u7684\u9ed8\u8ba4\u8bbe\u7f6e\uff1a \u76f8\u8f83\u4e8e setuptools\uff0cHatch \u63d0\u4f9b\u4e86\u66f4\u5408\u7406\u7684\u9ed8\u8ba4\u8bbe\u7f6e\uff0c\u907f\u514d\u4e86\u65e0\u610f\u4e2d\u5305\u542b\u4e0d\u9700\u8981\u7684\u6587\u4ef6\u3002</li> <li>\u914d\u7f6e\u7b80\u5355\uff1a Hatch \u4f7f\u7528\u4e0e Git \u76f8\u540c\u7684 glob \u6a21\u5f0f\u8bed\u6cd5\uff0c\u6240\u6709\u914d\u7f6e\u96c6\u4e2d\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u4fbf\u4e8e\u7ba1\u7406\u3002</li> <li>\u53ef\u7f16\u8f91\u5b89\u88c5\uff1a \u9ed8\u8ba4\u884c\u4e3a\u652f\u6301\u5916\u90e8\u5de5\u5177\u8fdb\u884c\u9759\u6001\u5206\u6790\uff0c\u65e0\u9700\u989d\u5916\u914d\u7f6e\u3002</li> <li>\u53ef\u91cd\u73b0\u6027\u9ad8\uff1a Hatch \u9ed8\u8ba4\u6784\u5efa\u7684\u8f6e\u5b50\u5305\u548c\u6e90\u7801\u5206\u53d1\u662f\u53ef\u91cd\u73b0\u7684\u3002</li> <li>\u6613\u4e8e\u6269\u5c55\uff1a Hatch \u7684\u63d2\u4ef6\u7cfb\u7edf\u7b80\u5316\u4e86\u6269\u5c55\u548c\u5b9a\u5236\u5f00\u53d1\u3002</li> </ul> <p>\u7f3a\u70b9\uff1a</p> <ul> <li>\u6784\u5efa\u6269\u5c55\u6a21\u5757\u7684\u5c40\u9650\uff1a \u5982\u679c\u9700\u8981\u6784\u5efa\u6269\u5c55\u6a21\u5757\uff0c\u5efa\u8bae\u7ee7\u7eed\u4f7f\u7528 setuptools \u6216\u5176\u4ed6\u4e13\u95e8\u7528\u4e8e\u4e0e\u7f16\u8bd1\u5668\u63a5\u53e3\u7684\u540e\u7aef\u3002</li> <li>\u8fc1\u79fb\u590d\u6742\u6027\uff1a \u4ece nox \u8fc1\u79fb\u5230 Hatch \u65f6\uff0c\u67d0\u4e9b\u7279\u5b9a\u914d\u7f6e\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u8bbe\u8ba1\u3002</li> <li>\u8865\u4e01\u7248\u672c\u5b89\u88c5\u9650\u5236\uff1a Hatch \u4e0d\u652f\u6301\u5b89\u88c5\u7279\u5b9a\u7684\u8865\u4e01\u7248\u672c\uff0c\u53ea\u80fd\u4f7f\u7528\u6700\u65b0\u8865\u4e01\u7248\u672c\u7684\u5c0f\u7248\u672c\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/hatch.html#hatch_2","title":"\u5b89\u88c5hatch","text":"<p>windows\u4e0a\u5b89\u88c5\u547d\u4ee4\uff0c\u9ed8\u8ba4\u5b89\u88c5\u5728<code>C:\\Program Files\\Hatch</code>\u76ee\u5f55:</p> <p><pre><code>msiexec /passive /i https://github.com/pypa/hatch/releases/latest/download/hatch-x64.msi\n</code></pre> \u7136\u540e\u91cd\u65b0\u6253\u5f00\u4e00\u4e2acmd\u67e5\u770b\u7248\u672c:</p> <pre><code>$ hatch --version\nHatch, version 1.12.0\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/hatch.html#_1","title":"\u521b\u5efa\u9879\u76ee","text":"<p>\u4f7f\u7528<code>hatch new</code>\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\uff1a</p> <pre><code>hatch new \"Hatch Demo\"\n</code></pre> <p>\u8fd9\u5c06\u4e3a\u60a8\u5f53\u524d\u7684\u5de5\u4f5c\u76ee\u5f55\u521b\u5efa\u4ee5\u4e0b\u7ed3\u6784\uff1a</p> <pre><code>hatch-demo\n\u251c\u2500\u2500 src\n\u2502   \u2514\u2500\u2500 hatch_demo\n\u2502       \u251c\u2500\u2500 __about__.py\n\u2502       \u2514\u2500\u2500 __init__.py\n\u251c\u2500\u2500 tests\n\u2502   \u2514\u2500\u2500 __init__.py\n\u251c\u2500\u2500 LICENSE.txt\n\u251c\u2500\u2500 README.md\n\u2514\u2500\u2500 pyproject.toml\n</code></pre> <p>\u8981\u521d\u59cb\u5316\u73b0\u6709\u9879\u76ee\uff0c\u8bf7\u8fdb\u5165\u5305\u542b\u8be5\u9879\u76ee\u7684\u76ee\u5f55\u5e76\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>hatch new --init\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html","title":"Poetry","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#1","title":"1. \u5f15\u8a00","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#poetry_1","title":"\u4ec0\u4e48\u662fPoetry","text":"<p>Poetry\u662f\u4e00\u4e2a\u73b0\u4ee3\u7684Python\u5305\u7ba1\u7406\u548c\u6784\u5efa\u5de5\u5177\uff0c\u5b83\u7b80\u5316\u4e86\u4f9d\u8d56\u7ba1\u7406\u3001\u9879\u76ee\u6253\u5305\u548c\u53d1\u5e03\u7684\u8fc7\u7a0b\u3002</p> <p>Poetry\u901a\u8fc7\u63d0\u4f9b\u4e00\u79cd\u4e00\u81f4\u4e14\u7528\u6237\u53cb\u597d\u7684\u65b9\u5f0f\u6765\u7ba1\u7406Python\u9879\u76ee\u7684\u4f9d\u8d56\u548c\u865a\u62df\u73af\u5883\uff0c\u4f7f\u5f00\u53d1\u8005\u80fd\u591f\u66f4\u9ad8\u6548\u5730\u5f00\u53d1\u548c\u7ef4\u62a4\u9879\u76ee\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#2_poetry","title":"2. Poetry\u7b80\u4ecb","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#poetry_2","title":"Poetry\u7684\u8d77\u6e90\u548c\u80cc\u666f","text":"<p>Poetry\u7684\u5f00\u53d1\u59cb\u4e8e2018\u5e74\uff0c\u7531\u6cd5\u56fd\u5f00\u53d1\u8005S\u00e9bastien Eustace\u521b\u5efa\u3002\u5176\u8bde\u751f\u7684\u80cc\u666f\u662f\u4e3a\u4e86\u89e3\u51b3Python\u9879\u76ee\u7ba1\u7406\u4e2d\u7684\u4e00\u4e9b\u5e38\u89c1\u75db\u70b9\uff0c\u4f8b\u5982\u4f9d\u8d56\u7ba1\u7406\u590d\u6742\u3001\u865a\u62df\u73af\u5883\u914d\u7f6e\u7e41\u7410\u4ee5\u53ca\u5305\u53d1\u5e03\u8fc7\u7a0b\u4e0d\u591f\u76f4\u89c2\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#_1","title":"\u80cc\u666f","text":"<ol> <li> <p>\u4f9d\u8d56\u7ba1\u7406\u7684\u6311\u6218\uff1a</p> <ul> <li>\u4f20\u7edf\u7684Python\u4f9d\u8d56\u7ba1\u7406\u5de5\u5177\uff08\u5982<code>pip</code>\u548c<code>requirements.txt</code>\uff09\u867d\u7136\u529f\u80fd\u5f3a\u5927\uff0c\u4f46\u5728\u5904\u7406\u4f9d\u8d56\u51b2\u7a81\u548c\u9501\u5b9a\u4f9d\u8d56\u7248\u672c\u65b9\u9762\u5b58\u5728\u5c40\u9650\u6027\u3002</li> <li>\u590d\u6742\u9879\u76ee\u4e2d\uff0c\u4f9d\u8d56\u6811\u7684\u7ba1\u7406\u548c\u7248\u672c\u517c\u5bb9\u6027\u68c0\u67e5\u53ef\u80fd\u53d8\u5f97\u5f02\u5e38\u590d\u6742\uff0c\u5bb9\u6613\u5f15\u53d1\u201c\u4f9d\u8d56\u5730\u72f1\u201d\u3002</li> </ul> </li> <li> <p>\u865a\u62df\u73af\u5883\u7684\u590d\u6742\u6027\uff1a</p> <ul> <li>Python\u865a\u62df\u73af\u5883\u5de5\u5177\uff08\u5982<code>virtualenv</code>\u548c<code>venv</code>\uff09\u9700\u8981\u624b\u52a8\u7ba1\u7406\u548c\u914d\u7f6e\uff0c\u589e\u52a0\u4e86\u5f00\u53d1\u8005\u7684\u8d1f\u62c5\u3002</li> <li>\u9879\u76ee\u4e4b\u95f4\u7684\u73af\u5883\u9694\u79bb\u548c\u914d\u7f6e\u4e00\u81f4\u6027\u96be\u4ee5\u4fdd\u8bc1\uff0c\u7279\u522b\u662f\u5728\u56e2\u961f\u534f\u4f5c\u4e2d\u3002</li> </ul> </li> <li> <p>\u5305\u7ba1\u7406\u5de5\u5177\u7684\u5c40\u9650\uff1a</p> <ul> <li>\u5176\u4ed6\u5de5\u5177\uff08\u5982<code>pipenv</code>\uff09\u867d\u7136\u63d0\u4f9b\u4e86\u4f9d\u8d56\u7ba1\u7406\u548c\u865a\u62df\u73af\u5883\u7ba1\u7406\u7684\u96c6\u6210\u529f\u80fd\uff0c\u4f46\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\u8868\u73b0\u4e0d\u591f\u7a33\u5b9a\u6216\u7f3a\u4e4f\u7279\u6027\u3002</li> </ul> </li> </ol>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#poetry_3","title":"Poetry\u7684\u8bde\u751f","text":"<p>S\u00e9bastien Eustace\u8ba4\u8bc6\u5230\u8fd9\u4e9b\u95ee\u9898\u5e76\u51b3\u5fc3\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5de5\u5177\u6765\u89e3\u51b3\u8fd9\u4e9b\u75db\u70b9\u3002Poetry\u5e94\u8fd0\u800c\u751f\uff0c\u76ee\u6807\u662f\u6210\u4e3a\u4e00\u4e2a\u5168\u80fd\u7684Python\u9879\u76ee\u7ba1\u7406\u5de5\u5177\uff0c\u63d0\u4f9b\u7b80\u6d01\u800c\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u6db5\u76d6\u4f9d\u8d56\u7ba1\u7406\u3001\u865a\u62df\u73af\u5883\u7ba1\u7406\u3001\u9879\u76ee\u6253\u5305\u548c\u53d1\u5e03\u3002</p> <p>Poetry\u7684\u8bbe\u8ba1\u7406\u5ff5\u5305\u62ec\uff1a</p> <ul> <li>\u4e00\u81f4\u6027\u548c\u53ef\u9760\u6027\uff1a\u901a\u8fc7\u9501\u5b9a\u6587\u4ef6\uff08<code>poetry.lock</code>\uff09\u786e\u4fdd\u4f9d\u8d56\u7684\u4e00\u81f4\u6027\uff0c\u907f\u514d\u4f9d\u8d56\u51b2\u7a81\u3002</li> <li>\u7b80\u5316\u64cd\u4f5c\uff1a\u63d0\u4f9b\u76f4\u89c2\u7684\u547d\u4ee4\u884c\u63a5\u53e3\u548c\u81ea\u52a8\u5316\u7684\u865a\u62df\u73af\u5883\u7ba1\u7406\uff0c\u51cf\u5c11\u5f00\u53d1\u8005\u7684\u914d\u7f6e\u548c\u7ef4\u62a4\u5de5\u4f5c\u3002</li> <li>\u73b0\u4ee3\u5316\u548c\u6807\u51c6\u5316\uff1a\u4f7f\u7528<code>pyproject.toml</code>\u6587\u4ef6\u8fdb\u884c\u914d\u7f6e\uff0c\u9075\u5faaPEP 517\u548cPEP 518\u6807\u51c6\uff0c\u4e0e\u5176\u4ed6\u73b0\u4ee3\u5de5\u5177\u517c\u5bb9\u3002</li> </ul> <p>Poetry\u7684\u53d1\u5e03\u8fc5\u901f\u83b7\u5f97\u4e86Python\u793e\u533a\u7684\u5173\u6ce8\u548c\u652f\u6301\uff0c\u6210\u4e3a\u8bb8\u591a\u5f00\u53d1\u8005\u9996\u9009\u7684\u9879\u76ee\u7ba1\u7406\u5de5\u5177\u3002\u5176\u4e0d\u65ad\u53d1\u5c55\u7684\u7279\u6027\u548c\u7a33\u5b9a\u7684\u6027\u80fd\uff0c\u4f7f\u5176\u5728Python\u751f\u6001\u7cfb\u7edf\u4e2d\u5360\u636e\u4e86\u91cd\u8981\u4f4d\u7f6e\uff0c\u6210\u4e3a\u7ba1\u7406Python\u9879\u76ee\u7684\u6709\u529b\u5de5\u5177\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#poetry_4","title":"Poetry\u7684\u4e3b\u8981\u529f\u80fd\u548c\u7279\u6027","text":"<p>Poetry\u4f5c\u4e3a\u4e00\u4e2a\u73b0\u4ee3\u7684Python\u5305\u7ba1\u7406\u548c\u6784\u5efa\u5de5\u5177\uff0c\u96c6\u6210\u4e86\u4f9d\u8d56\u7ba1\u7406\u3001\u865a\u62df\u73af\u5883\u7ba1\u7406\u548c\u9879\u76ee\u6253\u5305\u53d1\u5e03\u7b49\u591a\u9879\u529f\u80fd\u3002\u4ee5\u4e0b\u662fPoetry\u7684\u4e3b\u8981\u529f\u80fd\u548c\u7279\u6027\uff1a</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#1_1","title":"1. \u4f9d\u8d56\u7ba1\u7406","text":"<ul> <li>\u81ea\u52a8\u89e3\u6790\u548c\u5b89\u88c5\u4f9d\u8d56\uff1aPoetry\u53ef\u4ee5\u81ea\u52a8\u89e3\u6790\u5e76\u5b89\u88c5\u9879\u76ee\u7684\u4f9d\u8d56\uff0c\u786e\u4fdd\u6240\u6709\u4f9d\u8d56\u9879\u7684\u517c\u5bb9\u6027\u3002</li> <li>\u4f9d\u8d56\u7248\u672c\u9501\u5b9a\uff1a\u901a\u8fc7\u751f\u6210<code>poetry.lock</code>\u6587\u4ef6\uff0c\u9501\u5b9a\u4f9d\u8d56\u9879\u7684\u786e\u5207\u7248\u672c\uff0c\u786e\u4fdd\u9879\u76ee\u5728\u4e0d\u540c\u73af\u5883\u4e0b\u5177\u6709\u4e00\u81f4\u7684\u4f9d\u8d56\u7248\u672c\u3002</li> <li>\u5f00\u53d1\u4f9d\u8d56\uff1a\u533a\u5206\u5f00\u53d1\u4f9d\u8d56\u548c\u751f\u4ea7\u4f9d\u8d56\uff0c\u4f7f\u5f00\u53d1\u73af\u5883\u4e0e\u751f\u4ea7\u73af\u5883\u7684\u4f9d\u8d56\u914d\u7f6e\u66f4\u52a0\u6e05\u6670\u3002</li> <li>\u6dfb\u52a0\u548c\u79fb\u9664\u4f9d\u8d56\uff1a\u4f7f\u7528\u7b80\u5355\u7684\u547d\u4ee4\u6dfb\u52a0\u548c\u79fb\u9664\u4f9d\u8d56\u9879\uff0c\u5982<code>poetry add</code>\u548c<code>poetry remove</code>\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#2","title":"2. \u9879\u76ee\u6253\u5305\u548c\u53d1\u5e03","text":"<ul> <li>\u6784\u5efa\u9879\u76ee\uff1a\u4f7f\u7528<code>poetry build</code>\u547d\u4ee4\u751f\u6210\u9879\u76ee\u7684\u5206\u53d1\u5305\uff0c\u652f\u6301\u591a\u79cd\u6253\u5305\u683c\u5f0f\uff0c\u5982<code>wheel</code>\u548c<code>sdist</code>\u3002</li> <li>\u53d1\u5e03\u9879\u76ee\uff1a\u901a\u8fc7<code>poetry publish</code>\u547d\u4ee4\uff0c\u5c06\u9879\u76ee\u53d1\u5e03\u5230PyPI\u6216\u5176\u4ed6\u5305\u7ba1\u7406\u5e73\u53f0\uff0c\u7b80\u5316\u53d1\u5e03\u6d41\u7a0b\u3002</li> <li>\u7248\u672c\u7ba1\u7406\uff1a\u4f7f\u7528<code>poetry version</code>\u547d\u4ee4\u8f7b\u677e\u66f4\u65b0\u9879\u76ee\u7684\u7248\u672c\u53f7\uff0c\u652f\u6301\u8bed\u4e49\u5316\u7248\u672c\u63a7\u5236\uff08SemVer\uff09\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#3","title":"3. \u865a\u62df\u73af\u5883\u7ba1\u7406","text":"<ul> <li>\u81ea\u52a8\u521b\u5efa\u548c\u7ba1\u7406\u865a\u62df\u73af\u5883\uff1aPoetry\u53ef\u4ee5\u81ea\u52a8\u521b\u5efa\u548c\u7ba1\u7406\u9879\u76ee\u7684\u865a\u62df\u73af\u5883\uff0c\u65e0\u9700\u624b\u52a8\u914d\u7f6e\u3002</li> <li>\u6fc0\u6d3b\u865a\u62df\u73af\u5883\uff1a\u4f7f\u7528<code>poetry shell</code>\u547d\u4ee4\u8fdb\u5165\u9879\u76ee\u7684\u865a\u62df\u73af\u5883\uff0c\u7b80\u5316\u865a\u62df\u73af\u5883\u7684\u4f7f\u7528\u3002</li> <li>\u5728\u865a\u62df\u73af\u5883\u4e2d\u8fd0\u884c\u547d\u4ee4\uff1a\u901a\u8fc7<code>poetry run</code>\u547d\u4ee4\u5728\u865a\u62df\u73af\u5883\u4e2d\u8fd0\u884c\u6307\u5b9a\u547d\u4ee4\uff0c\u786e\u4fdd\u4f9d\u8d56\u6b63\u786e\u52a0\u8f7d\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#4","title":"4. \u914d\u7f6e\u6587\u4ef6\u7ba1\u7406","text":"<ul> <li><code>pyproject.toml</code>\u6587\u4ef6\uff1a\u4f7f\u7528\u6807\u51c6\u7684<code>pyproject.toml</code>\u6587\u4ef6\u914d\u7f6e\u9879\u76ee\uff0c\u5305\u542b\u9879\u76ee\u5143\u6570\u636e\u3001\u4f9d\u8d56\u9879\u3001\u811a\u672c\u548c\u63d2\u4ef6\u7b49\u914d\u7f6e\u4fe1\u606f\u3002</li> <li>\u76f4\u89c2\u7684\u914d\u7f6e\u683c\u5f0f\uff1a<code>pyproject.toml</code>\u6587\u4ef6\u91c7\u7528\u7b80\u5355\u660e\u4e86\u7684TOML\u683c\u5f0f\uff0c\u4fbf\u4e8e\u624b\u52a8\u7f16\u8f91\u548c\u7ba1\u7406\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#5","title":"5. \u547d\u4ee4\u884c\u5de5\u5177","text":"<ul> <li>\u7b80\u6d01\u7684\u547d\u4ee4\u884c\u63a5\u53e3\uff1aPoetry\u63d0\u4f9b\u4e86\u76f4\u89c2\u4e14\u529f\u80fd\u5f3a\u5927\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u6db5\u76d6\u9879\u76ee\u521b\u5efa\u3001\u4f9d\u8d56\u7ba1\u7406\u3001\u865a\u62df\u73af\u5883\u7ba1\u7406\u548c\u9879\u76ee\u53d1\u5e03\u7b49\u5e38\u89c1\u4efb\u52a1\u3002</li> <li>\u4e30\u5bcc\u7684\u547d\u4ee4\u9009\u9879\uff1a\u6bcf\u4e2a\u547d\u4ee4\u90fd\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u9009\u9879\uff0c\u5141\u8bb8\u7528\u6237\u6839\u636e\u9700\u6c42\u81ea\u5b9a\u4e49\u64cd\u4f5c\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#6","title":"6. \u4f9d\u8d56\u89e3\u6790\u548c\u517c\u5bb9\u6027\u68c0\u67e5","text":"<ul> <li>\u667a\u80fd\u4f9d\u8d56\u89e3\u6790\uff1aPoetry\u4f7f\u7528\u5148\u8fdb\u7684\u4f9d\u8d56\u89e3\u6790\u7b97\u6cd5\uff0c\u786e\u4fdd\u6240\u6709\u4f9d\u8d56\u9879\u4e4b\u95f4\u7684\u517c\u5bb9\u6027\uff0c\u907f\u514d\u201c\u4f9d\u8d56\u5730\u72f1\u201d\u3002</li> <li>\u51b2\u7a81\u68c0\u6d4b\u548c\u89e3\u51b3\uff1a\u81ea\u52a8\u68c0\u6d4b\u548c\u89e3\u51b3\u4f9d\u8d56\u51b2\u7a81\uff0c\u63d0\u793a\u7528\u6237\u53ef\u80fd\u7684\u89e3\u51b3\u65b9\u6848\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#7","title":"7. \u4e0e\u5176\u4ed6\u5de5\u5177\u7684\u96c6\u6210","text":"<ul> <li>\u4e0eCI/CD\u5de5\u5177\u96c6\u6210\uff1a\u652f\u6301\u4e0e\u5e38\u89c1\u7684CI/CD\u5de5\u5177\uff08\u5982GitHub Actions\u548cGitLab CI\uff09\u96c6\u6210\uff0c\u7b80\u5316\u81ea\u52a8\u5316\u90e8\u7f72\u6d41\u7a0b\u3002</li> <li>\u4e0eIDE\u96c6\u6210\uff1a\u517c\u5bb9\u4e3b\u6d41\u7684\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09\uff0c\u5982PyCharm\u548cVSCode\uff0c\u63d0\u4f9b\u66f4\u597d\u7684\u5f00\u53d1\u4f53\u9a8c\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#3_poetry","title":"3. \u5b89\u88c5Poetry","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#_2","title":"\u7cfb\u7edf\u8981\u6c42","text":"<p>Poetry\u9700\u8981Python 3.7\u6216\u66f4\u9ad8\u7248\u672c\u3002\u786e\u4fdd\u4f60\u7684\u7cfb\u7edf\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86\u5408\u9002\u7248\u672c\u7684Python\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#poetry_5","title":"\u5b89\u88c5Poetry\u7684\u6b65\u9aa4","text":"<p>\u4f7f\u7528\u5b89\u88c5\u811a\u672c</p> <p>\u8fd9\u662f\u63a8\u8350\u7684\u5b89\u88c5\u65b9\u6cd5\uff0c\u5b83\u4f1a\u4e0b\u8f7d\u5e76\u5b89\u88c5Poetry\u6700\u65b0\u7248\u672c\u3002</p> <pre><code># linux \n# \u53ef\u4ee5\u901a\u8fc7 POETRY_HOME\u6307\u5b9a\u5b89\u88c5\u76ee\u5f55\ncurl -sSL https://install.python-poetry.org |  python3 -\n# \u53ef\u4ee5\u901a\u8fc7 POETRY_HOME\u6307\u5b9a\u5b89\u88c5\u76ee\u5f55\ncurl -sSL https://install.python-poetry.org | POETRY_HOME=/opt/poetry python3 -\n# windows powershell\n(Invoke-WebRequest -Uri https://install.python-poetry.org -UseBasicParsing).Content | python -\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cPoetry \u5b89\u88c5\u5728\u5728\u7528\u6237\u7279\u5b9a\u7684\u76ee\u5f55\u4e2d\uff1a</p> <p><code>~/Library/Application Support/pypoetry</code> \u5728 MacOS\u4e0a\u3002 <code>~/.local/share/pypoetry</code> \u5728 Linux\u4e0a\u3002 <code>%APPDATA%\\pypoetry</code> \u5728Window\u4e0a\u3002</p> <p>\u5982\u679c\u4f60\u9700\u8981\u5728\u5176\u4ed6\u4f4d\u7f6e\u5b89\u88c5Poetry\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a</p> <p>\u6dfb\u52a0 Poetry \u5230\u73af\u5883\u53d8\u91cf\u4e2d\uff1a</p> <p><code>~/Library/Application Support/pypoetry/venv/bin/poetry</code> on MacOS. <code>~/.local/share/pypoetry/venv/bin/poetry</code> on Linux/Unix. <code>C:\\Users\\username\\AppData\\Roaming\\pypoetry\\venv\\Scripts\\</code> on Windows.</p> <p>\u67e5\u770b Poetry \u7248\u672c</p> <pre><code>poetry --version\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#4_1","title":"4. \u521b\u5efa\u548c\u521d\u59cb\u5316\u9879\u76ee","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#poetry_new","title":"\u4f7f\u7528<code>poetry new</code>\u521b\u5efa\u65b0\u9879\u76ee","text":"<pre><code>poetry new poetry_demo\n</code></pre> <p>\u4f1a\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a<code>poetry_demo</code>\u7684\u9879\u76ee\uff0c\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>poetry-demo\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 poetry_demo\n\u2502   \u2514\u2500\u2500 __init__.py\n\u2514\u2500\u2500 tests\n    \u2514\u2500\u2500 __init__.py\n</code></pre> <p><code>pyproject.toml</code> \u6587\u4ef6\u5728\u6b64\u81f3\u5173\u91cd\u8981\uff0c\u5b83\u5c06\u7edf\u7b79\u7ba1\u7406\u60a8\u7684\u9879\u76ee\u53ca\u5176\u4f9d\u8d56\u9879\u3002\u76ee\u524d\uff0c\u5176\u5185\u5bb9\u5927\u81f4\u5982\u4e0b\uff1a</p> <pre><code>[tool.poetry]\nname = \"poetry-demo\"\nversion = \"0.1.0\"\ndescription = \"\"\nauthors = [\"author &lt;author@example.com&gt;\"]\nreadme = \"README.md\"\npackages = [{include = \"poetry_demo\"}]\npackage-model = false\n\n[tool.poetry.dependencies]\npython = \"^3.11\"\n\n\n[build-system]\nrequires = [\"poetry-core\"]\nbuild-backend = \"poetry.core.masonry.api\"\n</code></pre> <p>Poetry \u5047\u5b9a\u60a8\u7684\u5305\u5305\u542b\u4e00\u4e2a\u4e0e  <code>tool.poetry.name</code>\u9879\u76ee\u6839\u76ee\u5f55\u4e2d\u540c\u540d\u7684\u5305\u3002\u5982\u679c\u4e0d\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u586b\u5145 <code>tool.poetry.packages</code> \u4ee5\u6307\u5b9a\u5305\u53ca\u5176\u4f4d\u7f6e\u3002</p> <p>\u4e0e\u5176\u4ed6\u8f6f\u4ef6\u5305\u4e0d\u540c\uff0cPoetry \u4e0d\u4f1a\u81ea\u52a8\u4e3a\u60a8\u5b89\u88c5 python \u89e3\u91ca\u5668\u3002\u5982\u679c\u8981\u5728\u5305\u4e2d\u8fd0\u884c Python \u6587\u4ef6\uff08\u5982\u811a\u672c\u6216\u5e94\u7528\u7a0b\u5e8f\uff09\uff0c\u5219\u5fc5\u987b\u81ea\u5e26 Python \u89e3\u91ca\u5668\u624d\u80fd\u8fd0\u884c\u5b83\u4eec\u3002</p> <p>\u4f8b\u5982\uff0c\u5728\u6b64 pyproject.toml \u6587\u4ef6\u4e2d\uff1a</p> <pre><code>[tool.poetry.dependencies]\npython = \"^3.11\"\n</code></pre> <p>\u8868\u793a Python \u7248\u672c\u5fc5\u987b\u5927\u4e8e 3.11\u3002</p> <p>poetry \u53ef\u4ee5\u4ee5\u4e24\u79cd\u4e0d\u540c\u7684\u6a21\u5f0f\u8fd0\u884c\u3002\u9ed8\u8ba4\u6a21\u5f0f\u662f\u6253\u5305\u6a21\u5f0f\uff0c\u5982\u679c\u8981\u5c06\u9879\u76ee\u6253\u5305\u5230 sdist \u6216 wheel \u4e2d\uff0c\u5e76\u53ef\u80fd\u5c06\u5176\u53d1\u5e03\u5230\u5305\u7d22\u5f15\u4e2d\uff0c\u5219\u8fd9\u662f\u6b63\u786e\u7684\u6a21\u5f0f\u3002\u5728\u6b64\u6a21\u5f0f\u4e0b\uff0c\u6253\u5305\u6240\u9700\u7684\u67d0\u4e9b\u5143\u6570\u636e\uff08\u5982 name \u548c version \uff09\u662f\u5fc5\u9700\u7684\u3002\u6b64\u5916\uff0c\u9879\u76ee\u672c\u8eab\u5c06\u5728\u8fd0\u884c poetry install \u65f6\u4ee5\u53ef\u7f16\u8f91\u6a21\u5f0f\u5b89\u88c5\u3002</p> <p>\u5982\u679c\u53ea\u60f3\u5c06 Poetry \u7528\u4e8e\u4f9d\u8d56\u7ba1\u7406\uff0c\u800c\u4e0d\u7528\u4e8e\u6253\u5305\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u975e\u6253\u5305\u6a21\u5f0f\uff1a</p> <pre><code>[tool.poetry]\npackage-mode = false\n</code></pre> <p>\u5728\u6b64\u6a21\u5f0f\u4e0b\uff0c\u5143\u6570\u636e\uff08\u5982 name \u548c version \uff09\u662f\u53ef\u9009\u7684\u3002\u56e0\u6b64\uff0c\u65e0\u6cd5\u6784\u5efa\u53d1\u884c\u7248\u6216\u5c06\u9879\u76ee\u53d1\u5e03\u5230\u5305\u7d22\u5f15\u3002\u6b64\u5916\uff0c\u5728\u8fd0\u884c <code>poetry install</code> \u65f6\uff0cPoetry \u4e0d\u4f1a\u5c1d\u8bd5\u5b89\u88c5\u9879\u76ee\u672c\u8eab\uff0c\u800c\u53ea\u662f\u5b89\u88c5\u5b83\u7684\u4f9d\u8d56\u9879\uff08\u4e0e poetry install --no-root \u76f8\u540c\uff09\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#poetry_init","title":"\u4f7f\u7528<code>poetry init</code>\u521d\u59cb\u5316\u73b0\u6709\u9879\u76ee","text":"<p>\u8981\u4f7f\u7528 <code>poetry init</code> \u521d\u59cb\u5316\u4e00\u4e2a\u73b0\u6709\u9879\u76ee\uff0c\u8bf7\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\uff1a</p> <ol> <li>\u6253\u5f00\u7ec8\u7aef\uff1a\u786e\u4fdd\u4f60\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u3002</li> <li> <p>\u8fd0\u884c <code>poetry init</code> \u547d\u4ee4\uff1a     <pre><code>poetry init\n</code></pre></p> </li> <li> <p>\u586b\u5199\u9879\u76ee\u4fe1\u606f\uff1a<code>poetry init</code> \u4f1a\u5f15\u5bfc\u4f60\u901a\u8fc7\u4e00\u7cfb\u5217\u63d0\u793a\u6765\u8bbe\u7f6e\u9879\u76ee\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u6bd4\u5982\u9879\u76ee\u540d\u79f0\u3001\u7248\u672c\u3001\u63cf\u8ff0\u3001\u4f5c\u8005\u3001\u8bb8\u53ef\u7b49\u3002\u4f60\u53ef\u4ee5\u6309\u63d0\u793a\u586b\u5199\uff0c\u6216\u8005\u76f4\u63a5\u6309    Enter \u4f7f\u7528\u9ed8\u8ba4\u503c\u6216\u8df3\u8fc7\u67d0\u4e9b\u8bbe\u7f6e\u3002</p> </li> <li> <p>\u6dfb\u52a0\u4f9d\u8d56\uff1a\u5728\u63d0\u793a\u6dfb\u52a0\u4f9d\u8d56\u65f6\uff0c\u53ef\u4ee5\u8f93\u5165\u9879\u76ee\u6240\u9700\u7684\u5305\u7684\u540d\u79f0\u548c\u7248\u672c\u3002\u5982\u679c\u4f60\u4e0d\u786e\u5b9a\uff0c\u53ef\u4ee5\u7a0d\u540e\u624b\u52a8\u7f16\u8f91 <code>pyproject.toml</code>    \u6587\u4ef6\u6216\u4f7f\u7528 <code>poetry add</code> \u547d\u4ee4\u6dfb\u52a0\u4f9d\u8d56\u3002</p> </li> <li> <p>\u5b8c\u6210\uff1a\u5b8c\u6210\u6240\u6709\u63d0\u793a\u540e\uff0c<code>poetry</code> \u4f1a\u751f\u6210\u4e00\u4e2a <code>pyproject.toml</code> \u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u4f60\u7684\u9879\u76ee\u914d\u7f6e\u548c\u4f9d\u8d56\u4fe1\u606f\u3002</p> </li> </ol>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#5_1","title":"5. \u865a\u62df\u73af\u5883\u7ba1\u7406","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cpoetry \u4f1a\u5728\u5168\u5c40\u7f13\u5b58\u76ee\u5f55(<code>C:\\Users\\username\\AppData\\Local\\pypoetry\\Cache\\virtualenvs</code>)\u4e2d\u521b\u5efa\u865a\u62df\u73af\u5883\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e poetry \u6765\u6539\u53d8\u8fd9\u4e00\u884c\u4e3a\uff0c\u4f7f\u865a\u62df\u73af\u5883\u5728\u9879\u76ee\u76ee\u5f55\u4e2d\u521b\u5efa\u3002\u4e3a\u6b64\uff0c\u4f60\u9700\u8981\u8fd0\u884c\uff1a</p> <pre><code># \u4fee\u6539\u7f13\u5b58\u76ee\u5f55\u4e3a\u6307\u5b9a\u76ee\u5f55\npoetry config cache-dir \"D:\\Program Files\\poetry\\\"\n\n# poetry \u8bbe\u7f6e\u672c\u5730pypi\u6e90 \u8bbe\u7f6e\u6e05\u534e\u5927\u5b66\u6e90\uff1a\npoetry config repositories.pypi \"https://pypi.tuna.tsinghua.edu.cn/simple\"\n\n# poetry \u8bbe\u7f6e\u672c\u5730pypi\u6e90 \u817e\u8baf\u6e90\npoetry config repositories.pypi \"http://mirrors.tencentyun.com/pypi/simple\"\n\n# \u5728\u9879\u76ee\u4e2d\u521b\u5efa\u865a\u62df\u73af\u5883\npoetry config virtualenvs.in-project true\n</code></pre> <pre><code># \u67e5\u770bpoetry \u914d\u7f6e\npoetry config --list\n</code></pre> <p>\u7ed3\u679c\u5982\u4e0b</p> <pre><code>cache-dir = \"D:\\\\Program Files\\\\poetry\"\nexperimental.system-git-client = false\ninstaller.max-workers = null\ninstaller.modern-installation = true\ninstaller.no-binary = null\ninstaller.parallel = true\nkeyring.enabled = true\nrepositories.pypi.url = \"https://pypi.tuna.tsinghua.edu.cn/simple\"\nsolver.lazy-wheel = true\nvirtualenvs.create = true\nvirtualenvs.in-project = true\nvirtualenvs.options.always-copy = false\nvirtualenvs.options.no-pip = false\nvirtualenvs.options.no-setuptools = false\nvirtualenvs.options.system-site-packages = false\nvirtualenvs.path = \"{cache-dir}\\\\virtualenvs\"  # D:\\Program Files\\poetry\\virtualenvs\nvirtualenvs.prefer-active-python = false\nvirtualenvs.prompt = \"{project_name}-py{python_version}\"\nwarnings.export = true\n</code></pre> <p>\u5176\u4e2d <code>virtualenvs.create = true</code> \u82e5\u6539\u4e3a <code>false</code>\uff0c\u5219 poetry \u5728\u68c0\u67e5\u4e0d\u5230\u865a\u62df\u73af\u5883\u4e0d\u81ea\u52a8\u521b\u5efa\u865a\u62df\u73af\u5883\uff0c\u4f46\u662f\u5efa\u8bae\u4e0d\u8981\u6539\u52a8\u3002</p> <p>\u7528\u6307\u4ee4<code>poetry env use python</code>\u521b\u5efa\u865a\u62df\u73af\u5883\uff0c\u4f7f\u7528\u5f53\u524d\u547d\u4ee4\u884c\u4e0b\u6fc0\u6d3b\u7684 python\u3002</p> <p>\u89e3\u91ca\u5668\u521b\u5efa\u865a\u62df\u73af\u5883\u3002\u865a\u62df\u73af\u5883\u7684\u547d\u540d\u6a21\u5f0f\u4e3a <code>\u9879\u76ee\u540d-\u968f\u673a\u6570-python\u7248\u672c</code></p> <p>\u53e6\u5916\u4f7f\u7528<code>poetry install</code>\u548c<code>poetry add</code>\u4f1a\u81ea\u52a8\u521b\u5efa\u865a\u62df\u73af\u5883\u3002</p> <p>\u4f7f\u7528<code>poetry shell</code>\u6fc0\u6d3b\u865a\u62df\u73af\u5883\u3002</p> <p><code>poetry shell</code> \u6307\u4ee4\u4f1a\u68c0\u67e5\u5f53\u524d\u76ee\u5f55\u6216\u4e0a\u5c42\u76ee\u5f55\u662f\u5426\u5b58\u5728 <code>pyproject\uff0ctoml</code> \u6765\u786e\u5b9a\u9700\u8981\u542f\u52a8\u7684\u865a\u62df\u73af\u5883\uff0c\u6240\u4ee5\u5982\u679c\u4e0d\u79fb\u52a8\u5230\u9879\u76ee\u7684\u76ee\u5f55\u4e0b\uff0c\u5219\u4f1a\u51fa\u73b0\u9519\u8bef\u3002</p> <p>\u9000\u51fa\u865a\u62df\u73af\u5883\u5c31\u66f4\u7b80\u5355\u4e86\uff0c\u53ea\u8981\u8f93\u5165 <code>exit</code> \u5c31\u53ef\u4ee5\u4e86\u3002</p> <pre><code>poetry shell\n</code></pre> <p>\u4f7f\u7528<code>poetry run</code>\u5728\u865a\u62df\u73af\u5883\u4e2d\u8fd0\u884c\u547d\u4ee4</p> <pre><code>poetry run python main.py \n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#5_2","title":"5. \u7ba1\u7406\u4f9d\u8d56\u9879","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#_3","title":"\u6dfb\u52a0\u4f9d\u8d56\u9879","text":"<p>\u5982\u679c\u8981\u5411\u9879\u76ee\u6dfb\u52a0\u4f9d\u8d56\u9879\uff0c\u53ef\u4ee5\u5728 <code>tool.poetry.dependencies</code> \u4e2d\u6307\u5b9a\u5b83\u4eec\u3002</p> <pre><code>[tool.poetry.dependencies]\npendulum = \"^2.1\"\n</code></pre> <p>\u5b83\u9700\u8981\u5305\u540d\u79f0\u548c\u7248\u672c\u7ea6\u675f\u7684\u6620\u5c04\u3002</p> <p>\u7248\u672c\u7ea6\u675f\u5982\u4e0b\uff1a</p> <p></p> <p>\u6b64\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>poetry add</code> \u547d\u4ee4\uff0c\u800c\u4e0d\u662f\u624b\u52a8\u4fee\u6539 <code>pyproject.toml</code> \u6587\u4ef6\u3002</p> <pre><code>$ poetry add flask\nUsing version ^2.3.2 for flask\n\nUpdating dependencies\nResolving dependencies...\n\nWriting lock file\n\nPackage operations: 8 installs, 0 updates, 0 removals\n\n  \u2022 Installing colorama (0.4.6)\n  \u2022 Installing markupsafe (2.1.3)\n  \u2022 Installing blinker (1.6.2)\n  \u2022 Installing click (8.1.6)\n  \u2022 Installing itsdangerous (2.1.2)\n  \u2022 Installing jinja2 (3.1.2)\n  \u2022 Installing werkzeug (2.3.6)\n</code></pre> <p>\u76f8\u8f83\u4e8e <code>pip install</code>\uff0c\u6211\u4eec\u8bd5\u8bd5\u5b89\u88c5 <code>flask</code> \u770b\u770b\u4f1a\u6709\u4ec0\u4e48\u6837\u7684\u53d8\u5316\u3002\u53ef\u4ee5\u770b\u5230 poetry \u4f1a\u5c06\u6240\u6709\u7684\u4fe1\u606f\u5168\u90e8\u5217\u51fa\u6765\uff0c\u5e76\u4e14\u6e05\u695a\u7684\u544a\u77e5\u4e86\u65b0\u589e\u4e86\u90a3\u4e9b\u7b2c\u4e09\u65b9\u6a21\u5757\u3002</p> <p>\u6b64\u65f6\u9879\u76ee\u4e2d\u7684 pyproject.toml \u4e5f\u53d1\u751f\u4e86\u53d8\u5316</p> <pre><code>[tool.poetry.dependencies]\npython = \"^3.11\"\nflask = \"^2.3.2\"  # \u65b0\u589e\u90e8\u5206\n</code></pre> <p>\u5b83\u4f1a\u81ea\u52a8\u627e\u5230\u5408\u9002\u7684\u7248\u672c\u7ea6\u675f\uff0c\u5e76\u5b89\u88c5\u5305\u548c\u5b50\u4f9d\u8d56\u3002\u8fd9\u91cc\u8981\u8bf4\u660e\uff0c\u5b89\u88c5 flask \uff0c\u5219 <code>pyproject.toml</code> \u53ea\u4f1a\u65b0\u589e flask = \"^2.3.2\" \u8fd9\u4e2a\u5b57\u6bb5\u7684\u7b2c\u4e09\u65b9\u6a21\u5757\uff0c\u5176\u4f59\u4f9d\u8d56\u4e0d\u4f1a\u51fa\u73b0\u5728 toml \u6587\u4ef6\u4e2d\u3002</p> <p>\u8fd9\u91cc\u662f\u4e00\u4e2a\u975e\u5e38\u5927\u7684\u4f18\u70b9\uff0c\u4ee5\u4fbf\u533a\u5206\u90a3\u4e9b\u662f\u7528\u6237\u5b89\u88c5\u7684\u7b2c\u4e09\u65b9\u6a21\u5757\uff0c\u90a3\u4e9b\u662f\u7b2c\u4e09\u65b9\u6a21\u5757\u4e00\u5e76\u5b89\u88c5\u7684\u4f9d\u8d56\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#dev-dependencies","title":"\u65b0\u589e\u6a21\u5757\u81f3 dev-dependencies","text":"<p>\u6709\u4e9b\u6a21\u5757\uff0c\u6bd4\u5982 <code>pytest</code> \u3001 <code>black</code> \u7b49\u7b49\uff0c\u53ea\u4f1a\u5728\u5f00\u53d1\u73af\u5883\u4e2d\u4f7f\u7528\uff0c\u4ea7\u54c1\u7684\u90e8\u7f72\u73af\u5883\u5e76\u4e0d\u9700\u8981\u3002</p> <p>Poetry \u5141\u8bb8\u4f60\u533a\u5206\u8fd9\u4e24\u8005\uff0c\u5c06\u4e0a\u8ff0\u7684\u6a21\u5757\u5b89\u88c5\u81f3 <code>dev-dependencies</code> \u533a\u5757\uff0c\u65b9\u4fbf\u8ba9\u4f60\u8f7b\u677e\u5efa\u7acb\u4e00\u4efd\u300c\u4e0d\u5305\u542b\u300d <code>dev-dependencies</code> \u5f00\u53d1\u6a21\u5757\u7684\u5b89\u88c5\u6e05\u5355\u3002</p> <p>\u5728\u6b64\u4ee5 Black \u4e3a\u4f8b\uff0c\u5b89\u88c5\u65b9\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>poetry add black --group dev\n</code></pre> <p>\u7ed3\u679c\u7684\u533a\u522b\u663e\u793a\u5728 <code>pyproject.toml</code> \u91cc\uff1a</p> <pre><code>    [tool.poetry.dependencies]\n    python = \"^3.10\"\n    flask = \"^2.3.2\"\n\n\n    [tool.poetry.group.dev.dependencies]\n    black = \"^23.7.0\"\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230 <code>black</code> \u88ab\u5217\u5728\u4e0d\u540c\u533a\u5757\uff1a <code>tool.poetry.dev-dependencies</code> \u3002</p> <p>\u5f3a\u70c8\u5efa\u8bae\u5584\u7528 dev-dependencies</p> <p>\u5584\u7528 <code>--group dev</code> \u53c2\u6570\uff0c\u660e\u786e\u533a\u5206\u5f00\u53d1\u73af\u5883\uff0c\u6211\u8ba4\u4e3a\u975e\u5e38\u5fc5\u8981\u3002</p> <p>\u9996\u5148\uff0c\u8fd9\u4e9b\u6a21\u5757\u5e38\u5e38\u5c5e\u4e8e\u300c\u68c0\u6d4b\u578b\u300d\u5de5\u5177\uff0c\u76f8\u5173\u7684\u4f9d\u8d56\u6a21\u5757\u7740\u5b9e\u4e0d\u5c11\uff01\u6bd4\u5982 <code>flake8</code> \uff0c\u5b83\u4f9d\u8d56\u4e86 <code>pycodestyle</code> \u3001 <code>pyflakes</code> \u3001 <code>mccabe</code> \u7b49\u7b49\uff0c\u8fd8\u6709 <code>black</code> \u3001 <code>pre-commit</code> \uff0c\u4f9d\u8d56\u6a21\u5757\u6570\u91cf\u4e5f\u90fd\u5f88\u53ef\u89c2\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#_4","title":"\u79fb\u9664\u4f9d\u8d56\u9879","text":"<p>\u4f7f\u7528<code>poetry remove</code> \u79fb\u9664\u4f9d\u8d56\u9879</p> <pre><code>poetry remove flask\n</code></pre> <p>\u4f7f\u7528 <code>poetry remove</code> \u6307\u4ee4\u3002\u548c <code>poetry add</code> \u4e00\u6837\uff0c\u53ef\u4ee5\u52a0\u4e0a <code>-D</code> \u53c2\u6570\u6765\u79fb\u9664\u7f6e\u4e8e\u5f00\u53d1\u533a\u7684\u6a21\u5757\u3002</p> <p>\u800c\u79fb\u9664\u6a21\u5757\u65f6\u7684\u4f9d\u8d56\u89e3\u6790\u80fd\u529b\uff0c\u6b63\u662f Poetry \u8fdc\u4f18\u4e8e pip \u7684\u4e3b\u8981\u73af\u8282\uff0c\u56e0\u4e3a pip \u6ca1\u6709\uff01\u4e5f\u662f\u4f7f\u7528 Poetry \u7684\u5173\u952e\u7406\u7531\u2014\u2014\u4e3a\u4e86\u987a\u5229\u79fb\u9664\u6a21\u5757\u4e0e\u4f9d\u8d56\u3002</p> <p>pip \u7684 <code>pip uninstall</code> \u53ea\u4f1a\u79fb\u9664\u4f60\u6240\u6307\u5b9a\u7684\u6a21\u5757\uff0c\u800c\u4e0d\u4f1a\u8fde\u540c\u4f9d\u8d56\u6a21\u5757\u4e00\u8d77\u79fb\u9664\u3002</p> <p>\u8fd9\u662f\u57fa\u4e8e\u5b89\u5168\u8003\u91cf\uff0c\u56e0\u4e3a pip \u6ca1\u6709\u4f9d\u8d56\u89e3\u6790\u529f\u80fd\u3002\u5982\u679c\u8d38\u7136\u79fb\u9664\u6240\u6709\u5b89\u88c5\u65f6\u4e00\u5e76\u5b89\u88c5\u7684\u4f9d\u8d56\u6a21\u5757\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u5de8\u5927\u707e\u96be\uff0c\u8ba9\u522b\u7684\u6a21\u5757\u5931\u53bb\u6548\u7528\u3002</p> <p>\u6240\u4ee5\uff0c\u4f7f\u7528 pip \u65f6\uff0c\u6211\u4eec\u9c9c\u5c11\u4f1a\u53bb\u79fb\u9664\u5df2\u7ecf\u4e0d\u518d\u4f7f\u7528\u7684\u6a21\u5757\u3002\u6bd5\u7adf\u4f9d\u8d56\u5173\u7cfb\u9519\u7efc\u590d\u6742\uff0c\u79fb\u9664\u6a21\u5757\u53ef\u80fd\u9020\u6210\u8bb8\u591a\u526f\u4f5c\u7528\uff0c\u5b9e\u5728\u662f\u592a\u9ebb\u70e6\u4e86\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#_5","title":"\u66f4\u65b0\u4f9d\u8d56\u9879","text":"<p>\u8fd9\u4e2a\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u4f7f\u7528 <code>poetry update</code> \u6307\u4ee4\u5373\u53ef\uff1a</p> <pre><code>poetry update\n</code></pre> <p>\u4e0a\u9762\u6307\u4ee4\u4f1a\u66f4\u65b0\u5168\u90e8\u53ef\u80fd\u53ef\u4ee5\u66f4\u65b0\u7684\u6a21\u5757\uff0c\u4e5f\u53ef\u4ee5\u4ec5\u6307\u5b9a\u7279\u5b9a\u6a21\u5757\uff0c\u6bd4\u5982\uff1a</p> <pre><code>poetry update requests toml\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#_6","title":"\u7248\u672c\u7ea6\u675f\u548c\u4f9d\u8d56\u89e3\u6790","text":"<p>\u9664\u4e86\u66f4\u65b0 <code>pyproject.toml</code> \uff0c\u6b64\u65f6\u9879\u76ee\u4e2d\u8fd8\u4f1a\u65b0\u589e\u4e00\u4e2a\u6587\u4ef6\uff0c\u540d\u4e3a <code>poetry.lock</code> \uff0c\u5b83\u5b9e\u9645\u4e0a\u5c31\u76f8\u5f53\u4e8e <code>pip</code> \u7684 <code>requirements.txt</code> \uff0c\u8be6\u7ec6\u8bb0\u5f55\u4e86\u6240\u6709\u5b89\u88c5\u7684\u6a21\u5757\u4e0e\u7248\u672c\u3002</p> <p>\u5f53\u4f7f\u7528 <code>poetry add</code> \u6307\u4ee4\u65f6\uff0c<code>poetry</code> \u4f1a\u81ea\u52a8\u4f9d\u5e8f\u5e2e\u4f60\u505a\u5b8c\u8fd9\u4e09\u4ef6\u4e8b\uff1a</p> <ol> <li>\u66f4\u65b0 <code>pyproject.toml</code>\u3002</li> <li>\u4f9d\u7167 <code>pyproject.toml</code> \u7684\u5185\u5bb9\uff0c\u66f4\u65b0 <code>poetry.lock</code> \u3002</li> <li>\u4f9d\u7167 <code>poetry.lock</code> \u7684\u5185\u5bb9\uff0c\u66f4\u65b0\u865a\u62df\u73af\u5883\u3002</li> </ol> <p>\u7531\u6b64\u53ef\u89c1\uff0c <code>poetry.lock</code> \u7684\u5185\u5bb9\u662f\u53d6\u51b3\u4e8e <code>pyproject.toml</code> \uff0c\u4f46\u4e24\u8005\u5e76\u4e0d\u4f1a\u81ea\u5df1\u8fde\u52a8\uff0c\u4e00\u5b9a\u8981\u57fa\u4e8e\u7279\u5b9a\u6307\u4ee4\u624d\u4f1a\u8fdb\u884c\u540c\u6b65\u4e0e\u66f4\u65b0\uff0c <code>poetry add</code> \u5c31\u662f\u4e00\u4e2a\u5178\u578b\u6848\u4f8b\u3002</p> <p>\u6b64\u65f6\u9879\u76ee\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>    poetry-demo\n    \u251c\u2500\u2500 poetry.lock\n    \u2514\u2500\u2500 pyproject.toml\n\n    0 directories, 2 files\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#poetrylock","title":"\u66f4\u65b0 poetry.lock","text":"<p>\u5f53\u4f60\u81ea\u884c\u4fee\u6539\u4e86 <code>pyproject.toml</code> \u5185\u5bb9\uff0c\u6bd4\u5982\u53d8\u66f4\u7279\u5b9a\u6a21\u5757\u7684\u7248\u672c\uff08\u8fd9\u662f\u6709\u53ef\u80fd\u7684\uff0c\u5c24\u5176\u5728\u624b\u52a8\u5904\u7406\u7248\u672c\u51b2\u7a81\u7684\u65f6\u5019\uff09\uff0c\u6b64\u65f6 <code>poetry.lock</code> \u7684\u5185\u5bb9\u4e0e <code>pyproject.toml</code> \u51fa\u73b0\u4e86\u8131\u94a9\uff0c\u5fc5\u987b\u8ba9\u5b83\u4f9d\u7167\u65b0\u7684 <code>pyproject.toml</code> \u5185\u5bb9\u66f4\u65b0\u3001\u540c\u6b65\uff0c\u4f7f\u7528\u6307\u4ee4\uff1a</p> <pre><code>poetry lock\n</code></pre> <p>\u5982\u6b64\u4e00\u6765\uff0c\u624d\u80fd\u786e\u4fdd\u624b\u52a8\u4fee\u6539\u7684\u5185\u5bb9\uff0c\u4e5f\u66f4\u65b0\u5230 <code>poetry.lock</code> \u4e2d\uff0c\u6bd5\u7adf\u865a\u62df\u73af\u5883\u5982\u679c\u8981\u91cd\u65b0\u5efa\u7acb\uff0c\u662f\u57fa\u4e8e <code>poetry.lock</code> \u7684\u5185\u5bb9\u6765\u5b89\u88c5\u6a21\u5757\uff0c\u800c\u975e <code>pyproject.toml</code> \u3002</p> <p>\u8fd8\u662f\u90a3\u53e5\u8bdd\uff1a</p> <p>poetry.lock \u76f8\u5f53\u4e8e Poetry \u7684 requirements.txt \u3002</p> <p>\u4f46\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0c <code>poetry lock</code> \u6307\u4ee4\uff0c\u4ec5\u4f1a\u66f4\u65b0 <code>poetry.lock</code> \uff0c\u4e0d\u4f1a\u540c\u65f6\u5b89\u88c5\u6a21\u5757\u81f3\u865a\u62df\u73af\u5883</p> <p>\u56e0\u6b64\uff0c\u5728\u6267\u884c\u5b8c <code>poetry lock</code> \u6307\u4ee4\u540e\uff0c\u5fc5\u987b\u518d\u4f7f\u7528 <code>poetry install</code> \u6765\u5b89\u88c5\u6a21\u5757\u3002\u5426\u5219\u5c31\u4f1a\u51fa\u73b0 <code>poetry.lock</code> \u548c\u865a\u62df\u73af\u5883\u4e0d\u4e00\u81f4\u7684\u72b6\u51b5\u3002</p> <p>\u66f4\u591a <code>poetry lock</code> \u7ec6\u8282\u53ef\u53c2\u8003\u5b98\u65b9\u6587\u6863\uff0c\u5176\u4e2d\u7279\u522b\u503c\u5f97\u6ce8\u610f\u7684\u662f <code>--no-update</code> \u53c2\u6570\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#_7","title":"\u67e5\u770b\u6240\u6709\u4f9d\u8d56\u9879","text":"<p>\u7c7b\u4f3c <code>pip list</code> \uff0c\u8fd9\u91cc\u8981\u4f7f\u7528 <code>poetry show</code></p> <pre><code>poetry show\n</code></pre> <p>\u7279\u522b\u63d0\u9192\u7684\u662f\uff0c\u8fd9\u91cc\u7684\u6e05\u5355\u5185\u5bb9\u5e76\u4e0d\u662f\u6765\u81ea\u4e8e\u865a\u62df\u73af\u5883\uff0c\u8fd9\u70b9\u548c pip \u4e0d\u540c\uff0c\u800c\u662f\u6765\u81ea\u4e8e <code>poetry.lock</code> \u7684\u5185\u5bb9\u3002</p> <p>\u4f60\u53ef\u80fd\u4f1a\u60f3\uff0c\u6765\u81ea\u4e8e <code>poetry.lock</code> \u6216\u865a\u62df\u73af\u5883\uff0c\u6709\u5dee\u5417\uff1f\u4e24\u8005\u4e0d\u662f\u5e94\u8be5\u8981\u4e00\u81f4\uff1f</p> <p>\u6ca1\u9519\uff0c\u7406\u8bba\u4e0a\u662f\uff0c\u4f46\u4e5f\u6709\u4e0d\u4e00\u81f4\u7684\u65f6\u5019\uff0c\u6bd4\u5982\u4f60\u4f7f\u7528\u4e86 <code>pip install</code> \u6307\u4ee4\u5b89\u88c5\u6a21\u5757\uff0c\u5c31\u4e0d\u4f1a\u8bb0\u8f7d\u5728 <code>poetry.lock</code> \u4e2d\uff0c\u90a3 <code>poetry show</code> \u81ea\u7136\u4e5f\u4e0d\u4f1a\u663e\u793a\u3002</p> <p>\u6811\u72b6\u663e\u793a\u6a21\u5757\u4f9d\u8d56\u5c42\u7ea7</p> <pre><code>poetry show --tree\n</code></pre> <p>\u8ba9\u4e3b\u8981\u6a21\u5757\u4e0e\u5176\u4f9d\u8d56\u6a21\u5757\u7684\u5173\u7cfb\u4e0e\u5c42\u6b21\uff0c\u4e00\u76ee\u4e86\u7136\u3002</p> <p>\u800c\u4e14\u5f88\u8d34\u5fc3\u7684\u662f\uff0c\u5b83\u4e5f\u53ef\u4ee5\u53ea\u663e\u793a\u6307\u5b9a\u6a21\u5757\u7684\u4f9d\u8d56\u5c42\u7ea7\uff0c\u4ee5 <code>celery</code> \u4e3a\u4f8b\uff1a</p> <pre><code>poetry show celery --tree\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#7_1","title":"7. \u9879\u76ee\u6784\u5efa\u548c\u53d1\u5e03","text":"<ul> <li>\u6784\u5efa\u9879\u76ee<ul> <li>\u4f7f\u7528<code>poetry build</code>\u751f\u6210\u5206\u53d1\u5305</li> </ul> </li> <li>\u53d1\u5e03\u9879\u76ee<ul> <li>\u4f7f\u7528<code>poetry publish</code>\u53d1\u5e03\u5230PyPI\u6216\u5176\u4ed6\u4ed3\u5e93</li> </ul> </li> <li>\u7248\u672c\u7ba1\u7406<ul> <li>\u4f7f\u7528<code>poetry version</code>\u66f4\u65b0\u7248\u672c\u53f7</li> <li>\u9075\u5faa\u8bed\u4e49\u5316\u7248\u672c\u63a7\u5236\uff08SemVer\uff09</li> </ul> </li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#8_pyprojecttoml","title":"8. \u9879\u76ee\u914d\u7f6e\u6587\u4ef6\uff08pyproject.toml\uff09","text":"<ul> <li>\u914d\u7f6e\u6587\u4ef6\u7b80\u4ecb</li> <li><code>tool.poetry</code>\u90e8\u5206\u8be6\u89e3<ul> <li>\u9879\u76ee\u5143\u6570\u636e\uff08\u540d\u79f0\u3001\u7248\u672c\u3001\u4f5c\u8005\u7b49\uff09</li> <li>\u4f9d\u8d56\u9879\u548c\u5f00\u53d1\u4f9d\u8d56\u9879</li> </ul> </li> <li>\u5176\u4ed6\u914d\u7f6e\u90e8\u5206\uff08\u5982\u811a\u672c\u3001\u63d2\u4ef6\u7b49\uff09</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#9","title":"9. \u4e0e\u5176\u4ed6\u5de5\u5177\u7684\u96c6\u6210","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#dockerfile","title":"Dockerfile\u4e2d\u4f7f\u7528","text":"<p>\u4e0b\u9762\u7684\u4ee3\u7801\u53c2\u8003\u81eaMaxKb\u9879\u76ee</p> <pre><code>RUN python3 -m venv /opt/py3 &amp;&amp; \\\n    pip install poetry --break-system-packages &amp;&amp; \\\n    poetry config virtualenvs.create false &amp;&amp; \\\n    . /opt/py3/bin/activate &amp;&amp; \\\n    if [ \"$(uname -m)\" = \"x86_64\" ]; then sed -i 's/^torch.*/torch = {version = \"^2.2.1+cpu\", source = \"pytorch\"}/g' pyproject.toml; fi &amp;&amp; \\\n    poetry install\n\nENV LANG=en_US.UTF-8 \\\n    PATH=/opt/py3/bin:$PATH    \n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#poetry_requirementstxt","title":"\u8f93\u51fa Poetry \u865a\u62df\u73af\u5883\u7684 requirements.txt","text":"<p>\u7406\u8bba\u4e0a\uff0c\u5168\u9762\u6539\u7528 Poetry \u540e\uff0c\u9879\u76ee\u4e2d\u662f\u4e0d\u9700\u8981\u5b58\u5728 <code>requirements.txt</code> \uff0c\u56e0\u4e3a\u5b83\u7684\u89d2\u8272\u5df2\u7ecf\u5b8c\u5168\u88ab <code>poetry.lock</code> \u6240\u53d6\u4ee3\u3002</p> <p>\u4f46\u4e8b\u5b9e\u662f\uff0c\u4f60\u53ef\u80fd\u8fd8\u662f\u9700\u8981\u5b83\uff0c\u751a\u81f3\u5e0c\u671b\u5b83\u968f\u7740 <code>poetry.lock</code> \u7684\u5185\u5bb9\u66f4\u65b0\uff01\u81f3\u5c11\u5bf9\u6211\u800c\u8a00\u5c31\u662f\u5982\u6b64\uff0c\u6211\u5728 Docker \u90e8\u7f72\u73af\u5883\u4e2d\u5e76\u4e0d\u4f7f\u7528 Poetry\uff0c\u6240\u4ee5\u6211\u9700\u8981\u4e00\u4efd\u5b8c\u5168\u7b49\u4ef7\u4e8e <code>poetry.lock</code> \u7684 <code>requirements.txt</code> \uff0c\u7528\u4e8e Docker \u90e8\u7f72\u3002</p> <p>\u4f60\u53ef\u80fd\u60f3\u8bf4\uff0c\u90a3\u6211\u5c31\u5728 Poetry \u7684\u865a\u62df\u73af\u5883\u4e0b\uff0c\u4f7f\u7528\u4ee5\u5f80\u719f\u6089\u7684\u6307\u4ee4 <code>pip freeze &gt; requirements.txt</code> \u6765\u4ea7\u751f\u4e00\u4efd\u5c31\u53ef\u4ee5\u4e86\u5427\uff1f\u6211\u672c\u6765\u4e5f\u662f\u8fd9\u4e48\u60f3\uff0c\u4f46\u5b9e\u9645\u7684\u4ea7\u51fa\u5374\u662f\u5982\u6b64\uff1a\uff08\u63d0\u9192\uff1a\u76ee\u524d poetry-demo \u4e13\u6848\u4e2d\u4ec5\u5269\u4e0b Black \u548c\u5b83\u7684\u4f9d\u8d56\u6a21\u5757\uff09</p> <pre><code>black @ file:///Users/username/Library/Caches/pypoetry/artifacts/11/4c/fc/cd6d885e9f5be135b161e365b11312cff5920d7574c8446833d7a9b1a3/black-22.3.0-cp38-cp38-macosx_10_9_x86_64.whl\nclick @ file:///Users/username/Library/Caches/pypoetry/artifacts/f0/23/09/b13d61d1fa8b3cd7c26f67505638d55002e7105849de4c4432c28e1c0d/click-8.1.2-py3-none-any.whl\nmypy-extensions @ file:///Users/username/Library/Caches/pypoetry/artifacts/b6/a0/b0/a5dc9acd6fd12aba308634f21bb7cf0571448f20848797d7ecb327aa12/mypy_extensions-0.4.3-py2.py3-none-any.whl\n...\n</code></pre> <p>\u8fd9\u5448\u73b0\u597d\u50cf\u4e0d\u662f\u6211\u4eec\u4ee5\u524d\u719f\u6089\u7684\u90a3\u6837\uff1a</p> <pre><code>black==22.3.0\nclick==8.1.2\n...\n</code></pre> <p>\u6ca1\u9519\uff0c\u53ea\u8981\u662f\u4f7f\u7528 <code>poetry add</code> \u5b89\u88c5\u7684\u6a21\u5757\uff0c\u5728 <code>pip freeze</code> \u5c31\u4f1a\u53d8\u6210\u8fd9\u6837\u3002\u6b64\u65f6\u60f3\u8f93\u51fa\u7c7b\u4f3c <code>requirements.txt</code> \u7684\u683c\u5f0f\uff0c\u9700\u8981\u4f7f\u7528 <code>poetry export</code> \u3002</p> <pre><code>poetry export -f requirements.txt -o requirements.txt --without-hashes\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#cicd","title":"\u4e0eCI/CD\u5de5\u5177\u7684\u96c6\u6210","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#github_actions","title":"\u4f7f\u7528GitHub Actions","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#ide","title":"\u4e0eIDE\u7684\u96c6\u6210","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#pycharm","title":"PyCharm","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#vscode","title":"VSCode","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#10","title":"10. \u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848","text":"<ul> <li>\u4f9d\u8d56\u51b2\u7a81</li> <li>\u9501\u5b9a\u6587\u4ef6\u66f4\u65b0\u95ee\u9898</li> <li>\u865a\u62df\u73af\u5883\u95ee\u9898</li> <li>\u5176\u4ed6\u5e38\u89c1\u9519\u8bef\u548c\u8c03\u8bd5\u6280\u5de7</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/poetry.html#_8","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>poetry \u5b98\u65b9\u6587\u6863</li> <li>poetry Github</li> <li>poetry \u5165\u95e8\u5b8c\u5168\u6307\u5357</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html","title":"Setup.py\u7528\u6cd5","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html#1","title":"1. \u4e3a\u4ec0\u4e48\u9700\u8981\u5bf9\u9879\u76ee\u5206\u53d1\u6253\u5305\uff1f","text":"<p>\u5e73\u5e38\u6211\u4eec\u4e60\u60ef\u4e86\u4f7f\u7528 pip \u6765\u5b89\u88c5\u4e00\u4e9b\u7b2c\u4e09\u65b9\u6a21\u5757\uff0c\u8fd9\u4e2a\u5b89\u88c5\u8fc7\u7a0b\u4e4b\u6240\u4ee5\u7b80\u5355\uff0c\u662f\u56e0\u4e3a\u6a21\u5757\u5f00\u53d1\u8005\u4e3a\u6211\u4eec\u9ed8\u9ed8\u5730\u4e3a\u6211\u4eec\u505a\u4e86\u6240\u6709\u7e41\u6742\u7684\u5de5\u4f5c\uff0c\u800c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u662f <code>\u6253\u5305</code>\u3002</p> <p>\u6253\u5305\uff0c\u5c31\u662f\u5c06\u4f60\u7684\u6e90\u4ee3\u7801\u8fdb\u4e00\u6b65\u5c01\u88c5\uff0c\u5e76\u4e14\u5c06\u6240\u6709\u7684\u9879\u76ee\u90e8\u7f72\u5de5\u4f5c\u90fd\u4e8b\u5148\u5b89\u6392\u597d\uff0c\u8fd9\u6837\u4f7f\u7528\u8005\u62ff\u5230\u540e\u5373\u88c5\u5373\u7528\uff0c\u4e0d\u7528\u518d\u64cd\u5fc3\u5982\u4f55\u90e8\u7f72\u7684\u95ee\u9898\uff08\u5982\u679c\u4f60\u4e0d\u60f3\u5bf9\u7167\u7740\u4e00\u5806\u90e8\u7f72\u6587\u6863\u624b\u5de5\u64cd\u4f5c\u7684\u8bdd\uff09\u3002</p> <p>\u4e0d\u7ba1\u4f60\u662f\u5728\u5de5\u4f5c\u4e2d\uff0c\u8fd8\u662f\u4e1a\u4f59\u51c6\u5907\u81ea\u5df1\u5199\u4e00\u4e2a\u53ef\u4ee5\u4e0a\u4f20\u5230 PyPI \u7684\u9879\u76ee\uff0c\u4f60\u90fd\u8981\u5b66\u4f1a\u5982\u4f55\u6253\u5305\u4f60\u7684\u9879\u76ee\u3002</p> <p>Python \u53d1\u5c55\u4e86\u8fd9\u4e48\u4e9b\u5e74\u4e86\uff0c\u9879\u76ee\u6253\u5305\u5de5\u5177\u4e5f\u5df2\u7ecf\u5f88\u6210\u719f\u4e86\u3002\u4ed6\u4eec\u90fd\u6709\u54ea\u4e9b\u5462\uff1f</p> <p>\u4f60\u53ef\u80fd\u542c\u8fc7 <code>disutils</code>\u3001 <code>distutils</code> \u3001<code>distutils2</code>\u3001<code>setuptools</code>\u7b49\u7b49\uff0c\u597d\u50cf\u5f88\u719f\u6089\uff0c\u5374\u53c8\u5f88\u964c\u751f\uff0c\u4ed6\u4eec\u90fd\u662f\u4ec0\u4e48\u5173\u7cfb\u5462\uff1f</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html#2_distutils","title":"2. \u5305\u5206\u53d1\u7684\u59cb\u7956\uff1adistutils","text":"<p><code>distutils</code> \u662f Python \u7684\u4e00\u4e2a\u6807\u51c6\u5e93\uff0c\u4ece\u547d\u540d\u4e0a\u5f88\u5bb9\u6613\u770b\u51fa\u5b83\u662f\u4e00\u4e2a\u5206\u53d1\uff08distribute\uff09\u5de5\u5177\uff08utlis\uff09\uff0c\u5b83\u662f Python \u5b98\u65b9\u5f00\u53d1\u7684\u4e00\u4e2a\u5206\u53d1\u6253\u5305\u5de5\u5177\uff0c\u6240\u6709\u540e\u7eed\u7684\u6253\u5305\u5de5\u5177\uff0c\u5168\u90e8\u90fd\u662f\u57fa\u4e8e\u5b83\u8fdb\u884c\u5f00\u53d1\u7684\u3002</p> <p><code>distutils</code> \u7684\u7cbe\u9ad3\u5728\u4e8e\u7f16\u5199 setup.py\uff0c\u5b83\u662f\u6a21\u5757\u5206\u53d1\u4e0e\u5b89\u88c5\u7684\u6307\u5bfc\u6587\u4ef6\u3002</p> <p>\u90a3\u4e48\u5982\u4f55\u7f16\u5199 setup.py \u5462\uff1f\u8fd9\u91cc\u9762\u7684\u5185\u5bb9\u975e\u5e38\u591a\uff0c\u6211\u4f1a\u5728\u540e\u9762\u8fdb\u884c\u8be6\u7ec6\u7684\u89e3\u6790\uff0c\u8bf7\u4f60\u8010\u5fc3\u5f80\u4e0b\u770b\u3002</p> <p>\u4f60\u6709\u53ef\u80fd\u6ca1\u5199\u8fc7 setup.py \uff0c\u4f46\u4f60\u7edd\u5bf9\u4f7f\u7528\u8fc7 setup.py \u6765\u505a\u4e00\u4e9b\u4e8b\u60c5\uff0c\u6bd4\u5982\u4e0b\u9762\u8fd9\u6761\u547d\u4ee4\uff0c\u6211\u4eec\u7ecf\u5e38\u7528\u5b83\u6765\u8fdb\u884c\u6a21\u5757\u7684\u5b89\u88c5\u3002</p> <pre><code>python setup.py install\n</code></pre> <p>\u8fd9\u6837\u7684\u5b89\u88c5\u65b9\u6cd5\u662f\u901a\u8fc7\u6e90\u7801\u5b89\u88c5\uff0c\u4e0e\u4e4b\u5bf9\u5e94\u7684\u662f\u901a\u8fc7\u4e8c\u8fdb\u5236\u8f6f\u4ef6\u5305\u7684\u5b89\u88c5\uff0c\u540c\u6837\u6211\u4e5f\u4f1a\u5728\u540e\u9762\u8fdb\u884c\u4ecb\u7ecd\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html#3_setuptools","title":"3. \u5206\u53d1\u5de5\u5177\u5347\u7ea7\uff1asetuptools","text":"<p>Setuptools\u662fPython distutils\u7684\u589e\u5f3a\u96c6\u5408\uff0c\u5141\u8bb8\u5f00\u53d1\u4eba\u5458\u66f4\u8f7b\u677e\u5730\u6784\u5efa\u548c\u5206\u53d1Python\u5305\uff0c\u7279\u522b\u662f\u90a3\u4e9b\u4f9d\u8d56\u4e8e\u5176\u4ed6\u5305\u7684\u5305\u3002</p> <p>\u4f7f\u7528setuptools\u6784\u5efa\u548c\u5206\u53d1\u7684\u8f6f\u4ef6\u5305\u5bf9\u7528\u6237\u6765\u8bf4\u770b\u8d77\u6765\u50cf\u57fa\u4e8edistutils\u7684\u666e\u901aPython\u8f6f\u4ef6\u5305\u3002</p> <p>\u90a3\u4e48\u5982\u4f55\u5728\u4e00\u4e2a\u5e72\u51c0\u7684\u73af\u5883\u4e2d\u5b89\u88c5 setuptools \u5462\uff1f</p> <p>\u4e3b\u8981\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a</p> <ul> <li>\u6e90\u7801\u5b89\u88c5\uff1a\u5728 https://pypi.org/project/setuptools/#files \u4e2d\u4e0b\u8f7d zip \u5305 \u89e3\u538b\u6267\u884c <code>python setup.py install</code> \u5b89\u88c5</li> <li>\u901a\u8fc7\u5f15\u5bfc\u7a0b\u5e8f\u5b89\u88c5\uff1a\u4e0b\u8f7d\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u4e0b\u8f7d\u6216\u8005\u66f4\u65b0\u6700\u65b0\u7248\u672c\u7684 setuptools</li> </ul> <pre><code>wget http://peak.telecommunity.com/dist/ez_setup.py\n\n# \u5b89\u88c5\npython ez_setup.py\n\n# \u66f4\u65b0\uff0c\u4ee5\u4e0b\u4e24\u79cd\u4efb\u9009\npython ez_setup.py \u2013U setuptools\npip install -U setuptools\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html#4_easy_install","title":"4. easy_install \u4f7f\u7528\u6307\u5357","text":"<p>\u5f53\u4f60\u5b89\u88c5\u5b8c setuptools \u540e\uff0c\u5c31\u62e5\u6709\u4e86\u4e00\u4e2a\u53eb\u505a <code>easy_install</code> \u7684\u7b2c\u4e09\u65b9\u7ba1\u7406\u5de5\u5177\uff0c\u8fd9\u4e5f\u662f\u5b83\u533a\u5206\u4e8e distutils \u7684\u4e00\u5927\u6539\u8fdb\u3002</p> <p>\u8fd9\u91cc\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u5b83\u7684\u7528\u6cd5\uff0c\u867d\u7136\u5b83\u5df2\u7ecf\u7528\u5f97\u975e\u5e38\u5c11\u4e86\u3002</p> <p>\u5148\u662f\u5305\u7684\u5b89\u88c5</p> <pre><code># \u901a\u8fc7\u5305\u540d\uff0c\u4ecePyPI\u5bfb\u627e\u6700\u65b0\u7248\u672c\uff0c\u81ea\u52a8\u4e0b\u8f7d\u3001\u7f16\u8bd1\u3001\u5b89\u88c5\neasy_install pkg_name\n\n# \u901a\u8fc7\u5305\u540d\u4ece\u6307\u5b9a\u4e0b\u8f7d\u9875\u5bfb\u627e\u94fe\u63a5\u6765\u5b89\u88c5\u6216\u5347\u7ea7\u5305\neasy_install -f http://pythonpaste.org/package_index.html \n\n# \u6307\u5b9a\u7ebf\u4e0a\u7684\u5305\u5730\u5740\u5b89\u88c5\neasy_install http://example.com/path/to/MyPackage-1.2.3.tgz\n\n# \u4ece\u672c\u5730\u7684 .egg \u6587\u4ef6\u5b89\u88c5\neasy_install xxx.egg\n\n# \u5728\u5b89\u88c5\u65f6\u4f60\u53ef\u4ee5\u6dfb\u52a0\u989d\u5916\u7684\u53c2\u6570\n# \u6307\u5b9a\u5b89\u88c5\u76ee\u5f55\uff1a--install-dir=DIR, -d DIR\n# \u6307\u5b9a\u7528\u6237\u5b89\u88c5\uff1a--user\n</code></pre> <p>\u518d\u8005\u662f\u5305\u7684\u5347\u7ea7</p> <pre><code># \u4ece pypi \u4e2d\u641c\u7d22\u5e76\u5347\u7ea7\u5305\neasy_install --upgrade pkg_name\n\n# \u6307\u5b9a\u7248\u672c\u8fdb\u884c\u5347\u7ea7\neasy_install \"SomePackage==2.0\"\n</code></pre> <p>\u6700\u540e\u662f\u5305\u7684\u5220\u9664</p> <pre><code>easy_install -m pkg_name\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u6837\u7684\u5220\u9664\uff0c\u4ec5\u662f\u5728 easy-install.pth \u6587\u4ef6\u4e2d\u5220\u9664\uff0c\u4f7f\u5176\u4e0d\u80fd\u5728 python \u4e2d\u4f7f\u7528 \u8fd9\u4e2a\u6a21\u5757\uff0c\u4f46\u5b9e\u9645\u7684\u5305\u8fd8\u5728\u4f60\u7684\u7535\u8111\u4e2d\uff0c\u82e5\u8981\u5220\u9664\u5f7b\u5e95\uff0c\u9700\u8981\u4f60\u624b\u52a8\u5220\u9664\u76f8\u5173\u7684 .egg \u53ca \u5176\u4ed6\u6587\u4ef6\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0ceasy_install \u53ea\u4f1a\u4ece pypi \u4e0a\u4e0b\u8f7d\u76f8\u5173\u8f6f\u4ef6\u5305\uff0c\u7531\u4e8e\u8fd9\u4e2a\u6e90\u5728\u56fd\u5916\uff0c\u4e0b\u8f7d\u5305\u7684\u901f\u5ea6\u5e76\u4e0d\u7406\u60f3\uff0c\u4f7f\u7528\u8fc7pip\u7684\u670b\u53cb\u81ea\u7136\u4f1a\u60f3\uff0ceasy_install \u662f\u5426\u80fd\u6307\u5b9a\u6e90\u8fdb\u884c\u5b89\u88c5\u5462\uff1f</p> <p>\u7b54\u6848\u662f\uff0c\u53ef\u4ee5\u7684\u3002</p> <p>\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6 <code>/root/.pydistutils.cfg</code></p> <pre><code>[easy_install]\nindex-url=http://mirrors.aliyun.com/pypi/simple/\nfind-links=http://mirrors.aliyun.com/pypi/simple/\n</code></pre> <p>\u4ee5\u4e0a\u4ec5\u4ecb\u7ecd\u4e86 easy_install \u7684\u4e00\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5\uff0c\u60f3\u8981\u4e86\u89e3\u66f4\u591a\uff0c\u4f60\u53ef\u4ee5\u70b9\u51fb\u5b98\u65b9\u6587\u6863\uff1ahttps://setuptools.readthedocs.io/en/latest/easy_install.html</p> <p>\u603b\u7ed3\u4e00\u53e5\uff1asetuptools \u662f\u5b98\u65b9\u63d0\u4f9b\u7684\u4e00\u4e2a\u4e13\u4e1a\u7528\u4e8e\u5305\u5206\u53d1\u7684\u5de5\u5177\uff0c\u82e5\u53ea\u4ece\u5b89\u88c5\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u5b83\u7684\u529f\u80fd\u786e\u5b9e\u7b80\u5355\u3002\u5b83\u66f4\u5927\u7684\u610f\u4e49\u662f\u5bf9\u5305\u7684\u5206\u53d1\u5f88\u6709\u7528\uff0c\u5b9a\u5236\u5316\u7a0b\u5e8f\u975e\u5e38\u9ad8\uff0c\u6211\u4eec\u73b0\u5728\u4e5f\u8fd8\u5728\u7528\u5b83\u8fdb\u884c\u7248\u672c\u5305\u7684\u53d1\u5e03\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html#5","title":"5. \u6e90\u7801\u5305\u4e0e\u4e8c\u8fdb\u5236\u5305\u4ec0\u4e48\u533a\u522b\uff1f","text":"<p>Python \u5305\u7684\u5206\u53d1\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\uff1a</p> <p>1\u3001\u4ee5\u6e90\u7801\u5305\u7684\u65b9\u5f0f\u53d1\u5e03</p> <p>\u6e90\u7801\u5305\u5b89\u88c5\u7684\u8fc7\u7a0b\uff0c\u662f\u5148\u89e3\u538b\uff0c\u518d\u7f16\u8bd1\uff0c\u6700\u540e\u624d\u5b89\u88c5\uff0c\u6240\u4ee5\u5b83\u662f\u8de8\u5e73\u53f0\u7684\uff0c\u7531\u4e8e\u6bcf\u6b21\u5b89\u88c5\u90fd\u8981\u8fdb\u884c\u7f16\u8bd1\uff0c\u76f8\u5bf9\u4e8c\u8fdb\u5305\u5b89\u88c5\u65b9\u5f0f\u6765\u8bf4\u5b89\u88c5\u901f\u5ea6\u8f83\u6162\u3002</p> <p>\u6e90\u7801\u5305\u7684\u672c\u8d28\u662f\u4e00\u4e2a\u538b\u7f29\u5305\uff0c\u5176\u5e38\u89c1\u7684\u683c\u5f0f\u6709\uff1a</p> <p></p> <p>2\u3001\u4ee5\u4e8c\u8fdb\u5236\u5305\u5f62\u5f0f\u53d1\u5e03</p> <p>\u4e8c\u8fdb\u5236\u5305\u7684\u5b89\u88c5\u8fc7\u7a0b\u7701\u53bb\u4e86\u7f16\u8bd1\u7684\u8fc7\u7a0b\uff0c\u76f4\u63a5\u8fdb\u884c\u89e3\u538b\u5b89\u88c5\uff0c\u6240\u4ee5\u5b89\u88c5\u901f\u5ea6\u8f83\u6e90\u7801\u5305\u6765\u8bf4\u66f4\u5feb\u3002</p> <p>\u7531\u4e8e\u4e0d\u540c\u5e73\u53f0\u7684\u7f16\u8bd1\u51fa\u6765\u7684\u5305\u65e0\u6cd5\u901a\u7528\uff0c\u6240\u4ee5\u5728\u53d1\u5e03\u65f6\uff0c\u9700\u4e8b\u5148\u7f16\u8bd1\u597d\u591a\u4e2a\u5e73\u53f0\u7684\u5305\u3002</p> <p>\u4e8c\u8fdb\u5236\u5305\u7684\u5e38\u89c1\u683c\u5f0f\u6709\uff1a</p> <p></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html#6_eggs_wheels","title":"6. eggs \u4e0e wheels \u6709\u4ec0\u4e48\u533a\u522b\uff1f","text":"<p>Egg \u683c\u5f0f\u662f\u7531 setuptools \u5728 2004 \u5e74\u5f15\u5165\uff0c\u800c Wheel \u683c\u5f0f\u662f\u7531 PEP427 \u5728 2012 \u5e74\u5b9a\u4e49\u3002Wheel \u7684\u51fa\u73b0\u662f\u4e3a\u4e86\u66ff\u4ee3 Egg\uff0c\u5b83\u7684\u672c\u8d28\u662f\u4e00\u4e2azip\u5305\uff0c\u5176\u73b0\u5728\u88ab\u8ba4\u4e3a\u662f Python \u7684\u4e8c\u8fdb\u5236\u5305\u7684\u6807\u51c6\u683c\u5f0f\u3002</p> <p>\u4ee5\u4e0b\u662f Wheel \u548c Egg \u7684\u4e3b\u8981\u533a\u522b\uff1a</p> <ul> <li>Wheel \u6709\u4e00\u4e2a\u5b98\u65b9\u7684 PEP427 \u6765\u5b9a\u4e49\uff0c\u800c Egg \u6ca1\u6709 PEP \u5b9a\u4e49</li> <li>Wheel \u662f\u4e00\u79cd\u5206\u53d1\u683c\u5f0f\uff0c\u5373\u6253\u5305\u683c\u5f0f\u3002\u800c Egg \u65e2\u662f\u4e00\u79cd\u5206\u53d1\u683c\u5f0f\uff0c\u4e5f\u662f\u4e00\u79cd\u8fd0\u884c\u65f6\u5b89\u88c5\u7684\u683c\u5f0f\uff0c\u5e76\u4e14\u662f\u53ef\u4ee5\u88ab\u76f4\u63a5 import</li> <li>Wheel \u6587\u4ef6\u4e0d\u4f1a\u5305\u542b .pyc \u6587\u4ef6</li> <li>Wheel \u4f7f\u7528\u548c PEP376 \u517c\u5bb9\u7684 .dist-info \u76ee\u5f55\uff0c\u800c Egg \u4f7f\u7528 .egg-info \u76ee\u5f55</li> <li>Wheel \u6709\u7740\u66f4\u4e30\u5bcc\u7684\u547d\u540d\u89c4\u5219\u3002</li> <li>Wheel \u662f\u6709\u7248\u672c\u7684\u3002\u6bcf\u4e2a Wheel \u6587\u4ef6\u90fd\u5305\u542b wheel \u89c4\u8303\u7684\u7248\u672c\u548c\u6253\u5305\u7684\u5b9e\u73b0</li> <li>Wheel \u5728\u5185\u90e8\u88ab sysconfig path type \u7ba1\u7406\uff0c\u56e0\u6b64\u8f6c\u5411\u5176\u4ed6\u683c\u5f0f\u4e5f\u66f4\u5bb9\u6613</li> </ul> <p>wheel \u5305\u53ef\u4ee5\u901a\u8fc7 pip \u6765\u5b89\u88c5\uff0c\u53ea\u4e0d\u8fc7\u9700\u8981\u5148\u5b89\u88c5 wheel \u6a21\u5757\uff0c\u7136\u540e\u518d\u4f7f\u7528 pip \u7684\u547d\u4ee4\u3002</p> <pre><code>pip install wheel\npip wheel --wheel-dir=/local/wheels pkg\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html#7_setuppy","title":"7. \u8d85\u8be6\u7ec6\u8bb2\u89e3 setup.py \u7684\u7f16\u5199\uff1f","text":"<p>\u6253\u5305\u5206\u53d1\u6700\u5173\u952e\u7684\u4e00\u6b65\u662f\u7f16\u5199 <code>setup.py</code> \u6587\u4ef6\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a setup.py \u7b80\u5355\u7684\u4f7f\u7528\u793a\u4f8b</p> <pre><code>from setuptools import setup, find_packages\n\nsetup(\n    name=\"mytest\",\n    version=\"1.0\",\n    author=\"wangbm\",\n    author_email=\"wongbingming@163.com\",\n    description=\"Learn to Pack Python Module  --&gt;\u516c\u4f17\u53f7\uff1aPython\u7f16\u7a0b\u65f6\u5149\",\n\n    # \u9879\u76ee\u4e3b\u9875\n    url=\"http://iswbm.com/\", \n\n    # \u4f60\u8981\u5b89\u88c5\u7684\u5305\uff0c\u901a\u8fc7 setuptools.find_packages \u627e\u5230\u5f53\u524d\u76ee\u5f55\u4e0b\u6709\u54ea\u4e9b\u5305\n    packages=find_packages()\n)\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u5c06\u6162\u6162\u6269\u5145\u8fd9\u4e2asetup\u51fd\u6570\uff0c\u589e\u52a0\u66f4\u591a\u7684\u53c2\u6570\uff0c\u4ee5\u4fbf\u4f60\u80fd\u7406\u89e3setup\u51fd\u6570\u80fd\u505a\u54ea\u4e9b\u4e8b\u60c5\u3002</p> <p>\u7a0b\u5e8f\u5206\u7c7b\u4fe1\u606f</p> <p><code>classifiers</code> \u53c2\u6570\u8bf4\u660e\u5305\u7684\u5206\u7c7b\u4fe1\u606f\u3002\u6240\u6709\u652f\u6301\u7684\u5206\u7c7b\u5217\u8868\u89c1\uff1ahttps://pypi.org/pypi?%3Aaction=list_classifiers</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>from setuptools import setup, find_packages\n\nsetup(\n    classifiers = [\n        # \u53d1\u5c55\u65f6\u671f,\u5e38\u89c1\u7684\u5982\u4e0b\n        #   3 - Alpha\n        #   4 - Beta\n        #   5 - Production/Stable\n        'Development Status :: 3 - Alpha',\n\n        # \u5f00\u53d1\u7684\u76ee\u6807\u7528\u6237\n        'Intended Audience :: Developers',\n\n        # \u5c5e\u4e8e\u4ec0\u4e48\u7c7b\u578b\n        'Topic :: Software Development :: Build Tools',\n\n        # \u8bb8\u53ef\u8bc1\u4fe1\u606f\n        'License :: OSI Approved :: MIT License',\n\n        # \u76ee\u6807 Python \u7248\u672c\n        'Programming Language :: Python :: 2',\n        'Programming Language :: Python :: 2.7',\n        'Programming Language :: Python :: 3',\n        'Programming Language :: Python :: 3.3',\n        'Programming Language :: Python :: 3.4',\n        'Programming Language :: Python :: 3.5',\n    ]\n)\n</code></pre> <p>\u5173\u4e8e\u6587\u4ef6\u7684\u5206\u53d1</p> <pre><code>from setuptools import setup, find_packages\n\n\nsetup(\n    name=\"mytest\",\n    version=\"1.0\",\n    author=\"wangbm\",\n    author_email=\"wongbingming@163.com\",\n    description=\"Learn to Pack Python Module\",\n    url=\"http://iswbm.com/\", \n    packages=find_packages(),\n\n    # \u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u5b89\u88c5\u7684\u9759\u6001\u6587\u4ef6\uff0c\u5982\u914d\u7f6e\u6587\u4ef6\u3001service\u6587\u4ef6\u3001\u56fe\u7247\u7b49\n    data_files=[\n        ('', ['conf/*.conf']),\n        ('/usr/lib/systemd/system/', ['bin/*.service']),\n               ],\n\n    # \u5e0c\u671b\u88ab\u6253\u5305\u7684\u6587\u4ef6\n    package_data={\n        '':['*.txt'],\n        'bandwidth_reporter':['*.txt']\n               },\n    # \u4e0d\u6253\u5305\u67d0\u4e9b\u6587\u4ef6\n    exclude_package_data={\n        'bandwidth_reporter':['*.txt']\n               }\n)\n</code></pre> <p>\u9664\u4e86\u4ee5\u4e0a\u7684\u53c2\u6570\u914d\u7f6e\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u53eb\u505a <code>MANIFEST.in</code> \u7684\u6587\u4ef6\uff0c\u6765\u63a7\u5236\u6587\u4ef6\u7684\u5206\u53d1\u3002</p> <p>\u5982\u4e0b\u8fd9\u662f\u4e00\u4e2a <code>MANIFEST.in</code> \u7684\u6837\u4f8b\uff1a</p> <pre><code>include *.txt\nrecursive-include examples *.txt *.py\nprune examples/sample?/build\n</code></pre> <p>\u8fd9\u4e9b\u914d\u7f6e\uff0c\u89c4\u5b9a\u4e86\u5982\u4e0b\u51e0\u70b9</p> <ul> <li>\u6240\u6709\u6839\u76ee\u5f55\u4e0b\u7684\u4ee5 txt \u4e3a\u540e\u7f00\u540d\u7684\u6587\u4ef6\uff0c\u90fd\u4f1a\u5206\u53d1</li> <li>\u6839\u76ee\u5f55\u4e0b\u7684 examples \u76ee\u5f55 \u548c txt\u3001py\u6587\u4ef6\u90fd\u4f1a\u5206\u53d1</li> <li>\u8def\u5f84\u5339\u914d\u4e0a examples/sample?/build \u4e0d\u4f1a\u5206\u53d1</li> </ul> <p><code>MANIFEST.in</code> \u9700\u8981\u653e\u5728\u548c setup.py \u540c\u7ea7\u7684\u9876\u7ea7\u76ee\u5f55\u4e0b\uff0csetuptools \u4f1a\u81ea\u52a8\u8bfb\u53d6\u8be5\u6587\u4ef6\u3002</p> <p>\u5173\u4e8e\u4f9d\u8d56\u5305\u4e0b\u8f7d\u5b89\u88c5</p> <pre><code>from setuptools import setup, find_packages\n\n\nsetup(\n    ...\n\n    # \u8868\u660e\u5f53\u524d\u6a21\u5757\u4f9d\u8d56\u54ea\u4e9b\u5305\uff0c\u82e5\u73af\u5883\u4e2d\u6ca1\u6709\uff0c\u5219\u4f1a\u4ecepypi\u4e2d\u4e0b\u8f7d\u5b89\u88c5\n    install_requires=['docutils&gt;=0.3'],\n\n    # setup.py \u672c\u8eab\u8981\u4f9d\u8d56\u7684\u5305\uff0c\u8fd9\u901a\u5e38\u662f\u4e3a\u4e00\u4e9bsetuptools\u7684\u63d2\u4ef6\u51c6\u5907\u7684\u914d\u7f6e\n    # \u8fd9\u91cc\u5217\u51fa\u7684\u5305\uff0c\u4e0d\u4f1a\u81ea\u52a8\u5b89\u88c5\u3002\n    setup_requires=['pbr'],\n\n    # \u4ec5\u5728\u6d4b\u8bd5\u65f6\u9700\u8981\u4f7f\u7528\u7684\u4f9d\u8d56\uff0c\u5728\u6b63\u5e38\u53d1\u5e03\u7684\u4ee3\u7801\u4e2d\u662f\u6ca1\u6709\u7528\u7684\u3002\n    # \u5728\u6267\u884cpython setup.py test\u65f6\uff0c\u53ef\u4ee5\u81ea\u52a8\u5b89\u88c5\u8fd9\u4e09\u4e2a\u5e93\uff0c\u786e\u4fdd\u6d4b\u8bd5\u7684\u6b63\u5e38\u8fd0\u884c\u3002\n    tests_require=[\n        'pytest&gt;=3.3.1',\n        'pytest-cov&gt;=2.5.1',\n    ],\n\n    # \u7528\u4e8e\u5b89\u88c5setup_requires\u6216tests_require\u91cc\u7684\u8f6f\u4ef6\u5305\n    # \u8fd9\u4e9b\u4fe1\u606f\u4f1a\u5199\u5165egg\u7684 metadata \u4fe1\u606f\u4e2d\n    dependency_links=[\n        \"http://example2.com/p/foobar-1.0.tar.gz\",\n    ],\n\n    # install_requires \u5728\u5b89\u88c5\u6a21\u5757\u65f6\u4f1a\u81ea\u52a8\u5b89\u88c5\u4f9d\u8d56\u5305\n    # \u800c extras_require \u4e0d\u4f1a\uff0c\u8fd9\u91cc\u4ec5\u8868\u793a\u8be5\u6a21\u5757\u4f1a\u4f9d\u8d56\u8fd9\u4e9b\u5305\n    # \u4f46\u662f\u8fd9\u4e9b\u5305\u901a\u5e38\u4e0d\u4f1a\u4f7f\u7528\u5230\uff0c\u53ea\u6709\u5f53\u4f60\u6df1\u5ea6\u4f7f\u7528\u6a21\u5757\u65f6\uff0c\u624d\u4f1a\u7528\u5230\uff0c\u8fd9\u91cc\u9700\u8981\u4f60\u624b\u52a8\u5b89\u88c5\n    extras_require={\n        'PDF':  [\"ReportLab&gt;=1.2\", \"RXP\"],\n        'reST': [\"docutils&gt;=0.3\"],\n    }\n)\n</code></pre> <p>\u5173\u4e8e <code>install_requires</code>\uff0c \u6709\u4ee5\u4e0b\u4e94\u79cd\u5e38\u7528\u7684\u8868\u793a\u65b9\u6cd5\uff1a</p> <ol> <li><code>'argparse'</code>\uff0c\u53ea\u5305\u542b\u5305\u540d\u3002 \u8fd9\u79cd\u5f62\u5f0f\u53ea\u68c0\u67e5\u5305\u7684\u5b58\u5728\u6027\uff0c\u4e0d\u68c0\u67e5\u7248\u672c\u3002 \u65b9\u4fbf\uff0c\u4f46\u4e0d\u5229\u4e8e\u63a7\u5236\u98ce\u9669\u3002</li> <li><code>'setuptools==38.2.4'</code>\uff0c\u6307\u5b9a\u7248\u672c\u3002 \u8fd9\u79cd\u5f62\u5f0f\u628a\u98ce\u9669\u964d\u5230\u4e86\u6700\u4f4e\uff0c\u786e\u4fdd\u4e86\u5f00\u53d1\u3001\u6d4b\u8bd5\u4e0e\u90e8\u7f72\u7684\u7248\u672c\u4e00\u81f4\uff0c\u4e0d\u4f1a\u51fa\u73b0\u610f\u5916\u3002 \u7f3a\u70b9\u662f\u4e0d\u5229\u4e8e\u66f4\u65b0\uff0c\u6bcf\u6b21\u66f4\u65b0\u90fd\u9700\u8981\u6539\u52a8\u4ee3\u7801\u3002</li> <li><code>'docutils &gt;= 0.3'</code>\uff0c\u8fd9\u662f\u6bd4\u8f83\u5e38\u7528\u7684\u5f62\u5f0f\u3002 \u5f53\u5bf9\u67d0\u4e2a\u5e93\u6bd4\u8f83\u4fe1\u4efb\u65f6\uff0c\u8fd9\u79cd\u5f62\u5f0f\u53ef\u4ee5\u81ea\u52a8\u4fdd\u6301\u7248\u672c\u4e3a\u6700\u65b0\u3002</li> <li><code>'Django &gt;= 1.11, != 1.11.1, &lt;= 2'</code>\uff0c\u8fd9\u662f\u6bd4\u8f83\u590d\u6742\u7684\u5f62\u5f0f\u3002 \u5982\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u4fdd\u8bc1\u4e86Django\u7684\u5927\u7248\u672c\u57281.11\u548c2\u4e4b\u95f4\uff0c\u4e5f\u53731.11.x\uff1b\u5e76\u4e14\uff0c\u6392\u9664\u4e86\u5df2\u77e5\u6709\u95ee\u9898\u7684\u7248\u672c1.11.1\uff08\u4ec5\u4e3e\u4f8b\uff09\u3002 \u5bf9\u4e8e\u4e00\u4e9b\u5927\u578b\u3001\u590d\u6742\u7684\u5e93\uff0c\u8fd9\u79cd\u5f62\u5f0f\u662f\u6700\u5408\u9002\u7684\u3002</li> <li><code>'requests[security, socks] &gt;= 2.18.4'</code>\uff0c\u8fd9\u662f\u5305\u542b\u4e86\u989d\u5916\u7684\u53ef\u9009\u4f9d\u8d56\u7684\u5f62\u5f0f\u3002 \u6b63\u5e38\u5b89\u88c5requests\u4f1a\u81ea\u52a8\u5b89\u88c5\u5b83\u7684<code>install_requires</code>\u4e2d\u6307\u5b9a\u7684\u4f9d\u8d56\uff0c\u800c\u4e0d\u4f1a\u5b89\u88c5<code>security</code>\u548c<code>socks</code>\u8fd9\u4e24\u7ec4\u4f9d\u8d56\u3002 \u8fd9\u4e24\u7ec4\u4f9d\u8d56\u662f\u5b9a\u4e49\u5728\u5b83\u7684<code>extras_require</code>\u4e2d\u3002 \u8fd9\u79cd\u5f62\u5f0f\uff0c\u7528\u5728\u6df1\u5ea6\u4f7f\u7528\u67d0\u4e9b\u5e93\u65f6\u3002</li> </ol> <p>\u5173\u4e8e\u5b89\u88c5\u73af\u5883\u7684\u9650\u5236</p> <p>\u6709\u4e9b\u5e93\u5e76\u4e0d\u662f\u5728\u6240\u4ee5\u7684 Python \u7248\u672c\u4e2d\u90fd\u9002\u7528\u7684\uff0c\u82e5\u4e00\u4e2a\u5e93\u5b89\u88c5\u5728\u4e00\u4e2a\u672a\u517c\u5bb9\u7684 Python \u73af\u5883\u4e2d\uff0c\u7406\u8bba\u4e0a\u4e0d\u5e94\u8be5\u5728\u4f7f\u7528\u65f6\u624d\u62a5\u9519\uff0c\u800c\u5e94\u8be5\u5728\u5b89\u88c5\u8fc7\u7a0b\u5c31\u4f7f\u5176\u5931\u8d25\uff0c\u63d0\u793a\u7981\u6b62\u5b89\u88c5\u3002</p> <p>\u8fd9\u6837\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>python_requires</code> \u6765\u5b9e\u73b0\u3002</p> <pre><code>setup(\n    ...\n    python_requires='&gt;=2.7, &lt;=3',\n)\n</code></pre> <p>\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u7684\u5206\u53d1</p> <pre><code>from setuptools import setup, find_packages\n\n\nsetup(\n    name=\"mytest\",\n    version=\"1.0\",\n    author=\"wangbm\",\n    author_email=\"wongbingming@163.com\",\n    description=\"Learn to Pack Python Module\",\n    url=\"http://iswbm.com/\", \n    packages=find_packages(),\n\n    # \u7528\u6765\u652f\u6301\u81ea\u52a8\u751f\u6210\u811a\u672c\uff0c\u5b89\u88c5\u540e\u4f1a\u81ea\u52a8\u751f\u6210 /usr/bin/foo \u7684\u53ef\u6267\u884c\u6587\u4ef6\n    # \u8be5\u6587\u4ef6\u5165\u53e3\u6307\u5411 foo/main.py \u7684main \u51fd\u6570\n    entry_points={\n        'console_scripts': [\n            'foo = foo.main:main'\n        ]\n    },\n\n    # \u5c06 bin/foo.sh \u548c bar.py \u811a\u672c\uff0c\u751f\u6210\u5230\u7cfb\u7edf PATH\u4e2d\n    # \u6267\u884c python setup.py install \u540e\n    # \u4f1a\u751f\u6210 \u5982 /usr/bin/foo.sh \u548c \u5982 /usr/bin/bar.py\n    scripts=['bin/foo.sh', 'bar.py']\n)\n</code></pre> <p>\u4e0a\u9762\u7684 scripts \u91cc\u6709\u7684\u811a\u672c\u4e2d\u6709 <code>sh</code> \u548c <code>py</code> \u540e\u7f00\uff0c\u90a3\u4e48\u5b89\u88c5\u540e\uff0csetuptools \u4f1a\u539f\u5c01\u4e0d\u52a8\u7684\u79fb\u52a8\u5230 /usr/bin \u4e2d\uff0c\u5e76\u6dfb\u52a0\u53ef\u6267\u884c\u6743\u9650\u3002</p> <p>\u82e5\u4f60\u60f3\u5bf9\u8fd9\u4e9b\u6587\u4ef6\u518d\u4f5c\u4e00\u4e9b\u66f4\u6539\uff0c\u6bd4\u5982\u53bb\u6389\u591a\u4f59\u7684\u540e\u7f00\uff0c\u53ef\u4ee5\u8fd9\u6837\u505a</p> <pre><code>from setuptools.command.install_scripts import install_scripts\n\nclass InstallScripts(install_scripts):\n\n    def run(self):\n        setuptools.command.install_scripts.install_scripts.run(self)\n\n        # Rename some script files\n        for script in self.get_outputs():\n            if basename.endswith(\".py\") or basename.endswith(\".sh\"):\n                dest = script[:-3]\n            else:\n                continue\n            print(\"moving %s to %s\" % (script, dest))\n            shutil.move(script, dest)\n\nsetup(\n    ...\n    scripts=['bin/foo.sh', 'bar.py'],\n\n    cmdclass={\n        \"install_scripts\": InstallScripts\n    }\n)\n</code></pre> <p>ext_modules</p> <p><code>ext_modules</code> \u53c2\u6570\u7528\u4e8e\u6784\u5efa C \u548c C++ \u6269\u5c55\u6269\u5c55\u5305\u3002\u5176\u662f Extension \u5b9e\u4f8b\u7684\u5217\u8868\uff0c\u6bcf\u4e00\u4e2a Extension \u5b9e\u4f8b\u63cf\u8ff0\u4e86\u4e00\u4e2a\u72ec\u7acb\u7684\u6269\u5c55\u6a21\u5757\uff0c\u6269\u5c55\u6a21\u5757\u53ef\u4ee5\u8bbe\u7f6e\u6269\u5c55\u5305\u540d\uff0c\u5934\u6587\u4ef6\u3001\u6e90\u6587\u4ef6\u3001\u94fe\u63a5\u5e93\u53ca\u5176\u8def\u5f84\u3001\u5b8f\u5b9a\u4e49\u548c\u7f16\u8f91\u53c2\u6570\u7b49\u3002\u5982\uff1a</p> <pre><code>setup(\n    # other arguments here...\n    ext_modules=[\n        Extension('foo',\n                  glob(path.join(here, 'src', '*.c')),\n                  libraries = [ 'rt' ],\n                  include_dirs=[numpy.get_include()])\n    ]\n)\n</code></pre> <p>\u8be6\u7ec6\u4e86\u89e3\u53ef\u53c2\u8003\uff1ahttps://docs.python.org/3.6/distutils/setupscript.html#preprocessor-options</p> <p>\u6307\u5b9arelease</p> <p>setup.py \u91cc\u53ea\u80fd\u6307\u5b9a version\uff0c\u800c\u4e0d\u80fd\u6307\u5b9a release\uff0c\u5982\u679c\u4f60\u9700\u8981\u53d8\u66f4\u7248\u672c\u53f7\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>--release</code> \u53c2\u6570\u8fdb\u884c\u6307\u5b9a</p> <pre><code>python setup.py bdist_rpm --release=20200617\n</code></pre> <p>setup.py \u7684\u53c2\u6570\u975e\u5e38\u591a\uff0c\u80fd\u591f\u4e0d\u501f\u52a9\u6587\u6863\u5199\u597d\u4e00\u4e2asetup.py\u597d\u50cf\u6ca1\u90a3\u4e48\u7b80\u5355\u3002\u4e3a\u4e86\u5907\u5fd8\uff0c\u6211\u6574\u7406\u4e86 setup \u51fd\u6570\u5e38\u7528\u7684\u4e00\u4e9b\u53c2\u6570\uff1a</p> <p></p> <p>\u66f4\u591a\u53c2\u6570\u53ef\u89c1\uff1ahttps://setuptools.readthedocs.io/en/latest/setuptools.html</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html#8_pbr","title":"8. \u6253\u5305\u8f85\u52a9\u795e\u5668PBR \u662f\u4ec0\u4e48\uff1f","text":"<p><code>pbr</code> \u662f setuptools \u7684\u8f85\u52a9\u5de5\u5177\uff0c\u6700\u521d\u662f\u4e3a OpenStack \u5f00\u53d1\u3002</p> <p><code>pbr</code> \u4f1a\u8bfb\u53d6\u548c\u8fc7\u6ee4setup.cfg\u4e2d\u7684\u6570\u636e\uff0c\u7136\u540e\u5c06\u89e3\u6790\u540e\u7684\u6570\u636e\u63d0\u4f9b\u7ed9 <code>setup.py</code> \u4f5c\u4e3a\u53c2\u6570\u3002\u5305\u542b\u5982\u4e0b\u529f\u80fd\uff1a</p> <ol> <li>\u4ecegit\u4e2d\u83b7\u53d6Version\u3001AUTHORS and ChangeLog\u4fe1\u606f</li> <li>Sphinx Autodoc\u3002pbr \u4f1a\u626b\u63cfproject\uff0c\u627e\u5230\u6240\u6709\u6a21\u5757\uff0c\u751f\u6210stub files</li> <li>Requirements\u3002pbr\u4f1a\u8bfb\u53d6requirements.txt\uff0c\u751f\u6210setup\u51fd\u6570\u9700\u8981\u7684<code>install_requires/tests_require/dependency_links</code></li> </ol> <p>\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\uff0c\u5728 <code>requirements.txt</code> \u6587\u4ef6\u7684\u5934\u90e8\u53ef\u4ee5\u4f7f\u7528\uff1a<code>--index https://pypi.python.org/simple/</code>\uff0c\u8fd9\u4e00\u884c\u628a\u4e00\u4e2a\u62bd\u8c61\u7684\u4f9d\u8d56\u58f0\u660e\u5982 requests==1.2.0 \u8f6c\u53d8\u4e3a\u4e00\u4e2a\u5177\u4f53\u7684\u4f9d\u8d56\u58f0\u660e requests 1.2.0 from pypi.python.org/simple/</p> <ol> <li>long_description\u3002\u4eceREADME.rst, README.txt or README file\u4e2d\u751f\u6210<code>long_description</code>\u53c2\u6570</li> </ol> <p>\u4f7f\u7528pbr\u5f88\u7b80\u5355\uff1a</p> <pre><code>from setuptools import setup\n\nsetup(\n    setup_requires=['pbr'],\n    pbr=True,\n)\n</code></pre> <p>\u4f7f\u7528pbr\u65f6\uff0csetup.cfg\u4e2d\u6709\u4e00\u4e9b\u914d\u7f6e\u3002\u5728[files]\u4e2d\uff0c\u6709\u4e09\u4e2akey\uff1a <code>packages</code>:\u6307\u5b9a\u9700\u8981\u5305\u542b\u7684\u5305\uff0c\u884c\u4e3a\u7c7b\u4f3c\u4e8esetuptools.find_packages <code>namespace_packages</code>:\u6307\u5b9anamespace packages <code>data_files</code>: \u6307\u5b9a\u76ee\u7684\u76ee\u5f55\u548c\u6e90\u6587\u4ef6\u8def\u5f84\uff0c\u4e00\u4e2a\u793a\u4f8b\uff1a</p> <pre><code>[files]\ndata_files =\n    etc/pbr = etc/pbr/*\n    etc/neutron =\n        etc/api-paste.ini\n        etc/dhcp-agent.ini\n    etc/init.d = neutron.init\n</code></pre> <p><code>[entry_points]</code> \u6bb5\u8ddf setuptools \u7684\u65b9\u5f0f\u76f8\u540c\u3002</p> <p>\u5230\u6b64\uff0c\u6211\u8bb2\u4e86\u4e09\u79cd\u7f16\u5199\u4f7f\u7528 setup.py \u7684\u65b9\u6cd5</p> <ul> <li>\u4f7f\u7528\u547d\u4ee4\u884c\u53c2\u6570\u6307\u5b9a\uff0c\u4e00\u4e2a\u4e00\u4e2a\u5c06\u53c2\u6570\u4f20\u9012\u8fdb\u53bb\uff08\u6781\u4e0d\u63a8\u8350\uff09</li> <li>\u5728 setup.py \u4e2d\u7684setup\u51fd\u6570\u4e2d\u6307\u5b9a\uff08\u63a8\u8350\u4f7f\u7528\uff09</li> <li>\u4f7f\u7528 pbr \uff0c\u5728 setup.cfg \u4e2d\u6307\u5b9a\uff08\u6613\u4e8e\u7ba1\u7406\uff0c\u66f4\u63a8\u8350\uff09</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html#9_setuppy","title":"9. \u5982\u4f55\u4f7f\u7528 setup.py \u6784\u5efa\u5305","text":"<p>1\u3001\u6784\u5efa\u6e90\u7801\u53d1\u5e03\u5305\u3002</p> <p>\u7528\u4e8e\u53d1\u5e03\u4e00\u4e2a Python \u6a21\u5757\u6216\u9879\u76ee\uff0c\u5c06\u6e90\u7801\u6253\u5305\u6210 tar.gz \uff08\u7528\u4e8e Linux \u73af\u5883\u4e2d\uff09\u6216\u8005 zip \u538b\u7f29\u5305\uff08\u7528\u4e8e Windows \u73af\u5883\u4e2d\uff09</p> <pre><code>python setup.py sdist\n</code></pre> <p>\u90a3\u8fd9\u79cd\u5305\u5982\u4f55\u5b89\u88c5\u5462</p> <p>\u7b54\u6848\u662f\uff0c\u4f7f\u7528\u4e0b\u4e00\u8282\u5373\u5c06\u4ecb\u7ecd\u7684 <code>setuptools</code> \u4e2d\u63d0\u4f9b\u7684 <code>easy_install</code> \u5de5\u5177\u3002</p> <pre><code>easy_install xxx.tar.gz\n</code></pre> <p>\u4f7f\u7528 sdist \u5c06\u6839\u636e\u5f53\u524d\u5e73\u53f0\u521b\u5efa\u9ed8\u8ba4\u683c\u5f0f\u7684\u5b58\u6863\u3002\u5728\u7c7b Unix \u5e73\u53f0\u4e0a\uff0c\u5c06\u521b\u5efa\u540e\u7f00\u540e\u4e3a <code>.tar.gz</code> \u7684 gzip \u538b\u7f29\u7684tar\u6587\u4ef6\u5206\u53d1\u5305\uff0c\u800c\u5728Windows\u4e0a\u4e3a ZIP \u6587\u4ef6\u3002</p> <p>\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u4f60\u8981\u7684\u53d1\u5e03\u5305\u683c\u5f0f\u6765\u6253\u7834\u8fd9\u4e2a\u9ed8\u8ba4\u884c\u4e3a</p> <pre><code>python setup.py sdist --formats=gztar,zip\n</code></pre> <p>\u4f60\u53ef\u4ee5\u6307\u5b9a\u7684\u683c\u5f0f\u6709\u54ea\u4e9b\u5462\uff1f</p> <p>\u521b\u5efa\u4e00\u4e2a\u538b\u7f29\u7684tarball\u548c\u4e00\u4e2azip\u6587\u4ef6\u3002\u53ef\u7528\u683c\u5f0f\u4e3a\uff1a</p> <p></p> <p>\u5bf9\u4ee5\u4e0a\u7684\u683c\u5f0f\uff0c\u6709\u51e0\u70b9\u9700\u8981\u6ce8\u610f\u4e00\u4e0b\uff1a</p> <ul> <li>\u5728\u7248\u672c3.5\u4e2d\u624d\u6dfb\u52a0\u4e86\u5bf9 <code>xztar</code> \u683c\u5f0f\u7684\u652f\u6301</li> <li>zip \u683c\u5f0f\u9700\u8981\u4f60\u4e8b\u5148\u5df2\u5b89\u88c5\u76f8\u5e94\u7684\u6a21\u5757\uff1azip\u7a0b\u5e8f\u6216zipfile\u6a21\u5757\uff08\u5df2\u6210\u4e3aPython\u7684\u6807\u51c6\u5e93\uff09</li> <li>ztar \u683c\u5f0f\u6b63\u5728\u5f03\u7528\uff0c\u8bf7\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528</li> </ul> <p>\u53e6\u5916\uff0c\u5982\u679c\u60a8\u5e0c\u671b\u5f52\u6863\u6587\u4ef6\u7684\u6240\u6709\u6587\u4ef6\u5f52root\u62e5\u6709\uff0c\u53ef\u4ee5\u8fd9\u6837\u6307\u5b9a</p> <pre><code>python setup.py sdist --owner=root --group=root\n</code></pre> <p>2\u3001\u6784\u5efa\u4e8c\u8fdb\u5236\u5206\u53d1\u5305\u3002</p> <p>\u5728windows\u4e2d\u6211\u4eec\u4e60\u60ef\u4e86\u53cc\u51fb exe \u8fdb\u884c\u8f6f\u4ef6\u7684\u5b89\u88c5\uff0cPython \u6a21\u5757\u7684\u5b89\u88c5\u4e5f\u540c\u6837\u652f\u6301 \u6253\u5305\u6210 exe \u8fd9\u6837\u7684\u4e8c\u8fdb\u5236\u8f6f\u4ef6\u5305\u3002</p> <pre><code>python setup.py bdist_wininst\n</code></pre> <p>\u800c\u5728 Linux \u4e2d\uff0c\u5927\u5bb6\u4e5f\u4e60\u60ef\u4e86\u4f7f\u7528 rpm \u6765\u5b89\u88c5\u5305\uff0c\u5bf9\u6b64\u4f60\u53ef\u4ee5\u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\u5b9e\u73b0 rpm \u5305\u7684\u6784\u5efa</p> <pre><code>python setup.py bdist_rpm\n</code></pre> <p>\u82e5\u4f60\u559c\u6b22\u4f7f\u7528 easy_install \u6216\u8005 pip \u6765\u5b89\u88c5\u79bb\u7ebf\u5305\u3002\u4f60\u53ef\u4ee5\u5c06\u5176\u6253\u5305\u6210 egg \u5305</p> <pre><code>python setup.py bdist_egg\n</code></pre> <p>\u82e5\u4f60\u7684\u9879\u76ee\uff0c\u9700\u8981\u5b89\u88c5\u591a\u4e2a\u5e73\u53f0\u4e0b\uff0c\u65e2\u6709 Windows \u4e5f\u6709 Linux\uff0c\u6309\u7167\u4e0a\u9762\u7684\u65b9\u6cd5\uff0c\u591a\u79cd\u683c\u5f0f\u6211\u4eec\u8981\u6267\u884c\u591a\u6b21\u547d\u4ee4\uff0c\u4e3a\u4e86\u65b9\u4fbf\uff0c\u4f60\u53ef\u4ee5\u4e00\u6b65\u5230\u4f4d\uff0c\u6267\u884c\u5982\u4e0b\u8fd9\u6761\u547d\u4ee4\uff0c\u5373\u53ef\u751f\u6210\u591a\u4e2a\u683c\u5f0f\u7684\u8fdb\u5236</p> <pre><code>python setup.py bdist\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html#10_setuppy","title":"10. \u5982\u4f55\u4f7f\u7528 setup.py \u5b89\u88c5\u5305","text":"<p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u90fd\u662f\u901a\u8fc7\u4ee5\u4e0a\u6784\u5efa\u7684\u6e90\u7801\u5305\u6216\u8005\u4e8c\u8fdb\u5236\u5305\u8fdb\u884c\u6a21\u5757\u7684\u5b89\u88c5\u3002</p> <p>\u4f46\u5728\u7f16\u5199 setup.py \u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u80fd\u4e0d\u80fd\u4e00\u6b65\u5230\u4f4d\uff0c\u9700\u8981\u591a\u6b21\u8c03\u8bd5\uff0c\u8fd9\u65f6\u5019\u5982\u4f55\u6d4b\u8bd5\u81ea\u5df1\u5199\u7684 setup.py \u6587\u4ef6\u662f\u53ef\u7528\u7684\u5462\uff1f</p> <p>\u8fd9\u65f6\u5019\u4f60\u53ef\u4ee5\u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\uff0c\u5b83\u4f1a\u5c06\u4f60\u7684\u6a21\u5757\u5b89\u88c5\u81f3\u7cfb\u7edf\u5168\u5c40\u73af\u5883\u4e2d</p> <pre><code>python setup.py install\n</code></pre> <p>\u5982\u82e5\u4f60\u7684\u9879\u76ee\u8fd8\u5904\u4e8e\u5f00\u53d1\u9636\u6bb5\uff0c\u9891\u7e41\u7684\u5b89\u88c5\u6a21\u5757\uff0c\u4e5f\u662f\u4e00\u4e2a\u9ebb\u70e6\u4e8b\u3002</p> <p>\u8fd9\u65f6\u5019\u4f60\u53ef\u4ee5\u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\u5b89\u88c5\uff0c\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u771f\u6b63\u7684\u5b89\u88c5\u5305\uff0c\u800c\u662f\u5728\u7cfb\u7edf\u73af\u5883\u4e2d\u521b\u5efa\u4e00\u4e2a\u8f6f\u94fe\u63a5\u6307\u5411\u5305\u5b9e\u9645\u6240\u5728\u76ee\u5f55\u3002\u8fd9\u8fb9\u5728\u4fee\u6539\u5305\u4e4b\u540e\u4e0d\u7528\u518d\u5b89\u88c5\u5c31\u80fd\u751f\u6548\uff0c\u4fbf\u4e8e\u8c03\u8bd5\u3002</p> <pre><code>python setup.py develop\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html#11_pypi","title":"11. \u5982\u4f55\u53d1\u5e03\u5305\u5230 PyPi\uff1f","text":"<p>\u901a\u8fc7\u4e0a\u9762\u7684\u5b66\u4e60\uff0c\u4f60\u4e00\u5b9a\u5df2\u7ecf\u5b66\u4f1a\u4e86\u5982\u4f55\u6253\u5305\u81ea\u5df1\u7684\u9879\u76ee\uff0c\u82e5\u4f60\u89c9\u5f97\u81ea\u5df1\u5f00\u53d1\u7684\u6a21\u5757\u975e\u5e38\u4e0d\u9519\uff0c\u60f3\u8981 share \u7ed9\u5176\u4ed6\u4eba\u4f7f\u7528\uff0c\u4f60\u53ef\u4ee5\u5c06\u5176\u4e0a\u4f20\u5230 PyPi \uff08Python Package Index\uff09\u4e0a\uff0c\u5b83\u662f Python \u5b98\u65b9\u7ef4\u62a4\u7684\u7b2c\u4e09\u65b9\u5305\u4ed3\u5e93\uff0c\u7528\u4e8e\u7edf\u4e00\u5b58\u50a8\u548c\u7ba1\u7406\u5f00\u53d1\u8005\u53d1\u5e03\u7684 Python \u5305\u3002</p> <p>\u5982\u679c\u8981\u53d1\u5e03\u81ea\u5df1\u7684\u5305\uff0c\u9700\u8981\u5148\u5230 pypi \u4e0a\u6ce8\u518c\u8d26\u53f7\u3002\u7136\u540e\u521b\u5efa <code>~/.pypirc</code> \u6587\u4ef6\uff0c\u6b64\u6587\u4ef6\u4e2d\u914d\u7f6e PyPI \u8bbf\u95ee\u5730\u5740\u548c\u8d26\u53f7\u3002\u5982\u7684.pypirc\u6587\u4ef6\u5185\u5bb9\u8bf7\u6839\u636e\u81ea\u5df1\u7684\u8d26\u53f7\u6765\u4fee\u6539\u3002</p> <p>\u5178\u578b\u7684 .pypirc \u6587\u4ef6</p> <pre><code>[distutils]\nindex-servers = pypi\n\n[pypi]\nusername:xxx\npassword:xxx\n</code></pre> <p>\u7136\u540e\u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\u8fdb\u884c\u4fe1\u606f\u6ce8\u518c\uff0c\u5b8c\u6210\u540e\uff0c\u4f60\u53ef\u4ee5\u5728 PyPi \u4e0a\u770b\u5230\u9879\u76ee\u4fe1\u606f\u3002</p> <pre><code>python setup.py register\n</code></pre> <p>\u6ce8\u518c\u5b8c\u4e86\u540e\uff0c\u4f60\u8fd8\u8981\u4e0a\u4f20\u6e90\u7801\u5305\uff0c\u522b\u4eba\u624d\u4f7f\u7528\u4e0b\u8f7d\u5b89\u88c5</p> <pre><code>python setup.py upload\n</code></pre> <p>\u6216\u8005\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>twine</code> \u5de5\u5177\u6ce8\u518c\u4e0a\u4f20\uff0c\u5b83\u662f\u4e00\u4e2a\u4e13\u95e8\u7528\u4e8e\u4e0e pypi \u8fdb\u884c\u4ea4\u4e92\u7684\u5de5\u5177\uff0c\u8be6\u60c5\u53ef\u4ee5\u53c2\u8003\u5b98\u7f51\uff1ahttps://www.ctolib.com/twine.html\uff0c\u8fd9\u91cc\u4e0d\u8be6\u7ec6\u8bb2\u4e86\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/setup.py%E7%94%A8%E6%B3%95.html#_1","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u738b\u70b3\u660e \u82b1\u4e86\u4e24\u5929\uff0c\u7ec8\u4e8e\u628a Python \u7684 setup.py \u7ed9\u6574\u660e\u767d\u4e86</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html","title":"Pip\u79c1\u6709\u6e90","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#1","title":"1.\u7b80\u8981","text":"<ul> <li> <p>devpi\u76f8\u6bd4\u5176\u4ed6pypi\u6e90\uff0c\u6709\u5982\u4e0b\u7279\u70b9\uff1a</p> </li> <li> <p>\u8282\u7701\u786c\u76d8\uff1a\u4e0d\u5fc5\u5b8c\u5168\u540c\u6b65\u4e0b\u6765\u516c\u5f00\u6e90\u7684\u6240\u6709\u5305\uff0c\u4ec5\u5728\u7b2c\u4e00\u6b21pip\u5b89\u88c5\u65f6\u4ece\u516c\u5f00\u6e90\u4e0b\u8f7d\u548c\u7f13\u5b58\u3002</p> </li> <li>\u652f\u6301\u4e0a\u4f20\u63a5\u53e3\u6587\u6863\uff1a\u4e0a\u4f20\u81ea\u5df1\u5f00\u53d1pip\u5e93\u65f6\uff0c\u53ef\u4ee5\u628a\u63a5\u53e3\u6587\u6863\u4e5f\u4e0a\u4f20\u5230devpi\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#2","title":"2.\u80cc\u666f","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#21pypi","title":"2.1.\u4e3a\u4ec0\u4e48\u8981\u81ea\u5df1\u642d\u5efapypi\u6e90\u670d\u52a1","text":"<ol> <li>\u8282\u7701\u5b89\u88c5\u65f6\u95f4\uff1a\u5f53\u6211\u4eec\u5728\u5185\u7f51\u6253\u5305\u955c\u50cf\u3001\u5b89\u88c5python\u73af\u5883\u65f6\uff0c\u7ecf\u5e38\u8981**\u53cd\u590d**\u4ece**\u5916\u7f51\u6e90**\u4e0b\u8f7dpip\u5e93\u3002\u5373\u4f7f\u6539\u7528\u56fd\u5185\u7684\u963f\u91cc\u6e90\u3001\u8c46\u74e3\u6e90\uff0c\u4e0b\u8f7d\u901f\u5ea6\u4e00\u822c\u4e5f\u53ea\u4f1a\u5728**2~7MB/s**\u5de6\u53f3\uff0c\u5982\u679c\u5b89\u88c5500MB\u7684TensorFlow\uff0c\u4e0b\u8f7d+\u5b89\u88c5\u7ea6\u9700\u89812\u5206\u949f\u3002\u5982\u679c\u9047\u5230\u7f51\u7edc\u4e0d\u7a33\u5b9a\uff0c\u7b49\u5f85\u65f6\u95f4\u4f1a\u66f4\u957f\uff0c\u800c\u4ece\u5185\u7f51\u4e0b\u8f7d\u5b89\u88c5\u5305\uff0c\u901f\u5ea6\u5728**100+MB/s !!!**\u3002</li> <li>\u5206\u4eab\u6c89\u6dc0python\u5e93\uff1a\u5185\u90e8\u5f00\u53d1\u7684python\u5e93\uff0c\u5982\u679c\u5728\u5185\u90e8pip\u6e90\u5e73\u53f0\u4e0a\uff0c\u4ee5pip\u5e93\u7684\u5f62\u5f0f\u5185\u90e8\u5206\u4eab\uff0c\u53ef\u4ee5\u51cf\u5c11\u5f88\u591a\u91cd\u590d\u6027\u5de5\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u6c89\u6dc0\u5de5\u4f5c\u5185\u5bb9\u3002</li> </ol>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#22_pip","title":"2.2. pip\u6e90\u5de5\u5177\u5bf9\u6bd4","text":"<p>\u6bd4\u8f83\u8bd5\u7528\u4e86\u51e0\u6b3e\u5e38\u89c1\u7684pip\u6e90\u5de5\u5177\uff0c\u9009\u62e9**devpi**\u5de5\u5177\u642d\u5efa</p> <p></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#3","title":"3.\u5feb\u901f\u5f00\u59cb","text":"<p>\u9996\u5148\u521b\u5efa\u5b89\u88c5\u76ee\u5f55,\u9ed8\u8ba4\u8bbe\u7f6e\u6210\u4e3a<code>/opt/devpi</code>: <pre><code>mkdir /opt/devpi/\ncd /opt/devpi/\n</code></pre> \u7136\u540e\u5347\u7ea7pip3\u5230\u6700\u65b0\u7248\u672c: <pre><code>python3 -m pip install --upgrade pip -i https://mirrors.aliyun.com/pypi/simple/\n</code></pre> \u7136\u540e\u901a\u8fc7pip\u5b89\u88c5devpi\uff0c\u4f1a\u9644\u5e26\u5b89\u88c5devpi-server, devpi-web\u7b49\u4f9d\u8d56,\u9ed8\u8ba4\u4f7f\u7528\u963f\u91cc\u4e91\u955c\u50cf: <pre><code>pip3 install devpi -i https://mirrors.aliyun.com/pypi/simple/\n</code></pre></p> <p>\u7136\u540e\u9700\u8981\u521d\u59cb\u5316devpi\u7684\u914d\u7f6e\u548c\u7f13\u5b58\u5b89\u88c5\u5305\u7684\u6587\u4ef6\u5939\u3002\u9ed8\u8ba4\u8bbe\u7f6e\u6210<code>/opt/devpi/server</code>,\u5982\u679c\u4e0d\u6307\u5b9a\u76ee\u5f55\u9ed8\u8ba4\u4e3a<code>~/.devpi/server</code>\u3002</p> <p><pre><code>devpi-init  --serverdir=/opt/devpi/server\n</code></pre> </p> <p>\u7136\u540e\u751f\u6210<code>devpi</code>\u7684\u914d\u7f6e: <pre><code>devpi-gen-config\n</code></pre> </p> <p>\u672c\u6587\u4ee5<code>systemctl</code>\u7ba1\u7406<code>devpi</code>\u670d\u52a1\u4e3a\u4f8b,\u4fee\u6539<code>devpi.service</code>,\u6dfb\u52a0host,port,serverdir\u53c2\u6570: <pre><code>vim gen-config/devpi.service\n</code></pre> \u6587\u4ef6\u5185\u5bb9\u5982\u4e0b,\u5177\u4f53\u7684\u53c2\u6570\u53ef\u4ee5\u901a\u8fc7<code>devpi-server --help</code>\u67e5\u770b\u3002 <pre><code>[Unit]\nDescription=Devpi Server\nRequires=network-online.target\nAfter=network-online.target\n\n[Service]\nRestart=on-success\n# ExecStart:\n# - shall point to existing devpi-server executable\n# - shall not use the deprecated `--start`. We want the devpi-server to start in foreground\nExecStart=/usr/local/bin/devpi-server --host=0.0.0.0 --port=3141 --serverdir=/opt/devpi/server/ --debug\n# set User according to user which is able to run the devpi-server\nUser=root\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> host=\"0.0.0.0\"\u8868\u793a\u53ef\u4ee5\u63a5\u53d7\u4efb\u4f55IP\u7684\u8fde\u63a5,\u9ed8\u8ba4\u7aef\u53e3\u662f3141,<code>serverdir</code>\u662f<code>/opt/devpi/server/</code>.</p> <p>\u7136\u540e\u5c06<code>devpi.service</code>\u79fb\u52a8\u5230system\u76ee\u5f55: <pre><code>cp gen-config/devpi.service /usr/lib/systemd/system/\n</code></pre></p> <p>\u7136\u540e\u52a0\u8f7d\u670d\u52a1,\u8bbe\u7f6e\u6210\u5f00\u542f\u542f\u52a8,\u542f\u52a8\u670d\u52a1\u67e5\u770b\u670d\u52a1\u72b6\u6001. <pre><code># \u52a0\u8f7d\u670d\u52a1\nsystemctl daemon-reload\n# \u5f00\u542f\u542f\u52a8devpi\u670d\u52a1\nsystemctl enable devpi\n# \u542f\u52a8devpi\u670d\u52a1\nsystemctl start devpi\n# \u67e5\u770bdevpi\u670d\u52a1\u7684\u72b6\u6001\nsystemctl status devpi\n</code></pre> </p> <p>devpi\u6709\u7528\u6237\u673a\u5236\uff0c\u9ed8\u8ba4\u7528\u6237\u4e3aroot \u5bc6\u7801\u4e3a\u7a7a\u3002\u6bcf\u4e2a\u7528\u6237\u53ef\u4ee5\u521b\u5efa\u591a\u4e2aindex\uff0cindex\u76f4\u63a5\u8fd8\u53ef\u4ee5\u7ee7\u627f\uff0c\u9ed8\u8ba4\u4e3aroot/pypi\u3002\u53ef\u4ee5\u4f7f\u7528devpi index [USER/INDEX]\u6765\u67e5\u770bindex\u7684\u914d\u7f6e\u8be6\u60c5\u3002</p> <p>\u7b2c\u4e00\u6b21\u542f\u52a8\u540e\uff0c\u4f1a\u81ea\u52a8\u4ecepython\u5b98\u65b9\u6e90\u4e0b\u8f7d\u7d22\u5f15\u3002\u8fd9\u65f6\u9700\u8981\u4fee\u6539root/pypi\u8fd9\u4e2aindex\u4e2d\u7684\u914d\u7f6e\uff0c\u5207\u6362\u955c\u50cf\u6e90\u5730\u5740\u4ee5\u817e\u8baf\u4e91\u4e3a\u4f8b\u3002\u9996\u5148\u9700\u8981\u9009\u62e9index\u5730\u5740\uff0c\u7136\u540e\u7528\u6237\u767b\u9646\uff0c\u9ed8\u8ba4\u5bc6\u7801\u4e3a\u7a7a\uff0c\u6700\u540e\u6307\u5b9a\u955c\u50cf\u7684\u5730\u5740\u3002\uff08\u5bf9\u4e8e\u56fd\u5916\u7528\u6237\uff0c\u8fd9\u4e00\u6b65\u5c31\u7701\u4e86\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff09</p> <pre><code># devpi use http://[HOST]:[PORT]/root/pypi\ndevpi use http://localhost:3141/root/pypi\n\n# \u9ed8\u8ba4\u5bc6\u7801\u4e3a\u7a7a\ndevpi login root --password=''\n\n# \u8bbe\u7f6e\u955c\u50cf\u5730\u5740 \n# \u963f\u91cc\u4e91\n# devpi  index root/pypi  \"mirror_web_url_fmt=https://mirrors.aliyun.com/pypi/simple/{name}/\" \"mirror_url=https://mirrors.aliyun.com/pypi/simple/\"\n\n# \u963f\u91cc\u4e91\u5185\u7f51\n# devpi  index root/pypi  \"mirror_web_url_fmt=https://mirrors.cloud.aliyuncs.com/pypi/simple/{name}/\" \"mirror_url=https://mirrors.cloud.aliyuncs.com/pypi/simple/\"\n\n# \u817e\u8baf\u4e91\n# devpi  index root/pypi  \"mirror_web_url_fmt=https://mirrors.cloud.tencent.com/pypi/simple/{name}/\" \"mirror_url=https://mirrors.cloud.tencent.com/pypi/simple/\"\n\n# \u9ed8\u8ba4\u8bbe\u7f6e\u8c46\u74e3\u4e91\ndevpi  index root/pypi  \"mirror_web_url_fmt=https://pypi.douban.com/simple/{name}/\" \"mirror_url=https://pypi.douban.com/simple/\"\n</code></pre> <p> \u66ff\u6362\u4e4b\u540edevpi server\u4f1a\u505c\u6b62\u4e0b\u8f7d\u7684\u539f\u7d22\u5f15\uff0c\u8f6c\u4e3a\u4ece\u65b0\u7684\u6e90\u4e0b\u8f7d\u3002\u540c\u6b65\u5b8c\u6210\u540e\uff0c\u4f1a\u5220\u9664\u65e7\u7d22\u5f15\uff0c\u7d22\u5f15\u90fd\u5728indices\u6587\u4ef6\u5939\u4e2d\uff0c\u5360\u6709\u7a7a\u95f4\u5728400M\u5de6\u53f3\u3002\u5728server\u7684\u65e5\u5fd7\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\u4e0b\u8f7d\u961f\u5217\u7684\u63d0\u793a\uff0c\u4e5f\u53ef\u4ee5\u5728\u7f51\u9875\u4e0a\u770b\u5230\u66f4\u65b0\u72b6\u6001\uff0c\u5730\u5740\u4e3a http://[HOST]:[PORT]/root/pypi</p> <p>\u5728\u8fd0\u884c<code>devpi</code>\u7684\u670d\u52a1\u5668\u4e0a\u9762\u521b\u5efa\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u9ed8\u8ba4\u90fd\u662f<code>admin</code>,\u7136\u540e\u767b\u5f55,\u518d\u521b\u5efa\u4e00\u4e2a\u201cdev\u201d\u7d22\u5f15\uff0c\u544a\u8bc9\u5b83\u4f7f\u7528 root/pypi \u7f13\u5b58\u4f5c\u4e3a\u57fa\u7840\uff0c\u4ee5\u4fbf\u6240\u6709 pypi.org \u5305\u90fd\u5c06\u51fa\u73b0\u5728\u8be5\u7d22\u5f15\u4e0a\u3002\u8fd9\u4e2a\u7d22\u5f15\u662f\u7528\u6765\u7ba1\u7406\u7528\u6237\u81ea\u5b9a\u4e49\u5305\u7684\u3002</p> <pre><code># \u521b\u5efa\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u90fd\u662fadmin\ndevpi user -c admin password=admin\n\n# \u767b\u5f55\ndevpi login admin --password=admin\n\n# \u521b\u5efa\u65b0\u7d22\u5f15 dev\ndevpi index -c pypi bases=root/pypi\n</code></pre> <p>\u6700\u7ec8\u4f7f\u7528\u7684<code>devpi</code>\u6e90\u7684\u5730\u5740\u4e3a\uff1a<code>http://[HOST]:[PORT]/admin/pypi/+simple/</code></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#4","title":"4.\u4f7f\u7528\u65b9\u6cd5","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#41","title":"4.1.\u547d\u4ee4\u884c\u4f7f\u7528","text":"<pre><code># \u793a\u4f8b \u5b9e\u9645\u4f7f\u7528\u7684\u65f6\u5019\u5c06host\u548c\u7aef\u53e3\u4fee\u6539\u6210\u81ea\u5df1\u7684\u5c31\u884c\npip3 --no-cache-dir install -i http://localhost:3141/admin/pypi/+simple/  --trusted-host localhost tensorflow==1.12 scikit-learn==0.19.1\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#42pip_config","title":"4.2.pip config \u914d\u7f6e","text":"<p>\u548c\u4f7f\u7528\u963f\u91cc\u4e91/\u6e05\u534e\u6e90\u4e00\u6837\uff0c\u4e34\u65f6\u4f7f\u7528\u5728pip install\u540e\u6dfb\u52a0 index_url \u548c trusted_host\uff0c\u957f\u671f\u4f7f\u7528\u4fee\u6539\u672c\u5730 pip.conf \u6587\u4ef6\uff0c\u9ed8\u8ba4\u5728<code>~/.pip/pip.conf</code>\u3002</p> <pre><code>[global]\ntrusted-host=[HOST]\nindex-url=http://[HOST]:[PORT]/admin/pypi/\ntimeout=120\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#5","title":"5.\u5176\u4ed6","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#51devpi","title":"5.1devpi\u7684\u7ec4\u6210","text":"<p>\u867d\u7136\u5305\u540d\u53ebdevpi\uff0c\u4f46\u5728\u8fd9\u4e2a\u7248\u672c\uff0c\u529f\u80fd\u5df2\u7ecf\u88ab\u5206\u4e3a\u5ba2\u6237\u7aef devpi-client \u548c\u670d\u52a1\u7aef devpi-server\uff1a</p> <ul> <li>\u76f4\u63a5\u4f7f\u7528devpi\u7684\u547d\u4ee4\u8c03\u7528\u7684\u662fdevpi-client\uff0c\u4e13\u95e8\u7ba1\u7406\u5df2\u7ecf\u542f\u52a8\u7684\u670d\u52a1\uff08index\uff0cuser\u7b49\u6307\u4ee4\uff09</li> <li>\u800cdevpi-server\u52a0\u53c2\u6570\u7528\u6765\u542f\u52a8\u670d\u52a1\u5668\u3002\u53ea\u6709\u5148\u542f\u52a8devpi\u670d\u52a1\uff0cclient\u624d\u80fd\u63a7\u5236\uff08use\u6307\u4ee4\uff09</li> </ul> <p>\u4e0d\u8db3\u7684\u662f\uff0c\u6211\u76ee\u524d\u8fd8\u6ca1\u6709\u627e\u5230\u4e00\u6b65\u5230\u4f4d\u914d\u7f6edevpi\u7684\u65b9\u6cd5\u3002\u9996\u6b21\u542f\u52a8\u670d\u52a1\u5668\u65f6\uff0cmirror_url\u4e0d\u80fd\u901a\u8fc7config\u6587\u4ef6\u4f20\u9012\u7ed9\u7a0b\u5e8f\uff0c\u53ea\u80fd\u7528\u4e0a\u6587\u65b9\u5f0f\u767b\u9646\u540e\u518d\u4fee\u6539\u3002\u4f46\u8fd8\u597d\uff0c\u53ea\u9700\u8981\u914d\u7f6e\u4e00\u6b21\u3002\u8fd9\u4e9b\u914d\u7f6e\u6587\u4ef6\u4f1a\u5b58\u653e\u5728server\u76ee\u5f55\u4e2d\u7684\u6570\u636e\u5e93\u6587\u4ef6\u3002</p> <p>\u53e6\u5916\u4e00\u4e2a\u7ec4\u4ef6\u662fdevpi-web\uff0c\u4e00\u4e2a\u7f51\u9875\u7248\u5ba2\u6237\u7aef\uff0c\u548ccli\u7248\u672c\u7684\u529f\u80fd\u4e92\u76f8\u8865\u5168\uff08\u6216\u8005\u8bf4\u4e24\u4e2a\u5ba2\u6237\u7aef\u529f\u80fd\u90fd\u6b8b\u5e9f\uff09\u3002\u7f51\u9875\u5730\u5740\u548c index_url \u76f8\u540c\u3002\u7f51\u9875\u4e0a\u53ef\u4ee5\u641c\u7d22\u5305\u540d\uff0c\u70b9\u51fb\u5bf9\u5e94\u7248\u672c\u7684\u5b89\u88c5\u5305\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\u3002\u5982\u679c\u5df2\u7ecf\u7f13\u5b58\u8fc7\uff0c\u63cf\u8ff0\u4e2d\u4f1a\u663e\u793a\u6587\u4ef6\u5927\u5c0f\uff0c\u53cd\u4e4b\u8bf4\u660e\u6ca1\u6709\u672c\u5730\u7f13\u5b58\u3002</p> <p></p> <p>\u53e6\u5916\uff0c\u4f7f\u7528\u65f6\u53ef\u80fd\u4f1a\u62a5\u9519serial mismatch\uff0c\u5bfc\u81f4devpi\u4e0d\u7528\u6e05\u534e\u6e90\u800c\u662f\u5b98\u65b9\u6e90\u4e0b\u8f7d\u3002\u8fd9\u662f\u56e0\u4e3a\u8be5\u5305\u7684\u672c\u5730index\u8fc7\u65f6\uff0c\u4f7f\u7528 <code>devpi refresh [PKG]</code>\u6765\u5237\u65b0\u672c\u5730\u7f13\u5b58\uff0c\u6216\u8005\u5728\u7f51\u9875\u4e2d\u5bf9\u5e94\u5305\u7684simple index\u754c\u9762\uff0c\u70b9\u51fbrefresh\u6309\u94ae\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#52","title":"5.2.\u4e0a\u4f20\u79c1\u6709\u5305","text":"<p>devpi \u7684 index\u6709\u4e24\u79cd\u7c7b\u578b\uff0cmirror \u548c stage\uff0c\u524d\u8005\u5c31\u662f\u9ed8\u8ba4\u4f7f\u7528\u7684\uff0c\u62c9\u53d6\u8fdc\u7a0b\u955c\u50cf\uff0c\u4f46\u4e0d\u80fd\u4f20\u6587\u4ef6\u5230\u8fd9\u4e2a index\u4e2d\u3002\u8fd9\u65f6\u9700\u8981\u521b\u5efa\u65b0\u7684 index\uff0c\u6307\u5b9a stage \u7c7b\u578b\u3002\u7136\u540e devpi use \u8fd9\u4e2a index\uff0c\u518d devpi upload \u672c\u5730\u5305\u3002\uff08\u66f4\u591a\u7684\u64cd\u4f5c\u4f8b\u5982\u672c\u5730\u53d1\u5e03\u5305\uff0c\u4e5f\u6709\u5bf9\u5e94\u7684\u6307\u4ee4\uff0c\u8fd9\u4e2a\u6211\u6ca1\u6709\u6df1\u7a76\uff09\u5f53\u6211\u4e0b\u8f7d\u65f6\uff0cdevpi \u4f1a\u5148\u641c\u7d22\u4e0a\u4f20\u7684\u5305\uff0c\u5982\u679c\u6ca1\u6709\u627e\u5230\u4f9d\u7136\u80fd\u901a\u8fc7 mirror \u7684 index \u6765\u4e0b\u8f7d\uff0c\u5219\u53ef\u4ee5\u4fee\u6539 bases\uff0c\u6307\u5411 root/pypi\uff0c\u8fd9\u6837\u5c31\u4e32\u8054\u8d77\u6765\u4e86\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#521","title":"5.2.1\u521b\u5efa\u9879\u76ee:","text":"<p>\u9996\u5148\u9700\u8981\u4fdd\u8bc1\u6709\u6700\u65b0\u7248\u7684<code>setuptools</code>\u548c<code>wheel</code> <pre><code>pip3 install --upgrade setuptools wheel\n</code></pre> \u5982\u679c\u51fa\u73b0\u95ee\u9898\u4e86\u53ef\u4ee5\u67e5\u770b\u5b98\u7f51\u7684\u89e3\u51b3\u65b9\u6848\uff1ahttps://packaging.python.org/tutorials/installing-packages/</p> <p>\u81ea\u5b9a\u4e49\u9879\u76ee\u4e0a\u4f20\u5230\u79c1\u6709\u6e90,\u4e0b\u9762\u5df2\u4e00\u4e2ahello\u4e3a\u4f8b.</p> <p>\u65b0\u5efa\u4e00\u4e2a<code>hello</code>\u7684\u76ee\u5f55\uff0c\u91cc\u9762\u65b0\u5efasetup.py\uff0c\u7136\u540e\u5728hello\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a<code>hello</code>\u7684packge\u7f16\u5199\u4ee3\u7801.hello\u9879\u76ee\u7684\u76ee\u5f55\u5982\u4e0b\uff1a <pre><code>|-- hello\n|   |-- __init__.py\n|   `-- main.py\n`-- setup.py\n</code></pre></p> <p>main.py\u6587\u4ef6\u5982\u4e0b\uff1a <pre><code>def foo():\n    print(\"Hello World\")\n\n\nif __name__ == '__main__':\n    foo()\n</code></pre> setpu.py\u6587\u4ef6\u5982\u4e0b\uff1a <pre><code>from setuptools import setup\n\nsetup(\n    name='hello',\n    version='0.0.1',\n    description=\"\u6d4b\u8bd5\u6253\u5305hello\",\n    url=\"None\",\n    author=\"litao\",\n    author_email=\"Tao.Li67@geely.com\",\n    license=\"MIT\",\n    packages=[\"hello\"]\n)\n</code></pre> \u7136\u540e\u7528<code>python setup.py check</code>\u68c0\u67e5setup\u662f\u5426\u6709\u95ee\u9898,\u5177\u4f53\u5b57\u6bb5\u8bf4\u660e\u53c2\u89c1:</p> <ul> <li>https://setuptools.pypa.io/en/latest/userguide/index.html</li> <li>\u82b1\u4e86\u4e24\u5929\uff0c\u7ec8\u4e8e\u628a Python \u7684 setup.py \u7ed9\u6574\u660e\u767d\u4e86</li> <li>Python \u5e93\u6253\u5305\u5206\u53d1(setup.py \u7f16\u5199)\u7b80\u6613\u6307\u5357</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#522","title":"5.2.2\u6253\u5305\u9879\u76ee","text":"<pre><code># \u68c0\u67e5\npython setup.py check\n# \u8fdb\u5165\u5230setup.py\u540c\u7ea7\u7684\u76ee\u5f55\u4e0b\u6253\u5305\npython setup.py sdist bdist_wheel\n</code></pre> <p>\u6253\u5305\u4e4b\u540e\u4f1a\u5728<code>dist</code>\u76ee\u5f55\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a<code>.whl</code>\u683c\u5f0f\u548c\u4e00\u4e2a<code>.tar.gz</code>\u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u6587\u4ef6\u540d\u5982\u4e0b: <pre><code>hello-0.0.1-py3-none-any.whl \nhello-0.0.1.tar.gz\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#523","title":"5.2.3\u4e0a\u4f20\u9879\u76ee","text":"<p>\u9996\u5148\u8981\u5728Home\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a<code>.pypirc</code>\u7684\u6587\u4ef6,\u5185\u5bb9\u5982\u4e0b. <pre><code>[distutils]\nindex-servers = \n    pypi\n    pypitest\n    private\n    devpi\n\n[pypi]\nrepository: https://pypi.python.org/pypi \nusername:\npassword:\n\n[pypitest]\nrepository: https://testpypi.python.org/pypi\nusername:\npassword:\n\n[devpi]\nrepository:http://your_ip:3141/admin/pypi/\nusername:admin\npassword:admin\n</code></pre> \u5176\u4e2dindex-servers\u540e\u9762\u5199\u7684\u5c31\u662fpypi\u6e90\u7684\u4ed3\u5e93\u540d, \u9ed8\u8ba4\u662fpypi, \u79c1\u6709\u6e90\u9700\u8981\u6682\u65f6\u914d\u7f6e\u6210<code>private</code>\u6216<code>devpi</code>, \u8fd9\u4e2a\u53ef\u4ee5\u968f\u4fbf\u53d6\u540d, \u53ea\u8981\u540e\u4e0b\u9762\u7684section\u5bf9\u7684\u4e0a\u5c31\u884c. repository\u8868\u793a\u79c1\u6709pypi\u6e90\u7684http\u5730\u5740, \u9700\u8981\u5c06IP\u8bbe\u7f6e\u6210\u5b9e\u9645\u7684IP. username\u8868\u793a\u79c1\u6709\u6e90\u7684\u7528\u6237\u540d,  password\u8868\u793a\u79c1\u6709\u6e90\u7684\u5bc6\u7801.</p> <p>\u4e0a\u4f20\u5230devpi\u79c1\u6709\u6e90\u4e2d <pre><code># -r\u540e\u9762\u662f\u4ed3\u5e93\u7684\u540d\u79f0\npython setup.py sdist upload -r devpi\n</code></pre> \u6267\u884c\u7ed3\u679c\u663e\u793aok\u5c31\u8bf4\u660e\u4e0a\u4f20\u6210\u529f\u4e86 <pre><code>running sdist\nrunning egg_info\nwriting hello.egg-info\\PKG-INFO\nwriting dependency_links to hello.egg-info\\dependency_links.txt\nwriting top-level names to hello.egg-info\\top_level.txt\nreading manifest file 'hello.egg-info\\SOURCES.txt'\nwriting manifest file 'hello.egg-info\\SOURCES.txt'\nwarning: sdist: standard file not found: should have one of README, README.rst,\nREADME.txt, README.md\n\nrunning check\ncreating hello-0.0.1\ncreating hello-0.0.1\\hello\ncreating hello-0.0.1\\hello.egg-info\ncopying files to hello-0.0.1...\ncopying setup.py -&gt; hello-0.0.1\ncopying hello\\__init__.py -&gt; hello-0.0.1\\hello\ncopying hello\\main.py -&gt; hello-0.0.1\\hello\ncopying hello.egg-info\\PKG-INFO -&gt; hello-0.0.1\\hello.egg-info\ncopying hello.egg-info\\SOURCES.txt -&gt; hello-0.0.1\\hello.egg-info\ncopying hello.egg-info\\dependency_links.txt -&gt; hello-0.0.1\\hello.egg-info\ncopying hello.egg-info\\top_level.txt -&gt; hello-0.0.1\\hello.egg-info\nWriting hello-0.0.1\\setup.cfg\nCreating tar archive\nremoving 'hello-0.0.1' (and everything under it)\nrunning upload\nSubmitting dist\\hello-0.0.1.tar.gz to http://10.113.32.6:3141/admin/pypi/\nServer response (200): OK\n</code></pre></p> <p>\u53ef\u4ee5\u6253\u53ef\u7f51\u9875\u67e5\u770b\u7ed3\u679c: </p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#524","title":"5.2.4 \u9a8c\u8bc1\u81ea\u5b9a\u4e49\u5305","text":"<p>\u9a8c\u8bc1\u81ea\u5b9a\u4e49\u5305\u7684\u5b89\u88c5 <pre><code>pip3 --no-cache-dir install -i http://localhost:3141/admin/dev/+simple/  --trusted-host localhost hello==0.0.1\n</code></pre> \u9a8c\u8bc1\u81ea\u5b9a\u4e49\u5305\u7684\u4f7f\u7528\uff1a <pre><code>$ python\nPython 3.9.13 | packaged by conda-forge | (main, May 27 2022, 16:50:36) [MSC v.1\n929 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from hello import main\n&gt;&gt;&gt; main.foo()\nHello World\n&gt;&gt;&gt;\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#53","title":"5.3.\u540c\u7c7b\u6bd4\u8f83","text":"<ul> <li>pypi-server \u662f\u5b98\u65b9\u63a8\u8350\u7684\u4e00\u4e2a\u670d\u52a1\u5668\uff0c\u4f46\u4e3b\u8981\u7528\u505a\u4e0a\u4f20\u79c1\u6709\u5305\u3002\u4e0a\u4f20\u65b9\u4fbf\uff0c\u76f4\u63a5\u62f7\u8d1d\u5b89\u88c5\u5305\u5230\u6587\u4ef6\u5939\u5373\u53ef\u3002\u4f46\u76ee\u524d\u6ca1\u67e5\u5230\u7f13\u5b58\u5df2\u4e0b\u8f7d\u5305\u7684\u65b9\u6cd5\uff0c\u4f7f\u7528\u65f6\u548c\u5176\u4ed6\u6e90\u662f\u5e76\u5217\u5173\u7cfb\u3002</li> <li>bendersnatch \u529f\u80fd\u4e5f\u5f88\u5f3a\u5927\uff0c\u4f46\u4f1a\u628a\u6e90\u955c\u50cf\u7684\u5305\u5168\u90e8\u540c\u6b65\u5230\u672c\u5730\uff0c\u9700\u8981\u5927\u91cf\u5b58\u50a8\u7a7a\u95f4\u3002</li> <li>devpi \u4e0b\u8f7d\u6b21\u6570\u8d8a\u591a\uff0c\u7f13\u5b58\u547d\u4e2d\u7387\u8d8a\u9ad8\uff0c\u5b89\u88c5\u901f\u5ea6\u8d8a\u5feb\u3002</li> <li>\u66f4\u591a\u540c\u7c7b\u6bd4\u8f83\u53c2\u8003</li> </ul> <p>https://juejin.cn/post/6994380597535703053</p> <p>\u5177\u4f53\u6307\u4ee4\u53ef\u4ee5\u5728--help\u6216\u8005\u5b98\u7f51\u4e0a\u67e5\u770b\u6587\u6863\uff0c\u53ef\u4ee5\u89e3\u51b390%\u7684\u95ee\u9898\u3002help \u4e2d\u7684\u63cf\u8ff0\u5f88\u5168\uff0c\u4f46\u9700\u8981\u914d\u5408\u6587\u6863\u624d\u77e5\u9053\u5177\u4f53\u586b\u4ec0\u4e48\u3002\u5b98\u7f51\u6587\u6863\u5199\u7684\u5f88\u6709\u64cd\u4f5c\u6027\uff0c\u4f46\u591a\u5c11\u6f0f\u4e86\u7ec6\u8282\uff0c\u6700\u540e\u9700\u8981\u914d\u5408github\u7684\u4ee3\u7801\u770b\u3002\u603b\u7684\u6765\u8bf4\u633a\u597d\uff0c\u53ea\u7528\u4f5c\u7f13\u5b58\u670d\u52a1\u5668\u7ef0\u7ef0\u6709\u4f59\u4e86\u3002</p> <p>\u6b22\u8fce\u8bc4\u8bba\u533a\u8ba8\u8bba\u3001\u63d0\u51fa\u5efa\u8bae\u548c\u6307\u6b63\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/Pip%E7%A7%81%E6%9C%89%E6%BA%90.html#6","title":"6.\u53c2\u8003","text":"<ul> <li>http://doc.devpi.net/</li> <li>devpi/devpi: Python PyPi staging server and packaging, testing, release tool (github.com)</li> <li>devpi\u642d\u5efapip\u6e90\u670d\u52a1\u5668 - \u535a\u5ba2 - \u7f16\u7a0b\u5708 (bianchengquan.com)</li> <li>\u4f7f\u7528\u79c1\u6709\u7684PyPI\u4ed3\u5e93\u6e90\u7a81\u7834\u7f51\u7edc\u9650\u5236 \u2013 \u5317\u51c9\u67ff\u5b50 (beiliangshizi.com)</li> <li>\u4f7f\u7528devpi\u6765\u642d\u5efa\u7f13\u5b58\u955c\u50cf\u6e90\u670d\u52a1\u5668 (daimajiaoliu.com)</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/%E5%B8%B8%E7%94%A8%E7%9A%84Pip%E6%BA%90%E9%80%9F%E5%BA%A6%E6%B5%8B%E8%AF%95.html","title":"\u5e38\u7528\u7684Pip\u6e90\u901f\u5ea6\u6d4b\u8bd5","text":"<p>\u5e38\u7528\u7684 Pip \u79c1\u6709\u6e90:</p> <pre><code># \u8c46\u74e3(douban) \nhttps://pypi.douban.com/simple/\n\n# \u817e\u8baf\u4e91pip\u6e90\nhttps://mirrors.cloud.tencent.com/pypi/simple/\n\n# \u6e05\u534e\u5927\u5b66pip\u6e90\nhttps://pypi.tuna.tsinghua.edu.cn/simple/\n\n# \u4e2d\u56fd\u79d1\u6280\u5927\u5b66 \nhttps://pypi.mirrors.ustc.edu.cn/simple/\n\n# \u963f\u91cc\u4e91pip\u6e90\nhttps://mirrors.aliyun.com/pypi/simple/\n</code></pre> <p>\u4ee5 <code>Tensorflow</code> \u4e3a\u4f8b\uff0c\u6d4b\u8bd5\u5404\u4e2a\u6e90\u7684\u901f\u5ea6\u3002Python \u7248\u672c\u4e3a <code>3.6.8</code>, Pip \u7248\u672c\u4e3a: <code>21.3.1</code></p> <p>\u603b\u7ed3: \u4e0b\u8f7d\u901f\u5ea6, \u6e05\u534e\u5927\u5b66\u6e90\u2248\u4e2d\u56fd\u79d1\u6280\u5927\u5b66&gt;\u8c46\u74e3&gt;\u817e\u8baf\u4e91&gt;\u963f\u91cc\u4e91\u3002</p> <p>\u4f46\u662f\u6e05\u534e\u5927\u5b66 pip \u6e90\u548c\u4e2d\u56fd\u79d1\u6280\u5927\u5b66\u7684 pip \u6e90\u6709\u4e0b\u8f7d\u91cf\u9650\u5236\uff0c\u4e0b\u8f7d\u5305\u7684\u5927\u5c0f\u8d85\u8fc7\u4e86\u9650\u5236\uff0c\u4f1a\u5c01 IP \u5bfc\u81f4\u5b89\u88c5\u5931\u8d25\uff0c\u5982\u679c\u4e0b\u8f7d\u7684\u5305\u6bd4\u8f83\u5c0f\u53ef\u4ee5\u4f7f\u7528\u3002</p> <p>\u65e5\u5e38\u4f7f\u7528\u4e2d\uff0c\u8c46\u74e3\u6e90\u7684\u901f\u5ea6\u4e5f\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u6240\u4ee5\u6211\u4e00\u822c\u4f7f\u7528\u8c46\u74e3\u6e90\u3002</p> <p>\u5177\u4f53\u6d4b\u8bd5\u5982\u4e0b:</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/%E5%B8%B8%E7%94%A8%E7%9A%84Pip%E6%BA%90%E9%80%9F%E5%BA%A6%E6%B5%8B%E8%AF%95.html#_1","title":"\u6e05\u534e\u5927\u5b66\u6e90:","text":"<p>\u6d4b\u8bd5\u547d\u4ee4</p> <pre><code>time pip3 download --no-cache-dir Tensorflow -i https://pypi.tuna.tsinghua.edu.cn/simple/ -d /tmp/tuna\n</code></pre> <p>\u6d4b\u8bd5\u7ed3\u679c: \u6267\u884c\u7528\u65f6 18\u79d2, \u4f46\u662f\u5b89\u88c5\u5931\u8d25\u4e86, \u518d\u5feb\u4e5f\u6ca1\u6709\u7528.</p> <p></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/%E5%B8%B8%E7%94%A8%E7%9A%84Pip%E6%BA%90%E9%80%9F%E5%BA%A6%E6%B5%8B%E8%AF%95.html#_2","title":"\u963f\u91cc\u4e91:","text":"<p>\u6d4b\u8bd5\u547d\u4ee4</p> <pre><code>time pip3 download --no-cache-dir Tensorflow -i https://mirrors.aliyun.com/pypi/simple/ -d /tmp/aliyun\n</code></pre> <p>\u6d4b\u8bd5\u7ed3\u679c:    \u6267\u884c\u7528\u65f6 4\u520625\u79d2</p> <p></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/%E5%B8%B8%E7%94%A8%E7%9A%84Pip%E6%BA%90%E9%80%9F%E5%BA%A6%E6%B5%8B%E8%AF%95.html#_3","title":"\u817e\u8baf\u4e91:","text":"<p>\u6d4b\u8bd5\u547d\u4ee4:</p> <pre><code>time pip3 download --no-cache-dir Tensorflow -i https://mirrors.cloud.tencent.com/pypi/simple/ -d /tmp/tencent\n</code></pre> <p>\u6d4b\u8bd5\u7ed3\u679c:  \u6267\u884c\u7528\u65f6 1\u520628\u79d2</p> <p></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/%E5%B8%B8%E7%94%A8%E7%9A%84Pip%E6%BA%90%E9%80%9F%E5%BA%A6%E6%B5%8B%E8%AF%95.html#_4","title":"\u8c46\u74e3\u4e91","text":"<p>\u6d4b\u8bd5\u547d\u4ee4</p> <pre><code>time pip3 download --no-cache-dir Tensorflow -i https://pypi.douban.com/simple/ -d /tmp/douban\n</code></pre> <p>\u6d4b\u8bd5\u7ed3\u679c:  \u6267\u884c\u7528\u65f6 32\u79d2</p> <p></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/05_%E5%8C%85%E7%AE%A1%E7%90%86/pip%E6%BA%90/%E5%B8%B8%E7%94%A8%E7%9A%84Pip%E6%BA%90%E9%80%9F%E5%BA%A6%E6%B5%8B%E8%AF%95.html#_5","title":"\u4e2d\u56fd\u79d1\u6280\u5927\u5b66","text":"<p>\u6d4b\u8bd5\u547d\u4ee4</p> <pre><code>time pip3 download --no-cache-dir Tensorflow -i https://pypi.mirrors.ustc.edu.cn/simple/ -d /tmp/ustc\n</code></pre> <p>\u6d4b\u8bd5\u7ed3\u679c: \u6267\u884c\u7528\u65f620\u79d2,\u4f46\u662f\u4e5f\u5b89\u88c5\u5931\u8d25\u4e86</p> <p></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/06_%E5%BC%82%E6%AD%A5io/play.html","title":"Play","text":"In\u00a0[\u00a0]: Copied! <pre>\"\"\" \n@author: danerlt \n@file: play.py \n@time: 2024-03-22\n@contact: danerlt001@gmail.com\n@desc: \n\"\"\"\nimport time\n</pre> \"\"\"  @author: danerlt  @file: play.py  @time: 2024-03-22 @contact: danerlt001@gmail.com @desc:  \"\"\" import time In\u00a0[\u00a0]: Copied! <pre>def start_game_sync():\n    \"\"\"\u540c\u6b65\u6e38\u620f\"\"\"\n    players = []\n    rival_count = 24\n    stpes = 30\n    for i in range(rival_count):\n        player = f\"\u5bf9\u624b{i + 1}\"\n        players.append(player)\n    for player in players:\n\n        # \u5c0f\u660e\u7684\u65f6\u95f4\n        time.sleep(5)\n        # \u5bf9\u624b\u7b49\u5f85\u65f6\u95f4\n        time.sleep(55)\n</pre> def start_game_sync():     \"\"\"\u540c\u6b65\u6e38\u620f\"\"\"     players = []     rival_count = 24     stpes = 30     for i in range(rival_count):         player = f\"\u5bf9\u624b{i + 1}\"         players.append(player)     for player in players:          # \u5c0f\u660e\u7684\u65f6\u95f4         time.sleep(5)         # \u5bf9\u624b\u7b49\u5f85\u65f6\u95f4         time.sleep(55) In\u00a0[\u00a0]: Copied! <pre>if __name__ == \"__main__\":\n    start = time.time()\n    start_game_sync()\n    elapsed = time.time() - start\n    print(f\"\u540c\u6b65\u6e38\u620f\u603b\u8ba1\u7528\u65f6: {elapsed:.2f}\u79d2\")\n</pre> if __name__ == \"__main__\":     start = time.time()     start_game_sync()     elapsed = time.time() - start     print(f\"\u540c\u6b65\u6e38\u620f\u603b\u8ba1\u7528\u65f6: {elapsed:.2f}\u79d2\")"},{"location":"01_Python%E5%9F%BA%E7%A1%80/06_%E5%BC%82%E6%AD%A5io/%E5%BC%82%E6%AD%A5io.html","title":"\u5f02\u6b65io","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/06_%E5%BC%82%E6%AD%A5io/%E5%BC%82%E6%AD%A5io.html#_1","title":"\u57fa\u7840\u6982\u5ff5","text":"<p>\u5f02\u6b65 IO \u662f\u4e00\u79cd\u5e76\u53d1\u7f16\u7a0b\u8bbe\u8ba1\uff0c\u5df2\u5728 Python \u4e2d\u83b7\u5f97\u4e13\u95e8\u652f\u6301\uff0c\u4ece Python 3.4 \u5feb\u901f\u53d1\u5c55\u5230 3.7\uff0c\u751a\u81f3\u53ef\u80fd\u66f4\u9ad8\u3002</p> <p>\u9996\u5148\u8981\u7406\u89e3\u51e0\u4e2a\u6982\u5ff5\uff1a\u5f02\u6b65(Asynchronous)\uff0c\u540c\u6b65(Synchronous)\uff0c\u5e76\u53d1(concurrency)\uff0c\u5e76\u884c(parallelism)\uff0c\u7ebf\u7a0b(threading)\u548c\u591a\u8fdb\u7a0b(multiprocessing)\u3002</p> <ul> <li>\u540c\u6b65(Synchronous): \u6267\u884c\u591a\u4e2a\u4efb\u52a1\uff0c\u4efb\u52a1\u7684\u6267\u884c\u987a\u5e8f\u662f\u6709\u5e8f\u7684,\u524d\u4e00\u4e2a\u4efb\u52a1\u505a\u5b8c\u540e\u518d\u6267\u884c\u540e\u4e00\u4e2a\u4efb\u52a1\uff0c\u5f53\u524d\u4efb\u52a1\u7ed3\u675f\u4e4b\u524d,\u4e0d\u4f1a\u6267\u884c\u4e0b\u4e00\u4e2a\u4efb\u52a1\u3002</li> <li>\u5f02\u6b65(Asynchronous): \u6267\u884c\u591a\u4e2a\u4efb\u52a1\u65f6\uff0c\u4efb\u52a1\u6267\u884c\u987a\u5e8f\u662f\u4e0d\u56fa\u5b9a\u7684\uff0c\u591a\u4e2a\u4efb\u52a1\u53ef\u4ee5\u540c\u65f6\u6267\u884c\u800c\u4e0d\u9700\u8981\u6309\u987a\u5e8f\u7b49\u5f85\u3002</li> <li>\u5e76\u53d1(concurrency): \u540c\u4e00\u65f6\u95f4\u6bb5\u5904\u7406\u591a\u4e2a\u4efb\u52a1\uff0c\u5f3a\u8c03\u7684\u662f\u53ef\u4ee5\u8fd0\u884c\u591a\u4e2a\u4efb\u52a1\u3002\u5e76\u53d1\u7684\u6982\u5ff5\u66f4\u5e7f\u6cdb\uff0c\u5e76\u884c\u53ea\u662f\u662f\u5e76\u53d1\u4e2d\u7684\u4e00\u79cd\u60c5\u51b5\u3002</li> <li>\u5e76\u884c(parallelism): \u540c\u4e00\u65f6\u523b\u53ef\u4ee5\u6267\u884c\u591a\u4e2a\u4efb\u52a1\uff0c\u5f3a\u8c03\u662f\u540c\u4e00\u65f6\u523b\u3002\u5728Python\u4e2d\uff0c\u7531\u4e8eGIL\u7684\u5b58\u5728\uff0c\u591a\u8fdb\u7a0b\u662f\u5e38\u89c1\u7684\u4e00\u79cd\u5b9e\u73b0\u5e76\u53d1\u7684\u624b\u6bb5\u3002</li> <li>\u7ebf\u7a0b(threading): \u7ebf\u7a0b\u662f\u8fdb\u7a0b\u4e2d\u7684\u57fa\u672c\u6267\u884c\u5355\u5143,\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7ebf\u7a0b\u3002\u7ebf\u7a0b\u662f\u4e00\u79cd\u5e76\u53d1\u6267\u884c\u6a21\u578b\uff0c\u591a\u4e2a\u7ebf\u7a0b\u8f6e\u6d41\u6267\u884c\u4efb\u52a1\u3002\u7531\u4e8eGIL\u7684\u5b58\u5728\uff0c\u540c\u4e00\u65f6\u523b\uff0c\u4e00\u4e2aPython\u89e3\u91ca\u5668\u53ea\u5141\u8bb8\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u3002 \u5173\u4e8eGIL\u7684\u5177\u4f53\u53ef\u67e5\u770b\uff1a Python GIL\u3002\u7ebf\u7a0b\u66f4\u9002\u5408 IO \u5bc6\u96c6\u578b\u4efb\u52a1</li> <li>\u591a\u8fdb\u7a0b(multiprocessing): \u8fdb\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u8d44\u6e90\u5206\u914d\u7684\u57fa\u672c\u5355\u4f4d,\u6bcf\u4e2a\u8fdb\u7a0b\u6709\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u591a\u8fdb\u7a0b\u53ef\u4ee5\u5229\u7528\u591a\u6838CPU\u5b9e\u73b0\u771f\u6b63\u7684\u5e76\u884c\u8ba1\u7b97\u3002</li> </ul> <p></p> <p>\u603b\u7ed3\u4e00\u4e0b:</p> <p>\u540c\u6b65\u662f\u987a\u5e8f\u6267\u884c,\u5f02\u6b65\u662f\u4e0d\u9700\u8981\u7b49\u5f85\u7684\u6267\u884c\u65b9\u5f0f\u3002\u5e76\u53d1\u662f\u540c\u4e00\u65f6\u95f4\u6bb5\u6709\u591a\u4e2a\u4efb\u52a1\u6267\u884c,\u5e76\u884c\u662f\u540c\u4e00\u65f6\u523b\u6709\u591a\u4e2a\u4efb\u52a1\u6267\u884c\u3002\u591a\u7ebf\u7a0b\u53ef\u4ee5\u5b9e\u73b0\u5e76\u53d1\uff0c\u9002\u5408 IO \u5bc6\u96c6\u578b\u4efb\u52a1\u3002\u591a\u8fdb\u7a0b\u53ef\u4ee5\u5b9e\u73b0\u5e76\u884c\uff0c\u9002\u5408 CPU \u5bc6\u96c6\u578b\u4efb\u52a1\u3002</p> <p>\u4ecePython3.4\u5f00\u59cb\uff0cCPython \u4e2d\u66f4\u5168\u9762\u5730\u5185\u7f6e\u4e86\u4e00\u79cd\u5355\u72ec\u7684\u8bbe\u8ba1\uff1a\u5f02\u6b65 IO\uff0c\u901a\u8fc7\u6807\u51c6\u5e93\u7684 <code>`asyncio</code> \u5305\u4ee5\u53ca\u65b0\u7684 <code>async</code> \u548c <code>await</code> \u8bed\u8a00\u5173\u952e\u5b57\u3002</p> <p>Python \u6587\u6863\u5c06 <code>asyncio</code> \u5305\u89c6\u4e3a\u7f16\u5199\u5e76\u53d1\u4ee3\u7801\u7684\u5e93\u3002\u7136\u800c\uff0c\u5f02\u6b65IO\u4e0d\u662f\u7ebf\u7a0b\uff0c\u4e5f\u4e0d\u662f\u591a\u8fdb\u7a0b\u3002\u5b83\u4e0d\u662f\u5efa\u7acb\u5728\u8fd9\u4e24\u8005\u4e4b\u4e0a\u7684\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5f02\u6b65 IO \u662f\u4e00\u79cd\u5355\u7ebf\u7a0b\u3001\u5355\u8fdb\u7a0b\u8bbe\u8ba1\uff1a\u5b83\u4f7f\u7528\u534f\u4f5c\u5f0f\u591a\u4efb\u52a1\u5904\u7406(cooperative multitasking)\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5c3d\u7ba1\u5728\u5355\u4e2a\u8fdb\u7a0b\u4e2d\u4f7f\u7528\u5355\u4e2a\u7ebf\u7a0b\uff0c\u5f02\u6b65 IO \u4ecd\u7ed9\u4eba\u4e00\u79cd\u5e76\u53d1\u7684\u611f\u89c9\u3002\u534f\u7a0b(Coroutines: Co-routine \u534f\u4f5c\u7684\u7a0b\u5e8f)\uff08\u5f02\u6b65 IO \u7684\u6838\u5fc3\u529f\u80fd\uff09\u53ef\u4ee5\u5e76\u53d1\u8c03\u5ea6\uff0c\u4f46\u5b83\u4eec\u672c\u8d28\u4e0a\u5e76\u4e0d\u662f\u540c\u65f6\u6267\u884c\u7684\u3002</p> <p>\u5f02\u6b65 IO \u662f\u4e00\u79cd\u5e76\u53d1(concurrency)\u7f16\u7a0b\u98ce\u683c\uff0c\u4f46\u5b83\u4e0d\u662f\u5e76\u884c(parallelism)\u3002\u5bf9\u6bd4\u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\uff0c\u5f02\u6b65 IO \u548c\u591a\u7ebf\u7a0b\u66f4\u63a5\u8fd1\uff0c\u4f46\u4e0e\u8fd9\u4e24\u8005\u6709\u5f88\u5927\u4e0d\u540c\uff0c\u662f\u5e76\u53d1\u6280\u672f\u4e2d\u7684\u4e00\u4e2a\u5355\u72ec\u7684\u6280\u672f\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/06_%E5%BC%82%E6%AD%A5io/%E5%BC%82%E6%AD%A5io.html#io_1","title":"\u5f02\u6b65 IO \u89e3\u91ca","text":"<p>\u5f02\u6b65 IO \u4e4d\u4e00\u770b\u53ef\u80fd\u8fdd\u53cd\u76f4\u89c9\u4e14\u81ea\u76f8\u77db\u76fe\u3002\u600e\u4e48\u53ef\u80fd\u4f7f\u7528\u5355\u7ebf\u7a0b\u548c\u5355 CPU \u6838\u5fc3\u5e76\u53d1\u7684\u6267\u884c\u4ee3\u7801\uff1f</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <p>\u8c61\u68cb\u5927\u5e08\u5c0f\u660e\u4e3e\u529e\u4e86\u4e00\u4e2a\u8c61\u68cb\u6bd4\u8d5b\uff0c\u4ed6\u548c\u591a\u4e2a\u4e1a\u4f59\u68cb\u624b\u8fdb\u884c\u6bd4\u8d5b\u3002\u4ed6\u8fdb\u884c\u6bd4\u8d5b\u6709\u540c\u6b65\u548c\u5f02\u6b65\u4e24\u79cd\u65b9\u6cd5\u3002</p> <p>\u5047\u8bbe\uff1a  1. \u6709 24 \u4e2a\u5bf9\u624b 2. \u5c0f\u660e\u5728 5 \u79d2\u5185\u53ef\u4ee5\u5b8c\u6210\u4e00\u6b65\u68cb 3. \u5176\u4ed6\u4eba\u9700\u8981\u5728 55 \u79d2\u5185\u5b8c\u6210\u8d70\u68cb 4. \u6e38\u620f\u5e73\u5747 30 \u6b65\uff08\u4e00\u4e2a\u4eba\u8d7030\u6b65\uff0c\u4e24\u4e2a\u4eba\u603b\u517160\u6b65\uff09</p> <p>\u540c\u6b65\u7684\u65b9\u5f0f\uff1a</p> <p>\u5c0f\u660e\u4e00\u6b21\u73a9\u4e00\u5c40\uff0c\u6bcf\u5c40\u7ed3\u675f\u540e\uff0c\u5c0f\u660e\u518d\u63a5\u7740\u4e0b\u4e00\u5c40\uff0c\u76f4\u5230\u6240\u6709\u5bf9\u624b\u90fd\u5b8c\u6210\u6bd4\u8d5b\u3002 <pre><code># \u4e00\u5c40\u6bd4\u8d5b\u7684\u6267\u884c\u65f6\u95f4\u4e3a\uff1a\n# \u5c0f\u660e\u8d70\u7684\u65f6\u95f4 + \u5bf9\u624b\u8d70\u7684\u65f6\u95f4\n5 + 55 = 60 \u79d2\n\u4e00\u5c40\u6bd4\u8d5b\u7684\u65f6\u95f4\u4e3a\n30 * 60 = 1800 \u79d2 = 30 \u5206\u949f\n# \u5b8c\u6210\u6240\u6709\u6bd4\u8d5b\u7684\u65f6\u95f4\uff1a\n24 * 30 = 720 \u5206\u949f = 12 \u5c0f\u65f6\n</code></pre></p> <p>\u5f02\u6b65\u7684\u65b9\u5f0f\uff1a</p> <p>\u5c0f\u660e\u548c\u4e00\u540d\u68cb\u624b\u4e0b\u5b8c\u5c31\u63a5\u7740\u548c\u53e6\u4e00\u540d\u68cb\u624b\u4e0b\uff0c\u5ffd\u7565\u5207\u6362\u5bf9\u624b\u7684\u65f6\u95f4\u3002</p> <pre><code># \u5c0f\u660e\u548c\u6240\u6709\u5bf9\u624b\u8d70\u5b8c\u4e00\u6b65\u7684\u65f6\u95f4\u4e3a\uff1a\n24 * 5 = 120 \u79d2\n# \u6574\u4e2a\u6bd4\u8d5b\u7ed3\u675f\u9700\u8981\u5c0f\u660e\u8d7030\u6b65, \u5b8c\u6210\u6240\u6709\u6bd4\u8d5b\u7684\u65f6\u95f4\uff1a\n120 * 30 + 55 = 3655 \u79d2  # 1\u4e2a\u5c0f\u65f6\u591a\u4e00\u70b9\n# \u6700\u540e\u768455\u79d2\u662f\u6700\u540e\u4e00\u4e2a\u5bf9\u624b\u6700\u540e\u4e00\u6b65\u7684\u8d70\u68cb\u65f6\u95f4\n</code></pre> <p>\u7c7b\u6bd4\u5230\u591a\u8fdb\u7a0b\u548c\u591a\u7ebf\u7a0b\u4e2d\uff0c\u5c0f\u660e\u53ea\u6709\u4e00\u4e2a\u4eba\uff0c\u8868\u793a\u662f\u4e00\u4e2a\u5355\u8fdb\u7a0b\uff0c\u5c0f\u660e\u4e00\u6b21\u53ea\u80fd\u8d70\u4e00\u6b65\u68cb\uff0c\u8fd9\u5c31\u662f\u4e00\u4e2a\u5355\u7ebf\u7a0b\u3002\u4f46\u662f\u901a\u8fc7\u5f02\u6b65\u7684\u65b9\u5f0f\uff0c\u5c06\u6bd4\u8d5b\u65f6\u95f4\u4ece 7 \u4e2a\u5c0f\u65f6\u7f29\u77ed\u5230\u4e86 1 \u4e2a\u5c0f\u65f6\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/06_%E5%BC%82%E6%AD%A5io/%E5%BC%82%E6%AD%A5io.html#async_await_coroutines","title":"async / await \u548c\u534f\u7a0b(Coroutines)","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/06_%E5%BC%82%E6%AD%A5io/%E5%BC%82%E6%AD%A5io.html#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Python \u5b98\u65b9\u6587\u6863\uff1a\u5f02\u6b65 I/O</li> <li>RealPython: Async IO in Python</li> <li>\u4e00\u6587\u4e3a\u4f60\u8bb2\u89e3\u6e05\u695a\u5e76\u53d1\uff0c\u540c\u6b65\uff0c\u5f02\u6b65\uff0c\u4e92\u65a5\uff0c\u963b\u585e\uff0c\u975e\u963b\u585e</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/05_%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/os.html","title":"Python\u6807\u51c6\u5e93os\u5e93\u7528\u6cd5","text":"<p><code>os</code>\u6a21\u5757\u63d0\u4f9b\u4e86\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u4ea4\u4e92\u7684\u5404\u79cd\u51fd\u6570\u548c\u65b9\u6cd5\uff0c\u5305\u62ec\u6587\u4ef6\u7cfb\u7edf\u3001\u8fdb\u7a0b\u7ba1\u7406\u3001\u73af\u5883\u53d8\u91cf\u3001\u65f6\u95f4\u7b49\u5404\u4e2a\u90e8\u5206\u3002\u4ee5\u4e0b\u662f\u5217\u51fa\u7684<code>os</code>\u6a21\u5757\u5e38\u7528\u51fd\u6570</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/05_%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/os.html#_1","title":"\u73af\u5883\u53d8\u91cf","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/05_%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/os.html#_2","title":"\u6587\u4ef6\u7ba1\u7406","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/05_%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/os.html#_3","title":"\u8fdb\u7a0b\u7ba1\u7406","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/05_%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/os.html#_4","title":"\u53c2\u8003\u6587\u6863","text":"<ul> <li>Python\u6807\u51c6\u5e93os\u6a21\u5757</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/05_%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/pathlib.html","title":"pathlib\u5e93\u7528\u6cd5","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/09_%E7%BD%91%E7%BB%9C/socketserver.html","title":"socketserver\u6a21\u5757","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/09_%E7%BD%91%E7%BB%9C/socketserver.html#_1","title":"\u4ecb\u7ecd","text":"<p>socketserver \u6a21\u5757\u7b80\u5316\u4e86\u7f16\u5199\u7f51\u7edc\u670d\u52a1\u5668\u7684\u4efb\u52a1\u3002</p> <p>\u8be5\u6a21\u5757\u5177\u6709\u56db\u4e2a\u57fa\u7840\u5b9e\u4f53\u670d\u52a1\u5668\u7c7b:</p> <ul> <li> <p>class socketserver.TCPServer(server_address, RequestHandlerClass, bind_and_activate=True) \u8be5\u7c7b\u4f7f\u7528\u4e92\u8054\u7f51 TCP \u534f\u8bae\uff0c\u5b83\u53ef\u4ee5\u63d0\u4f9b\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u8fde\u7eed\u6570\u636e\u6d41\u3002 \u5982\u679c bind_and_activate \u4e3a\u771f\u503c\uff0c\u8be5\u7c7b\u7684\u6784\u9020\u5668\u4f1a\u81ea\u52a8\u5c1d\u8bd5\u53d1\u8d77\u8c03\u7528 server_bind() \u548c server_activate()\u3002 \u5176\u4ed6\u5f62\u53c2\u4f1a\u88ab\u4f20\u9012\u7ed9 BaseServer \u57fa\u7c7b\u3002</p> </li> <li> <p>class socketserver.UDPServer(server_address, RequestHandlerClass, bind_and_activate=True) \u8be5\u7c7b\u4f7f\u7528\u6570\u636e\u5305\uff0c\u5373\u4e00\u7cfb\u5217\u79bb\u6563\u7684\u4fe1\u606f\u5206\u5305\uff0c\u5b83\u4eec\u53ef\u80fd\u4f1a\u65e0\u5e8f\u5730\u5230\u8fbe\u6216\u5728\u4f20\u8f93\u4e2d\u4e22\u5931\u3002 \u8be5\u7c7b\u7684\u5f62\u53c2\u4e0e TCPServer \u7684\u76f8\u540c\u3002</p> </li> <li> <p>class socketserver.UnixStreamServer(server_address, RequestHandlerClass, bind_and_activate=True)</p> </li> <li>class socketserver.UnixDatagramServer(server_address, RequestHandlerClass, bind_and_activate=True) \u8fd9\u4e24\u4e2a\u66f4\u5e38\u7528\u7684\u7c7b\u4e0e TCP \u548c UDP \u7c7b\u76f8\u4f3c\uff0c\u4f46\u4f7f\u7528 Unix \u57df\u5957\u63a5\u5b57\uff1b\u5b83\u4eec\u5728\u975e Unix \u7cfb\u7edf\u5e73\u53f0\u4e0a\u4e0d\u53ef\u7528\u3002 \u5b83\u4eec\u7684\u5f62\u53c2\u4e0e TCPServer \u7684\u76f8\u540c\u3002</li> </ul> <p>\u8fd9\u56db\u4e2a\u7c7b\u4f1a \u540c\u6b65\u5730 \u5904\u7406\u8bf7\u6c42\uff1b\u6bcf\u4e2a\u8bf7\u6c42\u5fc5\u987b\u5b8c\u6210\u624d\u80fd\u5f00\u59cb\u4e0b\u4e00\u4e2a\u8bf7\u6c42\u3002 \u8fd9\u5c31\u4e0d\u9002\u7528\u4e8e\u6bcf\u4e2a\u8bf7\u6c42\u8981\u8017\u8d39\u5f88\u957f\u65f6\u95f4\u6765\u5b8c\u6210\u7684\u60c5\u51b5\uff0c\u6216\u8005\u56e0\u4e3a\u5b83\u9700\u8981\u5927\u91cf\u7684\u8ba1\u7b97\uff0c\u53c8\u6216\u8005\u5b83\u8fd4\u56de\u4e86\u5927\u91cf\u7684\u6570\u636e\u800c\u5ba2\u6237\u7aef\u5904\u7406\u8d77\u6765\u5f88\u7f13\u6162\u3002 \u89e3\u51b3\u65b9\u6848\u662f\u521b\u5efa\u5355\u72ec\u7684\u8fdb\u7a0b\u6216\u7ebf\u7a0b\u6765\u5904\u7406\u6bcf\u4e2a\u8bf7\u6c42\uff1bForkingMixIn \u548c ThreadingMixIn \u6df7\u5408\u7c7b\u53ef\u4ee5\u88ab\u7528\u4e8e\u652f\u6301\u5f02\u6b65\u884c\u4e3a\u3002</p> <p>\u521b\u5efa\u4e00\u4e2a\u670d\u52a1\u5668\u9700\u8981\u5206\u51e0\u4e2a\u6b65\u9aa4\u8fdb\u884c\u3002 \u9996\u5148\uff0c\u4f60\u5fc5\u987b\u901a\u8fc7\u5b50\u7c7b\u5316 BaseRequestHandler \u7c7b\u5e76\u91cd\u8f7d\u5176 handle() \u65b9\u6cd5\u6765\u521b\u5efa\u4e00\u4e2a\u8bf7\u6c42\u5904\u7406\u53e5\u67c4\u7c7b\uff1b\u8fd9\u4e2a\u65b9\u6cd5\u5c06\u5904\u7406\u4f20\u5165\u7684\u8bf7\u6c42\u3002 \u5176\u6b21\uff0c\u4f60\u5fc5\u987b\u5b9e\u4f8b\u5316\u67d0\u4e2a\u670d\u52a1\u5668\u7c7b\uff0c\u5c06\u670d\u52a1\u5668\u5730\u5740\u548c\u8bf7\u6c42\u5904\u7406\u53e5\u67c4\u7c7b\u4f20\u7ed9\u5b83\u3002 \u5efa\u8bae\u5728 with \u8bed\u53e5\u4e2d\u4f7f\u7528\u8be5\u670d\u52a1\u5668\u3002 \u7136\u540e\u518d\u8c03\u7528\u670d\u52a1\u5668\u5bf9\u8c61\u7684 handle_request() \u6216 serve_forever() \u65b9\u6cd5\u6765\u5904\u7406\u4e00\u4e2a\u6216\u591a\u4e2a\u8bf7\u6c42\u3002 \u6700\u540e\uff0c\u8c03\u7528 server_close() \u6765\u5173\u95ed\u5957\u63a5\u5b57\uff08\u9664\u975e\u4f60\u4f7f\u7528\u4e86 with \u8bed\u53e5\uff09\u3002</p> <p>\u5f53\u4ece ThreadingMixIn \u7ee7\u627f\u7ebf\u7a0b\u8fde\u63a5\u884c\u4e3a\u65f6\uff0c\u4f60\u5e94\u5f53\u663e\u5f0f\u5730\u58f0\u660e\u4f60\u5e0c\u671b\u5728\u7a81\u7136\u5173\u673a\u65f6\u4f60\u7684\u7ebf\u7a0b\u91c7\u53d6\u4f55\u79cd\u884c\u4e3a\u3002 ThreadingMixIn \u7c7b\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5c5e\u6027 daemon_threads\uff0c\u5b83\u6307\u660e\u670d\u52a1\u5668\u662f\u5426\u5e94\u5f53\u7b49\u5f85\u7ebf\u7a0b\u7ec8\u6b62\u3002 \u5982\u679c\u4f60\u5e0c\u671b\u7ebf\u7a0b\u80fd\u81ea\u4e3b\u884c\u52a8\u4f60\u5e94\u5f53\u663e\u5f0f\u5730\u8bbe\u7f6e\u8fd9\u4e2a\u65d7\u6807\uff1b\u9ed8\u8ba4\u503c\u4e3a False\uff0c\u8868\u793a Python \u5c06\u4e0d\u4f1a\u5728 ThreadingMixIn \u6240\u521b\u5efa\u7684\u6240\u6709\u7ebf\u7a0b\u90fd\u9000\u51fa\u4e4b\u524d\u9000\u51fa\u3002</p> <p>\u670d\u52a1\u5668\u7c7b\u5177\u6709\u540c\u6837\u7684\u5916\u90e8\u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u65e0\u8bba\u5b83\u4eec\u4f7f\u7528\u54ea\u79cd\u7f51\u7edc\u534f\u8bae\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/09_%E7%BD%91%E7%BB%9C/socketserver.html#tcpserver","title":"TCPServer\u6837\u4f8b","text":"<p>\u89c1\u4ee3\u7801 https://github.com/danerlt/memo/tree/main/python/network-demo</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/09_%E7%BD%91%E7%BB%9C/socketserver.html#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>socketserver --- \u7528\u4e8e\u7f51\u7edc\u670d\u52a1\u5668\u7684\u6846\u67b6        :param server: \u670d\u52a1\u7aef         :param result_queue: \u7ed3\u679c\u961f\u5217          \"\"\"         self.request = request         self.client_address = client_address         self.server = server         self.result_queue = result_queue</p> <pre><code>    log.info(f\"\u8fde\u63a5\u5230\u5ba2\u6237\u7aef: {self.client_address}\")\n    self.setup()\n    try:\n        self.handle()\n    finally:\n        self.finish()\n\ndef setup(self):\n    pass\n\ndef handle(self):\n    log.info(\"handle \u5904\u7406\")\n    # \u8fd9\u91cc\u5fc5\u987b\u963b\u585e \u5426\u5219\u4f1a\u5bfc\u81f4handle_request\u7ebf\u7a0b\u8fd8\u6ca1\u542f\u52a8\u5c31\u6267\u884c\u4e86shutdown_request\u5c06request\u5173\u95ed\u4e86\u3002\n    self.handle_request()\n\ndef finish(self):\n    pass\n\ndef handle_request(self):\n    while True:\n        try:\n            # \u5f00\u59cb\u63a5\u53d7\u6570\u636e\n            data = self.request.recv(1024)\n            if not data:\n                continue\n            log.info(f\"\u670d\u52a1\u7aef\u6536\u5230\u6570\u636e: {data}\")\n            log.info(f\"\u670d\u52a1\u7aef\u6536\u5230\u6570\u636e: type(data): {type(data)}\")\n            self.result_queue.put(data)\n        except OSError:\n            trace_log.info(\"\u5ba2\u6237\u7aef\u65ad\u5f00\u8fde\u63a5\")\n            break\n        except Exception as e:\n            trace_log.error(f\"\u670d\u52a1\u7aef\u63a5\u6536\u6570\u636e\u5f02\u5e38: {e}\")\n            break\n</code></pre> <p>class MyTcpServer(socketserver.ThreadingTCPServer):</p> <pre><code>def __init__(self, server_address, RequestHandlerClass, result_queue=None):\n    super().__init__(server_address, RequestHandlerClass)\n    self.result_queue = result_queue\n\ndef finish_request(self, request, client_address):\n    \"\"\"Finish one request by instantiating RequestHandlerClass.\"\"\"\n    self.RequestHandlerClass(request, client_address, self, result_queue=self.result_queue)\n</code></pre> <p>def main():  HOST, PORT = \"localhost\", 9999</p> <pre><code>queue = Queue()\n# Create the server, binding to localhost on port 9999\nwith MyTcpServer((HOST, PORT), MyRequestHandler) as server:\n    # Activate the server; this will keep running until you\n    # interrupt the program with Ctrl-C\n    server.serve_forever()\n</code></pre> <p>if name == \"main\":     main()</p> <pre><code>## \u53c2\u8003\u94fe\u63a5\n\n[socketserver --- \u7528\u4e8e\u7f51\u7edc\u670d\u52a1\u5668\u7684\u6846\u67b6](https://docs.python.org/zh-cn/3/library/socketserver.html)\n    # Create the server, binding to localhost on port 9999\n    with MyTcpServer((HOST, PORT), MyRequestHandler) as server:\n        # Activate the server; this will keep running until you\n        # interrupt the program with Ctrl-C\n        server.serve_forever()\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/09_%E7%BD%91%E7%BB%9C/socketserver.html#_3","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>socketserver --- \u7528\u4e8e\u7f51\u7edc\u670d\u52a1\u5668\u7684\u6846\u67b6</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/13_%E5%85%B6%E4%BB%96/dis.html","title":"dis Python \u5b57\u8282\u7801\u53cd\u6c47\u7f16\u5668","text":"<p>\u7528\u6cd5\u5982\u4e0b\uff1a</p> <p>\u793a\u4f8b\uff1a\u7ed9\u5b9a\u51fd\u6570 myfunc():</p> In\u00a0[1]: Copied! <pre>def myfunc(alist):\n    return len(alist)\n</pre> def myfunc(alist):     return len(alist) <p>\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u663e\u793a myfunc() \u7684\u53cd\u6c47\u7f16\uff1a</p> In\u00a0[4]: Copied! <pre>import dis\ndis.dis(myfunc)\n</pre> import dis dis.dis(myfunc) <pre>  2           0 LOAD_GLOBAL              0 (len)\n              2 LOAD_FAST                0 (alist)\n              4 CALL_FUNCTION            1\n              6 RETURN_VALUE\n</pre> <p>\u6216\u8005\u4f7f\u7528<code>python -m dis [-h] [infile]</code>\u67e5\u770b\u5bf9\u5e94\u6587\u4ef6\u7684\u5b57\u8282\u7801</p> <p>Dis\u7684\u7ed3\u679c\u5176\u5b9e\u5f88\u5bb9\u6613\u9605\u8bfb\uff1a</p> <ul> <li>\u7b2c\u4e00\u5217\uff1a\u5bf9\u5e94\u7684\u6e90\u4ee3\u7801\u884c\u6570\u3002</li> <li>\u7b2c\u4e8c\u5217\uff1a\u5bf9\u5e94\u7684\u5185\u5b58\u5b57\u8282\u7801\u7684\u7d22\u5f15\u4f4d\u7f6e\u3002\u5728\u7b2c\u4e00\u5217\u548c\u7b2c\u4e8c\u5217\u4e4b\u95f4\u7684 <code>&gt;&gt;</code> \u53f7\u8868\u793a\u8df3\u8f6c\u7684\u76ee\u6807</li> <li>\u7b2c\u4e09\u5217\uff1a\u5b57\u8282\u7801\uff08opcode\uff09\u3002</li> <li>\u7b2c\u56db\u5217\uff1a\u5b57\u8282\u7801\uff08opcode\uff09\u5bf9\u5e94\u7684\u53c2\u6570\u3002</li> <li>\u7b2c\u4e94\u5217\uff1a\u4eba\u7c7b\u53ef\u8bfb\u7684\u53c2\u6570\u3002</li> </ul> <p>\u89e3\u91ca\u5668\u6808\u79f0\u4e3a STACK \u5e76\u50cf\u63cf\u8ff0 Python \u5217\u8868\u4e00\u6837\u63cf\u8ff0\u5bf9\u5b83\u7684\u64cd\u4f5c\u3002 \u6808\u9876\u5bf9\u5e94\u4e8e\u8be5\u8bed\u8a00\u4e2d\u7684 STACK[-1]\u3002</p> In\u00a0[8]: Copied! <pre>dis.dis(\"a=1;b=1\")\n</pre> dis.dis(\"a=1;b=1\") <pre>  1           0 LOAD_CONST               0 (1)\n              2 STORE_NAME               0 (a)\n              4 LOAD_CONST               0 (1)\n              6 STORE_NAME               1 (b)\n              8 LOAD_CONST               1 (None)\n             10 RETURN_VALUE\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/13_%E5%85%B6%E4%BB%96/dis.html#dis-python","title":"dis Python \u5b57\u8282\u7801\u53cd\u6c47\u7f16\u5668\u00b6","text":"<p>\u6ce8\u610f\uff1a\u5b57\u8282\u7801\u662f CPython \u89e3\u91ca\u5668\u7684\u5b9e\u73b0\u7ec6\u8282\uff0c\u4e0d\u540c\u7684 CPython \u53ef\u80fd\u5b9e\u73b0\u7ec6\u8282\u4e0d\u4e00\u6837\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/13_%E5%85%B6%E4%BB%96/dis.html","title":"\u5e38\u89c1\u5b57\u8282\u7801\u8bf4\u660e\u00b6","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/13_%E5%85%B6%E4%BB%96/profile.html","title":"Python \u6027\u80fd\u5206\u6790\u5668","text":"<p>\u6027\u80fd\u5206\u6790\u5668\u7b80\u4ecb cProfile \u548c profile \u63d0\u4f9b\u4e86 Python \u7a0b\u5e8f\u7684 \u786e\u5b9a\u6027\u6027\u80fd\u5206\u6790 \u3002 profile \u662f\u4e00\u7ec4\u7edf\u8ba1\u6570\u636e\uff0c\u63cf\u8ff0\u7a0b\u5e8f\u7684\u5404\u4e2a\u90e8\u5206\u6267\u884c\u7684\u9891\u7387\u548c\u65f6\u95f4\u3002\u8fd9\u4e9b\u7edf\u8ba1\u6570\u636e\u53ef\u4ee5\u901a\u8fc7 pstats \u6a21\u5757\u683c\u5f0f\u5316\u4e3a\u62a5\u8868\u3002</p> <p>Python \u6807\u51c6\u5e93\u63d0\u4f9b\u4e86\u540c\u4e00\u5206\u6790\u63a5\u53e3\u7684\u4e24\u79cd\u4e0d\u540c\u5b9e\u73b0\uff1a</p> <p>\u5bf9\u4e8e\u5927\u591a\u6570\u7528\u6237\uff0c\u5efa\u8bae\u4f7f\u7528 cProfile \uff1b\u8fd9\u662f\u4e00\u4e2a C \u6269\u5c55\u63d2\u4ef6\uff0c\u56e0\u4e3a\u5176\u5408\u7406\u7684\u8fd0\u884c\u5f00\u9500\uff0c\u6240\u4ee5\u9002\u5408\u4e8e\u5206\u6790\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u7a0b\u5e8f\u3002\u8be5\u63d2\u4ef6\u57fa\u4e8e lsprof \uff0c\u7531 Brett Rosen \u548c Ted Chaotter \u8d21\u732e\u3002</p> <p>profile \u662f\u4e00\u4e2a\u7eaf Python \u6a21\u5757\uff08cProfile \u5c31\u662f\u6a21\u62df\u5176\u63a5\u53e3\u7684 C \u8bed\u8a00\u5b9e\u73b0\uff09\uff0c\u4f46\u5b83\u4f1a\u663e\u8457\u589e\u52a0\u914d\u7f6e\u7a0b\u5e8f\u7684\u5f00\u9500\u3002\u5982\u679c\u4f60\u6b63\u5728\u5c1d\u8bd5\u4ee5\u67d0\u79cd\u65b9\u5f0f\u6269\u5c55\u5206\u6790\u5668\uff0c\u5219\u4f7f\u7528\u6b64\u6a21\u5757\u53ef\u80fd\u4f1a\u66f4\u5bb9\u6613\u5b8c\u6210\u4efb\u52a1\u3002\u8be5\u6a21\u5757\u6700\u521d\u7531 Jim Roskind \u8bbe\u8ba1\u548c\u7f16\u5199\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/13_%E5%85%B6%E4%BB%96/profile.html#_1","title":"\u4f7f\u7528\u793a\u4f8b","text":"<p>\u8981\u5206\u6790\u91c7\u7528\u5355\u4e2a\u53c2\u6570\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a <pre><code>import cProfile\nimport re\ncProfile.run('re.compile(\"foo|bar\")')\n</code></pre> \u4e0a\u8ff0\u64cd\u4f5c\u5c06\u8fd0\u884c <code>re.compile()</code> \u5e76\u6253\u5370\u5206\u6790\u7ed3\u679c\uff0c\u5982\u4e0b\u6240\u793a\uff1a <pre><code>   214 function calls (207 primitive calls) in 0.002 seconds\n\nOrdered by: cumulative time\n\nncalls  tottime  percall  cumtime  percall filename:lineno(function)\n     1    0.000    0.000    0.002    0.002 {built-in method builtins.exec}\n     1    0.000    0.000    0.001    0.001 &lt;string&gt;:1(&lt;module&gt;)\n     1    0.000    0.000    0.001    0.001 __init__.py:250(compile)\n     1    0.000    0.000    0.001    0.001 __init__.py:289(_compile)\n     1    0.000    0.000    0.000    0.000 _compiler.py:759(compile)\n     1    0.000    0.000    0.000    0.000 _parser.py:937(parse)\n     1    0.000    0.000    0.000    0.000 _compiler.py:598(_code)\n     1    0.000    0.000    0.000    0.000 _parser.py:435(_parse_sub)\n</code></pre> \u7b2c\u4e00\u884c\u8868\u793a\u5171\u76d1\u63a7\u4e86214\u4e2a\u51fd\u6570\u8c03\u7528\u3002\u5176\u4e2d207\u4e2a\u662f\u539f\u59cb\u7684\uff0c\u5373\u8be5\u8c03\u7528\u4e0d\u662f\u901a\u8fc7\u9012\u5f52\u8c03\u7528\u5f15\u8d77\u7684\u3002 \u4e0b\u4e00\u884c\uff1a\u6309\u7d2f\u8ba1\u65f6\u95f4\u6392\u5e8f\uff0c\u8868\u793a\u6700\u53f3\u4fa7\u5217\u4e2d\u7684\u6587\u672c\u5b57\u7b26\u4e32\u88ab\u7528\u4e8e\u5bf9\u8f93\u51fa\u8fdb\u884c\u6392\u5e8f\u3002\u5217\u6807\u9898\u5305\u62ec\uff1a</p> <ul> <li>ncalls: \u8c03\u7528\u6b21\u6570</li> <li>tottime: \u5728\u6307\u5b9a\u51fd\u6570\u4e2d\u6d88\u8017\u7684\u603b\u65f6\u95f4\uff08\u4e0d\u5305\u62ec\u8c03\u7528\u5b50\u51fd\u6570\u7684\u65f6\u95f4\uff09</li> <li>percall: \u662f tottime \u9664\u4ee5 ncalls \u7684\u5546</li> <li>cumtime: \u6307\u5b9a\u7684\u51fd\u6570\u53ca\u5176\u6240\u6709\u5b50\u51fd\u6570\uff08\u4ece\u8c03\u7528\u5230\u9000\u51fa\uff09\u6d88\u8017\u7684\u7d2f\u79ef\u65f6\u95f4\u3002\u8fd9\u4e2a\u6570\u5b57\u5bf9\u4e8e\u9012\u5f52\u51fd\u6570\u6765\u8bf4\u662f\u51c6\u786e\u7684\u3002</li> <li>percall: \u662f cumtime \u9664\u4ee5\u539f\u59cb\u8c03\u7528\uff08\u6b21\u6570\uff09\u7684\u5546\uff08\u5373\uff1a\u51fd\u6570\u8fd0\u884c\u4e00\u6b21\u7684\u5e73\u5747\u65f6\u95f4\uff09</li> <li>filename:lineno(function): \u63d0\u4f9b\u76f8\u5e94\u6570\u636e\u7684\u6bcf\u4e2a\u51fd\u6570</li> </ul> <p>\u5982\u679c\u7b2c\u4e00\u5217\u4e2d\u6709\u4e24\u4e2a\u6570\u5b57\uff08\u4f8b\u59823/1\uff09\uff0c\u5219\u8868\u793a\u51fd\u6570\u9012\u5f52\u3002\u7b2c\u4e8c\u4e2a\u503c\u662f\u539f\u59cb\u8c03\u7528\u6b21\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u8c03\u7528\u7684\u603b\u6b21\u6570\u3002\u8bf7\u6ce8\u610f\uff0c\u5f53\u51fd\u6570\u4e0d\u9012\u5f52\u65f6\uff0c\u8fd9\u4e24\u4e2a\u503c\u662f\u76f8\u540c\u7684\uff0c\u5e76\u4e14\u53ea\u6253\u5370\u5355\u4e2a\u6570\u5b57\u3002</p> <p>profile \u8fd0\u884c\u7ed3\u675f\u65f6\uff0c\u6253\u5370\u8f93\u51fa\u4e0d\u662f\u5fc5\u987b\u7684\u3002\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4e3a run() \u51fd\u6570\u6307\u5b9a\u6587\u4ef6\u540d\uff0c\u5c06\u7ed3\u679c\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff1a <pre><code>import cProfile\nimport re\ncProfile.run('re.compile(\"foo|bar\")', 'restats')\n</code></pre> pstats.Stats \u7c7b\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6 profile \u7ed3\u679c\uff0c\u5e76\u4ee5\u5404\u79cd\u65b9\u5f0f\u5bf9\u5176\u8fdb\u884c\u683c\u5f0f\u5316\u3002</p> <p>cProfile \u548c profile \u6587\u4ef6\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u811a\u672c\u8c03\u7528\uff0c\u4ee5\u5206\u6790\u53e6\u4e00\u4e2a\u811a\u672c\u3002\u4f8b\u5982\uff1a</p> <pre><code>python -m cProfile [-o output_file] [-s sort_order] (-m module | myscript.py)\n</code></pre> <p><code>-o</code> \u5c06<code>profile</code> \u7ed3\u679c\u5199\u5165\u6587\u4ef6\u800c\u4e0d\u662f\u6807\u51c6\u8f93\u51fa <code>-s</code> \u6307\u5b9a <code>sort_stats()</code> \u6392\u5e8f\u503c\u4e4b\u4e00\u4ee5\u5bf9\u8f93\u51fa\u8fdb\u884c\u6392\u5e8f\u3002\u8fd9\u4ec5\u9002\u7528\u4e8e\u672a\u63d0\u4f9b -o \u7684\u60c5\u51b5 <code>-m</code> \u6307\u5b9a\u8981\u5206\u6790\u7684\u662f\u6a21\u5757\u800c\u4e0d\u662f\u811a\u672c\u3002     3.7 \u65b0\u7248\u529f\u80fd: cProfile \u6dfb\u52a0 -m \u9009\u9879     3.8 \u65b0\u7248\u529f\u80fd: profile \u6dfb\u52a0 -m \u9009\u9879 <code>pstats</code> \u6a21\u5757\u7684 <code>Stats</code> \u7c7b\u5177\u6709\u5404\u79cd\u65b9\u6cd5\u7528\u6765\u64cd\u7eb5\u548c\u6253\u5370\u4fdd\u5b58\u5230\u6027\u80fd\u5206\u6790\u7ed3\u679c\u6587\u4ef6\u7684\u6570\u636e\u3002</p> <pre><code>import pstats\nfrom pstats import SortKey\np = pstats.Stats('restats')\np.strip_dirs().sort_stats(-1).print_stats()\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/09_%E6%A0%87%E5%87%86%E5%BA%93/13_%E5%85%B6%E4%BB%96/profile.html#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Python \u6027\u80fd\u5206\u6790\u5668</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/jupyterhub.html","title":"JupyterHub\u6559\u7a0b","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/jupyterhub.html#_1","title":"\u5b89\u88c5","text":"<p>\u5728Linux\u4e0a\u5b89\u88c5<code>jupyterhub</code></p> <p>\u9996\u5148\u9700\u8981\u4f7f\u7528<code>root</code>\u7528\u6237\u5b89\u88c5<code>anaconda</code>\uff0c\u7136\u540e\u5207\u6362\u5230<code>base</code>\u73af\u5883\u3002</p> <p>\u5b89\u88c5<code>jupyterhub</code>\uff1a</p> <pre><code>conda activate base\nconda install jupyterhub\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/jupyterhub.html#_2","title":"\u542f\u52a8\u670d\u52a1","text":"<p>Jupyterhub\u5728Linux\u4e0a\u5b89\u88c5\u597d\u540e\u82e5\u8981\u4fee\u6539\u914d\u7f6e\u5e76\u542f\u52a8\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li>\u901a\u8fc7\u547d\u4ee4\u884c\u6dfb\u52a0\u914d\u7f6e\u53c2\u6570\u8fd0\u884c</li> <li>\u901a\u8fc7\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u53c2\u6570\u8fd0\u884c</li> </ol> <p>\u4f7f\u7528\u547d\u4ee4\u884c\u9700\u8981\u6dfb\u52a0\u5927\u91cf\u53c2\u6570\u5e76\u4e14\u7ec8\u7aef\u5173\u95ed\u670d\u52a1\u5c31\u505c\u6b62\u4e86\uff0c\u6240\u6709\u4f7f\u7528\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u3002</p> <p>\u751f\u6210\u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code>mkdir -p /root/.jupyter/\ncd /root/.jupyter/\njupyterhub --generate-config\n</code></pre> <p>\u4f1a\u5728\u5f53\u524d\u76ee\u5f55(<code>/root/.jupyter/</code>)\u4e0b\u751f\u6210<code>jupyterhub_config.py</code>\u6587\u4ef6\u3002</p> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\uff08\u91cd\u8981\uff0c\u9ed8\u8ba4\u76f4\u63a5\u542f\u52a8\u7684\u8bdd\u53ea\u6709root\u80fd\u591f\u767b\u5f55\uff09</p> <pre><code>vim jupyterhub_config.py\n</code></pre> <p>\u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff0c\u5176\u5b83\u5b57\u6bb5\u6839\u636e\u9700\u8981\u589e\u6dfb\uff1a</p> <pre><code>c.JupyterHub.ip = \"0.0.0.0\"\nc.JupyterHub.port = 9999\nc.PAMAuthenticator.encoding = 'utf-8'\nc.LocalAuthenticator.create_system_users = True\nc.Authenticator.allowed_users = {'your_username1','your_username2'}\nc.Authenticator.admin_users = {'root', 'your_username1','your_username2'}\nc.Application.log_level = 'DEBUG'\nc.JupyterHub.hub_bind_url = 'http://127.0.0.1:9081'\n</code></pre> <ul> <li><code>c.JupyterHub.ip</code>\u662f\u670d\u52a1\u7684IP\u5730\u5740</li> <li><code>c.JupyterHub.port</code>\u662f\u670d\u52a1\u7684\u7aef\u53e3</li> <li><code>c.Authenticator.allowed_users</code>\u662f\u5141\u8bb8\u767b\u5f55\u7684\u7528\u6237\u5217\u8868\uff0c</li> <li><code>c.Authenticator.admin_users</code>\u662f\u7ba1\u7406\u5458\u7528\u6237\u5217\u8868</li> <li><code>c.LocalAuthenticator.create_system_users = True</code>\u662f\u5141\u8bb8\u521b\u5efa\u7cfb\u7edf\u7528\u6237</li> <li><code>c.Application.log_level</code> \u662f\u65e5\u5fd7\u7ea7\u522b</li> <li><code>c.JupyterHub.hub_bind_url</code> \u662fhub\u7684\u5730\u5740\uff0c\u8fd9\u91cc\u662f\u8bbe\u7f6e\u76849081\u7aef\u53e3\u662f\u56e0\u4e3a\u9ed8\u8ba4\u7aef\u53e38081\u88ab\u5360\u7528\u4e86\uff0c\u6240\u4ee5\u6539\u6210\u4e869081\u7aef\u53e3</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/jupyterhub.html#anaconda","title":"\u8c03\u7528 Anaconda \u73af\u5883\u4f9d\u8d56","text":"<p>\u901a\u8fc7 <code>conda create</code> \u521b\u5efa\u7684\u73af\u5883\u5e76\u4e0d\u4f1a\u9ed8\u8ba4\u663e\u793a\u5728 <code>JupyterHub</code> \u7684 <code>kernel</code> \u9009\u9879\u4e2d\uff0c\u9700\u8981\u5b89\u88c5\u4f9d\u8d56\u3002</p> <pre><code>conda install nb_conda_kernels\n</code></pre> <p>\u5982\u679c\u767b\u5f55\u4e4b\u540e\u5207\u6362<code>conda</code>\u73af\u5883\uff0c\u627e\u4e0d\u5230\u5bf9\u5e94\u7684\u73af\u5883\uff0c\u9700\u8981\u5728\u5bf9\u5e94\u7684\u7528\u6237<code>conda</code>\u7684<code>base</code>\u73af\u5883\u5b89\u88c5<code>ipykernel</code>\u3002</p> <pre><code>conda activate base\nconda install ipykernel\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/jupyterhub.html#linux","title":"\u6ce8\u518c\u6210Linux\u670d\u52a1","text":"<p>\u65b0\u5efa\u670d\u52a1\u6587\u4ef6\uff1a</p> <pre><code>vim /etc/systemd/system/jupyterhub.service \n</code></pre> <p>\u5c06\u4e0b\u9762\u7684\u5185\u5bb9\u590d\u5236\u8fdb\u53bb\uff0c\u6ce8\u610f\u4fee\u6539<code>ExecStart</code>\u7684\u8def\u5f84\u4e3a<code>jupyterhub</code>\u7684\u8def\u5f84\u3002</p> <pre><code>[Unit]\nDescription=JupyterHub Server\nRequires=network-online.target\nAfter=network-online.target\n\n[Service]\nWorkingDirectory=/root/.jupyter\nEnvironment=\"PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/miniconda3/bin\"\nRestart=on-success\nExecStart=/root/miniconda3/bin/jupyterhub -f jupyterhub_config.py\nUser=root\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>\u52a0\u8f7d\u670d\u52a1\uff0c\u542f\u52a8\u670d\u52a1\uff0c\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\u52a8\uff1a</p> <pre><code>systemctl daemon-reload\nsystemctl start jupyterhub\nsystemctl enable jupyterhub\nsystemctl status jupyterhub\n</code></pre> <p>\u670d\u52a1\u542f\u52a8\u6210\u529f\u6253\u5370\u5982\u4e0b, \u53ef\u4ee5\u901a\u8fc7<code>http://ip:port/</code>\u8bbf\u95ee\uff1a</p> <pre><code>jupyterhub.service - JupyterHub Server\n   Loaded: loaded (/usr/lib/systemd/system/jupyterhub.service; enabled; vendor preset: disabled)\n   Active: active (running) since Tue 2024-03-26 14:27:44 CST; 3s ago\n Main PID: 20328 (jupyterhub)\n    Tasks: 8\n   Memory: 76.8M\n   CGroup: /system.slice/jupyterhub.service\n           \u251c\u250020328 /root/miniconda3/bin/python /root/miniconda3/bin/jupyterhub -f jupyterhub_config.py\n           \u2514\u250020353 node /root/miniconda3/bin/configurable-http-proxy --ip 0.0.0.0 --port 9999 --api-ip 127.0.0.1 --api-port 8001 --error-target http://127.0.0.1:9081/hub/error --log-level info\n\nMar 26 14:27:45 vps jupyterhub[20328]: 14:27:45.828 [ConfigProxy] info: 200 GET /api/routes\nMar 26 14:27:45 vps jupyterhub[20328]: 14:27:45.830 [ConfigProxy] info: 200 GET /api/routes\nMar 26 14:27:45 vps jupyterhub[20328]: [D 2024-03-26 14:27:45.831 JupyterHub proxy:392] Checking routes\nMar 26 14:27:45 vps jupyterhub[20328]: [I 2024-03-26 14:27:45.831 JupyterHub proxy:477] Adding route for Hub: / =&gt; http://127.0.0.1:9081\nMar 26 14:27:45 vps jupyterhub[20328]: [D 2024-03-26 14:27:45.831 JupyterHub proxy:880] Proxy: Fetching POST http://127.0.0.1:8001/api/routes/\nMar 26 14:27:45 vps jupyterhub[20328]: 14:27:45.834 [ConfigProxy] info: Adding route / -&gt; http://127.0.0.1:9081\nMar 26 14:27:45 vps jupyterhub[20328]: 14:27:45.835 [ConfigProxy] info: Route added / -&gt; http://127.0.0.1:9081\nMar 26 14:27:45 vps jupyterhub[20328]: 14:27:45.835 [ConfigProxy] info: 201 POST /api/routes/\nMar 26 14:27:45 vps jupyterhub[20328]: [I 2024-03-26 14:27:45.836 JupyterHub app:3245] JupyterHub is now running at http://0.0.0.0:9999/\nMar 26 14:27:45 vps jupyterhub[20328]: [D 2024-03-26 14:27:45.836 JupyterHub app:2852] It took 0.723 seconds for the Hub to start\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/jupyterhub.html#_3","title":"\u5b89\u88c5\u63d2\u4ef6","text":"<pre><code># debugger\nconda install xeus-python=0.8.0 -c conda-forge\njupyter labextension install @jupyterlab/debugger\n# toc\njupyter labextension install @jupyterlab/toc\n# jupyter-matplotlib\npip install ipympl\njupyter labextension install @jupyter-widgets/jupyterlab-manager jupyter-matplotlib\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/jupyterhub.html#_4","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u597d\u7528\u5230\u98de\u8d77\u768412\u4e2ajupyter lab\u63d2\u4ef6</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/jupyterlab.html","title":"JupyterLab\u6559\u7a0b","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/jupyterlab.html#_1","title":"\u5b89\u88c5","text":"<p>\u5728Linux\u4e0a\u5b89\u88c5 <code>jupyterlab</code></p> <p>\u9996\u5148\u9700\u8981\u4f7f\u7528<code>root</code>\u7528\u6237\u5b89\u88c5<code>anaconda</code>\uff0c\u7136\u540e\u5207\u6362\u5230<code>base</code>\u73af\u5883\u3002</p> <p>\u5b89\u88c5<code>jupyterlab</code>\uff1a</p> <pre><code>conda activate base\npip install jupyterlab\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/jupyterlab.html#_2","title":"\u542f\u52a8\u670d\u52a1","text":"<p>Jupyterhub\u5728Linux\u4e0a\u5b89\u88c5\u597d\u540e\u82e5\u8981\u4fee\u6539\u914d\u7f6e\u5e76\u542f\u52a8\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li>\u901a\u8fc7\u547d\u4ee4\u884c\u6dfb\u52a0\u914d\u7f6e\u53c2\u6570\u8fd0\u884c</li> <li>\u901a\u8fc7\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u53c2\u6570\u8fd0\u884c</li> </ol> <p>\u4f7f\u7528\u547d\u4ee4\u884c\u9700\u8981\u6dfb\u52a0\u5927\u91cf\u53c2\u6570\u5e76\u4e14\u7ec8\u7aef\u5173\u95ed\u670d\u52a1\u5c31\u505c\u6b62\u4e86\uff0c\u6240\u6709\u4f7f\u7528\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u3002</p> <p>\u751f\u6210\u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code>jupyter lab --generate-config\n</code></pre> <p>\u9ed8\u8ba4\u751f\u6210\u7684\u8def\u5f84\u4e3a<code>/root/.jupyter/jupyter_lab_config.py</code>\u6587\u4ef6\u3002</p> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\uff08\u91cd\u8981\uff0c\u9ed8\u8ba4\u76f4\u63a5\u542f\u52a8\u7684\u8bdd\u53ea\u6709root\u80fd\u591f\u767b\u5f55\uff09</p> <pre><code>vim /root/.jupyter/jupyter_lab_config.py\n</code></pre> <p>\u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff0c\u5176\u5b83\u5b57\u6bb5\u6839\u636e\u9700\u8981\u589e\u6dfb\uff0c\u6ce8\u610f\u8981\u5c06<code>your_token</code>\u66ff\u6362\u4e3a\u4f60\u7684token\u3002</p> <pre><code>c.ServerApp.open_browser = False\nc.JupyterApp.answer_yes=True\nc.ServerApp.allow_remote_access=True\nc.ServerApp.allow_root=True\nc.ServerApp.root_dir = \"/workspace/jupyterlab\"\nc.ServerApp.token = 'your_token'\nc.ServerApp.port = 8888\nc.ServerApp.ip = '0.0.0.0'\n</code></pre> <ul> <li><code>c.ServerApp.open_browser</code>: \u9632\u6b62\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u9ed8\u8ba4url</li> <li><code>c.JupyterApp.answer_yes</code>: \u5bf9\u4efb\u4f55\u95ee\u9898\u56de\u7b54\u662f\u800c\u4e0d\u662f\u63d0\u793a</li> <li><code>c.ServerApp.allow_remote_access</code>: \u662f\u662f\u5426\u5141\u8bb8\u8fdc\u7a0b\u8bbf\u95ee</li> <li><code>c.ServerApp.allow_root</code>: \u662f\u662f\u5426\u5141\u8bb8root\u7528\u6237\u767b\u5f55</li> <li><code>c.ServerApp.root_dir</code>: \u662fjupyter\u7684\u6839\u76ee\u5f55</li> <li><code>c.ServerApp.token</code>: \u662f\u7528\u6237\u767b\u5f55\u7684token</li> <li><code>c.ServerApp.port</code>: \u662f\u670d\u52a1\u7684\u7aef\u53e3</li> <li><code>c.ServerApp.ip</code>: \u670d\u52a1\u7684IP\u5730\u5740</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/jupyterlab.html#_3","title":"\u5b89\u88c5\u4f9d\u8d56","text":"<pre><code>conda install nb_conda_kernels ipykernel -y\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/jupyterlab.html#linux","title":"\u6ce8\u518c\u6210Linux\u670d\u52a1","text":"<p>\u65b0\u5efa\u670d\u52a1\u6587\u4ef6\uff1a</p> <pre><code>vim /etc/systemd/system/jupyterlab.service \n</code></pre> <p>\u5c06\u4e0b\u9762\u7684\u5185\u5bb9\u590d\u5236\u8fdb\u53bb\uff0c\u6ce8\u610f\u4fee\u6539<code>ExecStart</code>\u7684\u8def\u5f84\u4e3a<code>jupyterhub</code>\u7684\u8def\u5f84\u3002</p> <pre><code>[Unit]\nDescription=JupyterLab Server\nRequires=network-online.target\nAfter=network-online.target\n\n[Service]\nRestart=on-success\nExecStart=/root/miniconda3/bin/jupyter lab --config=/root/.jupyter/jupyter_lab_config.py &gt; /var/log/jupyterlab.log\nUser=root\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>\u52a0\u8f7d\u670d\u52a1\uff0c\u542f\u52a8\u670d\u52a1\uff0c\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\u52a8\uff1a</p> <pre><code>systemctl daemon-reload\nsystemctl start jupyterlab\nsystemctl enable jupyterlab\nsystemctl status jupyterlab\n</code></pre> <p>\u670d\u52a1\u542f\u52a8\u6210\u529f\u6253\u5370\u5982\u4e0b, \u53ef\u4ee5\u901a\u8fc7<code>http://ip:port/</code>\u8bbf\u95ee\uff1a</p> <pre><code>\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/01_%E5%8C%85%E7%AE%A1%E7%90%86/pyinstaller.html","title":"Python\u6253\u5305exe","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/01_%E5%8C%85%E7%AE%A1%E7%90%86/pyinstaller.html#_1","title":"\u5b89\u88c5\u4f9d\u8d56","text":"<pre><code>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyinstaller\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/01_%E5%8C%85%E7%AE%A1%E7%90%86/pyinstaller.html#_2","title":"\u6253\u5305\u547d\u4ee4","text":"<pre><code>pyinstaller --onefile xxxxx.py\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/index.html","title":"mkdocs\u76f8\u5173","text":"<p>MkDocs\u662f\u4e00\u4e2a\u5f3a\u5927\u4e14\u6613\u4e8e\u4f7f\u7528\u7684\u6587\u6863\u6846\u67b6\uff0c\u5728\u4f7f\u7528\u5176\u793e\u533a\u5f00\u53d1\u7684\u63d2\u4ef6\u65f6\u4f1a\u53d8\u5f97\u66f4\u597d\u3002\u672c\u6587\u5c55\u793a\u4e86\u4e00\u4e9b\u6700\u597d\u7684\u5b9a\u5236\u9009\u9879\u548c\u63d2\u4ef6\uff0c\u4f8b\u5982\u56fe\u8868\u3001\u4ee3\u7801\u53c2\u8003\u3001\u7b14\u8bb0\u672c\u96c6\u6210\u3001\u5b8f\u3001PDF\u751f\u6210\u7b49\u3002</p> <p>\u5728\u63a2\u7d22\u63d2\u4ef6\u4e4b\u524d\uff0c\u8ba9\u6211\u4eec\u4ece\u4e00\u4e9b\u5e38\u89c4\u7684mkdocs\u7279\u6027\u5f00\u59cb\u3002\u5bf9\u4e8e\u8bb8\u591aMkDocs\u7528\u6237\u6765\u8bf4\uff0cmkdocs-material\u5df2\u7ecf\u6210\u4e3a\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\u4e3b\u9898\u3002\u6700\u8fd1\u7684\u66f4\u65b0\u589e\u52a0\u4e86\u5bf9\u591a\u4e2a\u6587\u6863\u7248\u672c\u7684\u652f\u6301\uff0c\u4eae/\u6697\u6a21\u5f0f\u5207\u6362\u7b49\u3002</p> <p>mkdocs-material\u96c6\u6210\u4e86pymkdown\u6269\u5c55\uff0c\u5b83\u5141\u8bb8\u60a8\u6dfb\u52a0\u6807\u7b7e\u5f0f\u4ee3\u7801\u5757\uff0c\u8fdb\u5ea6\u6761\uff0c\u4efb\u52a1\u5217\u8868\uff0c\u952e\u76d8\u7b26\u53f7\u7b49\u3002</p> <p>MkDocs\u53ca\u5176\u63d2\u4ef6\u7684\u6700\u5927\u4f18\u70b9\u662f\u4f7f\u7528\u548c\u914d\u7f6e\u975e\u5e38\u7b80\u5355\u3002\u60a8\u4e0d\u9700\u8981\u4e86\u89e3\u4efb\u4f55\u5173\u4e8e\u524d\u7aef\u5f00\u53d1\u7684\u77e5\u8bc6\uff0c\u5c31\u53ef\u4ee5\u5728\u51e0\u5206\u949f\u5185\u6784\u5efa\u4e00\u4e2a\u6f02\u4eae\u7684\u6587\u6863\u3002</p> <p>\u4efb\u4f55markdown\u6587\u4ef6\u90fd\u5141\u8bb8\u60a8\u76f4\u63a5\u5728markdown\u6587\u672c\u4e2d\u6dfb\u52a0HTML\u4ee3\u7801\u3002\u5373\u4f7f\u4f60\u4e0d\u77e5\u9053\u4efb\u4f55HTML\uff0c\u8fd9\u5bf9\u4e8e\u6269\u5c55markdown\u7684\u683c\u5f0f\u9009\u9879\uff08\u6709\u70b9\u6709\u9650\uff09\u4e5f\u5f88\u65b9\u4fbf\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u7b80\u5355\u7684\u6807\u7b7e\u5c06\u6dfb\u52a0\u7a7a\u767d\u6bb5\u843d\u3002\u66f4\u8fdb\u4e00\u6b65\uff0c\u60a8\u53ef\u4ee5\u5c06API\u5f15\u7528\u76f4\u63a5\u6dfb\u52a0\u5230\u6587\u6863\u4e2d\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/index.html#mermaid_graphs","title":"Mermaid graphs","text":"<p>mkdocs-mermaid 2\u63d2\u4ef6\u5141\u8bb8\u60a8\u901a\u8fc7\u7b80\u5355\u7684\u8bed\u6cd5\u76f4\u63a5\u5728markdown\u6587\u4ef6\u4e2d\u521b\u5efaMermaid\u56fe\u3002\u56fe\u8868\u3001\u56fe\u8868\u548c\u6837\u5f0f\u6709\u591a\u79cd\u9009\u62e9\uff0c\u4f8b\u5982\uff1a\u6d41\u3001\u7518\u7279\u3001\u997c\u56fe\u3001\u5173\u7cfb\u3001\u5e8f\u5217\u7b49\u3002</p> <p>\u6548\u679c\u56fe\u5982\u4e0b\uff1a </p> <p>\u63d2\u4ef6\u5730\u5740\uff1amkdocs-mermaid2-plugin</p> <p>\u6837\u4f8b\u5982\u4e0b:</p> <pre><code>```mermaid\ngraph LR\n    A[Square Rect] -- Link text --&gt; B((Circle))\n    A --&gt; C(Round Rect)\n    B --&gt; D{Rhombus}\n    C --&gt; D\n```\n</code></pre> <pre><code>graph LR\n    A[Square Rect] -- Link text --&gt; B((Circle))\n    A --&gt; C(Round Rect)\n    B --&gt; D{Rhombus}\n    C --&gt; D</code></pre> <p>\u5b89\u88c5\uff1a <pre><code>pip install mkdocs-mermaid2-plugin\n</code></pre></p> <p>\u5982\u679c\u4f60\u60f3\u4f7f\u7528<code>mermaids</code>\u63d2\u4ef6\u5e76\u6fc0\u6d3bsuperfences\u6269\u5c55\uff0c\u8bf7\u6ce8\u610f\u6b64\u914d\u7f6e\u3002</p> <p>\u914d\u7f6e\u5982\u4e0b\uff1a <pre><code>markdown_extensions:\n  - pymdownx.superfences:\n      custom_fences:\n        - name: mermaid\n          class: mermaid\n          format: !!python/name:pymdownx.superfences.fence_code_format ''\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/index.html#jupyter_notebook","title":"Jupyter notebook\u96c6\u6210\uff1a","text":"<p>mkdocs-jupyter\u548cmknotebooks \u8ba9\u4f60\u96c6\u6210Jupyter\u7b14\u8bb0\u672c\uff0c\u5c31\u50cf\u4e00\u4e2amarkdown\u6587\u4ef6\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5305\u62ec\u8f93\u51fa\u5355\u5143\u683c\u5728\u5185\u7684\u7b14\u8bb0\u672c\u7535\u8111\u7684\u5f53\u524d\u72b6\u6001\u662f\u79ef\u5206\u7684\u3002\u8fd9\u4e24\u4e2a\u63d2\u4ef6\u8fd8\u63d0\u4f9b\u4e86\u5728\u6784\u5efa\u6587\u6863\u65f6\u4ece\u5934\u5f00\u59cb\u6267\u884cnotebook\u7684\u9009\u9879\u3002</p> <p>\u6548\u679c\u56fe\u5982\u4e0b\uff1a </p> <p>\u63d2\u4ef6\u5730\u5740\uff1amkdocs-jupyter</p> <p>\u5b89\u88c5\uff1a <pre><code>pip install mkdocs-jupyter\n</code></pre></p> <p>\u914d\u7f6e\u793a\u4f8b\u5982\u4e0b\uff1a <pre><code>nav:\n  - Home: index.md\n  - Notebook page: notebook.ipynb\n  - Python file: python_script.py\n\nplugins:\n  - mkdocs-jupyter\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/index.html#_1","title":"\u66f4\u591a\u63a8\u8350\u63d2\u4ef6","text":"<p>\u4e5f\u53ef\u4ee5\u5728Github\u9879\u76ee\u9875\u9762\u4e0a\u67e5\u770bMkDocs\u63d2\u4ef6\u7684\u5b8c\u6574\u5217\u8868\u3002</p> <ul> <li>mkdocs-monorepo-plugin**:**\u5728\u5355\u4e2a\u5b58\u50a8\u5e93\u4e2d\u6784\u5efa\u591a\u7ec4\u6587\u6863\u3002</li> <li>mkdocs-pdf-export-plugin: \u5c06\u6587\u6863\u5bfc\u51fa\u4e3aPDF\u3002</li> <li>mkdocs-table-reader-plugin**:**\u4ee5\u8868\u683c\u5f62\u5f0f\u63d2\u5165CSV\u6587\u4ef6\u3002</li> <li>mkdocs-autolinks-plugin: \u7b80\u5316\u7ae0\u8282\u4e4b\u95f4\u7684\u76f8\u5bf9\u8fde\u63a5\u3002</li> <li>mkdocs-redirects: \u9875\u9762\u91cd\u5b9a\u5411\u4e3a\u79fb\u52a8/\u91cd\u547d\u540d\u7684\u9875\u9762\u3002</li> <li>mkdocs-exclude: \u6392\u9664\u9009\u5b9a\u7684\u6587\u4ef6\u6216\u6a21\u5f0f\uff0c\u4f8b\u5982\u914d\u7f6e\u6587\u4ef6\u3002</li> <li>mkdocs-exclude-search**:**\u4ece\u641c\u7d22\u7d22\u5f15\u4e2d\u6392\u9664\u9009\u5b9a\u7684\u6587\u4ef6\u6216\u8282\u3002</li> <li>MkDocsPlus: MkDocs\u652f\u6301\u7b2c\u4e09\u65b9JavaScript\u5e93\uff0c\u4f8b\u5982Flowchart.js\u3001DataTables\u3001Charts.js\u7b49</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/index.html#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>The best MkDocs plugins and customizations</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html","title":"MkDocs Awesome Pages \u63d2\u4ef6","text":"<p>\u4e00\u4e2a\u7b80\u5316\u9875\u9762\u6807\u9898\u548c\u987a\u5e8f\u914d\u7f6e\u7684MkDocs\u63d2\u4ef6</p> <p>awesome-pages\u63d2\u4ef6\u5141\u8bb8\u60a8\u81ea\u5b9a\u4e49\u5982\u4f55\u5728MkDocs\u5bfc\u822a\u4e2d\u663e\u793a\u9875\u9762\uff0c\u800c\u65e0\u9700\u5728mkdocs.yml\u4e2d\u914d\u7f6e\u5b8c\u6574\u7ed3\u6784\u3002\u5b83\u4f7f\u7528\u76f4\u63a5\u653e\u7f6e\u5728\u6587\u6863\u76f8\u5173\u76ee\u5f55\u4e2d\u7684\u5c0f\u578b\u914d\u7f6e\u6587\u4ef6\u6765\u63d0\u4f9b\u8be6\u7ec6\u63a7\u5236\u3002</p> <p>\u6ce8\u610f\uff1a\u5982\u679c\u60a8\u7684mkdocs.yml\u5b9a\u4e49\u4e86nav\u6216pages\u6761\u76ee\uff0c\u5219\u6b64\u63d2\u4ef6\u5c06\u4e0d\u8d77\u4f5c\u7528\u3002\u8981\u4f7f\u7528\u4e0b\u9762\u5217\u51fa\u7684\u529f\u80fd\uff0c\u60a8\u5fc5\u987b\u5b8c\u5168\u5220\u9664\u8be5\u6761\u76ee\u6216\u5411\u5176\u6dfb\u52a0... \u6761\u76ee\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#_1","title":"\u5b89\u88c5","text":"<p>\u6ce8\u610f\uff1a\u6b64\u8f6f\u4ef6\u5305\u9700\u8981 Python &gt;=3.7 \u548c MkDocs \u7248\u672c 1.0 \u6216\u66f4\u9ad8\u7248\u672c\u3002\u5982\u679c\u60a8\u4ecd\u5728\u4f7f\u7528 MkDocs 0.17\uff0c\u8bf7\u4f7f\u7528\u6b64\u63d2\u4ef6\u7684\u7b2c\u4e00\u7248\u3002</p> <p>\u4f7f\u7528<code>pip</code>\u5b89\u88c5\u6b64\u8f6f\u4ef6\u5305\uff1a</p> <pre><code>pip install mkdocs-awesome-pages-plugin -i https://pypi.tuna.tsinghua.edu.cn/simple\n</code></pre> <p>\u7136\u540e\u5728<code>mkdocs.yml</code>\u6587\u4ef6\u4e2d\u542f\u7528\u5b83\uff1a</p> <pre><code>plugins:\n  - search \n  - awesome-pages\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#features","title":"\u7279\u70b9(Features)","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#customize_navigation","title":"\u81ea\u5b9a\u4e49\u5bfc\u822a(Customize Navigation)","text":"<p>\u5728\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>.pages</code> \u7684\u6587\u4ef6\uff0c\u5e76\u4f7f\u7528 <code>nav</code> \u5c5e\u6027\u81ea\u5b9a\u4e49\u8be5\u7ea7\u522b\u4e0a\u7684\u5bfc\u822a\u3002\u6309\u7167\u5e94\u51fa\u73b0\u5728\u5bfc\u822a\u4e2d\u7684\u987a\u5e8f\u5217\u51fa\u6587\u4ef6\u548c\u5b50\u76ee\u5f55\u3002</p> <p><code>.pages</code>\u6587\u4ef6\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>nav:\n    - subdirectory\n    - page1.md\n    - page2.md\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#rest","title":"\u5176\u4ed6\u7684\u90e8\u5206(Rest)","text":"<p>\u672a\u5728\u5217\u8868\u4e2d\u63d0\u53ca\u7684\u9875\u9762\u6216\u90e8\u5206\u5c06\u4e0d\u4f1a\u51fa\u73b0\u5728\u5bfc\u822a\u4e2d\u3002\u4f46\u662f\uff0c\u60a8\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a<code>...</code>\u6761\u76ee\u6765\u6307\u5b9a\u6240\u6709\u5269\u4f59\u9879\u76ee\u5e94\u63d2\u5165\u7684\u4f4d\u7f6e\u3002</p> <pre><code>nav:\n    - introduction.md\n    - ...\n    - summary.md\n</code></pre> <p>\u6b64\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528glob\u6a21\u5f0f\u6216\u6b63\u5219\u8868\u8fbe\u5f0f\u8fc7\u6ee4\u5269\u4f59\u7684\u9879\u76ee\u3002\u4f8b\u5982\uff0c\u53ea\u5339\u914d\u4ee5introduction-\u5f00\u5934\u7684Markdown\u6587\u4ef6\u3002</p> <pre><code>nav:\n    - ... | introduction-*.md\n    - ...\n    - summary.md\n</code></pre> <p>\u6ce8\u610f\uff1a\u8be5\u6a21\u5f0f\u662f\u9488\u5bf9\u5269\u4f59\u9879\u7684\u57fa\u672c\u540d\u79f0\uff08\u6587\u4ef6\u5939/\u6587\u4ef6\u540d\uff09\u8fdb\u884c\u68c0\u67e5\uff0c\u800c\u4e0d\u662f\u5b83\u4eec\u7684\u6574\u4e2a\u8def\u5f84\u3002</p> <p>\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u4e0b\u9762\u7684Rest\u8fc7\u6ee4\u5668\u6a21\u5f0f\u90e8\u5206\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#titles","title":"\u6807\u9898(Titles)","text":"<p>\u53ef\u4ee5\u9009\u62e9\u4e3a\u5bfc\u822a\u6761\u76ee\u6307\u5b9a\u4e00\u4e2a\u6807\u9898\u3002</p> <pre><code>nav:\n    - ...\n    - First page: page1.md\n</code></pre> <p>\u6ce8\u610f\uff1a\u4e3a\u5305\u542b\u5b9a\u4e49\u6807\u9898\u7684 .pages \u6587\u4ef6\u7684\u76ee\u5f55\u6307\u5b9a\u6807\u9898\u6ca1\u6709\u4efb\u4f55\u6548\u679c\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#links","title":"\u94fe\u63a5(Links)","text":"<p>\u8fd8\u53ef\u4ee5\u4f7f\u7528nav\u5c5e\u6027\u5411\u5bfc\u822a\u4e2d\u6dfb\u52a0\u5176\u4ed6\u94fe\u63a5\u3002</p> <pre><code>nav:\n    - ...\n    - Link Title: https://lukasgeiter.com\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#sections","title":"\u7ae0\u8282(Sections)","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u521b\u5efa\u65b0\u7684\u7ae0\u8282\u6765\u5bf9\u9879\u76ee\u8fdb\u884c\u5206\u7ec4\u3002 <pre><code>nav:\n    - introduction.md\n    - Section 1:\n        - page1.md\n        - page2.md\n    - Section 2:\n        - ...\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#_2","title":"\u66f4\u6539\u6392\u5e8f\u65b9\u5f0f","text":"<p>\u5728\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>.pages</code> \u7684\u6587\u4ef6\uff0c\u5e76\u8bbe\u7f6e <code>order</code> \u5c5e\u6027\u4e3a <code>asc</code> \u6216 <code>desc</code> \u4ee5\u66f4\u6539\u5bfc\u822a\u9879\u7684\u987a\u5e8f\u3002 <pre><code>order: desc\n</code></pre></p> <p>\u6ce8\u610f\uff1a\u4e0e\u9ed8\u8ba4\u987a\u5e8f\u4e0d\u540c\uff0c\u6b64\u9009\u9879\u4e0d\u533a\u5206\u6587\u4ef6\u548c\u76ee\u5f55\u3002\u56e0\u6b64\u9875\u9762\u548c\u7ae0\u8282\u53ef\u80fd\u4f1a\u6df7\u5408\u5728\u4e00\u8d77\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#_3","title":"\u81ea\u7136\u6392\u5e8f\u7c7b\u578b","text":"<p>\u5728\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>.pages</code> \u7684\u6587\u4ef6\uff0c\u5e76\u5c06 <code>sort_type</code> \u5c5e\u6027\u8bbe\u7f6e\u4e3a <code>natural</code> \uff0c\u4ee5\u4f7f\u7528\u81ea\u7136\u6392\u5e8f\u987a\u5e8f\u3002</p> <p>\u8fd9\u53ef\u4ee5\u4e0e\u4e0a\u9762\u7684<code>order</code>\u7ed3\u5408\u4f7f\u7528\u3002</p> <pre><code>sort_type: natural\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#_4","title":"\u6392\u5e8f\u5bfc\u822a\u680f","text":"<p>\u5728\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>.pages</code> \u7684\u6587\u4ef6\uff0c\u5e76\u5c06 <code>order_by</code> \u5c5e\u6027\u8bbe\u7f6e\u4e3a <code>filename</code> \u6216 <code>title</code> \u4ee5\u66f4\u6539\u5bfc\u822a\u9879\u7684\u987a\u5e8f\u3002</p> <pre><code>order_by: title\n</code></pre> <p>\u53ef\u4ee5\u4e0e\u4e0a\u9762\u7684 <code>order</code>\uff0c<code>sort_type</code> \u7ed3\u5408\u4f7f\u7528\u3002\u5982\u679c\u672a\u8bbe\u7f6e <code>order</code> \uff0c\u5219\u4f1a\u6309\u5347\u5e8f\u6392\u5e8f\u3002\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e<code>order_by</code>\uff0c\u5b83\u5c06\u6309\u6587\u4ef6\u540d\u6392\u5e8f\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#_5","title":"\u6298\u53e0\u5355\u4e2a\u5d4c\u5957\u9875\u9762","text":"<p>\u6ce8\u610f\uff1a\u6b64\u529f\u80fd\u9ed8\u8ba4\u5df2\u7981\u7528\u3002\u6709\u5173\u5982\u4f55\u4f7f\u7528\u5b83\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1\u4e0b\u6587\u3002</p> <p>\u5982\u679c\u60a8\u6709\u4ec5\u5305\u542b\u5355\u4e2a\u9875\u9762\u7684\u76ee\u5f55\uff0c<code>awesome-pages</code>\u53ef\u4ee5\u201c\u6298\u53e0\u201d\u5b83\u4eec\uff0c\u4ee5\u4fbf\u8be5\u6587\u4ef6\u5939\u4e0d\u4f1a\u663e\u793a\u5728\u5bfc\u822a\u4e2d\u3002</p> <p>\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5177\u6709\u4ee5\u4e0b\u6587\u4ef6\u7ed3\u6784\uff1a</p> <p><pre><code>docs/\n\u251c\u2500 section1/\n\u2502  \u251c\u2500 img/\n\u2502  \u2502  \u251c\u2500 image1.png\n\u2502  \u2502  \u2514\u2500 image2.png\n\u2502  \u2514\u2500 index.md # Section 1\n\u2514\u2500 section2/\n   \u2514\u2500 index.md # Section 2\n</code></pre> \u8fd9\u4e9b\u9875\u9762\u5c06\u51fa\u73b0\u5728\u60a8\u7684\u5bfc\u822a\u680f\u4e2d\uff1a</p> <ul> <li>Section 1</li> <li>Section 2</li> </ul> <p>\u4e0eMkDocs\u9ed8\u8ba4\u663e\u793a\u65b9\u5f0f\u4e0d\u540c\uff1a</p> <ul> <li>Section 1<ul> <li>Index</li> </ul> </li> <li>Section 2<ul> <li>Index</li> </ul> </li> </ul> <p>\u5bf9\u4e8e\u6240\u6709\u9875\u9762</p> <p>\u53ef\u4ee5\u5728 <code>mkdocs.yml</code> \u4e2d\u4f7f\u7528 <code>collapse_single_pages</code> \u9009\u9879\u5168\u5c40\u542f\u7528\u6298\u53e0\u3002</p> <p>\u5bf9\u4e8e\u5b50\u90e8\u5206 \u5982\u679c\u60a8\u53ea\u60f3\u6298\u53e0\u67d0\u4e9b\u9875\u9762\uff0c\u8bf7\u5728\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>.pages</code> \u7684\u6587\u4ef6\uff0c\u5e76\u5c06 <code>collapse_single_pages</code> \u8bbe\u7f6e\u4e3a <code>true</code>\uff1a</p> <pre><code>collapse_single_pages: true\n</code></pre> <p>\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u63d2\u4ef6\u9009\u9879\u5168\u5c40\u542f\u7528\u6298\u53e0\uff0c\u7136\u540e\u4f7f\u7528 <code>.pages</code> \u6587\u4ef6\u901a\u8fc7\u5c06 <code>collapse_single_pages</code> \u8bbe\u7f6e\u4e3a <code>false</code> \u6765\u9632\u6b62\u67d0\u4e9b\u5b50\u90e8\u5206\u88ab\u6298\u53e0\u3002</p> <p>\u6ce8\u610f\uff1a\u6b64\u529f\u80fd\u9012\u5f52\u5de5\u4f5c\u3002\u8fd9\u610f\u5473\u7740\u5b83\u4e5f\u4f1a\u6298\u53e0\u591a\u4e2a\u7ea7\u522b\u7684\u5355\u4e2a\u9875\u9762\u3002</p> <p>\u5bf9\u4e8e\u5355\u4e2a\u9875\u9762</p> <p>\u5982\u679c\u60a8\u60f3\u542f\u7528\u6216\u7981\u7528\u5355\u4e2a\u9875\u9762\u7684\u6298\u53e0\uff0c\u800c\u4e0d\u9012\u5f52\u5e94\u7528\u8bbe\u7f6e\uff0c\u8bf7\u5728\u76ee\u5f55\u4e2d\u521b\u5efa\u540d\u4e3a <code>.pages</code> \u7684\u6587\u4ef6\uff0c\u5e76\u5c06 <code>collapse</code> \u8bbe\u7f6e\u4e3a <code>true</code> \u6216 <code>false</code>\uff1a <pre><code>collapse: true\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#_6","title":"\u9690\u85cf\u76ee\u5f55","text":"<p>\u5728\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>.pages</code> \u7684\u6587\u4ef6\uff0c\u5e76\u5c06<code>hide</code>\u8bbe\u7f6e\u4e3a<code>true</code>\uff0c\u4ee5\u9690\u85cf\u8be5\u76ee\u5f55\u53ca\u5176\u6240\u6709\u5b50\u9875\u9762\u548c\u5b50\u90e8\u5206\u4e0d\u51fa\u73b0\u5728\u5bfc\u822a\u680f\u4e2d\uff1a <pre><code>hide: true\n</code></pre></p> <p>\u6ce8\u610f\uff1a\u6b64\u9009\u9879\u4ec5\u4f1a\u4ece\u5bfc\u822a\u680f\u4e2d\u9690\u85cf\u8be5\u90e8\u5206\u3002\u5b83\u4ecd\u5c06\u5305\u542b\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u5e76\u53ef\u4ee5\u901a\u8fc7\u5176URL\u8bbf\u95ee\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#_7","title":"\u8bbe\u7f6e\u76ee\u5f55\u6807\u9898","text":"<p>\u5728\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>.pages</code> \u7684\u6587\u4ef6\uff0c\u5e76\u5c06<code>title</code>\u8bbe\u7f6e\u4e3a\u8986\u76d6\u5bfc\u822a\u4e2d\u8be5\u76ee\u5f55\u7684\u6807\u9898\uff1a <pre><code>title: Page Title\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#_8","title":"\u7ec4\u5408\u81ea\u5b9a\u4e49\u5bfc\u822a\u548c\u6587\u4ef6\u7ed3\u6784","text":"<p>MkDocs\u63d0\u4f9b\u4e86\u4e24\u79cd\u5b9a\u4e49\u5bfc\u822a\u7ed3\u6784\u7684\u65b9\u5f0f\u3002\u4e00\u79cd\u662f\u5728 <code>mkdocs.yml</code> \u4e2d\u624b\u52a8\u521b\u5efa\u81ea\u5b9a\u4e49\u5bfc\u822a\uff0c\u53e6\u4e00\u79cd\u662f\u4f7f\u7528\u6587\u4ef6\u7ed3\u6784\u751f\u6210\u5bfc\u822a\u3002\u8fd9\u4e2a\u529f\u80fd\u4f7f\u5f97\u5c06\u4e24\u79cd\u65b9\u6cd5\u76f8\u7ed3\u5408\u6210\u4e3a\u53ef\u80fd\u3002\u60a8\u53ef\u4ee5\u624b\u52a8\u5b9a\u4e49\u90e8\u5206\u5bfc\u822a\u800c\u65e0\u9700\u5217\u51fa\u6240\u6709\u6587\u4ef6\u3002</p> <p>\u6ce8\u610f\uff1a\u60a8\u53ef\u4ee5\u81ea\u7531\u5730\u5c06\u6b64\u529f\u80fd\u4e0e\u63d2\u4ef6\u7684\u5176\u4ed6\u6240\u6709\u529f\u80fd\u76f8\u7ed3\u5408\u3002\u4f46\u5b83\u4eec\u53ea\u4f1a\u5f71\u54cd\u672a\u624b\u52a8\u5b9a\u4e49\u7684\u90e8\u5206\u5bfc\u822a\u3002</p> <p>\u4f7f\u7528 <code>mkdocs.yml</code> \u4e2d\u7684 <code>nav</code> \u6761\u76ee\u6765\u5b9a\u4e49\u60a8\u7684\u81ea\u5b9a\u4e49\u5bfc\u822a\u90e8\u5206\uff0c\u5e76\u5728\u60f3\u8981\u63d2\u5165\u6240\u6709\u5269\u4f59\u9875\u9762\u7684\u5bfc\u822a\u6811\u5904\u5305\u542b\u4e00\u4e2a<code>...</code>\u6761\u76ee\u3002</p> <p>\u4ee5\u4e0b\u793a\u4f8b\u57fa\u4e8e\u6b64\u6587\u4ef6\u7ed3\u6784\uff1a <pre><code>docs/\n\u251c\u2500 introduction.md\n\u251c\u2500 page1.md\n\u251c\u2500 page2.md\n\u2514\u2500 folder/\n   \u251c\u2500 introduction.md\n   \u251c\u2500 page3.md\n   \u2514\u2500 page4.md\n</code></pre></p> <p>\u5982\u679c\u60a8\u60f3\u8ba9<code>introduction.md</code>\u3001<code>page1.md</code>\u548c<code>page2.md</code>\u51fa\u73b0\u5728\u5b83\u4eec\u81ea\u5df1\u7684\u90e8\u5206\u4e2d\uff0c\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a</p> <p><pre><code>nav:\n    - Start:\n        - page1.md\n        - page2.md\n        - summary.md\n    - ...\n</code></pre> \u8fd9\u5c06\u5bfc\u81f4\u4ee5\u4e0b\u5bfc\u822a\uff1a - Start     - Introduction     - Page 1     - Page 2 - Folder   - Introduction   - Page 3   - Page 4</p> <p><code>...</code>\u4e5f\u53ef\u4ee5\u653e\u7f6e\u5728\u66f4\u6df1\u5c42\u6b21:</p> <pre><code>nav:\n    - page1.md\n    - Rest:\n        - ...\n</code></pre> <p>\u8fd9\u5c06\u5bfc\u81f4\u4ee5\u4e0b\u5bfc\u822a\uff1a</p> <ul> <li>Page 1</li> <li>Rest<ul> <li>Introduction</li> <li>Page 2</li> <li>Folder<ul> <li>Introduction</li> <li>Page 3</li> <li>Page 4</li> </ul> </li> </ul> </li> </ul> <p>\u6b64\u5916\uff0c\u53ef\u4ee5\u4f7f\u7528glob\u6a21\u5f0f\u6216\u6b63\u5219\u8868\u8fbe\u5f0f\u8fc7\u6ee4\u5269\u4f59\u7684\u9879\u76ee\u3002\u4f8b\u5982\uff0c\u53ea\u5339\u914d\u540d\u4e3a<code>introduction.md</code>\u7684\u6587\u4ef6</p> <pre><code>nav:\n    - Introductions:\n        - ... | **/introduction.md\n    - ...\n</code></pre> <p>\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> <ul> <li>Introductions<ul> <li>Introduction</li> <li>Introduction</li> </ul> </li> <li>Page 1</li> <li>Page 2</li> <li>Folder<ul> <li>Page 3</li> <li>Page 4</li> </ul> </li> </ul> <p>\u6ce8\u610f\uff1a\u8be5\u6a21\u5f0f\u662f\u9488\u5bf9\u76f8\u5bf9\u4e8e\u6587\u6863\u76ee\u5f55\u7684\u8def\u5f84\u8fdb\u884c\u68c0\u67e5\u7684\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5269\u4f59\u7684\u9879\u76ee\u4fdd\u7559\u5176\u5206\u5c42\u7ed3\u6784\u3002\u60a8\u53ef\u4ee5\u6dfb\u52a0\u201cflat\u201d\u4ee5\u4f7f\u6240\u6709\u5339\u914d\u9875\u9762\u53d8\u4e3a\u5e73\u9762\u7ed3\u6784\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u4e0b\u9762\u7684Rest\u8fc7\u6ee4\u5668\u6a21\u5f0f\u90e8\u5206\u3002</p> <pre><code>nav:\n    - page1.md\n    - Rest:\n        - ... | flat | **/introduction.md\n        - ... | flat\n</code></pre> <p>\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> <ul> <li>Page 1</li> <li>Rest<ul> <li>Introduction</li> <li>Introduction</li> <li>Page 2</li> <li>Page 3</li> <li>Page 4</li> </ul> </li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#rest_1","title":"Rest\u8fc7\u6ee4\u5668\u6a21\u5f0f","text":"<p>\u5728\u6240\u6709\u5141\u8bb8 rest entry (...) \u7684\u5730\u65b9\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5305\u542b glob \u6a21\u5f0f\u6216\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u8fc7\u6ee4\u8981\u663e\u793a\u7684\u9879\u76ee\u3002</p> <p><pre><code>nav:\n    - ... | page-*.md\n    - ... | regex=page-[0-9]+.md\n</code></pre> \u8be5\u8fc7\u6ee4\u5668\u4ec5\u5bf9\u5269\u4f59\u9879\u8fdb\u884c\u64cd\u4f5c\u3002\u8fd9\u610f\u5473\u7740\u5b83\u4e0d\u4f1a\u5305\u62ec\u660e\u786e\u5217\u5728\u5bfc\u822a\u4e2d\u7684\u9879\u76ee\u6216\u88ab\u914d\u7f6e\u4e2d\u8f83\u65e9\u51fa\u73b0\u7684\u5176\u4ed6\u8fc7\u6ee4\u5668\u5339\u914d\u5230\u7684\u9879\u76ee\u3002</p> <p>\u60a8\u8fd8\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u6ca1\u6709\u8fc7\u6ee4\u5668\u7684 rest entry \u4f5c\u4e3a catch-all\uff0c\u63d2\u5165\u672a\u88ab\u4efb\u4f55\u8fc7\u6ee4\u5668\u5339\u914d\u5230\u7684\u6240\u6709\u5185\u5bb9\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#_9","title":"\u8bed\u6cd5\u7ec6\u8282","text":"<p>\u9664\u975e\u8fc7\u6ee4\u5668\u4ee5 <code>regex=</code> \u5f00\u5934\uff0c\u5426\u5219\u5b83\u5c06\u88ab\u89e3\u91ca\u4e3a glob \u6a21\u5f0f\uff0c\u4f46\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>glob=</code> \u663e\u5f0f\u5730\u6307\u5b9a\u3002<code>...</code> \u5468\u56f4\u7684\u7a7a\u683c\u662f\u53ef\u9009\u7684\uff0c\u4f46\u5efa\u8bae\u4e3a\u4e86\u53ef\u8bfb\u6027\u800c\u52a0\u4e0a\u3002</p> <p>\u6ce8\u610f\uff1a\u6839\u636e\u60a8\u8fc7\u6ee4\u5668\u4e2d\u7684\u5b57\u7b26\uff0c\u60a8\u53ef\u80fd\u8fd8\u9700\u8981\u5728\u6574\u4e2a\u6761\u76ee\u5468\u56f4\u4f7f\u7528\u5f15\u53f7\u3002</p> <pre><code>nav:\n    # equivalent glob entries\n    - ... | page-*.md\n    - ... | glob=page-*.md\n    - ...|page-*.md\n    - '... | page-*.md'\n\n    # equivalent regex entries\n    - ... | regex=page-[0-9]+.md\n    - ...|regex=page-[0-9]+.md\n    - '... | regex=page-[0-9]+.md'\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#_10","title":"\u9009\u9879","text":"<p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728 <code>mkdocs.yml</code> \u4e2d\u4f20\u9012\u9009\u9879\u6765\u81ea\u5b9a\u4e49\u63d2\u4ef6\uff1a</p> <pre><code>plugins:\n    - awesome-pages:\n        filename: .index\n        collapse_single_pages: true\n        strict: false\n        order: asc\n        sort_type: natural\n        order_by: title\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#filename","title":"<code>filename</code>","text":"<p>\u7528\u4e8e\u914d\u7f6e\u76ee\u5f55\u9875\u9762\u7684\u6587\u4ef6\u540d\u3002\u9ed8\u8ba4\u4e3a <code>.pages</code>\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#collapse_single_pages","title":"<code>collapse_single_pages</code>","text":"<p>\u542f\u7528\u5355\u4e2a\u5d4c\u5957\u9875\u9762\u7684\u6298\u53e0\u3002\u9ed8\u8ba4\u503c\u4e3a <code>false</code>\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#strict","title":"<code>strict</code>","text":"<p>\u5f53\u51fa\u73b0\u4ee5\u4e0b\u60c5\u51b5\u65f6\uff0c\u8bf7\u5f15\u53d1\u9519\u8bef\u800c\u4e0d\u662f\u8b66\u544a\uff1a</p> <ul> <li><code>arrange</code> entries cannot be found</li> <li><code>nav</code> entries cannot be found</li> </ul> <p>\u9ed8\u8ba4\u4e3a <code>true</code></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#order_sort_type_and_order_by","title":"<code>order</code>, <code>sort_type</code> and <code>order_by</code>","text":"<p>\u6392\u5e8f\u76f8\u5173\u7684\u5168\u5c40\u5c5e\u6027\u503c\u3002\u9ed8\u8ba4\u4e3a <code>None</code> \u6216 <code>filename</code>\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-awsome-page-%E6%8F%92%E4%BB%B6.html#_11","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>mkdocs-awesome-pages-plugin Github\u5730\u5740</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-literate-nav-%E6%8F%92%E4%BB%B6.html","title":"MkDocs literate-nav \u63d2\u4ef6","text":"<p>\u7528\u4e8e MkDocs \u7684\u63d2\u4ef6\uff0c\u53ef\u5728 Markdown \u4e2d\u6307\u5b9a\u5bfc\u822a\u800c\u975e YAML\u3002</p> <p>\u4e0esection-index\u548cgen-files\u914d\u5408\u4f7f\u7528\u6548\u679c\u826f\u597d\uff0c\u53d6\u4ee3\u4e86awesome-pages\u3002</p> <pre><code>pip install mkdocs-literate-nav\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-literate-nav-%E6%8F%92%E4%BB%B6.html#_1","title":"\u7528\u6cd5","text":"<p>\u5728 mkdocs.yml \u4e2d\u6fc0\u6d3b\u63d2\u4ef6\uff1a <pre><code>plugins:\n  - search\n  - literate-nav:\n      nav_file: SUMMARY.md\n</code></pre></p> <p>\u5982\u679c\u5bfc\u822a\u680f\u5728\u90a3\u91cc\uff0c\u8bf7\u5220\u9664\u5b83\uff1b\u73b0\u5728\u5c06\u88ab\u5ffd\u7565\u3002\uff08\u9664\u975e\u60a8\u60f3\u4fdd\u7559\u5b83\uff1f\uff09</p> \u5bfc\u822a\u680f \u521b\u5efa\u4e00\u4e2a\u6587\u4ef6SUMMARY.md: \u4f7f\u7528mkdoc\u7684yaml\u6587\u4ef6 <p> <ul> <li>Frob</li> <li>Baz</li> <li>Borgs<ul> <li>Bar</li> <li>Foo</li> </ul> </li> </ul> <p> <pre><code>* [Frob](index.md)\n* [Baz](baz.md)\n* [Borgs](borgs/index.md)\n    * [Bar](borgs/bar.md)\n    * [Foo](borgs/foo.md)\n</code></pre> <p> <pre><code>nav:\n  - Frob: index.md\n  - Baz: baz.md\n  - Borgs:\n    - borgs/index.md\n    - Bar: borgs/bar.md\n    - Foo: borgs/foo.md\n</code></pre> <p></p> <p>\u91cd\u8981\u63d0\u793a\uff1a\u5bfc\u822a\u6587\u4ef6\u5fc5\u987b\u653e\u5728<code>docs</code>\u76ee\u5f55\u5185\u3002</p> <p>\u56e0\u6b64\uff0c\u8be5\u63d2\u4ef6\u5141\u8bb8\u60a8\u4f7f\u7528\u94fe\u63a5\u5217\u8868\u6307\u5b9a\u7ad9\u70b9\u7684\u5bfc\u822a\uff0c\u5e76\u6309\u7167\u666e\u901aMarkdown\u89c4\u5219\u8fdb\u884c\u89e3\u6790\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u7f16\u5199Markdown\u7684\u65b9\u5f0f\u4f3c\u4e4e\u8fd8\u5c06\u4e00\u4e2aSection\u4e0e\u9875\u9762\u5173\u8054\u8d77\u6765\u3002MkDocs\u5b9e\u9645\u4e0a\u4e0d\u652f\u6301\u8fd9\u4e00\u70b9\uff0c\u4e5f\u4e0d\u80fd\u76f4\u63a5\u5728YAML\u4e2d\u8868\u793a\u5b83\uff0c\u56e0\u6b64\u8be5\u63d2\u4ef6\u5c1d\u8bd5\u505a\u5230\u6700\u597d\uff1a\u5c06\u94fe\u63a5\u4f5c\u4e3aSection\u7684\u7b2c\u4e00\u9875\u3002\u4f46\u662f\uff0c\u8fd9\u79cd\u7ed3\u6784\u975e\u5e38\u9002\u5408\u4e8esection-index\u63d2\u4ef6\uff0c\u5b83\u53ef\u4ee5\u4f7f\u5176\u6b63\u5e38\u5de5\u4f5c\u3002\u6216\u8005\u60a8\u53ef\u4ee5\u9009\u62e9\u4e0d\u5c06\u94fe\u63a5\u4e0e\u90e8\u5206\u76f8\u5173\u8054\uff1a</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs-literate-nav-%E6%8F%92%E4%BB%B6.html#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>mkdocs-literate-nav Github\u5730\u5740</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html","title":"MkDocs \u63d2\u4ef6","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#_1","title":"\u5b89\u88c5\u63d2\u4ef6","text":"<p>\u5728\u4f7f\u7528\u63d2\u4ef6\u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u5c06\u5176\u5b89\u88c5\u5230\u7cfb\u7edf\u4e2d\u3002\u5982\u679c\u60a8\u6b63\u5728\u4f7f\u7528 <code>MkDocs</code> \u81ea\u5e26\u7684\u63d2\u4ef6\uff0c\u5219\u5728\u5b89\u88c5MkDocs\u65f6\u5df2\u7ecf\u5b8c\u6210\u4e86\u5b89\u88c5\u3002 \u4f46\u662f\uff0c\u8981\u5b89\u88c5\u7b2c\u4e09\u65b9\u63d2\u4ef6\uff0c\u60a8\u9700\u8981\u786e\u5b9a\u9002\u5f53\u7684\u8f6f\u4ef6\u5305\u540d\u79f0\uff0c\u5e76\u4f7f\u7528 <code>pip</code> \u8fdb\u884c\u5b89\u88c5\uff1a <pre><code>pip install mkdocs-foo-plugin\n</code></pre></p> <p>\u6210\u529f\u5b89\u88c5\u63d2\u4ef6\u540e\uff0c\u5b83\u5c31\u53ef\u4ee5\u7acb\u5373\u4f7f\u7528\u4e86\u3002\u53ea\u9700\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u542f\u7528\u5b83\u5373\u53ef\u3002</p> <p>Best-of-MkDocs\u9875\u9762\u5217\u51fa\u4e86\u8bb8\u591a\u53ef\u4ee5\u5b89\u88c5\u548c\u4f7f\u7528\u7684\u63d2\u4ef6\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#_2","title":"\u4f7f\u7528\u63d2\u4ef6","text":"<p>\u8981\u4f7f\u7528\u63d2\u4ef6\uff0c\u60a8\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u542f\u7528\u5b83\u3002\u8fd9\u662f\u901a\u8fc7\u5728 <code>mkdocs.yaml</code> \u4e2d\u7684 <code>plugins</code> \u90e8\u5206\u4e2d\u6dfb\u52a0\u63d2\u4ef6\u540d\u79f0\u6765\u5b8c\u6210\u7684\uff0c\u6b64\u5904\u5217\u51fa\u7684\u63d2\u4ef6\u5fc5\u987b\u5df2\u7ecf\u5b89\u88c5\u3002</p> <p>\u793a\u4f8b\u5982\u4e0b <pre><code>plugins:\n  - search\n  - mkdocs-foo-plugin\n</code></pre></p> <p>\u4e00\u4e9b\u63d2\u4ef6\u53ef\u80fd\u63d0\u4f9b\u81ea\u5df1\u7684\u914d\u7f6e\u9009\u9879\u3002\u5982\u679c\u60a8\u60f3\u8bbe\u7f6e\u4efb\u4f55\u914d\u7f6e\u9009\u9879\uff0c\u90a3\u4e48\u53ef\u4ee5\u5d4c\u5957\u4e00\u4e2a\u952e/\u503c\u6620\u5c04\uff08option_name: option value\uff09\uff0c\u5176\u4e2d\u5305\u542b\u7ed9\u5b9a\u63d2\u4ef6\u652f\u6301\u7684\u4efb\u4f55\u9009\u9879\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u5fc5\u987b\u5728\u63d2\u4ef6\u540d\u79f0\u540e\u9762\u52a0\u4e0a\u5192\u53f7\uff08:\uff09\uff0c\u7136\u540e\u5728\u65b0\u884c\u4e0a\u7f29\u8fdb\u5e76\u7528\u5192\u53f7\u5206\u9694\u9009\u9879\u540d\u79f0\u548c\u503c\u3002\u5982\u679c\u60a8\u60f3\u4e3a\u5355\u4e2a\u63d2\u4ef6\u5b9a\u4e49\u591a\u4e2a\u9009\u9879\uff0c\u5219\u6bcf\u4e2a\u9009\u9879\u90fd\u5fc5\u987b\u5728\u5355\u72ec\u7684\u884c\u4e0a\u5b9a\u4e49\u3002</p> <p>\u793a\u4f8b\u5982\u4e0b <pre><code>plugins:\n  - search\n  - mkdocs-foo-plugin:\n      option_name: option value\n      other_option: other value\n</code></pre> \u6709\u5173\u7279\u5b9a\u63d2\u4ef6\u53ef\u7528\u7684\u914d\u7f6e\u9009\u9879\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u8be5\u63d2\u4ef6\u7684\u6587\u6863\u3002</p> <p>\u6709\u5173\u9ed8\u8ba4\u63d2\u4ef6\u53ca\u5176\u5982\u4f55\u88ab\u8986\u76d6\u7684\u5217\u8868\uff0c\u8bf7\u53c2\u9605\u914d\u7f6e\u6587\u6863\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#_3","title":"\u5f00\u53d1\u63d2\u4ef6","text":"<p>\u4e0eMkDocs\u4e00\u6837\uff0c\u63d2\u4ef6\u5fc5\u987b\u7528Python\u7f16\u5199\u3002\u901a\u5e38\u671f\u671b\u6bcf\u4e2a\u63d2\u4ef6\u4f5c\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684Python\u6a21\u5757\u5206\u53d1\uff0c\u5c3d\u7ba1\u5728\u540c\u4e00\u6a21\u5757\u4e2d\u5b9a\u4e49\u591a\u4e2a\u63d2\u4ef6\u4e5f\u662f\u53ef\u80fd\u7684\u3002\u81f3\u5c11\uff0cMkDocs\u63d2\u4ef6\u5fc5\u987b\u5305\u62ecBasePlugin\u5b50\u7c7b\u548c\u6307\u5411\u5b83\u7684entry point\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#baseplugin","title":"BasePlugin","text":"<p><code>mkdocs.plugins.BasePlugin</code> \u7684\u5b50\u7c7b\u5e94\u8be5\u5b9a\u4e49\u63d2\u4ef6\u7684\u884c\u4e3a\u3002\u8be5\u7c7b\u901a\u5e38\u7531\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u6267\u884c\u7279\u5b9a\u4e8b\u4ef6\u4ee5\u53ca\u9488\u5bf9\u63d2\u4ef6\u7684\u914d\u7f6e\u65b9\u6848\u7ec4\u6210\u3002</p> <p>\u6240\u6709 <code>BasePlugin</code> \u5b50\u7c7b\u90fd\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027\uff1a</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#config_scheme","title":"\u914d\u7f6e\u6a21\u5f0f(config_scheme)","text":"<p>\u4e00\u4e2a\u914d\u7f6e\u9a8c\u8bc1\u5b9e\u4f8b\u7684\u5143\u7ec4\u3002\u6bcf\u4e2a\u6761\u76ee\u5fc5\u987b\u7531\u4e24\u4e2a\u9879\u76ee\u7ec4\u6210\uff0c\u5176\u4e2d\u7b2c\u4e00\u4e2a\u9879\u76ee\u662f\u914d\u7f6e\u9009\u9879\u7684\u5b57\u7b26\u4e32\u540d\u79f0\uff0c\u7b2c\u4e8c\u4e2a\u9879\u76ee\u662f <code>mkdocs.config.config_options.BaseConfigOption</code> \u6216\u5176\u4efb\u4f55\u5b50\u7c7b\u7684\u5b9e\u4f8b\u3002</p> <p>\u4f8b\u5982\uff0c\u4ee5\u4e0b <code>config_scheme</code> \u5b9a\u4e49\u4e86\u4e09\u4e2a\u914d\u7f6e\u9009\u9879\uff1a\u63a5\u53d7\u5b57\u7b26\u4e32\u7c7b\u578b\u503c\u7684 <code>foo</code>\u3001\u63a5\u53d7\u6574\u6570\u7c7b\u578b\u503c\u7684 <code>bar</code> \u548c\u63a5\u53d7\u5e03\u5c14\u7c7b\u578b\u503c\u7684 <code>baz</code>\u3002</p> <pre><code>class MyPlugin(mkdocs.plugins.BasePlugin):\n    config_scheme = (\n        ('foo', mkdocs.config.config_options.Type(str, default='a default value')),\n        ('bar', mkdocs.config.config_options.Type(int, default=0)),\n        ('baz', mkdocs.config.config_options.Type(bool, default=True))\n    )\n</code></pre> <p>\u65b0\u529f\u80fd\uff1a\u7248\u672c1.4\u4e2d\u7684\u65b0\u589e\u5185\u5bb9\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#config","title":"\u901a\u8fc7 <code>Config</code>\u7684\u5b50\u7c7b\u6765\u6307\u5b9a\u914d\u7f6e\u6a21\u5f0f","text":"<p>\u4e3a\u4e86\u83b7\u5f97\u7c7b\u578b\u5b89\u5168\u7684\u597d\u5904\uff0c\u5982\u679c\u4f60\u53ea\u9488\u5bf9MkDocs 1.4+\u8fdb\u884c\u76ee\u6807\u8bbe\u7f6e\uff0c\u8bf7\u5c06\u914d\u7f6e\u6a21\u5f0f\u5b9a\u4e49\u4e3a\u4e00\u4e2a\u7c7b\uff1a</p> <pre><code>class MyPluginConfig(mkdocs.config.base.Config):\n    foo = mkdocs.config.config_options.Type(str, default='a default value')\n    bar = mkdocs.config.config_options.Type(int, default=0)\n    baz = mkdocs.config.config_options.Type(bool, default=True)\n\nclass MyPlugin(mkdocs.plugins.BasePlugin[MyPluginConfig]):\n    ...\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#_4","title":"\u914d\u7f6e\u5b9a\u4e49\u793a\u4f8b","text":"<p>! EXAMPLE:</p> <pre><code>from mkdocs.config import base, config_options as c\n\nclass _ValidationOptions(base.Config):\n    enable = c.Type(bool, default=True)\n    verbose = c.Type(bool, default=False)\n    skip_checks = c.ListOfItems(c.Choice(('foo', 'bar', 'baz')), default=[])\n\nclass MyPluginConfig(base.Config):\n    definition_file = c.File(exists=True)  # required\n    checksum_file = c.Optional(c.File(exists=True))  # can be None but must exist if specified\n    validation = c.SubConfig(_ValidationOptions)\n</code></pre> <p>\u4ece\u7528\u6237\u7684\u89d2\u5ea6\u6765\u770b\uff0cSubConfig\u7c7b\u4f3c\u4e8eType\uff08dict\uff09\uff0c\u53ea\u662f\u5b83\u8fd8\u4fdd\u7559\u4e86\u5b8c\u6574\u7684\u9a8c\u8bc1\u80fd\u529b\uff1a\u60a8\u5b9a\u4e49\u6240\u6709\u6709\u6548\u7684\u952e\u4ee5\u53ca\u6bcf\u4e2a\u503c\u5e94\u8be5\u9075\u5faa\u4ec0\u4e48\u3002</p> <p>\u800cListOfItems\u7c7b\u4f3c\u4e8eType\uff08list\uff09\uff0c\u4f46\u540c\u6837\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u6bcf\u4e2a\u503c\u5fc5\u987b\u9075\u5faa\u7684\u7ea6\u675f\u3002</p> <p>\u8fd9\u63a5\u53d7\u4ee5\u4e0b\u914d\u7f6e\uff1a</p> <pre><code>my_plugin:\n  definition_file: configs/test.ini  # relative to mkdocs.yml\n  validation:\n    enable: !ENV [CI, false]\n    verbose: true\n    skip_checks:\n      - foo\n      - baz\n</code></pre> <p>? EXAMPLE:</p> <pre><code>import numbers\nfrom mkdocs.config import base, config_options as c\n\nclass _Rectangle(base.Config):\n    width = c.Type(numbers.Real)  # required\n    height = c.Type(numbers.Real)  # required\n\nclass MyPluginConfig(base.Config):\n    add_rectangles = c.ListOfItems(c.SubConfig(_Rectangle))  # required\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u590d\u6742\u9879\u5217\u8868\uff0c\u901a\u8fc7\u5c06\u5177\u4f53\u7684 <code>SubConfig</code> \u4f20\u9012\u7ed9 <code>ListOfItems</code> \u6765\u5b9e\u73b0\u3002</p> <p>\u8fd9\u63a5\u53d7\u4ee5\u4e0b\u914d\u7f6e\uff1a</p> <pre><code>my_plugin:\n  add_rectangles:\n    - width: 5\n      height: 7\n    - width: 12\n      height: 2\n</code></pre> <p>\u5f53\u7528\u6237\u7684\u914d\u7f6e\u52a0\u8f7d\u65f6\uff0c\u5c06\u4f7f\u7528\u4e0a\u8ff0\u65b9\u6848\u9a8c\u8bc1\u914d\u7f6e\u5e76\u586b\u5145\u672a\u7531\u7528\u6237\u63d0\u4f9b\u7684\u4efb\u4f55\u8bbe\u7f6e\u7684\u9ed8\u8ba4\u503c\u3002\u9a8c\u8bc1\u7c7b\u53ef\u4ee5\u662f<code>mkdocs.config.config_options</code>\u4e2d\u63d0\u4f9b\u7684\u4efb\u4f55\u7c7b\u6216\u5728\u63d2\u4ef6\u4e2d\u5b9a\u4e49\u7684\u7b2c\u4e09\u65b9\u5b50\u7c7b\u3002</p> <p>\u7531\u7528\u6237\u63d0\u4f9b\u4f46\u672a\u901a\u8fc7\u9a8c\u8bc1\u6216\u672a\u5728\u201cconfig_scheme\u201d\u4e2d\u5b9a\u4e49\u7684\u4efb\u4f55\u8bbe\u7f6e\u90fd\u4f1a\u5f15\u53d1\u4e00\u4e2a <code>mkdocs.config.base.ValidationError</code>\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#config_1","title":"\u914d\u7f6e(config)","text":"<p>\u4e00\u4e2a\u63d2\u4ef6\u914d\u7f6e\u9009\u9879\u7684\u5b57\u5178\uff0c\u7531<code>load_config</code>\u65b9\u6cd5\u5728\u914d\u7f6e\u9a8c\u8bc1\u5b8c\u6210\u540e\u586b\u5145\u3002\u4f7f\u7528\u6b64\u5c5e\u6027\u8bbf\u95ee\u7528\u6237\u63d0\u4f9b\u7684\u9009\u9879\u3002</p> <pre><code>def on_pre_build(self, config, **kwargs):\n    if self.config['baz']:\n        # implement \"baz\" functionality here...\n</code></pre> <p>\u65b0\u529f\u80fd\uff1a1.4 \u7248\u672c\u4e2d\u7684\u65b0\u589e\u5185\u5bb9\u3002</p> <p>\u6240\u6709<code>BasePlugin</code>\u5b50\u7c7b\u90fd\u5305\u542b\u4ee5\u4e0b\u65b9\u6cd5\uff1a</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#_5","title":"\u57fa\u4e8e\u5c5e\u6027\u7684\u5b89\u5168\u8bbf\u95ee","text":"<p>\u4e3a\u4e86\u83b7\u5f97\u7c7b\u578b\u5b89\u5168\u7684\u597d\u5904\uff0c\u5982\u679c\u4f60\u53ea\u9488\u5bf9MkDocs 1.4+\uff0c\u8bf7\u5c06\u9009\u9879\u4f5c\u4e3a\u5c5e\u6027\u8bbf\u95ee\uff1a</p> <pre><code>def on_pre_build(self, config, **kwargs):\n    if self.config.baz:\n        print(self.config.bar ** 2)  # OK, `int ** 2` is valid.\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#load_configoptions","title":"load_config(options)","text":"<p>\u4ece\u9009\u9879\u5b57\u5178\u4e2d\u52a0\u8f7d\u914d\u7f6e\u3002\u8fd4\u56de\u4e00\u4e2a\u5143\u7ec4<code>(errors\uff0cwarnings)</code>\u3002\u6b64\u65b9\u6cd5\u7531MkDocs\u5728\u914d\u7f6e\u9a8c\u8bc1\u671f\u95f4\u8c03\u7528\uff0c\u63d2\u4ef6\u4e0d\u9700\u8981\u8c03\u7528\u5b83\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_","title":"on_() <p>\u53ef\u9009\u65b9\u6cd5\uff0c\u7528\u4e8e\u5b9a\u4e49\u7279\u5b9a\u4e8b\u4ef6\u7684\u884c\u4e3a\u3002\u63d2\u4ef6\u5e94\u5728\u8fd9\u4e9b\u65b9\u6cd5\u4e2d\u5b9a\u4e49\u5176\u884c\u4e3a\u3002\u5c06<code>&lt;event_name&gt;</code>\u66ff\u6362\u4e3a\u5b9e\u9645\u4e8b\u4ef6\u540d\u79f0\u3002\u4f8b\u5982\uff0c<code>pre_build</code>\u4e8b\u4ef6\u5c06\u5728<code>on_pre_build</code>\u65b9\u6cd5\u4e2d\u5b9a\u4e49\u3002</p> <p>\u5927\u591a\u6570\u4e8b\u4ef6\u63a5\u53d7\u4e00\u4e2a\u4f4d\u7f6e\u53c2\u6570\u548c\u5404\u79cd\u5173\u952e\u5b57\u53c2\u6570\u3002\u901a\u5e38\u671f\u671b\u4f4d\u7f6e\u53c2\u6570\u4f1a\u88ab\u63d2\u4ef6\u4fee\u6539\uff08\u6216\u66ff\u6362\uff09\u5e76\u8fd4\u56de\u3002\u5982\u679c\u6ca1\u6709\u8fd4\u56de\u4efb\u4f55\u5185\u5bb9\uff08\u8be5\u65b9\u6cd5\u8fd4\u56de<code>None</code>\uff09\uff0c\u5219\u4f7f\u7528\u539f\u59cb\u672a\u4fee\u6539\u7684\u5bf9\u8c61\u3002\u5173\u952e\u5b57\u53c2\u6570\u4ec5\u63d0\u4f9b\u4e0a\u4e0b\u6587\u548c/\u6216\u63d0\u4f9b\u53ef\u80fd\u7528\u4e8e\u786e\u5b9a\u5982\u4f55\u4fee\u6539\u4f4d\u7f6e\u53c2\u6570\u7684\u6570\u636e\u3002\u6700\u597d\u63a5\u53d7\u5173\u952e\u5b57\u53c2\u6570\u4f5c\u4e3a <code>**kwargs</code> \u3002\u5982\u679c\u5c06\u6765\u7248\u672c\u7684MkDocs\u5411\u67d0\u4e2a\u4e8b\u4ef6\u63d0\u4f9b\u4e86\u5176\u4ed6\u5173\u952e\u5b57\uff0c\u5219\u65e0\u9700\u66f4\u6539\u60a8\u7684\u63d2\u4ef6\u3002</p> <p>\u4f8b\u5982\uff0c\u4ee5\u4e0b\u4e8b\u4ef6\u5c06\u5411\u4e3b\u9898\u914d\u7f6e\u6dfb\u52a0\u4e00\u4e2a\u989d\u5916\u7684\u9759\u6001\u6a21\u677f\uff1a</p> <pre><code>class MyPlugin(BasePlugin):\n    def on_config(self, config, **kwargs):\n        config['theme'].static_templates.add('my_template.html')\n        return config\n</code></pre>  <p>\u65b0\u529f\u80fd\uff1a1.4 \u7248\u672c\u4e2d\u7684\u65b0\u589e\u5185\u5bb9\u3002</p> <p>\u4e3a\u4e86\u83b7\u5f97\u7c7b\u578b\u5b89\u5168\u7684\u597d\u5904\uff0c\u5982\u679c\u4f60\u53ea\u9488\u5bf9MkDocs 1.4+\uff0c\u8bf7\u5c06\u914d\u7f6e\u9009\u9879\u4f5c\u4e3a\u5c5e\u6027\u8bbf\u95ee\uff1a</p> <pre><code>def on_config(self, config: MkDocsConfig):\n    config.theme.static_templates.add('my_template.html')\n    return config\n</code></pre>","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#events","title":"Events","text":"<p>\u6709\u4e09\u79cd\u7c7b\u578b\u7684\u4e8b\u4ef6\uff1a\u5168\u5c40\u4e8b\u4ef6\u3001\u9875\u9762\u4e8b\u4ef6\u548c\u6a21\u677f\u4e8b\u4ef6\u3002 There are three kinds of events: \u5168\u5c40\u4e8b\u4ef6, \u9875\u9762\u4e8b\u4ef6 and \u6a21\u677f\u4e8b\u4ef6.</p> <p>\u67e5\u770b\u6240\u6709\u63d2\u4ef6\u4e8b\u4ef6\u4e4b\u95f4\u5173\u7cfb\u7684\u56fe\u8868</p> <ul> <li>\u4e8b\u4ef6\u672c\u8eab\u4ee5\u9ec4\u8272\u663e\u793a\uff0c\u5e26\u6709\u5b83\u4eec\u7684\u53c2\u6570\u3002</li> <li>\u7bad\u5934\u663e\u793a\u6bcf\u4e2a\u4e8b\u4ef6\u7684\u53c2\u6570\u548c\u8f93\u51fa\u6d41\u3002\u6709\u65f6\u5b83\u4eec\u4f1a\u88ab\u7701\u7565\u3002</li> <li>\u8fd9\u4e9b\u4e8b\u4ef6\u6309\u65f6\u95f4\u987a\u5e8f\u4ece\u4e0a\u5230\u4e0b\u6392\u5217\u3002</li> <li>\u5728\u4ece\u5168\u5c40\u4e8b\u4ef6\u5230\u6bcf\u9875\u4e8b\u4ef6\u7684\u5206\u5272\u5904\u51fa\u73b0\u4e86\u865a\u7ebf\u3002</li> <li>\u70b9\u51fb\u4e8b\u4ef6\u6807\u9898\u4ee5\u8df3\u8f6c\u5230\u5b83\u4eec\u7684\u63cf\u8ff0\u3002</li> </ul> <p></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#one-time_events","title":"\u4e00\u6b21\u6027\u4e8b\u4ef6(One-time Events) <p>\u4e00\u6b21\u6027\u4e8b\u4ef6\u6bcf\u4e2a <code>mkdocs</code> \u8c03\u7528\u53ea\u8fd0\u884c\u4e00\u6b21\u3002</p> <p>The only case where these tangibly differ from global events is for mkdocs serve: global events, unlike these, will run multiple times -- once per build.</p>","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_startup","title":"on_startup","text":"<p>on_startup\u4e8b\u4ef6\u5728mkdocs\u8c03\u7528\u7684\u6700\u5f00\u59cb\u8fd0\u884c\u3002</p> <p>MkDocs 1.4\u4e2d\u65b0\u589e\u529f\u80fd</p> <p>\u5373\u4f7f\u662f\u7a7a\u7684on_startup\u65b9\u6cd5\u7684\u5b58\u5728\uff0c\u4e5f\u5c06\u63d2\u4ef6\u8fc1\u79fb\u5230\u65b0\u7cfb\u7edf\uff0c\u5728\u8be5\u7cfb\u7edf\u4e2d\uff0c\u63d2\u4ef6\u5bf9\u8c61\u5728\u4e00\u4e2amkdocs serve\u5185\u8fdb\u884c\u591a\u6b21\u6784\u5efa\u65f6\u4fdd\u7559\u3002 \u8bf7\u6ce8\u610f\uff0c\u5bf9\u4e8e\u521d\u59cb\u5316\u53d8\u91cf\uff0c\u4ecd\u7136\u9996\u9009__init__\u65b9\u6cd5\u3002\u5bf9\u4e8e\u521d\u59cb\u5316\u6bcf\u4e2a\u6784\u5efa\u53d8\u91cf\uff08\u4ee5\u53ca\u4efb\u4f55\u7591\u95ee\u60c5\u51b5\u4e0b\uff09\uff0c\u8bf7\u4f7f\u7528on_config\u4e8b\u4ef6\u3002</p> <p>\u53c2\u6570\uff1a - command\uff08Literal ['build'\u3001'gh-deploy'\u3001'serve']\uff09-MkDocs\u88ab\u8c03\u7528\u7684\u547d\u4ee4\uff0c\u4f8b\u5982\u201cserve\u201d\u8868\u793amkdocs serve\u3002 - dirty\uff08bool\uff09-\u662f\u5426\u4f20\u9012\u4e86--dirtyreload\u6216--dirty\u6807\u5fd7\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_shutdown","title":"on_shutdown","text":"<p>\u5173\u95ed\u4e8b\u4ef6\u5728mkdocs\u8c03\u7528\u7684\u6700\u540e\u4e00\u6b21\u8fd0\u884c\uff0c\u7136\u540e\u9000\u51fa\u3002 \u6b64\u4e8b\u4ef6\u4ec5\u4e0e\u652f\u6301mkdocs serve\u6709\u5173\uff0c\u5728\u5355\u4e2a\u6784\u5efa\u4e2d\uff0c\u5b83\u65e0\u6cd5\u4e0eon_post_build\u533a\u5206\u5f00\u6765\u3002</p> <p>MkDocs 1.4\u4e2d\u65b0\u589e\u3002</p> <p>\u5373\u4f7f\u662f\u7a7a\u7684\uff0c\u5b58\u5728on_shutdown\u65b9\u6cd5\u4e5f\u5c06\u63d2\u4ef6\u8fc1\u79fb\u5230\u65b0\u7cfb\u7edf\uff0c\u5728\u4e00\u4e2amkdocs serve\u5185\u4fdd\u7559\u63d2\u4ef6\u5bf9\u8c61\u8de8\u591a\u4e2a\u6784\u5efa\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u8bf7\u4ecd\u7136\u9996\u9009\u4f7f\u7528on_post_build\u65b9\u6cd5\u8fdb\u884c\u6e05\u7406\uff0c\u56e0\u4e3a\u5b83\u5b9e\u9645\u89e6\u53d1\u7684\u673a\u4f1a\u8981\u9ad8\u5f97\u591a\u3002 on_shutdown\u662f\u201c\u5c3d\u529b\u800c\u4e3a\u201d\uff0c\u56e0\u4e3a\u5b83\u4f9d\u8d56\u4e8e\u68c0\u6d4bMkDocs\u7684\u4f18\u96c5\u5173\u95ed\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_serve","title":"on_serve","text":"<p>serve\u4e8b\u4ef6\u4ec5\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4f7f\u7528serve\u547d\u4ee4\u65f6\u8c03\u7528\u3002\u5b83\u53ea\u8fd0\u884c\u4e00\u6b21\uff0c\u5728\u7b2c\u4e00\u6b21\u6784\u5efa\u5b8c\u6210\u540e\u8fd0\u884c\u3002\u5b83\u4f20\u9012\u4e86Server\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u5728\u6fc0\u6d3b\u4e4b\u524d\u8fdb\u884c\u4fee\u6539\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5c06\u5176\u4ed6\u6587\u4ef6\u6216\u76ee\u5f55\u6dfb\u52a0\u5230\u201c\u76d1\u89c6\u201d\u6587\u4ef6\u5217\u8868\u4ee5\u8fdb\u884c\u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d\u3002</p> <p>\u53c2\u6570\uff1a - server\uff08LiveReloadServer\uff09- livereload.Server\u5b9e\u4f8b - config\uff08MkDocsConfig\uff09- \u5168\u5c40\u914d\u7f6e\u5bf9\u8c61 - builder\uff08Callable\uff09- \u4e00\u4e2a\u53ef\u8c03\u7528\u7684\u51fd\u6570\uff0c\u4f1a\u88ab\u4f20\u9012\u7ed9\u6bcf\u4e2a\u5bf9server.watch\u7684\u8c03\u7528\u3002 \u8fd4\u56de\u503c\uff1a - Optional [LiveReloadServer] - livereload.Server\u5b9e\u4f8b</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#_6","title":"\u5168\u5c40\u4e8b\u4ef6 <p>\u5728\u6784\u5efa\u8fc7\u7a0b\u7684\u5f00\u59cb\u6216\u7ed3\u675f\u65f6\uff0c\u6bcf\u4e2a\u6784\u5efa\u90fd\u4f1a\u8c03\u7528\u4e00\u6b21\u5168\u5c40\u4e8b\u4ef6\u3002\u5728\u8fd9\u4e9b\u4e8b\u4ef6\u4e2d\u6240\u505a\u7684\u4efb\u4f55\u66f4\u6539\u90fd\u5c06\u5bf9\u6574\u4e2a\u7ad9\u70b9\u4ea7\u751f\u5168\u5c40\u5f71\u54cd\u3002</p>","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_config","title":"on_config","text":"<p>::: mkdocs.plugins.BasePlugin.on_config     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_pre_build","title":"on_pre_build","text":"<p>::: mkdocs.plugins.BasePlugin.on_pre_build     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_files","title":"on_files","text":"<p>::: mkdocs.plugins.BasePlugin.on_files     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_nav","title":"on_nav","text":"<p>::: mkdocs.plugins.BasePlugin.on_nav     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_env","title":"on_env","text":"<p>::: mkdocs.plugins.BasePlugin.on_env     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_post_build","title":"on_post_build","text":"<p>::: mkdocs.plugins.BasePlugin.on_post_build     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_build_error","title":"on_build_error","text":"<p>::: mkdocs.plugins.BasePlugin.on_build_error     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#_7","title":"\u6a21\u677f\u4e8b\u4ef6 <p>Template events are called once for each non-page template. Each template event will be called for each template defined in the extra_templates config setting as well as any static_templates defined in the theme. All template events are called after the env event and before any [page events].</p>","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_pre_template","title":"on_pre_template","text":"<p>::: mkdocs.plugins.BasePlugin.on_pre_template     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_template_context","title":"on_template_context","text":"<p>::: mkdocs.plugins.BasePlugin.on_template_context     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_post_template","title":"on_post_template","text":"<p>::: mkdocs.plugins.BasePlugin.on_post_template     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#_8","title":"\u9875\u9762\u4e8b\u4ef6 <p>Page events are called once for each Markdown page included in the site. All page events are called after the post_template event and before the post_build event.</p>","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_pre_page","title":"on_pre_page","text":"<p>::: mkdocs.plugins.BasePlugin.on_pre_page     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_page_read_source","title":"on_page_read_source","text":"<p>::: mkdocs.plugins.BasePlugin.on_page_read_source     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_page_markdown","title":"on_page_markdown","text":"<p>::: mkdocs.plugins.BasePlugin.on_page_markdown     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_page_content","title":"on_page_content","text":"<p>::: mkdocs.plugins.BasePlugin.on_page_content     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_page_context","title":"on_page_context","text":"<p>::: mkdocs.plugins.BasePlugin.on_page_context     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#on_post_page","title":"on_post_page","text":"<p>::: mkdocs.plugins.BasePlugin.on_post_page     options:         show_root_heading: false         show_root_toc_entry: false</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#event_priorities","title":"Event Priorities","text":"<p>For each event type, corresponding methods of plugins are called in the order that the plugins appear in the <code>plugins</code> config.</p> <p>Since MkDocs 1.4, plugins can choose to set a priority value for their events. Events with higher priority are called first. Events without a chosen priority get a default of 0. Events that have the same priority are ordered as they appear in the config.</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#mkdocspluginsevent_priority","title":"::: mkdocs.plugins.event_priority","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#handling_errors","title":"Handling Errors","text":"<p>MkDocs defines four error types:</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#mkdocsexceptionsmkdocsexception","title":"::: mkdocs.exceptions.MkDocsException","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#mkdocsexceptionsconfigurationerror","title":"::: mkdocs.exceptions.ConfigurationError","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#mkdocsexceptionsbuilderror","title":"::: mkdocs.exceptions.BuildError","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#mkdocsexceptionspluginerror","title":"::: mkdocs.exceptions.PluginError <p>Unexpected and uncaught exceptions will interrupt the build process and produce typical Python tracebacks, which are useful for debugging your code. However, users generally find tracebacks overwhelming and often miss the helpful error message. Therefore, MkDocs will catch any of the errors listed above, retrieve the error message, and exit immediately with only the helpful message displayed to the user.</p> <p>Therefore, you might want to catch any exceptions within your plugin and raise a <code>PluginError</code>, passing in your own custom-crafted message, so that the build process is aborted with a helpful message.</p> <p>The on_build_error event will be triggered for any exception.</p> <p>For example:</p> <pre><code>from mkdocs.exceptions import PluginError\nfrom mkdocs.plugins import BasePlugin\n\n\nclass MyPlugin(BasePlugin):\n    def on_post_page(self, output, page, config, **kwargs):\n        try:\n            # some code that could throw a KeyError\n            ...\n        except KeyError as error:\n            raise PluginError(str(error))\n\n    def on_build_error(self, error, **kwargs):\n        # some code to clean things up\n        ...\n</code></pre>","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#entry_point","title":"Entry Point","text":"<p>Plugins need to be packaged as Python libraries (distributed on PyPI separate from MkDocs) and each must register as a Plugin via a setuptools <code>entry_points</code>. Add the following to your <code>setup.py</code> script:</p> <pre><code>entry_points={\n    'mkdocs.plugins': [\n        'pluginname = path.to.some_plugin:SomePluginClass',\n    ]\n}\n</code></pre> <p>The <code>pluginname</code> would be the name used by users (in the config file) and <code>path.to.some_plugin:SomePluginClass</code> would be the importable plugin itself (<code>from path.to.some_plugin import SomePluginClass</code>) where <code>SomePluginClass</code> is a subclass of BasePlugin which defines the plugin behavior. Naturally, multiple Plugin classes could exist in the same module. Simply define each as a separate entry point.</p> <pre><code>entry_points={\n    'mkdocs.plugins': [\n        'featureA = path.to.my_plugins:PluginA',\n        'featureB = path.to.my_plugins:PluginB'\n    ]\n}\n</code></pre> <p>Note that registering a plugin does not activate it. The user still needs to tell MkDocs to use it via the config.</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%8F%92%E4%BB%B6.html#_9","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>MkDocs\u63d2\u4ef6</li> <li>MkDocs\u975e\u5b98\u65b9\u4e2d\u6587\u6587\u6863, by zimocode</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E6%BA%90%E7%A0%81.html","title":"mkdocs\u6e90\u7801\u89e3\u6790","text":"<p>MkDocs\u662f\u4e00\u79cd\u57fa\u4e8eMarkdown\u548cPython\u7684\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5668\uff0c\u5b83\u53ef\u4ee5\u5c06Markdown\u6587\u4ef6\u8f6c\u6362\u4e3a\u9759\u6001\u7f51\u7ad9\uff0c\u5e76\u652f\u6301\u5f88\u591a\u529f\u80fd\uff0c\u4f8b\u5982\u5185\u7f6e\u641c\u7d22\u3001\u81ea\u5b9a\u4e49\u4e3b\u9898\u3001\u591a\u8bed\u8a00\u652f\u6301\u7b49\u3002\u4e0b\u9762\u6211\u4eec\u6765\u8bb2\u89e3\u4e00\u4e0bMkDocs\u7684\u6e90\u4ee3\u7801\u3002</p> <p>MkDocs\u7684\u6e90\u4ee3\u7801\u662f\u4f7f\u7528Python\u7f16\u5199\u7684\uff0c\u53ef\u4ee5\u5728GitHub\u4e0a\u627e\u5230\u5b83\u7684\u6e90\u4ee3\u7801\u4ed3\u5e93\uff1ahttps://github.com/mkdocs/mkdocs\u3002\u8be5\u4ee3\u7801\u5e93\u4f7f\u7528MIT\u8bb8\u53ef\u8bc1\uff0c\u610f\u5473\u7740\u5b83\u662f\u81ea\u7531\u548c\u5f00\u653e\u7684\u6e90\u4ee3\u7801\u3002</p> <p>MkDocs\u7684\u6e90\u4ee3\u7801\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u6587\u4ef6\u548c\u76ee\u5f55\uff1a</p> <ul> <li> <p><code>mkdocs\\__main__.py</code>\uff1a\u662fMkDocs\u7684\u547d\u4ee4\u884c\u5165\u53e3\u3002\u5b83\u8d1f\u8d23\u89e3\u6790\u547d\u4ee4\u884c\u53c2\u6570\uff0c\u4ee5\u53ca\u8c03\u7528\u76f8\u5e94\u7684\u547d\u4ee4\u5b9e\u73b0\u7c7b\u6267\u884c\u5bf9\u5e94\u7684\u4efb\u52a1\uff1b</p> </li> <li> <p><code>mkdocs\\commands</code>\uff1a\u5305\u542bMkDocs\u6240\u652f\u6301\u7684\u6240\u6709\u547d\u4ee4\u7684\u5b9e\u73b0\uff0c\u5305\u62ecbuild\u3001serve\u3001new\u3001gh-deploy\u7b49\u3002</p> </li> <li><code>mkdocs\\config</code>:  \u5b83\u5b9a\u4e49\u4e86MkDocs\u7684\u9ed8\u8ba4\u914d\u7f6e\u548c\u7528\u6237\u81ea\u5b9a\u4e49\u914d\u7f6e\uff0c\u652f\u6301\u4ece\u547d\u4ee4\u884c\u53c2\u6570\u548c\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u914d\u7f6e\uff1b</li> <li><code>mkdocs\\contrib</code>: \u76ee\u524d\u53ea\u6709\u641c\u7d22\u63d2\u4ef6\uff0c\u7528\u4e8e\u4e3aMkDocs\u6dfb\u52a0\u5185\u7f6e\u641c\u7d22\u529f\u80fd</li> <li><code>mkdocs\\livereload</code>: \u5305\u542b\u4e86\u4e00\u4e2a\u540d\u4e3alivereload\u7684\u5c0f\u578b\u670d\u52a1\u5668\u7a0b\u5e8f\uff0c\u4e3b\u8981\u7528\u4e8e\u81ea\u52a8\u5237\u65b0\u9759\u6001\u7f51\u7ad9\u548c\u6837\u5f0f\u8868\u3002</li> <li><code>mkdocs\\structure</code>: \u5305\u542b\u4e86MkDocs\u7684\u6570\u636e\u7ed3\u6784\u4e3b\u8981\u5206\u4e3afiles,nav,pages,toc\u3002</li> <li><code>mkdocs\\templates</code>\uff1a\u5305\u542bMkDocs\u9ed8\u8ba4\u4e3b\u9898\u7684\u6a21\u677f\u6587\u4ef6\u3002\u4e3b\u9898\u4f7f\u7528Jinja2\u6a21\u677f\u5f15\u64ce\uff0c\u8fd9\u4e9b\u6587\u4ef6\u53ef\u4ee5\u7528\u4e8e\u81ea\u5b9a\u4e49\u4e3b\u9898\u3002</li> <li><code>mkdocs\\tests</code>:  \u6d4b\u8bd5\u76f8\u5173\u4ee3\u7801</li> <li><code>mkdocs\\themes</code>\uff1a\u5305\u542bMkDocs\u9ed8\u8ba4\u4e3b\u9898\u7684CSS\u3001JavaScript\u548c\u56fe\u50cf\u6587\u4ef6\u3002</li> <li><code>mkdocs\\utils</code>\uff1a\u5305\u542b\u5927\u91cf\u7684\u5171\u7528\u5de5\u5177\u548c\u4fbf\u5229\u51fd\u6570\uff0c\u5982\u6587\u4ef6\u64cd\u4f5c\u3001\u8def\u5f84\u64cd\u4f5c\u3001\u8fdb\u5ea6\u6761\u3001\u65f6\u95f4\u683c\u5f0f\u5316\u3001\u5b57\u7b26\u4e32\u5904\u7406\u7b49\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/03_%E6%96%87%E6%A1%A3%E7%9B%B8%E5%85%B3/mkdocs/mkdocs%E9%83%A8%E7%BD%B2%E5%88%B0github.html","title":"mkdocs\u90e8\u7f72\u5230Github","text":"<p>\u9996\u5148\u9700\u8981\u642d\u5efa\u597d\u4e00\u4e2a Github \u4ed3\u5e93\uff0c\u5c06 <code>mkdoc.yml</code>\u6587\u4ef6\u548c <code>docs</code> \u76ee\u5f55\u548c <code>pip</code> \u4f9d\u8d56\u6587\u4ef6\u63a8\u9001\u5230\u4ed3\u5e93\u4e2d\u3002</p> <p>\u7136\u540e\u521b\u5efa\u4e00\u4e2a\u5206\u652f\u53eb<code>gh-pages</code></p> <p></p> <p>\u7136\u540e\u9700\u8981\u5728 Github \u7684 Settings -&gt; Pages \u4e2d\u542f\u7528 Github Pages\uff0c\u5e76\u5c06\u5206\u652f\u8bbe\u7f6e\u4e3a <code>gh-pages</code></p> <p></p> <p>\u7136\u540e\u5728 Github \u7684 Actions \u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u5de5\u4f5c\u6d41\uff0c\u70b9\u51fb<code>set up a workflow yourself</code></p> <p></p> <p>\u7136\u540e\u5c06\u4e0b\u9762\u7684\u5185\u5bb9\u590d\u5236\u5230\u5de5\u4f5c\u6d41\u4e2d\uff0c\u5e76\u4fdd\u5b58</p> <pre><code># \u8fd9\u662f\u4e00\u4e2a\u57fa\u672c\u7684 Github Actions \u5de5\u4f5c\u6d41\uff0c\u7528\u4e8e\u5728\u6bcf\u6b21\u63d0\u4ea4\u65f6\u81ea\u52a8\u90e8\u7f72\u7f51\u7ad9\n\nname: deploy\n\n# \u63a7\u5236 Github Actions \u5de5\u4f5c\u6d41\u4f55\u65f6\u8fd0\u884c\non:\n  # \u5728\u63a8\u9001\u6216\u62c9\u52a8\u8bf7\u6c42\u4e8b\u4ef6\u4e2d\u89e6\u53d1 Github Action \uff0c\u4f46\u53ea\u9488\u5bf9\u4e3b\u5206\u652f\u3002\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n  # \u5141\u8bb8\u624b\u52a8\u6267\u884c\u8fd9\u4e2a workflow\n  workflow_dispatch:\n\n#  \u4e00\u4e2a workflow \u7684\u8fd0\u884c\u662f\u7531 \u4e00\u4e2a\u6216\u591a\u4e2a job \u7ec4\u6210\u7684\uff0c\u8fd9\u4e9b job \u53ef\u4ee5\u6309\u987a\u5e8f\u8fd0\u884c\uff0c\u4e5f\u53ef\u4ee5\u5e76\u884c\u8fd0\u884c\u3002\njobs:\n  # \u8fd9\u4e2a workflow \u5305\u542b\u4e00\u4e2a\u540d\u4e3a \"build\" \u7684 job\n  build:\n    # \u8fd9\u4e2a job \u7684\u8fd0\u884c\u5668\u662f ubuntu-latest\n    runs-on: ubuntu-latest\n\n    # Steps \u8868\u793a job \u4e2d\u7684\u4e00\u7cfb\u5217\u4efb\u52a1\uff0c\u8fd9\u4e9b\u4efb\u52a1\u5c06\u4f5c\u4e3a job \u7684\u4e00\u90e8\u5206\u88ab\u6267\u884c\n    steps:\n      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it\n      - uses: actions/checkout@v3\n\n      # \u8bbe\u7f6e Python \u73af\u5883\n      - uses: actions/setup-python@v4\n        with:\n          # \u8981\u4f7f\u7528\u7684 Python \u7248\u672c\u7684\u7248\u672c\u8303\u56f4\u6216\u786e\u5207\u7248\u672c\uff0c\u4f7f\u7528 SemVer \u7684\u7248\u672c\u8303\u56f4\u8bed\u6cd5\n          python-version: 3.9 # \u53ef\u9009\uff0c\u9ed8\u8ba4\u503c\u4e3a 3.x\n          cache: pip # \u53ef\u9009\uff0c\u542f\u7528 pip \u4f9d\u8d56\u7f13\u5b58\n\n#      # \u8bbe\u7f6e Node.js \u73af\u5883\n#      - uses: actions/setup-node@v3\n#        with:\n#          # \u8981\u4f7f\u7528\u7684 Node.js \u7248\u672c\u7684\u7248\u672c\u8303\u56f4\u6216\u786e\u5207\u7248\u672c\uff0c\u4f7f\u7528 SemVer \u7684\u7248\u672c\u8303\u56f4\u8bed\u6cd5\n#          node-version: 14.x # \u53ef\u9009\uff0c\u9ed8\u8ba4\u503c\u4e3a 14.x\n\n      # \u5b89\u88c5 Python \u4f9d\u8d56\n      - run: pip install -r requirements.txt\n\n      # \u90e8\u7f72\u7f51\u7ad9\n      - run: mkdocs gh-deploy --force\n</code></pre> <p>\u6700\u540e\u5728 Settings -&gt; Actions -&gt; General \u4e2d\u5c06 <code>Workflow permissions</code>\u7684\u6743\u9650\u8bbe\u7f6e\u6210 <code>Read and write permissions</code>\u3002</p> <p></p> <p>\u521b\u5efa\u597d\u4e4b\u540e\uff0c\u6bcf\u6b21\u63a8\u9001\u5230\u4e3b\u5206\u652f\uff0c\u5c31\u4f1a\u81ea\u52a8\u90e8\u7f72\u7f51\u7ad9\u3002\u4e5f\u53ef\u4ee5\u624b\u52a8\u89e6\u53d1\u5de5\u4f5c\u6d41\uff0c\u5728 Actions \u9875\u9762\u4e2d\u70b9\u51fb<code>Run workflow</code>\uff0c\u9009\u62e9\u8981\u8fd0\u884c\u7684\u5de5\u4f5c\u6d41\uff0c\u7136\u540e\u70b9\u51fb<code>Run workflow</code>\u6309\u94ae\u3002</p> <p></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html","title":"Python\u65e5\u5fd7\u5e93 loguru \u4f7f\u7528\u6559\u7a0b","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_1","title":"\u5b89\u88c5","text":"<pre><code>pip install loguru\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_2","title":"\u7279\u6027","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_3","title":"\u5f00\u7bb1\u5373\u7528\uff0c\u65e0\u9700\u6837\u677f\u6587\u4ef6","text":"<p>Loguru\u7684\u4e3b\u8981\u6982\u5ff5\u662f\u6709\u4e14\u53ea\u6709\u4e00\u4e2a <code>logger</code> \u3002 \u4e3a\u4e86\u65b9\u4fbf\u8d77\u89c1\uff0c\u5b83\u662f\u9884\u5148\u914d\u7f6e\u7684\uff0c\u5e76\u4ece <code>stderr</code> \u5f00\u59cb\u8f93\u51fa\uff08\u4f46\u8fd9\u662f\u5b8c\u5168\u53ef\u914d\u7f6e\u7684\uff09\u3002</p> <pre><code>from loguru import logger\n\nlogger.debug(\"That's it, beautiful and simple logging!\")\n</code></pre> <p><code>logger</code> \u53ea\u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u5b83\u5c06\u65e5\u5fd7\u6d88\u606f\u5206\u6d3e\u7ed9\u5df2\u914d\u7f6e\u7684\u5904\u7406\u7a0b\u5e8f\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#handlerformatterfilter","title":"\u65e0Handler\u3001\u65e0Formatter\u3001\u65e0Filter,\u4e00\u4e2a\u51fd\u6570\u6765\u641e\u5b9a","text":"<p>\u5982\u4f55\u6dfb\u52a0 Handler \uff1f\u5982\u4f55\u8bbe\u7f6e\u65e5\u5fd7\u683c\u5f0f\uff1f\u5982\u4f55\u8fc7\u6ee4\u65e5\u5fd7\u6d88\u606f\uff1f\u5982\u4f55\u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\uff1f</p> <p>\u7b54\u6848\u662f\uff1a <code>add()</code> \u51fd\u6570\u3002</p> <p>\u6dfb\u52a0\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\uff0c\u5c06\u65e5\u5fd7\u6d88\u606f\u53d1\u9001\u5230<code>sink</code>\u3002<code>sink</code>\uff08\u6587\u4ef6\u7c7b\u5bf9\u8c61\u3001\u5b57\u7b26\u4e32\u3001pathlib.Path \u5bf9\u8c61\u3001\u53ef\u8c03\u7528\u5bf9\u8c61\u3001\u534f\u7a0b\u51fd\u6570\u6216 logging.Handler\uff09\u8d1f\u8d23\u63a5\u6536\u683c\u5f0f\u5316\u7684\u65e5\u5fd7\u6d88\u606f\u5e76\u5c06\u5176\u4f20\u64ad\u5230\u9002\u5f53\u7684\u7ec8\u7aef\u7684\u5bf9\u8c61\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_4","title":"\u66f4\u6613\u4e8e\u6587\u4ef6\u65e5\u5fd7\u8bb0\u5f55\uff0c\u652f\u6301\u8f6e\u6362/\u4fdd\u7559/\u538b\u7f29","text":"<p>\u5982\u679c\u60f3\u5c06\u8bb0\u5f55\u7684\u6d88\u606f\u53d1\u9001\u5230\u4e00\u4e2a\u6587\u4ef6\uff0c\u53ea\u9700\u8981\u4f7f\u7528\u5b57\u7b26\u4e32\u8def\u5f84\u4f5c\u4e3a\u63a5\u6536\u5668\u3002\u4e3a\u4e86\u65b9\u4fbf\uff0c\u5b83\u4e5f\u53ef\u4ee5\u81ea\u52a8\u8ba1\u65f6\uff1a</p> <pre><code>logger.add(\"file_{time}.log\")\n</code></pre> <p>\u5982\u679c\u9700\u8981\u8f6e\u8f6c\u65e5\u5fd7\uff0c\u6216\u8005\u5220\u9664\u65e7\u7684\u65e5\u5fd7\uff0c\u6216\u8005\u5728\u5173\u95ed\u65f6\u538b\u7f29\u6587\u4ef6\uff0c\u5b83\u4e5f\u5f88\u5bb9\u6613\u914d\u7f6e\u3002</p> <pre><code>logger.add(\"file_1.log\", rotation=\"500 MB\")  # \u65e5\u5fd7\u6587\u4ef6\u8d85\u8fc7500MB\uff0c\u81ea\u52a8\u8f6e\u8f6c\nlogger.add(\"file_2.log\", rotation=\"12:00\")  # \u6bcf\u592912\u70b9\u8f6e\u8f6c\nlogger.add(\"file_3.log\", rotation=\"1 week\")  # \u6bcf\u5468\u8f6e\u8f6c\n\nlogger.add(\"file_X.log\", retention=\"10 days\")  # \u6bcf\u969410\u5929\u8f6e\u8f6c\n\nlogger.add(\"file_Y.log\", compression=\"zip\")  # \u4f7f\u7528zip\u538b\u7f29\u8f6e\u8f6c\u7684\u65e5\u5fd7\u6587\u4ef6\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_5","title":"\u4f7f\u7528\u5927\u62ec\u53f7\u683c\u5f0f\u5316\u5b57\u7b26\u4e32","text":"<p>Loguru\u559c\u6b22\u66f4\u4f18\u96c5\u548c\u5f3a\u5927\u7684 <code>{}</code> \u683c\u5f0f\uff0c\u800c\u4e0d\u662f <code>%</code> \uff0c\u65e5\u5fd7\u529f\u80fd\u5b9e\u9645\u4e0a\u76f8\u5f53\u4e8e <code>str.format()</code> \u3002</p> <pre><code>logger.info(\"If you're using Python {}, prefer {feature} of course!\", 3.6, feature=\"f-strings\")\n</code></pre> <p>\u6e90\u7801\u89e3\u6790\uff1a \u9996\u5148\u8c03\u7528 <code>info</code>\u65b9\u6cd5, \u5728 <code>loguru._logger.py</code> \u4e2d\u5b9a\u4e49\u5982\u4e0b\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u76f4\u63a5\u8c03\u7528\u4e86 <code>_log</code> \u65b9\u6cd5\uff0c\u5c06\u4e0a\u9762\u65e5\u5fd7\u4e2d\u7684 <code>3.6</code> \u5f53\u4f5c <code>args</code> \u4f20\u5165\uff0c\u5c06 <code>feature=\"f-strings\"</code> \u5f53\u4f5c <code>kwargs</code> \u4f20\u5165\u3002</p> <pre><code>def info(__self, __message, *args, **kwargs):  # noqa: N805\n    r\"\"\"Log ``message.format(*args, **kwargs)`` with severity ``'INFO'``.\"\"\"\n    __self._log(\"INFO\", False, __self._options, __message, args, kwargs)\n</code></pre> <p><code>_log</code>\u65b9\u6cd5\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>    def _log(self, level, from_decorator, options, message, args, kwargs):\n        core = self._core\n\n        if not core.handlers:\n            return\n\n        try:\n            level_id, level_name, level_no, level_icon = core.levels_lookup[level]\n        except (KeyError, TypeError):\n            if isinstance(level, str):\n                raise ValueError(\"Level '%s' does not exist\" % level) from None\n            if not isinstance(level, int):\n                raise TypeError(\n                    \"Invalid level, it should be an integer or a string, not: '%s'\"\n                    % type(level).__name__\n                ) from None\n            if level &lt; 0:\n                raise ValueError(\n                    \"Invalid level value, it should be a positive integer, not: %d\" % level\n                ) from None\n            cache = (None, \"Level %d\" % level, level, \" \")\n            level_id, level_name, level_no, level_icon = cache\n            core.levels_lookup[level] = cache\n\n        if level_no &lt; core.min_level:\n            return\n\n        (exception, depth, record, lazy, colors, raw, capture, patchers, extra) = options\n\n        frame = get_frame(depth + 2)\n\n        try:\n            name = frame.f_globals[\"__name__\"]\n        except KeyError:\n            name = None\n\n        try:\n            if not core.enabled[name]:\n                return\n        except KeyError:\n            enabled = core.enabled\n            if name is None:\n                status = core.activation_none\n                enabled[name] = status\n                if not status:\n                    return\n            else:\n                dotted_name = name + \".\"\n                for dotted_module_name, status in core.activation_list:\n                    if dotted_name[: len(dotted_module_name)] == dotted_module_name:\n                        if status:\n                            break\n                        enabled[name] = False\n                        return\n                enabled[name] = True\n\n        current_datetime = aware_now()\n\n        code = frame.f_code\n        file_path = code.co_filename\n        file_name = basename(file_path)\n        thread = current_thread()\n        process = current_process()\n        elapsed = current_datetime - start_time\n\n        if exception:\n            if isinstance(exception, BaseException):\n                type_, value, traceback = (type(exception), exception, exception.__traceback__)\n            elif isinstance(exception, tuple):\n                type_, value, traceback = exception\n            else:\n                type_, value, traceback = sys.exc_info()\n            exception = RecordException(type_, value, traceback)\n        else:\n            exception = None\n\n        log_record = {\n            \"elapsed\": elapsed,\n            \"exception\": exception,\n            \"extra\": {**core.extra, **context.get(), **extra},\n            \"file\": RecordFile(file_name, file_path),\n            \"function\": code.co_name,\n            \"level\": RecordLevel(level_name, level_no, level_icon),\n            \"line\": frame.f_lineno,\n            \"message\": str(message),\n            \"module\": splitext(file_name)[0],\n            \"name\": name,\n            \"process\": RecordProcess(process.ident, process.name),\n            \"thread\": RecordThread(thread.ident, thread.name),\n            \"time\": current_datetime,\n        }\n\n        if lazy:\n            args = [arg() for arg in args]\n            kwargs = {key: value() for key, value in kwargs.items()}\n\n        if capture and kwargs:\n            log_record[\"extra\"].update(kwargs)\n\n        if record:\n            if \"record\" in kwargs:\n                raise TypeError(\n                    \"The message can't be formatted: 'record' shall not be used as a keyword \"\n                    \"argument while logger has been configured with '.opt(record=True)'\"\n                )\n            kwargs.update(record=log_record)\n\n        if colors:\n            if args or kwargs:\n                colored_message = Colorizer.prepare_message(message, args, kwargs)\n            else:\n                colored_message = Colorizer.prepare_simple_message(str(message))\n            log_record[\"message\"] = colored_message.stripped\n        elif args or kwargs:\n            colored_message = None\n            log_record[\"message\"] = message.format(*args, **kwargs)\n        else:\n            colored_message = None\n\n        if core.patcher:\n            core.patcher(log_record)\n\n        for patcher in patchers:\n            patcher(log_record)\n\n        for handler in core.handlers.values():\n            handler.emit(log_record, level_id, from_decorator, raw, colored_message)\n</code></pre> <p>\u5176\u4e2d <pre><code>        elif args or kwargs:\n            colored_message = None\n            log_record[\"message\"] = message.format(*args, **kwargs)\n</code></pre> \u8fd9\u91cc\u7684 <code>message.format(*args, **kwargs)</code> \u5c31\u662f\u5c06<code>logger.info</code>\u4e2d\u7684<code>args</code>\u548c<code>kwargs</code>\u4f20\u9012\u8fc7\u6765\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_6","title":"\u5728\u7ebf\u7a0b\u6216\u4e3b\u7ebf\u7a0b\u5185\u6355\u83b7\u5f02\u5e38","text":"<p>\u4f60\u6709\u6ca1\u6709\u89c1\u8fc7\u4f60\u7684\u7a0b\u5e8f\u610f\u5916\u5d29\u6e83\uff0c\u800c\u5728\u65e5\u5fd7\u6587\u4ef6\u4e2d\u770b\u4e0d\u5230\u4efb\u4f55\u4e1c\u897f\uff1f\u60a8\u662f\u5426\u6ce8\u610f\u5230\u7ebf\u7a0b\u4e2d\u53d1\u751f\u7684\u5f02\u5e38\u6ca1\u6709\u88ab\u8bb0\u5f55\u4e0b\u6765\uff1f\u8fd9\u53ef\u4ee5\u4f7f\u7528 <code>catch()</code> \u88c5\u9970\u5668/\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u6765\u89e3\u51b3\uff0c\u5b83\u786e\u4fdd\u4efb\u4f55\u9519\u8bef\u90fd\u6b63\u786e\u5730\u4f20\u64ad\u5230 <code>logger</code> \u3002</p> <pre><code>@logger.catch\ndef my_function(x, y, z):\n    # An error? It's caught anyway!\n    return 1 / (x + y + z)\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_7","title":"\u6f02\u4eae\u7684\u989c\u8272\u8bb0\u5f55","text":"<p>\u5982\u679c\u7ec8\u7aef\u517c\u5bb9\uff0c<code>Loguru</code>\u4f1a\u81ea\u52a8\u4e3a\u65e5\u5fd7\u6dfb\u52a0\u989c\u8272\u3002\u53ef\u4ee5\u4f7f\u7528\u6807\u7b7e\u6765\u5b9a\u4e49\u81ea\u5df1\u559c\u6b22\u7684\u6837\u5f0f\u3002 <pre><code>logger.add(sys.stdout, colorize=True, format=\"&lt;green&gt;{time}&lt;/green&gt; &lt;level&gt;{message}&lt;/level&gt;\")\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_8","title":"\u5f02\u6b65\u3001\u7ebf\u7a0b\u5b89\u5168\u3001\u591a\u8fdb\u7a0b\u5b89\u5168","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6dfb\u52a0\u5230 <code>logger</code> \u7684\u6240\u6709\u63a5\u6536\u5668\u90fd\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\u3002\u5b83\u4eec\u4e0d\u662f\u591a\u8fdb\u7a0b\u5b89\u5168\u7684\uff0c\u4f46\u60a8\u53ef\u4ee5 <code>enqueue</code> \u6d88\u606f\u4ee5\u786e\u4fdd\u65e5\u5fd7\u7684\u5b8c\u6574\u6027\u3002\u5982\u679c\u60a8\u60f3\u8981\u5f02\u6b65\u65e5\u5fd7\u8bb0\u5f55\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u76f8\u540c\u7684\u53c2\u6570\u3002 <pre><code>logger.add(\"somefile.log\", enqueue=True)\n</code></pre> \u652f\u6301\u7528\u4f5c\u63a5\u6536\u5668\u7684\u534f\u7a0b\u51fd\u6570\uff0c\u4f7f\u7528 <code>complete()</code>\u5b9e\u73b0\u5f02\u6b65\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_9","title":"\u5b8c\u6574\u7684\u5f02\u5e38\u63cf\u8ff0","text":"<p>\u8bb0\u5f55\u4ee3\u7801\u4e2d\u53d1\u751f\u7684\u5f02\u5e38\u5bf9\u4e8e\u8ddf\u8e2a\u9519\u8bef\u975e\u5e38\u91cd\u8981\uff0c\u4f46\u5982\u679c\u4e0d\u77e5\u9053\u5931\u8d25\u7684\u539f\u56e0\uff0c\u5219\u76f8\u5f53\u65e0\u7528\u3002</p> <p><code>Loguru</code>\u901a\u8fc7\u5141\u8bb8\u663e\u793a\u6574\u4e2a\u5806\u6808\u8ddf\u8e2a\uff08\u5305\u62ec\u53d8\u91cf\u503c\uff09\u6765\u5e2e\u52a9\u60a8\u8bc6\u522b\u95ee\u9898\uff08\u4f7f\u7528\u4e86<code>better_exceptions</code>\u9879\u76ee\uff01\uff09\u3002</p> <p>\u793a\u4f8b\u4ee3\u7801\uff1a <pre><code>logger.add(\"out.log\", backtrace=True, diagnose=True)  # \u6ce8\u610f\uff0c\u53ef\u80fd\u4f1a\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u6cc4\u9732\u654f\u611f\u6570\u636e\n\ndef func(a, b):\n    return a / b\n\ndef nested(c):\n    try:\n        func(5, c)\n    except ZeroDivisionError:\n        logger.exception(\"What?!\")\n\nnested(0)\n</code></pre></p> <p>\u65e5\u5fd7\u5185\u5bb9\uff1a <pre><code>2018-07-17 01:38:43.975 | ERROR    | __main__:nested:10 - What?!\nTraceback (most recent call last):\n\n  File \"test.py\", line 12, in &lt;module&gt;\n    nested(0)\n    \u2514 &lt;function nested at 0x7f5c755322f0&gt;\n\n&gt; File \"test.py\", line 8, in nested\n    func(5, c)\n    \u2502       \u2514 0\n    \u2514 &lt;function func at 0x7f5c79fc2e18&gt;\n\n  File \"test.py\", line 4, in func\n    return a / b\n           \u2502   \u2514 0\n           \u2514 5\n\nZeroDivisionError: division by zero\n</code></pre></p> <p>\u8bf7\u6ce8\u610f\uff0c\u7531\u4e8e\u5e27\u6570\u636e\u4e0d\u53ef\u7528\uff0c\u8be5\u7279\u6027\u5728\u9ed8\u8ba4<code>Python REPL</code>\u4e0a\u4e0d\u8d77\u4f5c\u7528\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_10","title":"\u6839\u636e\u9700\u8981\u8fdb\u884c\u7ed3\u6784\u5316\u65e5\u5fd7\u8bb0\u5f55","text":"<p>\u4f7f\u7528 <code>serialize</code> \u53c2\u6570\uff0c\u6bcf\u4e2a\u65e5\u5fd7\u6d88\u606f\u5728\u53d1\u9001\u5230\u914d\u7f6e\u7684\u63a5\u6536\u5668\u4e4b\u524d\u5c06\u88ab\u8f6c\u6362\u4e3aJSON\u5b57\u7b26\u4e32\u3002</p> <pre><code>logger.add(custom_sink_function, serialize=True)\n</code></pre> <p>\u4f7f\u7528<code>bind()</code>\u65b9\u6cd5\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u989d\u5916\u8bb0\u5f55\u5c5e\u6027\u6765\u4f7f\u65e5\u5fd7\u6d88\u606f\u5177\u6709\u4e0a\u4e0b\u6587\u3002 <pre><code>logger.add(\"file.log\", format=\"{extra[ip]} {extra[user]} {message}\")\ncontext_logger = logger.bind(ip=\"192.168.0.1\", user=\"someone\")\ncontext_logger.info(\"Contextualize your logger easily\")\ncontext_logger.bind(user=\"someone_else\").info(\"Inline binding of extra attribute\")\ncontext_logger.info(\"Use kwargs to add context during formatting: {user}\", user=\"anybody\")\n</code></pre> \u53ef\u4ee5\u4f7f\u7528 <code>contextualize()</code> \u4e34\u65f6\u4fee\u6539\u4e0a\u4e0b\u6587\u672c\u5730\u72b6\u6001\uff1a <pre><code>with logger.contextualize(task=task_id):\n    do_something()\n    logger.info(\"End of task\")\n</code></pre> \u8fd8\u53ef\u4ee5\u901a\u8fc7\u7ec4\u5408 <code>bind()</code> \u548c <code>filter</code> \u5bf9\u65e5\u5fd7\u8fdb\u884c\u66f4\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\uff1a <pre><code>logger.add(\"special.log\", filter=lambda record: \"special\" in record[\"extra\"])\nlogger.debug(\"This message is not logged to the file\")\nlogger.bind(special=True).info(\"This message, though, is logged to the file!\")\n</code></pre> \u6700\u540e\uff0c <code>patch()</code> \u65b9\u6cd5\u5141\u8bb8\u5c06\u52a8\u6001\u503c\u9644\u52a0\u5230\u6bcf\u4e2a\u65b0\u6d88\u606f\u7684<code>record</code>\u5b57\u5178\uff1a <pre><code>logger.add(sys.stderr, format=\"{extra[utc]} {message}\")\nlogger = logger.patch(lambda record: record[\"extra\"].update(utc=datetime.utcnow()))\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_11","title":"\u5ef6\u8fdf\u8ba1\u7b97\u6602\u8d35\u51fd\u6570","text":"<p>\u6709\u65f6\u5019\uff0c\u60a8\u5e0c\u671b\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u8bb0\u5f55\u8be6\u7ec6\u4fe1\u606f\u800c\u4e0d\u5f71\u54cd\u6027\u80fd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>opt()</code> \u65b9\u6cd5\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002 <pre><code>logger.opt(lazy=True).debug(\"If sink level &lt;= DEBUG: {x}\", x=lambda: expensive_function(2**64))\n\n# By the way, \"opt()\" serves many usages\nlogger.opt(exception=True).info(\"Error stacktrace added to the log message (tuple accepted too)\")\nlogger.opt(colors=True).info(\"Per message &lt;blue&gt;colors&lt;/blue&gt;\")\nlogger.opt(record=True).info(\"Display values from the record (eg. {record[thread]})\")\nlogger.opt(raw=True).info(\"Bypass sink formatting\\n\")\nlogger.opt(depth=1).info(\"Use parent stack context (useful within wrapped functions)\")\nlogger.opt(capture=False).info(\"Keyword arguments not added to {dest} dict\", dest=\"extra\")\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_12","title":"\u81ea\u5b9a\u4e49\u65e5\u5fd7\u7ea7\u522b","text":"<p>Loguru\u63d0\u4f9b\u4e86\u6240\u6709\u6807\u51c6\u65e5\u5fd7\u8bb0\u5f55\u7ea7\u522b\uff0c\u5176\u4e2d\u8fd8\u6dfb\u52a0\u4e86 <code>trace()</code> \u548c <code>success()</code> \u3002\u8fd8\u9700\u8981\u5176\u4ed6\u7684\u65e5\u5fd7\u7ea7\u522b\uff0c\u53ea\u9700\u4f7f\u7528 <code>level()</code> \u51fd\u6570\u521b\u5efa\u5b83\u3002</p> <pre><code>new_level = logger.level(\"SNAKY\", no=38, color=\"&lt;yellow&gt;\", icon=\"\ud83d\udc0d\")\n\nlogger.log(\"SNAKY\", \"Here we go!\")\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_13","title":"\u66f4\u597d\u7684\u65e5\u671f\u65f6\u95f4\u5904\u7406","text":"<p>\u6807\u51c6\u65e5\u5fd7\u8bb0\u5f55\u5305\u542b\u8bf8\u5982<code>datefmt</code>\u6216<code>msecs</code>\u3001<code>%(asctime)s</code>\u548c<code>%(created)s</code>\u7b49\u53c2\u6570\uff0c\u4ee5\u53ca\u7f3a\u4e4f\u65f6\u533a\u4fe1\u606f\u7684\u672c\u5730\u65e5\u671f\u65f6\u95f4\u3001\u4e0d\u76f4\u89c2\u7684\u683c\u5f0f\u7b49\u95ee\u9898\u3002Loguru\u89e3\u51b3\u4e86\u8fd9\u4e9b\u95ee\u9898\uff1a</p> <pre><code>logger.add(\"file.log\", format=\"{time:YYYY-MM-DD at HH:mm:ss} | {level} | {message}\")\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_14","title":"\u9002\u7528\u4e8e\u811a\u672c\u548c\u5e93","text":"<p>\u5728\u811a\u672c\u4e2d\u4f7f\u7528\u65e5\u5fd7\u8bb0\u5f55\u5668\u5f88\u5bb9\u6613\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u542f\u52a8\u65f6\u8fdb\u884c<code>configure()</code>\u914d\u7f6e\u3002\u5982\u679c\u8981\u4ece\u5e93\u5185\u90e8\u4f7f\u7528<code>Loguru</code>\uff0c\u8bf7\u8bb0\u4f4f\u6c38\u8fdc\u4e0d\u8981\u8c03\u7528<code>add()</code>\uff0c\u800c\u662f\u4f7f\u7528<code>disable()</code>\u4f7f\u65e5\u5fd7\u51fd\u6570\u53d8\u4e3a\u5173\u95ed\u3002\u5982\u679c\u5f00\u53d1\u4eba\u5458\u5e0c\u671b\u67e5\u770b\u60a8\u7684\u5e93\u7684\u65e5\u5fd7\uff0c\u5219\u53ef\u4ee5\u518d\u6b21\u542f\u7528<code>enable()</code>\u3002</p> <p>\u793a\u4f8b\u4ee3\u7801 <pre><code># For scripts\nconfig = {\n    \"handlers\": [\n        {\"sink\": sys.stdout, \"format\": \"{time} - {message}\"},\n        {\"sink\": \"file.log\", \"serialize\": True},\n    ],\n    \"extra\": {\"user\": \"someone\"}\n}\nlogger.configure(**config)\n\n# For libraries\nlogger.disable(\"my_library\")\nlogger.info(\"No matter added sinks, this message is not displayed\")\nlogger.enable(\"my_library\")\nlogger.info(\"This message however is propagated to the sinks\")\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_15","title":"\u4e0e\u6807\u51c6\u65e5\u5fd7\u8bb0\u5f55\u5b8c\u5168\u517c\u5bb9","text":"<p>\u4f7f\u7528\u5185\u7f6e\u65e5\u5fd7 <code>Handler</code>\u4f5c\u4e3a<code>Loguru</code>\u63a5\u6536\u5668 <pre><code>handler = logging.handlers.SysLogHandler(address=('localhost', 514))\nlogger.add(handler)\n</code></pre></p> <p>\u5c06Loguru\u6d88\u606f\u4f20\u64ad\u5230\u6807\u51c6\u65e5\u5fd7\u8bb0\u5f55 <pre><code>class PropagateHandler(logging.Handler):\n    def emit(self, record):\n        logging.getLogger(record.name).handle(record)\n\nlogger.add(PropagateHandler(), format=\"{message}\")\n</code></pre></p> <p>\u62e6\u622a\u53d1\u5f80Loguru\u63a5\u6536\u5668\u7684\u6807\u51c6\u65e5\u5fd7\u6d88\u606f <pre><code>class InterceptHandler(logging.Handler):\n    def emit(self, record):\n        # Get corresponding Loguru level if it exists.\n        try:\n            level = logger.level(record.levelname).name\n        except ValueError:\n            level = record.levelno\n\n        # Find caller from where originated the logged message.\n        frame, depth = sys._getframe(6), 6\n        while frame and frame.f_code.co_filename == logging.__file__:\n            frame = frame.f_back\n            depth += 1\n\n        logger.opt(depth=depth, exception=record.exc_info).log(level, record.getMessage())\n\nlogging.basicConfig(handlers=[InterceptHandler()], level=0, force=True)\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_16","title":"\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u8fdb\u884c\u4e2a\u6027\u5316\u9ed8\u8ba4\u8bbe\u7f6e","text":"<pre><code># Linux / OSX\nexport LOGURU_FORMAT=\"{time} | &lt;lvl&gt;{message}&lt;/lvl&gt;\"\n\n# Windows\nsetx LOGURU_DEBUG_COLOR \"&lt;green&gt;\"\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_17","title":"\u65b9\u4fbf\u7684\u89e3\u6790\u5668","text":"<p>\u4ece\u751f\u6210\u7684\u65e5\u5fd7\u4e2d\u63d0\u53d6\u7279\u5b9a\u4fe1\u606f\u901a\u5e38\u5f88\u6709\u7528\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48Loguru\u63d0\u4f9b\u4e86\u4e00\u4e2a<code>parse()</code>\u65b9\u6cd5\u6765\u5904\u7406\u65e5\u5fd7\u548c\u6b63\u5219\u8868\u8fbe\u5f0f\u3002 <pre><code>pattern = r\"(?P&lt;time&gt;.*) - (?P&lt;level&gt;[0-9]+) - (?P&lt;message&gt;.*)\"  # Regex with named groups\ncaster_dict = dict(time=dateutil.parser.parse, level=int)        # Transform matching groups\n\nfor groups in logger.parse(\"file.log\", pattern, cast=caster_dict):\n    print(\"Parsed:\", groups)\n    # {\"level\": 30, \"message\": \"Log example\", \"time\": datetime(2018, 12, 09, 11, 23, 55)}\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_18","title":"\u5168\u9762\u901a\u77e5\u5668","text":"<p><code>Loguru</code> \u53ef\u4ee5\u8f7b\u677e\u5730\u4e0e\u5f3a\u5927\u7684 <code>notifiers</code> \u5e93\uff08\u5fc5\u987b\u5355\u72ec\u5b89\u88c5\uff09\u7ed3\u5408\u4f7f\u7528\uff0c\u4ee5\u4fbf\u5728\u7a0b\u5e8f\u610f\u5916\u5931\u8d25\u65f6\u63a5\u6536\u7535\u5b50\u90ae\u4ef6\u6216\u53d1\u9001\u8bb8\u591a\u5176\u4ed6\u7c7b\u578b\u7684\u901a\u77e5\u3002 <pre><code>import notifiers\n\nparams = {\n    \"username\": \"you@gmail.com\",\n    \"password\": \"abc123\",\n    \"to\": \"dest@gmail.com\"\n}\n\n# Send a single notification\nnotifier = notifiers.get_notifier(\"gmail\")\nnotifier.notify(message=\"The application is running!\", **params)\n\n# Be alerted on each error message\nfrom notifiers.logging import NotificationHandler\n\nhandler = NotificationHandler(\"gmail\", defaults=params)\nlogger.add(handler, level=\"ERROR\")\n</code></pre></p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/08_%E6%97%A5%E5%BF%97/loguru.html#_19","title":"\u53c2\u8003\u94fe\u63a5\uff1a","text":"<ul> <li>loguru</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/09_%E7%88%AC%E8%99%AB/beautifulsoup/index.html","title":"beautifulsoup \u7528\u6cd5","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/09_%E7%88%AC%E8%99%AB/requests/index.html","title":"requests\u7528\u6cd5","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/09_%E7%88%AC%E8%99%AB/scrapy/index.html","title":"scrapy\u6846\u67b6","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/09_%E7%88%AC%E8%99%AB/selenium/index.html","title":"selenium\u6846\u67b6","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/09_%E7%88%AC%E8%99%AB/xpath/index.html","title":"xpath\u7528\u6cd5","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/14_%E5%85%B6%E4%BB%96/%E7%94%9F%E6%88%90Python%E7%B1%BB%E5%9B%BE.html","title":"\u751f\u6210Python\u7c7b\u56fe","text":"<p>\u5728 pylint \u4e2d\uff0cpyreverse \u547d\u4ee4\u53ef\u4ee5\u5206\u6790\u6e90\u4ee3\u7801\u5e76\u751f\u6210\u5305\u548c\u7c7b\u56fe\u3002</p> <p>\u9996\u5148\u9700\u8981\u5b89\u88c5 pylint\uff1a</p> <pre><code>pip install pylint\n</code></pre> <p>pyreverse \u7528\u6cd5\u8bf4\u660e\u5982\u4e0b\uff1a <pre><code>$ pyreverse -h\n\u4f7f\u7528\u65b9\u6cd5\uff1apyreverse [\u9009\u9879]\n\n\u4e3a&lt;\u5305&gt;\u4e2d\u7684\u7c7b\u548c\u6a21\u5757\u521b\u5efaUML\u56fe\u3002\n\n\u9009\u9879\uff1a\n  -h, --help            \u663e\u793a\u6b64\u5e2e\u52a9\u4fe1\u606f\u5e76\u9000\u51fa\n\nPyreverse\uff1a\n  \u4e3apyreverse\u547d\u4ee4\u63d0\u4f9b\u516c\u5171\u884c\u4e3a\u7684\u57fa\u7c7b\u3002\n\n  --filter-mode &lt;mode&gt;, -f &lt;mode&gt;\n                        \u6839\u636e\u6a21\u5f0f\u8fc7\u6ee4\u5c5e\u6027\u548c\u51fd\u6570\u3002&lt;mode&gt;\u7684\u6b63\u786e\u6a21\u5f0f\u6709\uff1a'PUB_ONLY' \u8fc7\u6ee4\u6240\u6709\u975e\u516c\u5171\u5c5e\u6027[\u9ed8\u8ba4]\uff0c\u7b49\u540c\u4e8ePRIVATE+SPECIAL_A 'ALL' \u4e0d\u8fc7\u6ee4\n                        'SPECIAL' \u8fc7\u6ee4Python\u7279\u6b8a\u51fd\u6570\uff0c\u4e0d\u5305\u62ec\u6784\u9020\u51fd\u6570 'OTHER' \u8fc7\u6ee4\u53d7\u4fdd\u62a4\u548c\u79c1\u6709\u7684\u5c5e\u6027\uff08\u9ed8\u8ba4\uff1aPUB_ONLY\uff09\n  --class &lt;class&gt;, -c &lt;class&gt;\n                        \u521b\u5efa\u4e00\u4e2a\u7c7b\u56fe\uff0c\u5305\u542b\u4e0e&lt;class&gt;\u76f8\u5173\u7684\u6240\u6709\u7c7b\uff1b\u8fd9\u9ed8\u8ba4\u4f7f\u7528\u9009\u9879-ASmy\uff08\u9ed8\u8ba4\uff1a[]\uff09\n  --show-ancestors &lt;ancestor&gt;, -a &lt;ancestor&gt;\n                        \u663e\u793a&lt;ancestor&gt;\u4ee3\u7956\u5148\u7c7b\uff0c\u8fd9\u4e9b\u7c7b\u4e0d\u5728&lt;\u9879\u76ee&gt;\u4e2d\uff08\u9ed8\u8ba4\uff1aNone\uff09\n  --all-ancestors, -A   \u663e\u793a&lt;\u9879\u76ee&gt;\u4e2d\u6240\u6709\u7c7b\u7684\u6240\u6709\u7956\u5148\uff08\u9ed8\u8ba4\uff1aNone\uff09\n  --show-associated &lt;association_level&gt;, -s &lt;association_level&gt;\n                        \u663e\u793a&lt;association_level&gt;\u7ea7\u522b\u7684\u76f8\u5173\u7c7b\uff0c\u8fd9\u4e9b\u7c7b\u4e0d\u5728&lt;\u9879\u76ee&gt;\u4e2d\uff08\u9ed8\u8ba4\uff1aNone\uff09\n  --all-associated, -S  \u9012\u5f52\u663e\u793a\u6240\u6709\u76f8\u5173\u7c7b\u7684\u6240\u6709\u76f8\u5173\u7c7b\uff08\u9ed8\u8ba4\uff1aNone\uff09\n  --show-builtin, -b    \u5728\u7c7b\u7684\u8868\u793a\u4e2d\u5305\u62ec\u5185\u7f6e\u5bf9\u8c61\uff08\u9ed8\u8ba4\uff1aFalse\uff09\n  --show-stdlib, -L     \u5728\u7c7b\u7684\u8868\u793a\u4e2d\u5305\u62ec\u6807\u51c6\u5e93\u5bf9\u8c61\uff08\u9ed8\u8ba4\uff1aFalse\uff09\n  --module-names &lt;y or n&gt;, -m &lt;y or n&gt;\n                        \u5728\u7c7b\u7684\u8868\u793a\u4e2d\u5305\u62ec\u6a21\u5757\u540d\u79f0\uff08\u9ed8\u8ba4\uff1aNone\uff09\n  --only-classnames, -k\n  --output-directory &lt;output_directory&gt;, -d &lt;output_directory&gt;\n                        \u8bbe\u7f6e\u8f93\u51fa\u76ee\u5f55\u8def\u5f84\u3002\uff08\u9ed8\u8ba4\uff1a\uff09\n  --source-roots &lt;path&gt;[,&lt;path&gt;...]\n                        \u6dfb\u52a0\u8def\u5f84\u5230\u6e90\u6839\u5217\u8868\u4e2d\u3002\u652f\u6301\u901a\u914d\u7b26\u6a21\u5f0f\u3002\u6e90\u6839\u662f\u4e00\u4e2a\u7edd\u5bf9\u8def\u5f84\u6216\u76f8\u5bf9\u4e8e\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u7684\u8def\u5f84\uff0c\u7528\u4e8e\u786e\u5b9a\u4f4d\u4e8e\u6e90\u6839\u4e0b\u7684\u6a21\u5757\u7684\u5305\u547d\u540d\u7a7a\u95f4\u3002\uff08\u9ed8\u8ba4\uff1a\uff08\uff09\uff09\n  --verbose             \u4f7fpyreverse\u66f4\u8be6\u7ec6/\u5065\u8c08\u3002\u4e3b\u8981\u7528\u4e8e\u8c03\u8bd5\u3002\uff08\u9ed8\u8ba4\uff1aFalse\uff09\n</code></pre></p> <p>\u5047\u8bbe\u6211\u6709\u4e00\u4e2a\u540d\u4e3a test.py \u7684\u6587\u4ef6\uff0c\u8fd9\u91cc\u4f7f\u7528 llama_index \u4e2d\u7684\u4ee3\u7801\u4e3a\u4f8b\uff1a <pre><code>import json\nimport textwrap\nimport uuid\nfrom abc import abstractmethod\nfrom dataclasses import dataclass\nfrom enum import Enum, auto\nfrom hashlib import sha256\nfrom io import BytesIO\nfrom typing import TYPE_CHECKING, Any, Dict, List, Optional, Union\n\nfrom dataclasses_json import DataClassJsonMixin\nfrom llama_index.core.bridge.pydantic import BaseModel, Field\nfrom llama_index.core.utils import SAMPLE_TEXT, truncate_text\nfrom typing_extensions import Self\n\n\nfrom haystack.schema import Document as HaystackDocument\nfrom llama_index.core.bridge.langchain import Document as LCDocument\nfrom semantic_kernel.memory.memory_record import MemoryRecord\n\n\n\nclass BaseComponent(BaseModel):\n    \"\"\"Base component object to capture class names.\"\"\"\n\n    class Config:\n        @staticmethod\n        def schema_extra(schema: Dict[str, Any], model: \"BaseComponent\") -&gt; None:\n            \"\"\"Add class name to schema.\"\"\"\n            schema[\"properties\"][\"class_name\"] = {\n                \"title\": \"Class Name\",\n                \"type\": \"string\",\n                \"default\": model.class_name(),\n            }\n\n    @classmethod\n    def class_name(cls) -&gt; str:\n        \"\"\"\n        Get the class name, used as a unique ID in serialization.\n\n        This provides a key that makes serialization robust against actual class\n        name changes.\n        \"\"\"\n        return \"base_component\"\n\n    def json(self, **kwargs: Any) -&gt; str:\n        return self.to_json(**kwargs)\n\n    def dict(self, **kwargs: Any) -&gt; Dict[str, Any]:\n        data = super().dict(**kwargs)\n        data[\"class_name\"] = self.class_name()\n        return data\n\n    def __getstate__(self) -&gt; Dict[str, Any]:\n        state = super().__getstate__()\n\n        # tiktoken is not pickleable\n        # state[\"__dict__\"] = self.dict()\n        state[\"__dict__\"].pop(\"tokenizer\", None)\n\n        # remove local functions\n        keys_to_remove = []\n        for key, val in state[\"__dict__\"].items():\n            if key.endswith(\"_fn\"):\n                keys_to_remove.append(key)\n            if \"&lt;lambda&gt;\" in str(val):\n                keys_to_remove.append(key)\n        for key in keys_to_remove:\n            state[\"__dict__\"].pop(key, None)\n\n        # remove private attributes -- kind of dangerous\n        state[\"__private_attribute_values__\"] = {}\n\n        return state\n\n    def __setstate__(self, state: Dict[str, Any]) -&gt; None:\n        # Use the __dict__ and __init__ method to set state\n        # so that all variable initialize\n        try:\n            self.__init__(**state[\"__dict__\"])  # type: ignore\n        except Exception:\n            # Fall back to the default __setstate__ method\n            super().__setstate__(state)\n\n    def to_dict(self, **kwargs: Any) -&gt; Dict[str, Any]:\n        data = self.dict(**kwargs)\n        data[\"class_name\"] = self.class_name()\n        return data\n\n    def to_json(self, **kwargs: Any) -&gt; str:\n        data = self.to_dict(**kwargs)\n        return json.dumps(data)\n\n    # TODO: return type here not supported by current mypy version\n    @classmethod\n    def from_dict(cls, data: Dict[str, Any], **kwargs: Any) -&gt; Self:  # type: ignore\n        if isinstance(kwargs, dict):\n            data.update(kwargs)\n\n        data.pop(\"class_name\", None)\n        return cls(**data)\n\n    @classmethod\n    def from_json(cls, data_str: str, **kwargs: Any) -&gt; Self:  # type: ignore\n        data = json.loads(data_str)\n        return cls.from_dict(data, **kwargs)\n\nclass ObjectType(str, Enum):\n    TEXT = auto()\n    IMAGE = auto()\n    INDEX = auto()\n    DOCUMENT = auto()\n\nclass RelatedNodeInfo(BaseComponent):\n    node_id: str\n    node_type: Optional[ObjectType] = None\n    metadata: Dict[str, Any] = Field(default_factory=dict)\n    hash: Optional[str] = None\n\n    @classmethod\n    def class_name(cls) -&gt; str:\n        return \"RelatedNodeInfo\"\n\n\nImageType = Union[str, BytesIO]\nRelatedNodeType = Union[RelatedNodeInfo, List[RelatedNodeInfo]]\n\nclass BaseNode(BaseComponent):\n    \"\"\"Base node Object.\n\n    Generic abstract interface for retrievable nodes\n\n    \"\"\"\n\n    class Config:\n        allow_population_by_field_name = True\n        # hash is computed on local field, during the validation process\n        validate_assignment = True\n\n    id_: str = Field(\n        default_factory=lambda: str(uuid.uuid4()), description=\"Unique ID of the node.\"\n    )\n    embedding: Optional[List[float]] = Field(\n        default=None, description=\"Embedding of the node.\"\n    )\n\n    \"\"\"\"\n    metadata fields\n    - injected as part of the text shown to LLMs as context\n    - injected as part of the text for generating embeddings\n    - used by vector DBs for metadata filtering\n\n    \"\"\"\n    metadata: Dict[str, Any] = Field(\n        default_factory=dict,\n        description=\"A flat dictionary of metadata fields\",\n        alias=\"extra_info\",\n    )\n    excluded_embed_metadata_keys: List[str] = Field(\n        default_factory=list,\n        description=\"Metadata keys that are excluded from text for the embed model.\",\n    )\n    excluded_llm_metadata_keys: List[str] = Field(\n        default_factory=list,\n        description=\"Metadata keys that are excluded from text for the LLM.\",\n    )\n    relationships: Dict[NodeRelationship, RelatedNodeType] = Field(\n        default_factory=dict,\n        description=\"A mapping of relationships to other node information.\",\n    )\n\n    @classmethod\n    @abstractmethod\n    def get_type(cls) -&gt; str:\n        \"\"\"Get Object type.\"\"\"\n\n    @abstractmethod\n    def get_content(self, metadata_mode: MetadataMode = MetadataMode.ALL) -&gt; str:\n        \"\"\"Get object content.\"\"\"\n\n    @abstractmethod\n    def get_metadata_str(self, mode: MetadataMode = MetadataMode.ALL) -&gt; str:\n        \"\"\"Metadata string.\"\"\"\n\n    @abstractmethod\n    def set_content(self, value: Any) -&gt; None:\n        \"\"\"Set the content of the node.\"\"\"\n\n    @property\n    @abstractmethod\n    def hash(self) -&gt; str:\n        \"\"\"Get hash of node.\"\"\"\n\n    @property\n    def node_id(self) -&gt; str:\n        return self.id_\n\n    @node_id.setter\n    def node_id(self, value: str) -&gt; None:\n        self.id_ = value\n\n    @property\n    def source_node(self) -&gt; Optional[RelatedNodeInfo]:\n        \"\"\"Source object node.\n\n        Extracted from the relationships field.\n\n        \"\"\"\n        if NodeRelationship.SOURCE not in self.relationships:\n            return None\n\n        relation = self.relationships[NodeRelationship.SOURCE]\n        if isinstance(relation, list):\n            raise ValueError(\"Source object must be a single RelatedNodeInfo object\")\n        return relation\n\n    @property\n    def prev_node(self) -&gt; Optional[RelatedNodeInfo]:\n        \"\"\"Prev node.\"\"\"\n        if NodeRelationship.PREVIOUS not in self.relationships:\n            return None\n\n        relation = self.relationships[NodeRelationship.PREVIOUS]\n        if not isinstance(relation, RelatedNodeInfo):\n            raise ValueError(\"Previous object must be a single RelatedNodeInfo object\")\n        return relation\n\n    @property\n    def next_node(self) -&gt; Optional[RelatedNodeInfo]:\n        \"\"\"Next node.\"\"\"\n        if NodeRelationship.NEXT not in self.relationships:\n            return None\n\n        relation = self.relationships[NodeRelationship.NEXT]\n        if not isinstance(relation, RelatedNodeInfo):\n            raise ValueError(\"Next object must be a single RelatedNodeInfo object\")\n        return relation\n\n    @property\n    def parent_node(self) -&gt; Optional[RelatedNodeInfo]:\n        \"\"\"Parent node.\"\"\"\n        if NodeRelationship.PARENT not in self.relationships:\n            return None\n\n        relation = self.relationships[NodeRelationship.PARENT]\n        if not isinstance(relation, RelatedNodeInfo):\n            raise ValueError(\"Parent object must be a single RelatedNodeInfo object\")\n        return relation\n\n    @property\n    def child_nodes(self) -&gt; Optional[List[RelatedNodeInfo]]:\n        \"\"\"Child nodes.\"\"\"\n        if NodeRelationship.CHILD not in self.relationships:\n            return None\n\n        relation = self.relationships[NodeRelationship.CHILD]\n        if not isinstance(relation, list):\n            raise ValueError(\"Child objects must be a list of RelatedNodeInfo objects.\")\n        return relation\n\n    @property\n    def ref_doc_id(self) -&gt; Optional[str]:\n        \"\"\"Deprecated: Get ref doc id.\"\"\"\n        source_node = self.source_node\n        if source_node is None:\n            return None\n        return source_node.node_id\n\n    @property\n    def extra_info(self) -&gt; Dict[str, Any]:\n        \"\"\"TODO: DEPRECATED: Extra info.\"\"\"\n        return self.metadata\n\n    def __str__(self) -&gt; str:\n        source_text_truncated = truncate_text(\n            self.get_content().strip(), TRUNCATE_LENGTH\n        )\n        source_text_wrapped = textwrap.fill(\n            f\"Text: {source_text_truncated}\\n\", width=WRAP_WIDTH\n        )\n        return f\"Node ID: {self.node_id}\\n{source_text_wrapped}\"\n\n    def get_embedding(self) -&gt; List[float]:\n        \"\"\"Get embedding.\n\n        Errors if embedding is None.\n\n        \"\"\"\n        if self.embedding is None:\n            raise ValueError(\"embedding not set.\")\n        return self.embedding\n\n    def as_related_node_info(self) -&gt; RelatedNodeInfo:\n        \"\"\"Get node as RelatedNodeInfo.\"\"\"\n        return RelatedNodeInfo(\n            node_id=self.node_id,\n            node_type=self.get_type(),\n            metadata=self.metadata,\n            hash=self.hash,\n        )\n\n\nclass TextNode(BaseNode):\n    text: str = Field(default=\"\", description=\"Text content of the node.\")\n    start_char_idx: Optional[int] = Field(\n        default=None, description=\"Start char index of the node.\"\n    )\n    end_char_idx: Optional[int] = Field(\n        default=None, description=\"End char index of the node.\"\n    )\n    text_template: str = Field(\n        default=DEFAULT_TEXT_NODE_TMPL,\n        description=(\n            \"Template for how text is formatted, with {content} and \"\n            \"{metadata_str} placeholders.\"\n        ),\n    )\n    metadata_template: str = Field(\n        default=DEFAULT_METADATA_TMPL,\n        description=(\n            \"Template for how metadata is formatted, with {key} and \"\n            \"{value} placeholders.\"\n        ),\n    )\n    metadata_seperator: str = Field(\n        default=\"\\n\",\n        description=\"Separator between metadata fields when converting to string.\",\n    )\n\n    @classmethod\n    def class_name(cls) -&gt; str:\n        return \"TextNode\"\n\n    @property\n    def hash(self) -&gt; str:\n        doc_identity = str(self.text) + str(self.metadata)\n        return str(sha256(doc_identity.encode(\"utf-8\", \"surrogatepass\")).hexdigest())\n\n    @classmethod\n    def get_type(cls) -&gt; str:\n        \"\"\"Get Object type.\"\"\"\n        return ObjectType.TEXT\n\n    def get_content(self, metadata_mode: MetadataMode = MetadataMode.NONE) -&gt; str:\n        \"\"\"Get object content.\"\"\"\n        metadata_str = self.get_metadata_str(mode=metadata_mode).strip()\n        if not metadata_str:\n            return self.text\n\n        return self.text_template.format(\n            content=self.text, metadata_str=metadata_str\n        ).strip()\n\n    def get_metadata_str(self, mode: MetadataMode = MetadataMode.ALL) -&gt; str:\n        \"\"\"Metadata info string.\"\"\"\n        if mode == MetadataMode.NONE:\n            return \"\"\n\n        usable_metadata_keys = set(self.metadata.keys())\n        if mode == MetadataMode.LLM:\n            for key in self.excluded_llm_metadata_keys:\n                if key in usable_metadata_keys:\n                    usable_metadata_keys.remove(key)\n        elif mode == MetadataMode.EMBED:\n            for key in self.excluded_embed_metadata_keys:\n                if key in usable_metadata_keys:\n                    usable_metadata_keys.remove(key)\n\n        return self.metadata_seperator.join(\n            [\n                self.metadata_template.format(key=key, value=str(value))\n                for key, value in self.metadata.items()\n                if key in usable_metadata_keys\n            ]\n        )\n\n    def set_content(self, value: str) -&gt; None:\n        \"\"\"Set the content of the node.\"\"\"\n        self.text = value\n\n    def get_node_info(self) -&gt; Dict[str, Any]:\n        \"\"\"Get node info.\"\"\"\n        return {\"start\": self.start_char_idx, \"end\": self.end_char_idx}\n\n    def get_text(self) -&gt; str:\n        return self.get_content(metadata_mode=MetadataMode.NONE)\n\n    @property\n    def node_info(self) -&gt; Dict[str, Any]:\n        \"\"\"Deprecated: Get node info.\"\"\"\n        return self.get_node_info()\n\n\nclass Document(TextNode):\n    \"\"\"Generic interface for a data document.\n\n    This document connects to data sources.\n\n    \"\"\"\n\n    # TODO: A lot of backwards compatibility logic here, clean up\n    id_: str = Field(\n        default_factory=lambda: str(uuid.uuid4()),\n        description=\"Unique ID of the node.\",\n        alias=\"doc_id\",\n    )\n\n    _compat_fields = {\"doc_id\": \"id_\", \"extra_info\": \"metadata\"}\n\n    @classmethod\n    def get_type(cls) -&gt; str:\n        \"\"\"Get Document type.\"\"\"\n        return ObjectType.DOCUMENT\n\n    @property\n    def doc_id(self) -&gt; str:\n        \"\"\"Get document ID.\"\"\"\n        return self.id_\n\n    def __str__(self) -&gt; str:\n        source_text_truncated = truncate_text(\n            self.get_content().strip(), TRUNCATE_LENGTH\n        )\n        source_text_wrapped = textwrap.fill(\n            f\"Text: {source_text_truncated}\\n\", width=WRAP_WIDTH\n        )\n        return f\"Doc ID: {self.doc_id}\\n{source_text_wrapped}\"\n\n    def get_doc_id(self) -&gt; str:\n        \"\"\"TODO: Deprecated: Get document ID.\"\"\"\n        return self.id_\n\n    def __setattr__(self, name: str, value: object) -&gt; None:\n        if name in self._compat_fields:\n            name = self._compat_fields[name]\n        super().__setattr__(name, value)\n\n    def to_langchain_format(self) -&gt; \"LCDocument\":\n        \"\"\"Convert struct to LangChain document format.\"\"\"\n        from llama_index.core.bridge.langchain import Document as LCDocument\n\n        metadata = self.metadata or {}\n        return LCDocument(page_content=self.text, metadata=metadata)\n\n    @classmethod\n    def from_langchain_format(cls, doc: \"LCDocument\") -&gt; \"Document\":\n        \"\"\"Convert struct from LangChain document format.\"\"\"\n        return cls(text=doc.page_content, metadata=doc.metadata)\n\n    def to_haystack_format(self) -&gt; \"HaystackDocument\":\n        \"\"\"Convert struct to Haystack document format.\"\"\"\n        from haystack.schema import Document as HaystackDocument\n\n        return HaystackDocument(\n            content=self.text, meta=self.metadata, embedding=self.embedding, id=self.id_\n        )\n\n    @classmethod\n    def from_haystack_format(cls, doc: \"HaystackDocument\") -&gt; \"Document\":\n        \"\"\"Convert struct from Haystack document format.\"\"\"\n        return cls(\n            text=doc.content, metadata=doc.meta, embedding=doc.embedding, id_=doc.id\n        )\n\n    def to_embedchain_format(self) -&gt; Dict[str, Any]:\n        \"\"\"Convert struct to EmbedChain document format.\"\"\"\n        return {\n            \"doc_id\": self.id_,\n            \"data\": {\"content\": self.text, \"meta_data\": self.metadata},\n        }\n\n    @classmethod\n    def from_embedchain_format(cls, doc: Dict[str, Any]) -&gt; \"Document\":\n        \"\"\"Convert struct from EmbedChain document format.\"\"\"\n        return cls(\n            text=doc[\"data\"][\"content\"],\n            metadata=doc[\"data\"][\"meta_data\"],\n            id_=doc[\"doc_id\"],\n        )\n\n    def to_semantic_kernel_format(self) -&gt; \"MemoryRecord\":\n        \"\"\"Convert struct to Semantic Kernel document format.\"\"\"\n        import numpy as np\n        from semantic_kernel.memory.memory_record import MemoryRecord\n\n        return MemoryRecord(\n            id=self.id_,\n            text=self.text,\n            additional_metadata=self.get_metadata_str(),\n            embedding=np.array(self.embedding) if self.embedding else None,\n        )\n\n    @classmethod\n    def from_semantic_kernel_format(cls, doc: \"MemoryRecord\") -&gt; \"Document\":\n        \"\"\"Convert struct from Semantic Kernel document format.\"\"\"\n        return cls(\n            text=doc._text,\n            metadata={\"additional_metadata\": doc._additional_metadata},\n            embedding=doc._embedding.tolist() if doc._embedding is not None else None,\n            id_=doc._id,\n        )\n\n    def to_vectorflow(self, client: Any) -&gt; None:\n        \"\"\"Send a document to vectorflow, since they don't have a document object.\"\"\"\n        # write document to temp file\n        import tempfile\n\n        with tempfile.NamedTemporaryFile() as f:\n            f.write(self.text.encode(\"utf-8\"))\n            f.flush()\n            client.embed(f.name)\n\n    @classmethod\n    def example(cls) -&gt; \"Document\":\n        return Document(\n            text=SAMPLE_TEXT,\n            metadata={\"filename\": \"README.md\", \"category\": \"codebase\"},\n        )\n\n    @classmethod\n    def class_name(cls) -&gt; str:\n        return \"Document\"\n</code></pre></p> <p>\u6267\u884c\u547d\u4ee4 <pre><code>pyreverse -ASmy -o png test.py\n</code></pre> \u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u751f\u6210\u4e00\u4e2a <code>classes.png</code> \u6587\u4ef6\uff0c \u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u4f46\u662f\u8fd9\u4e2a\u56fe\u4f1a\u663e\u793a\u6bd4\u8f83\u591a\u7684\u7c7b\uff0c\u6211\u53ea\u60f3\u67e5\u770b\u4e00\u4e9b\u7279\u5b9a\u7684\u7c7b\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7 <code>-o mmd</code> \u6765\u751f\u6210 Mermaid \u683c\u5f0f\u7684\u56fe\uff0c\u9ed8\u8ba4\u4f1a\u751f\u6210\u591a\u4e2a mmd \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u6211\u8fd9\u91cc\u5728<code>Document.mmd</code>\u4f1a\u663e\u793a\u6240\u6709\u7684\u7c7b\u3002 <pre><code>pyreverse -c BaseComponent,BaseNode,TextNode,Document -o mmd test.py\n</code></pre></p> <p>Document.mmd\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>classDiagram\n  class BaseModel {\n    model_computed_fields : ClassVar[dict[str, ComputedFieldInfo]]\n    model_config : ClassVar[ConfigDict]\n    model_extra\n    model_fields : ClassVar[dict[str, FieldInfo]]\n    model_fields_set\n    construct(_fields_set: set[str] | None) Model\n    copy() Model\n    dict() typing.Dict[str, Any]\n    from_orm(obj: Any) Model\n    json() str\n    model_construct(_fields_set: set[str] | None) Model\n    model_copy() Model\n    model_dump() dict[str, Any]\n    model_dump_json() str\n    model_json_schema(by_alias: bool, ref_template: str, schema_generator: type[GenerateJsonSchema], mode: JsonSchemaMode) dict[str, Any]\n    model_parametrized_name(params: tuple[type[Any], ...]) str\n    model_post_init(__context: Any)* None\n    model_rebuild() bool | None\n    model_validate(obj: Any) Model\n    model_validate_json(json_data: str | bytes | bytearray) Model\n    model_validate_strings(obj: Any) Model\n    parse_file(path: str | Path) Model\n    parse_obj(obj: Any) Model\n    parse_raw(b: str | bytes) Model\n    schema(by_alias: bool, ref_template: str) typing.Dict[str, Any]\n    schema_json() str\n    update_forward_refs() None\n    validate(value: Any) Model\n  }\n  class BaseConfig {\n    alias_generator : Optional[Callable[[str], str]]\n    allow_inf_nan : bool\n    allow_mutation : bool\n    allow_population_by_field_name : bool\n    anystr_lower : bool\n    anystr_strip_whitespace : bool\n    anystr_upper : bool\n    arbitrary_types_allowed : bool\n    copy_on_model_validation : Literal['none', 'deep', 'shallow']\n    error_msg_templates : Dict[str, str]\n    extra\n    fields : Dict[str, Union[str, Dict[str, str]]]\n    frozen : bool\n    getter_dict : Type[GetterDict]\n    json_dumps : Callable[..., str]\n    json_encoders : Dict[Union[Type[Any], str, ForwardRef], AnyCallable]\n    json_loads : Callable[[str], Any]\n    keep_untouched : Tuple[type, ...]\n    max_anystr_length : Optional[int]\n    min_anystr_length : int\n    orm_mode : bool\n    post_init_call : Literal['before_validation', 'after_validation']\n    schema_extra : Union[Dict[str, Any], 'SchemaExtraCallable']\n    smart_union : bool\n    title : Optional[str]\n    underscore_attrs_are_private : bool\n    use_enum_values : bool\n    validate_all : bool\n    validate_assignment : bool\n    get_field_info(name: str) Dict[str, Any]\n    prepare_field(field: 'ModelField')* None\n  }\n  class Extra {\n    name\n  }\n  class BaseModel {\n    Config\n    construct(_fields_set: Optional['SetStr']) 'Model'\n    copy() 'Model'\n    dict() 'DictStrAny'\n    from_orm(obj: Any) 'Model'\n    json() str\n    parse_file(path: Union[str, Path]) 'Model'\n    parse_obj(obj: Any) 'Model'\n    parse_raw(b: StrBytes) 'Model'\n    schema(by_alias: bool, ref_template: str) 'DictStrAny'\n    schema_json() str\n    update_forward_refs() None\n    validate(value: Any) 'Model'\n  }\n  class Representation {\n  }\n  class BaseComponent {\n    class_name() str\n    dict() Dict[str, Any]\n    from_dict(data: Dict[str, Any]) Self\n    from_json(data_str: str) Self\n    json() str\n    to_dict() Dict[str, Any]\n    to_json() str\n  }\n  class BaseNode {\n    child_nodes\n    embedding : Optional[List[float]]\n    excluded_embed_metadata_keys : List[str]\n    excluded_llm_metadata_keys : List[str]\n    extra_info\n    hash\n    id_ : str\n    metadata : Dict[str, Any]\n    next_node\n    node_id\n    parent_node\n    prev_node\n    ref_doc_id\n    relationships : Dict[NodeRelationship, RelatedNodeType]\n    source_node\n    as_related_node_info() RelatedNodeInfo\n    get_content(metadata_mode: MetadataMode)* str\n    get_embedding() List[float]\n    get_metadata_str(mode: MetadataMode)* str\n    get_type()* str\n    set_content(value: Any)* None\n  }\n  class Document {\n    doc_id\n    id_ : str\n    class_name() str\n    example() 'Document'\n    from_embedchain_format(doc: Dict[str, Any]) 'Document'\n    from_haystack_format(doc: 'HaystackDocument') 'Document'\n    from_langchain_format(doc: 'LCDocument') 'Document'\n    from_semantic_kernel_format(doc: 'MemoryRecord') 'Document'\n    get_doc_id() str\n    get_type() str\n    to_embedchain_format() Dict[str, Any]\n    to_haystack_format() 'HaystackDocument'\n    to_langchain_format() 'LCDocument'\n    to_semantic_kernel_format() 'MemoryRecord'\n    to_vectorflow(client: Any) None\n  }\n  class TextNode {\n    end_char_idx : Optional[int]\n    hash\n    metadata_seperator : str\n    metadata_template : str\n    node_info\n    start_char_idx : Optional[int]\n    text : str\n    text_template : str\n    class_name() str\n    get_content(metadata_mode: MetadataMode) str\n    get_metadata_str(mode: MetadataMode) str\n    get_node_info() Dict[str, Any]\n    get_text() str\n    get_type() str\n    set_content(value: str) None\n  }\n  BaseModel --|&gt; Representation\n  BaseComponent --|&gt; BaseModel\n  BaseComponent --|&gt; BaseModel\n  BaseNode --|&gt; BaseComponent\n  Document --|&gt; TextNode\n  TextNode --|&gt; BaseNode\n  BaseConfig --* BaseModel : Config\n  Extra --* BaseConfig : extra\n</code></pre></p> <p>\u5c06\u5176\u4e2d\u4e00\u4e9b\u4e0d\u9700\u8981\u7684\u5185\u5bb9\u5220\u9664\u6389\uff0c\u6574\u7406\u540e\u7684\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>classDiagram\n\n  class BaseComponent {\n    class_name() str\n    dict() Dict[str, Any]\n    from_dict(data: Dict[str, Any]) Self\n    from_json(data_str: str) Self\n    json() str\n    to_dict() Dict[str, Any]\n    to_json() str\n  }\n  class BaseNode {\n    child_nodes\n    embedding : Optional[List[float]]\n    excluded_embed_metadata_keys : List[str]\n    excluded_llm_metadata_keys : List[str]\n    extra_info\n    hash\n    id_ : str\n    metadata : Dict[str, Any]\n    next_node\n    node_id\n    parent_node\n    prev_node\n    ref_doc_id\n    relationships : Dict[NodeRelationship, RelatedNodeType]\n    source_node\n  }\n  class Document {\n    doc_id\n    id_ : str\n  }\n  class TextNode {\n    end_char_idx : Optional[int]\n    hash\n    metadata_seperator : str\n    metadata_template : str\n    node_info\n    start_char_idx : Optional[int]\n    text : str\n    text_template : str\n\n  }\n  BaseNode --|&gt; BaseComponent\n  TextNode --|&gt; BaseNode\n  Document --|&gt; TextNode\n</code></pre></p> <p>\u6e32\u67d3\u540e\u7684\u6548\u679c\u5982\u4e0b\uff1a</p> <pre><code>classDiagram\n\n  class BaseComponent {\n    class_name() str\n    dict() Dict[str, Any]\n    from_dict(data: Dict[str, Any]) Self\n    from_json(data_str: str) Self\n    json() str\n    to_dict() Dict[str, Any]\n    to_json() str\n  }\n  class BaseNode {\n    child_nodes\n    embedding : Optional[List[float]]\n    excluded_embed_metadata_keys : List[str]\n    excluded_llm_metadata_keys : List[str]\n    extra_info\n    hash\n    id_ : str\n    metadata : Dict[str, Any]\n    next_node\n    node_id\n    parent_node\n    prev_node\n    ref_doc_id\n    relationships : Dict[NodeRelationship, RelatedNodeType]\n    source_node\n  }\n  class Document {\n    doc_id\n    id_ : str\n  }\n  class TextNode {\n    end_char_idx : Optional[int]\n    hash\n    metadata_seperator : str\n    metadata_template : str\n    node_info\n    start_char_idx : Optional[int]\n    text : str\n    text_template : str\n\n  }\n  BaseNode --|&gt; BaseComponent\n  TextNode --|&gt; BaseNode\n  Document --|&gt; TextNode</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/10_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/14_%E5%85%B6%E4%BB%96/%E7%94%9F%E6%88%90Python%E7%B1%BB%E5%9B%BE.html#_1","title":"\u53c2\u8003\u94fe\u63a5\uff1a","text":"<ul> <li>pyreverse \u5206\u6790\u60a8\u7684\u6e90\u4ee3\u7801\u5e76\u751f\u6210\u5305\u548c\u7c7b\u56fe\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/11_%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C.html","title":"Python\u8def\u5f84\u64cd\u4f5c","text":"<p>Python\u63d0\u4f9b\u4e86\u5f88\u591a\u5904\u7406\u6587\u4ef6\u8def\u5f84\u7684\u51fd\u6570\u3001\u6a21\u5757\u548c\u5305\uff0c\u4ee5\u4e0b\u662f Python \u4e2d\u4e3b\u8981\u4f7f\u7528\u7684\u6587\u4ef6\u8def\u5f84\u5904\u7406\u6280\u5de7\uff1a</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/11_%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C.html#ospath","title":"<code>os.path</code> \u6a21\u5757","text":"<p><code>os.path</code> \u6a21\u5757\u662fPython\u7684\u6807\u51c6\u5e93\u4e4b\u4e00\uff0c\u63d0\u4f9b\u4e86\u5f88\u591a\u80fd\u591f\u5904\u7406\u6587\u4ef6\u8def\u5f84\u7684\u51fd\u6570\u3001\u65b9\u6cd5\u4ee5\u53ca\u5e38\u91cf\u3002\u5176\u4e2d\u5e38\u89c1\u7684\u51fd\u6570\u6709\uff1a</p> <ul> <li><code>os.path.abspath(path)</code>: \u8fd4\u56de <code>path</code> \u53c2\u6570\u7684\u7edd\u5bf9\u8def\u5f84\u5f62\u5f0f\u3002</li> <li><code>os.path.basename(path)</code>: \u8fd4\u56de <code>path</code> \u53c2\u6570\u6700\u540e\u90e8\u5206\u7684\u6587\u4ef6\u540d\uff0c\u4f8b\u5982 <code>/usr/bin/python</code> \u8fd4\u56de <code>'python'</code>\u3002</li> <li><code>os.path.commonprefix(list)</code>: \u8fd4\u56de <code>list</code> \u53c2\u6570\u4e2d\u7684\u6240\u6709\u8def\u5f84\u7684\u516c\u5171\u524d\u7f00\u3002</li> <li><code>os.path.dirname(path)</code>: \u8fd4\u56de <code>path</code> \u53c2\u6570\u7684\u76ee\u5f55\u540d\u79f0\u3002</li> <li><code>os.path.exists(path)</code>: \u5982\u679c <code>path</code> \u53c2\u6570\u5b58\u5728\uff0c\u8fd4\u56de <code>True</code>\uff0c\u5426\u5219\u8fd4\u56de <code>False</code>\u3002</li> <li><code>os.path.expanduser(path)</code>: \u5c06 <code>~</code> \u5c55\u5f00\u4e3a\u7528\u6237\u76ee\u5f55\u3002</li> <li><code>os.path.expandvars(path)</code>: \u5c06\u73af\u5883\u53d8\u91cf\u5c55\u5f00\u540e\u7684 <code>path</code>\u3002</li> <li><code>os.path.getatime(path)</code>: \u8fd4\u56de <code>path</code> \u53c2\u6570\u4e0a\u6700\u540e\u8bbf\u95ee\u65f6\u95f4\u7684\u65f6\u95f4\u6233\u3002</li> <li><code>os.path.getmtime(path)</code>: \u8fd4\u56de <code>path</code> \u53c2\u6570\u4e0a\u6700\u540e\u4fee\u6539\u65f6\u95f4\u7684\u65f6\u95f4\u6233\u3002</li> <li><code>os.path.getctime(path)</code>: \u8fd4\u56de <code>path</code> \u53c2\u6570\u4e0a\u6700\u540e\u72b6\u6001\u4fee\u6539\u7684\u65f6\u95f4\u6233\u3002</li> <li><code>os.path.getsize(path)</code>: \u8fd4\u56de <code>path</code> \u53c2\u6570\u5bf9\u5e94\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u5355\u4f4d\u4e3a\u5b57\u8282\u3002</li> <li><code>os.path.isabs(path)</code>: \u5982\u679c <code>path</code> \u53c2\u6570\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u8fd4\u56de <code>True</code>\uff0c\u5426\u5219\u8fd4\u56de <code>False</code>\u3002</li> <li><code>os.path.isfile(path)</code>: \u5982\u679c <code>path</code> \u53c2\u6570\u662f\u6587\u4ef6\uff0c\u8fd4\u56de <code>True</code>\uff0c\u5426\u5219\u8fd4\u56de <code>False</code>\u3002</li> <li><code>os.path.isdir(path)</code>: \u5982\u679c <code>path</code> \u53c2\u6570\u662f\u76ee\u5f55\uff0c\u8fd4\u56de <code>True</code>\uff0c\u5426\u5219\u8fd4\u56de <code>False</code>\u3002</li> <li><code>os.path.islink(path)</code>: \u5982\u679c <code>path</code> \u53c2\u6570\u662f\u7b26\u53f7\u94fe\u63a5\uff0c\u8fd4\u56de <code>True</code>\uff0c\u5426\u5219\u8fd4\u56de <code>False</code>\u3002</li> <li><code>os.path.join(path1[, path2[, ...]])</code>: \u5408\u5e76\u591a\u4e2a\u8def\u5f84\u4e3a\u4e00\u4e2a\u8def\u5f84\uff0c\u8fd4\u56de\u5408\u5e76\u540e\u7684\u8def\u5f84\u3002</li> <li><code>os.path.normcase(path)</code>: \u5c06\u8def\u5f84\u8f6c\u6362\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u7684\u6807\u51c6\u8def\u5f84\u683c\u5f0f\u3002</li> <li><code>os.path.normpath(path)</code>: \u683c\u5f0f\u5316\u8def\u5f84\uff0c\u4f7f\u5176\u6b63\u5e38\u5316\u5e76\u8fd4\u56de\u3002</li> <li><code>os.path.realpath(path)</code>: \u8fd4\u56de <code>path</code> \u53c2\u6570\u7684\u771f\u5b9e\u8def\u5f84\u3002</li> <li><code>os.path.relpath(path[, start])</code>: \u8fd4\u56de\u4ece <code>start</code> \u8def\u5f84\u5230 <code>path</code> \u8def\u5f84\u7684\u76f8\u5bf9\u8def\u5f84\u3002</li> <li><code>os.path.samefile(path1, path2)</code>: \u5982\u679c <code>path1</code> \u548c <code>path2</code> \u5bf9\u5e94\u540c\u4e00\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\uff0c\u8fd4\u56de <code>True</code>\uff0c\u5426\u5219\u8fd4\u56de <code>False</code>\u3002</li> <li><code>os.path.split(path)</code>: \u5c06 <code>path</code> \u53c2\u6570\u5207\u5206\u4e3a\u76ee\u5f55\u548c\u6587\u4ef6\u540d\u4e24\u90e8\u5206\u3002</li> <li><code>os.path.splitext(path)</code>: \u5c06 <code>path</code> \u53c2\u6570\u5207\u5206\u4e3a\u6587\u4ef6\u7684\u57fa\u540d\u79f0\u548c\u6269\u5c55\u540d\u4e24\u90e8\u5206\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/11_%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C.html#os","title":"<code>os</code> \u6a21\u5757","text":"<p><code>os</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u8bb8\u591a\u6d3b\u52a8\u7684\u6587\u4ef6\u6307\u9488\u76f8\u5173\u7684\u51fd\u6570\u548c\u5e38\u91cf\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u6587\u4ef6\u6307\u9488\u76f8\u5173\u51fd\u6570\uff1a</p> <ul> <li><code>os.chmod(path, mode)</code>\uff1a\u66f4\u6539\u8def\u5f84\u6307\u5411\u7684\u6587\u4ef6\u7684\u6743\u9650/\u6a21\u5f0f\u3002</li> <li><code>os.chown(path, uid, gid)</code>\uff1a\u66f4\u6539\u8def\u5f84\u6307\u5411\u7684\u6587\u4ef6\u7684\u6240\u6709\u8005\u548c\u7ec4ID\u3002</li> <li><code>os.link(src, dst)</code>\uff1a\u521b\u5efa\u786c\u94fe\u63a5\uff0c\u5c06\u4e00\u4e2a\u6587\u4ef6\u94fe\u63a5\u5230\u53e6\u4e00\u4e2a\u6587\u4ef6\u4e0a\u3002</li> <li><code>os.unlink(path)</code>\uff1a\u5220\u9664\u6587\u4ef6\u3002</li> <li><code>os.remove(path)</code>\uff1a\u5220\u9664\u6587\u4ef6\u3002</li> <li><code>os.mkdir(path, mode=0o777, *, dir_fd=None)</code> \u2013 \u521b\u5efa\u4e00\u4e2a\u76ee\u5f55\u3002mode\u53ef\u4ee5\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u6743\u9650(rwx, r-x\u7b49)\u3002</li> <li><code>os.access(path, mode=os.F_OK)</code>\uff1a\u68c0\u67e5\u5f53\u524d\u7528\u6237\u5bf9\u8def\u5f84\u662f\u5426\u5177\u6709\u7279\u5b9a\u7684\u8bbf\u95ee\u6743\u9650\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/11_%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C.html#shutil","title":"<code>shutil</code> \u6a21\u5757","text":"<p><code>shutil</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u6267\u884c\u9ad8\u7ea7\u6587\u4ef6\u7ba1\u7406\u4efb\u52a1\u7684\u51fd\u6570\u3002\u5c24\u5176\u662f\u590d\u5236\u6587\u4ef6\uff0c\u76ee\u5f55\u800c\u4e0d\u4ec5\u4ec5\u662f\u5355\u4e2a\u6587\u4ef6\u3002\u5b83\u4e5f\u652f\u6301\u9012\u5f52\u64cd\u4f5c\uff0c\u5e76\u53ef\u9009\u62e9\u8fc7\u6ee4\u64cd\u4f5c\uff08\u4f8b\u5982\u53ea\u64cd\u4f5c\u7279\u5b9a\u7c7b\u578b\u7684\u6587\u4ef6\uff09\u3002</p> <p>\u4ee5\u4e0b\u662f <code>shutil</code> \u6a21\u5757\u7684\u4e00\u4e9b\u5e38\u89c1\u51fd\u6570\uff1a</p> <ul> <li><code>shutil.copy(src, dst, *, follow_symlinks=True)</code>\uff1a\u590d\u5236\u6587\u4ef6\u3002</li> <li><code>shutil.copyfile(src, dst, *, follow_symlinks=True)</code>\uff1a\u590d\u5236\u4e00\u4e2a\u666e\u901a\u6587\u4ef6\uff0c\u4e0d\u5305\u62ec\u5143\u6570\u636e\u3002</li> <li><code>shutil.copytree(src, dst, symlinks=False, ignore=None, copy_function=copy2, ignore_dangling_symlinks=False, dirs_exist_ok=False)</code>\uff1a\u9012\u5f52\u5730\u5c06\u4e00\u4e2a\u76ee\u5f55\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u76ee\u5f55\u3002</li> <li><code>shutil.move(src, dst, copy_function=copy2)</code>\uff1a\u5c06\u6587\u4ef6/\u6587\u4ef6\u5939\u4ece src \u79fb\u52a8\u5230 dst\u3002</li> <li><code>shutil.rmtree(path, ignore_errors=False, onerror=None)</code>\uff1a\u5220\u9664\u4e00\u4e2a\u76ee\u5f55\u548c\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u5185\u5bb9\u3002</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/11_%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C.html#pathlib","title":"<code>pathlib</code>\u6a21\u5757","text":"<p><code>pathlib</code> \u662fPython 3.4\u4e2d\u5f15\u5165\u7684\u5904\u7406\u6587\u4ef6\u8def\u5f84\u7684\u6a21\u5757\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9762\u5411\u5bf9\u8c61\u7684\u6587\u4ef6\u7cfb\u7edf\u8def\u5f84API\uff0c\u4ee5\u66f4\u76f4\u89c2\u548c\u6613\u4e8e\u4f7f\u7528\u7684\u65b9\u5f0f\u64cd\u4f5c\u6587\u4ef6\u548c\u76ee\u5f55\u3002</p> <p>\u8be5\u6a21\u5757\u63d0\u4f9b\u8868\u793a\u6587\u4ef6\u7cfb\u7edf\u8def\u5f84\u7684\u7c7b\uff0c\u5176\u8bed\u4e49\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002\u8def\u5f84\u7c7b\u88ab\u5206\u4e3a\u63d0\u4f9b\u7eaf\u8ba1\u7b97\u64cd\u4f5c\u800c\u6ca1\u6709 I/O \u7684 \u7eaf\u8def\u5f84\uff0c\u4ee5\u53ca\u4ece\u7eaf\u8def\u5f84\u7ee7\u627f\u800c\u6765\u4f46\u63d0\u4f9b I/O \u64cd\u4f5c\u7684 \u5177\u4f53\u8def\u5f84\u3002</p> <p></p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u89c1\u7684 <code>Path</code> \u7c7b\u65b9\u6cd5\u548c\u5c5e\u6027\uff1a</p> <ul> <li><code>Path.cwd()</code>\uff1a\u83b7\u53d6\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002</li> <li><code>Path.home()</code>\uff1a\u83b7\u53d6\u5f53\u524d\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u3002</li> <li><code>Path('path/to/file').as_posix()</code>\uff1a\u5c06\u8def\u5f84\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u4f7f\u7528\u659c\u6760 <code>'/'</code> \u5206\u9694\u8def\u5f84\u5143\u7d20\u3002</li> <li><code>Path('path/to/file').as_uri()</code>\uff1a\u5c06\u8def\u5f84\u8f6c\u6362\u4e3a URI\uff08Uniform Resource Identifier\uff09\u5b57\u7b26\u4e32\u3002</li> <li><code>Path('path/to/file').exists()</code>\uff1a\u68c0\u67e5\u8def\u5f84\u5bf9\u5e94\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u662f\u5426\u5b58\u5728\u3002</li> <li><code>Path('path/to/file').is_file()</code>\uff1a\u68c0\u67e5\u8def\u5f84\u5bf9\u5e94\u7684\u662f\u5426\u662f\u6587\u4ef6\u3002</li> <li><code>Path('path/to/file').is_dir()</code>\uff1a\u68c0\u67e5\u8def\u5f84\u5bf9\u5e94\u7684\u662f\u5426\u662f\u76ee\u5f55\u3002</li> <li><code>Path('path/to/file').name</code>\uff1a\u83b7\u53d6\u8def\u5f84\u6700\u540e\u4e00\u90e8\u5206\u7684\u6587\u4ef6\u540d\uff08\u4e0d\u5305\u62ec\u76ee\u5f55\u90e8\u5206\uff09\u3002</li> <li><code>Path('path/to/file').stem</code>\uff1a\u8def\u5f84\u7684\u57fa\u672c\u540d\u79f0\uff08\u4e0d\u5305\u62ec\u7236\u76ee\u5f55\u8def\u5f84\u548c\u6587\u4ef6\u6269\u5c55\u540d\uff09\u3002</li> <li><code>Path('path/to/file').suffix</code>\uff1a\u83b7\u53d6\u8def\u5f84\u6700\u540e\u4e00\u90e8\u5206\u7684\u6587\u4ef6\u540d\u7684\u6269\u5c55\u540d\u3002</li> <li><code>Path('path/to/file').parent</code>\uff1a\u83b7\u53d6\u8def\u5f84\u8868\u793a\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u76f4\u63a5\u7236\u76ee\u5f55\u8def\u5f84\u3002</li> <li><code>Path('path/to/file').parents[n]</code>\uff1a\u83b7\u53d6\u8def\u5f84\u8868\u793a\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u76f4\u63a5\u7236\u76ee\u5f55\u8def\u5f84\u7684\u7236\u8def\u5f84\uff0c\u5176\u4e2d <code>n</code> \u662f\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u8981\u8fd4\u56de\u7684\u7236\u76ee\u5f55\u7684\u5c42\u7ea7\u3002</li> <li><code>Path('path/to/file').resolve()</code>\uff1a\u5c06\u8def\u5f84\u8f6c\u6362\u4e3a\u7edd\u5bf9\u8def\u5f84\u5f62\u5f0f\uff0c\u5e76\u89e3\u51b3\u4efb\u4f55\u7b26\u53f7\u94fe\u63a5\u3002</li> <li><code>Path('path/to/file').is_absolute()</code>\uff1a\u68c0\u67e5\u8def\u5f84\u662f\u5426\u4e3a\u7edd\u5bf9\u8def\u5f84\u3002</li> <li><code>Path('path/to/file').glob('*')</code>\uff1a\u8fd4\u56de\u7b26\u5408\u6307\u5b9a\u901a\u914d\u7b26\u6a21\u5f0f\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8fed\u4ee3\u5668\u3002</li> <li><code>Path('path/to/file').mkdir()</code>\uff1a\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\u3002</li> <li><code>Path('path/to/file').rename('newname')</code>\uff1a\u5c06\u6587\u4ef6\u6216\u76ee\u5f55\u91cd\u547d\u540d\u4e3a\u6307\u5b9a\u7684\u540d\u79f0\u3002</li> <li><code>Path('path/to/file').unlink()</code>\uff1a\u5220\u9664\u8def\u5f84\u8868\u793a\u7684\u6587\u4ef6\u6216\u7b26\u53f7\u94fe\u63a5\u3002</li> </ul> <p><code>Path</code> \u7c7b\u8fd8\u652f\u6301\u5404\u79cd\u5e38\u89c1\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u64cd\u4f5c\uff0c\u4f8b\u5982\uff1a\u6253\u5f00\u6587\u4ef6\u3001\u8ffd\u52a0\u5230\u6587\u4ef6\u3001\u5199\u5165\u6587\u4ef6\u3001\u8bfb\u53d6\u6587\u4ef6\u7b49\u3002</p>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/11_%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/%E8%B7%AF%E5%BE%84%E6%93%8D%E4%BD%9C.html#_1","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Python\u6807\u51c6\u5e93pathlib\u6a21\u5757</li> </ul>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/12_%E7%88%AC%E8%99%AB/selenium%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html","title":"selenium\u91c7\u5751\u8bb0\u5f55","text":""},{"location":"01_Python%E5%9F%BA%E7%A1%80/12_%E7%88%AC%E8%99%AB/selenium%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_1","title":"\u5bfb\u627e\u5143\u7d20","text":"<pre><code>from selenium.webdriver.common.by import By\n\n# \u901a\u8fc7ID\u5bfb\u627e\nele = driver.find_element(By.ID, ele_id)\n\n# \u901a\u8fc7xpath\u5bfb\u627e\nele = driver.find_element(By.XPATH, xpath_value)\n\n# \u901a\u8fc7css selector \u5bfb\u627e\nele = driver.find_element(By.CSS_SELECTOR, css_selector)\n\n# \u901a\u8fc7class name\u5bfb\u627e\nele = driver.find_element(By.CLASS_NAME, class_name)\n\n# \u901a\u8fc7text\u5bfb\u627e\nele = driver.find_element(LINK_TEXT, link_txt)\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/12_%E7%88%AC%E8%99%AB/selenium%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_2","title":"\u663e\u793a\u7b49\u5f85","text":"<pre><code>from selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.support.wait import WebDriverWait\n\n# \u8d85\u65f6\u65f6\u957f\u6700\u5927\u4e3a30s\uff0c\u6bcf\u96940.5s\u67e5\u627e\u5143\u7d20\u4e00\u6b21\uff0c\u901a\u8fc7css selector\u67e5\u627e\u5143\u7d20\nunread_ele = WebDriverWait(driver, 30, 0.5).until(\n    EC.visibility_of_element_located((By.CSS_SELECTOR, unread_css_selector))\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/12_%E7%88%AC%E8%99%AB/selenium%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_3","title":"\u8f93\u5165\u6846\u64cd\u4f5c","text":"<pre><code># \u5bfb\u627e\u5230\u5bf9\u5e94\u7684\u8f93\u5165\u6846\u5143\u7d20 find_element_by_css_selector\u662f\u5bf9find_element\u65b9\u6cd5\u8fdb\u884c\u4e86\u5c01\u88c5\ninput_box = self.find_element_by_css_selector(input_css_selector)\n# \u70b9\u51fb\u8f93\u5165\u6846\ninput_box.click()\n# \u6e05\u7a7a\u8f93\u5165\u6846\ninput_box.clear()\n# \u5411\u8f93\u5165\u6846\u8f93\u5165\u4fe1\u606f\ninput_box.send_keys(msg)\n# \u70b9\u51fb\u53d1\u9001\u6309\u94ae\nself.find_element_by_css_selector(send_btn_css_selector).click()\n# \u6e05\u7a7a\u8f93\u5165\u6846\ninput_box.clear()\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/12_%E7%88%AC%E8%99%AB/selenium%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#javascript","title":"\u6267\u884cJavaScript\u4ee3\u7801","text":"<pre><code>js = f\"document.getElementsByClassName('{user_operation_div_class}')[0].style.display='block'\"\n# \u6267\u884cjs\u4ee3\u7801\ndriver.execute_script(js)\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/12_%E7%88%AC%E8%99%AB/selenium%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_4","title":"\u9f20\u6807\u60ac\u505c","text":"<pre><code>from selenium.webdriver.common.action_chains import ActionChains\n\n\nnew_hr_element = self.find_element_by_css_selector(new_hr_css_selector)\nif not new_hr_element:\n    logger.error(\"\u5bfb\u627e\u6700\u65b0\u7684HR\u5143\u7d20\u5931\u8d25\")\n    raise Exception(\"\u5bfb\u627e\u6700\u65b0\u7684HR\u5143\u7d20\u5931\u8d25\")\n\n# \u9f20\u6807\u60ac\u505c\nActionChains(driver).move_to_element(new_hr_element).perform()\ntime.sleep(1)\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/12_%E7%88%AC%E8%99%AB/selenium%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_5","title":"\u5143\u7d20\u4e0d\u53ef\u89c1\u5bfc\u81f4\u60ac\u505c\u5931\u8d25","text":"<p>\u5f53\u5143\u7d20\u7684display\u5c5e\u6027\u4e3anone\u7684\u65f6\u5019\uff0c\u6267\u884c\u60ac\u505c\u7684\u65f6\u5019\u4f1a\u62a5\u9519<code>Message: javascript error: {\"status\":60,\"value\":\"[object HTMLImageElement] has no size and location\"}</code></p> <p>\u9700\u8981\u6267\u884cJavaScript\u4ee3\u7801\u5c06\u5143\u7d20\u7684style\u5c5e\u6027\u7684display\u6539\u6210<code>block</code>\u3002</p> <p>\u6267\u884cJavaScript\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>js = f\"document.getElementsByClassName('{user_operation_div_class}')[0].style.display='block'\"\n# \u6267\u884cjs\u4ee3\u7801\ndriver.execute_script(js)\n</code></pre>"},{"location":"01_Python%E5%9F%BA%E7%A1%80/12_%E7%88%AC%E8%99%AB/%E4%BD%BF%E7%94%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E9%AA%8C%E8%AF%81xpath%E6%88%96css%E9%80%89%E6%8B%A9%E5%99%A8.html","title":"\u4f7f\u7528\u6d4f\u89c8\u5668\u9a8c\u8bc1xpath\u6216css\u9009\u62e9\u5668","text":"<p>Google Chrome \u6d4f\u89c8\u5668\u81ea\u5e26\u4e86\u53eb\u505a \"Chrome DevTools\" \u524d\u7aef\u8c03\u8bd5\u5de5\u5177\u3002 \u5b83\u5305\u542b\u4e00\u7cfb\u5217\u65b9\u4fbf\u7684\u8c03\u8bd5\u5de5\u5177\uff0c\u5176\u4e2d\u5305\u62ec\u4e86\u5728\u4e0d\u6dfb\u52a0\u989d\u5916\u63d2\u4ef6\u7684\u524d\u63d0\u4e0b\uff0c\u76f4\u63a5\u5ba1\u67e5\u548c\u9a8c\u8bc1 XPath/CSS \u9009\u62e9\u5668\u7684\u529f\u80fd\u3002</p> <p>\u8fd9\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u4e24\u79cd\u65b9\u5f0f\u5b8c\u6210\uff1a</p> <ul> <li>\u4f7f\u7528 <code>Elements</code> \u9762\u677f\u5185\u7684\u641c\u7d22\u529f\u80fd\u6765\u5728 DOM \u4e2d\u5ba1\u67e5\u9a8c\u8bc1\u5e76\u9ad8\u4eae XPath/CSS \u9009\u62e9\u5668\u3002</li> <li>\u5728 <code>Console</code> \u9762\u677f\u4e2d\u6267\u884c\u547d\u4ee4 <code>$x(\"some_xpath\")</code> \u6216 <code>$$(\"css-selectors\")</code>\u6765\u5ba1\u67e5\u548c\u9a8c\u8bc1\u3002</li> </ul> <p>\u5728 Chrome \u65b0\u7248\u672c\u4e2d\uff0c \u5728 console \u4e2d\u7c98\u8d34\u7684\u65f6\u5019\u4f1a\u63d0\u793a<code>Warning: Don\u2019t paste code into the DevTools Console that you don\u2019t understand or haven\u2019t reviewed yourself. This could allow attackers to steal your identity or take control of your computer. Please type \u2018allow pasting\u2019 below and hit Enter to allow pasting.</code></p> <p>\u76f4\u63a5\u5728\u63a7\u5236\u53f0\u4e2d\u8f93\u5165<code>allow pasting</code>\u5373\u53ef\u7c98\u8d34\u3002</p> <p></p> <p>\u9009\u62e9\u9700\u8981\u7684\u5143\u7d20\uff0c\u9f20\u6807\u53f3\u952e\u70b9\u51fb\u3010\u68c0\u67e5\u3011\u9009\u9879\u4f1a\u81ea\u52a8\u8df3\u8f6c\u5230\u5143\u7d20\u3002 </p> <p></p> <p>\u7136\u540e\u9009\u4e2d\u5bf9\u5e94\u7684\u5143\u7d20\uff0c\u9f20\u6807\u53f3\u952e<code>copy</code>\u9009\u9879\uff0c\u5176\u4e2d<code>Copy Xpath</code>\u8868\u793a\u4f7f\u7528Xpath\u9009\u62e9\u5668\uff0c<code>Copy selecor</code>\u8868\u793a\u4f7f\u7528CSS\u9009\u62e9\u5668\u3002</p> <p></p> <p>\u5728\u63a7\u5236\u53f0\u9a8c\u8bc1xpath\u9009\u62e9\u5668\uff0c\u5728\u63a7\u5236\u53f0\u8f93\u5165\u590d\u5236\u7684xpath\u9009\u62e9\u5668\uff0c\u8fd9\u4e2a\u9ed8\u8ba4\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u53ef\u4ee5\u901a\u8fc7<code>[0]</code>\u6765\u83b7\u53d6\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c<code>.innerText</code>\u83b7\u53d6\u5143\u7d20\u7684\u6587\u672c\u5185\u5bb9\uff0c`innerH\u3002</p> <p></p> <p>CSS\u9009\u62e9\u5668\u540c\u7406\uff1a</p> <p></p> <p>\u6709\u65f6\u5019\uff0c\u67d0\u4e9b\u64cd\u4f5c\u5143\u7d20\u9700\u8981\u9f20\u6807\u60ac\u505c\u5230\u7279\u5b9a\u5143\u7d20\u4e0a\u624d\u4f1a\u52a0\u8f7d\u51fa\u6765\uff0c\u4e00\u65e6\u9f20\u6807\u79fb\u5f00\uff0c\u8fd9\u4e9b\u5143\u7d20\u5c31\u4f1a\u6d88\u5931\uff0c\u5bfc\u81f4\u65e0\u6cd5\u901a\u8fc7\u68c0\u67e5\u5de5\u5177\u5b9a\u4f4d\u5230\u76f8\u5e94\u7684HTML\u5143\u7d20\u3002</p> <p>\u53ef\u4ee5\u5148\u5c06\u9f20\u6807\u60ac\u505c\u5728\u5bf9\u5e94\u7684\u5143\u7d20\u4e0a\uff0c\u4f7f\u5176\u64cd\u4f5c\u5143\u7d20\u52a0\u8f7d\u51fa\u6765\uff0c\u7136\u540e\u70b9\u51fb\u9f20\u6807\u53f3\u952e\uff0c\u518d\u5c06\u9f20\u6807\u79fb\u52a8\u5230\u64cd\u4f5c\u5143\u7d20\u4e0a\uff0c\u8fd9\u6837\u5c31\u80fd\u6210\u529f\u5b9a\u4f4d\u5230\u76f8\u5e94\u7684HTML\u5143\u7d20\u4e86\u3002</p>"},{"location":"02_PythonWeb/09_%E5%9B%BD%E9%99%85%E5%8C%96/%E5%9B%BD%E9%99%85%E5%8C%96.html","title":"\u56fd\u9645\u5316","text":"<p>Flask\u56fd\u9645\u5316\u9700\u8981\u7528\u5230Flask-Babel\u63d2\u4ef6\uff0cFlask-Babel\u662f\u4e00\u4e2aFlask\u6269\u5c55\uff0c\u7528\u4e8e\u5904\u7406\u591a\u8bed\u8a00\uff0c\u65e5\u671f\u548c\u65f6\u95f4\u683c\u5f0f\u5316\uff0c\u548c\u590d\u6570\u5f62\u5f0f\u7684\u7ffb\u8bd1\u3002\u5b83\u4f7f\u7528Babel\u5e93\u6765\u5b9e\u73b0\u8fd9\u4e9b\u529f\u80fd\u3002</p>"},{"location":"02_PythonWeb/09_%E5%9B%BD%E9%99%85%E5%8C%96/%E5%9B%BD%E9%99%85%E5%8C%96.html#_2","title":"\u5b89\u88c5","text":"<pre><code>pip install Flask-Babel\n</code></pre>"},{"location":"02_PythonWeb/09_%E5%9B%BD%E9%99%85%E5%8C%96/%E5%9B%BD%E9%99%85%E5%8C%96.html#_3","title":"\u793a\u4f8b","text":""},{"location":"02_PythonWeb/09_%E5%9B%BD%E9%99%85%E5%8C%96/%E5%9B%BD%E9%99%85%E5%8C%96.html#babel","title":"\u6dfb\u52a0Babel\u914d\u7f6e\u6587\u4ef6","text":"<p>\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa <code>babel.cfg</code> \u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>[python: **.py]\nencoding = utf-8\n</code></pre></p>"},{"location":"02_PythonWeb/09_%E5%9B%BD%E9%99%85%E5%8C%96/%E5%9B%BD%E9%99%85%E5%8C%96.html#babel_1","title":"\u5b9e\u4f8b\u5316Babel\u5bf9\u8c61","text":"<p><pre><code>from flask import Flask\nfrom flask_babel import Babel\n\napp = Flask(__name__)\nbabel = Babel(app)\n</code></pre> \u8981\u7981\u7528jinja\u652f\u6301\uff0c\u8bf7\u5728Babel\u6784\u9020\u51fd\u6570\u8c03\u7528\u4e2d\u5305\u542b <code>configure_jinja=False</code> \u3002 <pre><code>from flask import Flask\nfrom flask_babel import Babel\n\napp = Flask(__name__)\nbabel = Babel(app, configure_jinja=False)\n</code></pre> babel\u5bf9\u8c61\u672c\u8eab\u53ef\u4ee5\u7528\u4e8e\u8fdb\u4e00\u6b65\u914d\u7f6ebabel\u652f\u6301\u3002Babel\u5177\u6709\u4ee5\u4e0b\u914d\u7f6e\u503c\uff0c\u53ef\u7528\u4e8e\u66f4\u6539\u67d0\u4e9b\u5185\u90e8\u9ed8\u8ba4\u503c\uff1a</p> <ul> <li>BABEL_DEFAULT_LOCALE: \u5982\u679c\u672a\u6ce8\u518c\u533a\u57df\u8bbe\u7f6e\u9009\u62e9\u5668\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u533a\u57df\u8bbe\u7f6e\u3002\u9ed8\u8ba4\u4e3a 'en'\u3002</li> <li>BABEL_DEFAULT_TIMEZON\uff1a\u7528\u4e8e\u9762\u5411\u7528\u6237\u7684\u65e5\u671f\u7684\u65f6\u533a\u3002\u9ed8\u8ba4\u503c\u4e3a 'UTC'\u3002</li> <li>BABEL_TRANSLATION_DIRECTORIES\uff1a \u4ee5\u5206\u53f7\uff08 ; \uff09\u5206\u9694\u7684\u5b57\u7b26\u4e32\uff0c\u5305\u542b\u7ffb\u8bd1\u6587\u4ef6\u5939\u7684\u7edd\u5bf9\u8def\u5f84\u548c\u76f8\u5bf9\u8def\u5f84\uff08\u76f8\u5bf9\u4e8eapp\u7684root_path\u8def\u5f84\uff0c\u9ed8\u8ba4\u662f\u521d\u59cb\u5316app\u7684py\u6587\u4ef6\u7684\u76ee\u5f55\uff09\u3002\u9ed8\u8ba4\u4e3a <code>translations</code> \u3002</li> <li>BABEL_DOMAIN\uff1a \u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u7684\u6d88\u606f\u57df\u3002\u9ed8\u8ba4\u4e3a messages \u3002\u5b83\u4e5f\u53ef\u4ee5\u662f\u6bcf\u4e2a\u7ffb\u8bd1\u76ee\u5f55\u7684\u4e0d\u540c\u57df\u7684\u5206\u53f7\uff08 ; \uff09\u5206\u9694\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982\uff1a <code>BABEL_DOMAIN=messages;myapp</code></li> </ul> <p>\u8be6\u7ec6\u4e00\u70b9\u7684\u793a\u4f8b\uff1a <pre><code>from flask_babel import Babel\n\napp = Flask(__name__)\napp.config['BABEL_DEFAULT_LOCALE'] = 'zh'\napp.config['BABEL_DEFAULT_TIMEZONE'] = 'UTC'\napp.config['BABEL_TRANSLATION_DIRECTORIES'] = 'translations'\nbabel = Babel(app, configure_jinja=False)\n</code></pre></p>"},{"location":"02_PythonWeb/09_%E5%9B%BD%E9%99%85%E5%8C%96/%E5%9B%BD%E9%99%85%E5%8C%96.html#_4","title":"\u4f7f\u7528\u7ffb\u8bd1","text":"<p>\u9996\u5148\uff0c\u60a8\u9700\u8981\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528 <code>gettext()</code> \u6216 <code>ngettext()</code> \u6807\u8bb0\u60a8\u60f3\u8981\u7ffb\u8bd1\u7684\u6240\u6709\u5b57\u7b26\u4e32\u3002\u7136\u540e\u521b\u5efa\u4e00\u4e2a <code>.pot</code> \u6587\u4ef6\u4e86\u3002 <code>.pot</code> \u6587\u4ef6\u5305\u542b\u6240\u6709\u5b57\u7b26\u4e32\uff0c\u5e76\u4e14\u662f\u5305\u542b\u7ffb\u8bd1\u5b57\u7b26\u4e32\u7684 <code>.po</code> \u6587\u4ef6\u7684\u6a21\u677f\u3002</p> <p>\u793a\u4f8b\uff1a <pre><code>from flask_babel import _\n\nclass GetJsonSchemaSchema(Schema):\n    id = fields.Str(required=False, allow_none=True,\n                            validate=Length(max=64, error=_(\"ID_LENGTH_ERROR\")))\n    type = fields.Str(required=False, allow_none=True,\n                      validate=Length(max=64, error=_(\"TYPE_LENGTH_ERROR\")))\n</code></pre></p>"},{"location":"02_PythonWeb/09_%E5%9B%BD%E9%99%85%E5%8C%96/%E5%9B%BD%E9%99%85%E5%8C%96.html#_5","title":"\u63d0\u53d6\u5b57\u7b26\u4e32","text":"<pre><code>pybabel extract -F babel.cfg -o messages.pot .\n</code></pre> <p>\u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u4f1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u751f\u6210 <code>messages.pot</code> \u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code># Translations template for PROJECT.\n# Copyright (C) 2023 ORGANIZATION\n# This file is distributed under the same license as the PROJECT project.\n# FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, 2023.\n#\n#, fuzzy\nmsgid \"\"\nmsgstr \"\"\n\"Project-Id-Version: PROJECT VERSION\\n\"\n\"Report-Msgid-Bugs-To: EMAIL@ADDRESS\\n\"\n\"POT-Creation-Date: 2023-07-05 10:33+0800\\n\"\n\"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\\n\"\n\"Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\\n\"\n\"Language-Team: LANGUAGE &lt;LL@li.org&gt;\\n\"\n\"MIME-Version: 1.0\\n\"\n\"Content-Type: text/plain; charset=utf-8\\n\"\n\"Content-Transfer-Encoding: 8bit\\n\"\n\"Generated-By: Babel 2.12.1\\n\"\n\n#: api/schemas/xxx.py:23\nmsgid \"ID_LENGTH_ERROR\"\nmsgstr \"\"\n\n#: api/schemas/xxx.py:25\nmsgid \"TYPE_LENGTH_ERROR\"\nmsgstr \"\"\n</code></pre></p> <p>\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f <code>lazy_gettext()</code> \u51fd\u6570\uff0c\u4f60\u5e94\u8be5\u544a\u8bc9<code>pybabel</code>\u5b83\u4e5f\u5e94\u8be5\u5bfb\u627e\u8fd9\u6837\u7684\u51fd\u6570\u8c03\u7528\uff1a <pre><code>pybabel extract -F babel.cfg -k lazy_gettext -o messages.pot .\n</code></pre> \u6bcf\u6b21\u65b0\u589e\u4e86\u7ffb\u8bd1\u5b57\u7b26\u4e32\u540e\uff0c\u90fd\u9700\u8981\u91cd\u65b0\u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\uff0c\u4ee5\u4fbf\u66f4\u65b0 <code>messages.pot</code> \u6587\u4ef6\u3002</p>"},{"location":"02_PythonWeb/09_%E5%9B%BD%E9%99%85%E5%8C%96/%E5%9B%BD%E9%99%85%E5%8C%96.html#_6","title":"\u751f\u6210\u7ffb\u8bd1\u6587\u4ef6:","text":"<p><pre><code># \u751f\u6210\u4e2d\u6587\u7ffb\u8bd1\u6587\u4ef6\npybabel init -i messages.pot -d translations -l zh\n# \u751f\u6210\u82f1\u6587\u7ffb\u8bd1\u6587\u4ef6\npybabel init -i messages.pot -d translations -l en\n</code></pre> \u4e0a\u9762\u7684\u547d\u4ee4\u53ea\u9700\u8981\u6267\u884c\u4e00\u6b21\uff0c\u4ee5\u540e\u65b0\u589e\u4e86\u7ffb\u8bd1\u5b57\u7b26\u4e32\u540e\uff0c\u53ea\u9700\u8981\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u5373\u53ef\uff1a <pre><code>pybabel update -i messages.pot -d translations\n</code></pre></p>"},{"location":"02_PythonWeb/09_%E5%9B%BD%E9%99%85%E5%8C%96/%E5%9B%BD%E9%99%85%E5%8C%96.html#_7","title":"\u7f16\u8f91\u7ffb\u8bd1\u6587\u4ef6","text":"<p>\u63a5\u4e0b\u6765\u9700\u8981\u624b\u52a8\u7f16\u8f91\u7ffb\u8bd1\u6587\u4ef6\uff0c\u5c06 <code>msgstr</code> \u5b57\u6bb5\u7684\u503c\u6539\u4e3a\u5bf9\u5e94\u7684\u7ffb\u8bd1\u5373\u53ef\u3002</p>"},{"location":"02_PythonWeb/09_%E5%9B%BD%E9%99%85%E5%8C%96/%E5%9B%BD%E9%99%85%E5%8C%96.html#_8","title":"\u7f16\u8bd1\u7ffb\u8bd1\u6587\u4ef6","text":"<p>\u8981\u7f16\u8bd1\u7ffb\u8bd1\u4ee5\u4f9b\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a <pre><code>pybabel compile -d translations\n</code></pre></p>"},{"location":"02_PythonWeb/10_WSGI_AWSGI%E6%9C%8D%E5%8A%A1%E5%99%A8/Gunicorn%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%9E%8B%E6%9C%8D%E5%8A%A1%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95.html","title":"Gunicorn\u542f\u52a8\u6a21\u578b\u670d\u52a1\u62a5\u9519\u95ee\u9898\u8bb0\u5f55","text":""},{"location":"02_PythonWeb/10_WSGI_AWSGI%E6%9C%8D%E5%8A%A1%E5%99%A8/Gunicorn%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%9E%8B%E6%9C%8D%E5%8A%A1%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95.html#_1","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u6211\u6709\u4e00\u4e2aWeb\u670d\u52a1\uff0c\u5176\u4e2d\u4f7f\u7528SentenceTransformmer\u5e93\u52a0\u8f7d\u6a21\u578b\uff0c\u7136\u540e\u4f7f\u7528Flask Web\u6846\u67b6\u6765\u63d0\u4f9bRESTful\u63a5\u53e3\u3002</p> <p>\u5728\u4f7f\u7528Gunicorn \u542f\u52a8Flask Web \u670d\u52a1\u7aef\u7684\u65f6\u5019\uff0c\u62a5\u9519<code>RuntimeError: Cannot re-initialize CUDA in forked subprocess. To use CUDA with multiprocessing, you must use the 'spawn' start method</code></p> <p>\u5176\u4e2d<code>main.py</code>\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>from sentence_transformers import SentenceTransformer\nfrom flask import Flask, request, jsonify\nimport torch\nfrom pathlib import Path\n\napp = Flask(__name__)\n\ndef infer_torch_device():\n    has_cuda = torch.cuda.is_available()\n    if has_cuda:\n        return \"cuda\"\n    return \"cpu\"\n\ncurrent_path = Path(__file__).parent\n\nmodel_name = \"m3e-base\"\n\nmodel_path = \"/data/models/m3e-base\"\n\ndevice = infer_torch_device()\n\nm3e = SentenceTransformer(model_path, device=device)\n\n@app.route('/embed', methods=['POST'])\ndef embed():\n    data = request.get_json()\n    query_list = data.get(\"input\", None)\n    embeddings = m3e.encode(query_list)\n    data = []\n    for i, emb in enumerate(embeddings):\n        item = {\n            \"object\": \"embedding\",\n            \"embedding\": emb.astype(float).tolist(),\n            \"index\": i\n        }\n        data.append(item)\n    result = {\n        'object': \"list\",\n        \"data\": data,\n        \"model\": model_name,\n        \"usage\": {\n            \"prompt_tokens\": 11,\n            \"total_tokens\": 11\n        }\n    }\n    return jsonify(result)\n\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5000)\n</code></pre></p> <p>\u542f\u52a8\u7684\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code># -w 4 \u8868\u793a\u542f\u52a84\u4e2a\u5de5\u4f5c\u8fdb\u7a0b\ngunicorn -w 4 -b 0.0.0.0:5000 main:app\n</code></pre> <p>\u5728\u5728\u8c03\u7528 <code>embed</code> \u63a5\u53e3\u7684\u65f6\u5019\u4f1a\u62a5\u9519<code>RuntimeError: Cannot re-initialize CUDA in forked subprocess. To use CUDA with multiprocessing, you must use the 'spawn' start method</code>\u3002</p>"},{"location":"02_PythonWeb/10_WSGI_AWSGI%E6%9C%8D%E5%8A%A1%E5%99%A8/Gunicorn%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%9E%8B%E6%9C%8D%E5%8A%A1%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95.html#_2","title":"\u89e3\u51b3\u529e\u6cd5","text":"<p>\u5728\u4f7f\u7528Gunicorn\u7684\u542f\u52a8Web\u670d\u52a1\u7684\u65f6\u5019\uff0cGunicorn \u9ed8\u8ba4\u4f1a\u4f7f\u7528 <code>fork</code> \u7684\u65b9\u5f0f\u521b\u5efa\u8fdb\u7a0b\u3002 \u89e3\u51b3\u529e\u6cd5\uff1a</p> <ul> <li>\u4f7f\u7528uvicorn\u6846\u67b6\u548cfastapi\u6846\u67b6\u542f\u52a8\uff0c\u542f\u52a8\u7684\u65f6\u5019\u53ef\u4ee5\u5236\u5b9a\u591a\u4e2a\u8fdb\u7a0b\uff0c\u5982\u679c\u6307\u5b9a\u591a\u4e2a\u8fdb\u7a0b\uff0cGPU\u4e0a\u4f1a\u52a0\u8f7d\u591a\u6b21\u6a21\u578b\u3002\u53c2\u6570\u683c\u5f0f\u5982\uff1a<code>uvicorn main:app --host 0.0.0.0 --port 5000 --loop uvloop --workers 4</code>\u3002</li> <li>\u6216\u8005\u4f7f\u7528Gunicorn\u6846\u67b6\u542f\u52a8\u7684\u65f6\u5019\u6307\u5b9a\u53ea\u542f\u52a8\u4e00\u4e2a\u8fdb\u7a0b\uff0cGunicorn\u542f\u52a8\u591a\u4e2a\u8fdb\u7a0b\u8fd8\u662f\u4f1a\u51fa\u73b0\u4e0a\u9762\u7684\u9519\u8bef\uff0c\u53ea\u80fd\u6307\u5b9a\u4e00\u4e2a\u8fdb\u7a0b\u3002\u53c2\u6570\u683c\u5f0f\u5982\uff1a<code>gunicorn -w 1 -b 0.0.0.0:5000 main:app</code>\u3002</li> <li>\u4f7f\u7528uwsgi\u6846\u67b6\u542f\u52a8\uff0c\u5728\u6307\u5b9a\u4e86\u53ea\u542f\u52a8\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u5e76\u4e14\u4e0d\u80fd\u52a0\u4e0a<code>--master\u53c2\u6570</code>\u3002uwsgi\u6846\u67b6\u6307\u5b9a<code>--master</code> \u53c2\u6570\u4e5f\u4f1a\u51fa\u73b0\u4e0a\u9762\u7684\u9519\u8bef\uff0c\u6307\u5b9a\u591a\u4e2a\u8fdb\u7a0b\u4e5f\u4f1a\u51fa\u73b0\u4e0a\u9762\u7684\u9519\u8bef\u3002\u53c2\u6570\u683c\u5f0f\u5982\uff1a<code>uwsgi --http 0.0.0.0:5000 -p 1 -w main:app --enable-threads</code>\u3002</li> </ul>"},{"location":"02_PythonWeb/10_WSGI_AWSGI%E6%9C%8D%E5%8A%A1%E5%99%A8/Gunicorn%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%9E%8B%E6%9C%8D%E5%8A%A1%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95.html#_3","title":"\u95ee\u9898\u5206\u6790\u8bb0\u5f55","text":"<p>\u4f7f\u7528<code>Gunicorn</code>\u6846\u67b6\u542f\u52a8\u7684\u65f6\u5019\uff0c\u6267\u884c<code>gunicorn</code>\u547d\u4ee4\u4f1a\u6267\u884c<code>gunicorn</code>\u76ee\u5f55\u4e0b\u7684<code>__main__.py</code>,\u4ee3\u7801\u5982\u4e0b\uff1a <pre><code># -*- coding: utf-8 -\n#\n# This file is part of gunicorn released under the MIT license.\n# See the NOTICE for more information.\n\nfrom gunicorn.app.wsgiapp import run\n\nif __name__ == \"__main__\":\n    # see config.py - argparse defaults to basename(argv[0]) == \"__main__.py\"\n    # todo: let runpy.run_module take care of argv[0] rewriting\n    run(prog=\"gunicorn\")\n</code></pre> \u8fd9\u91cc\u9762\u4f1a\u8c03\u7528<code>wsgiapp</code>\u6a21\u5757\u7684\u7684run\u65b9\u6cd5\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a <pre><code>def run(prog=None):\n    \"\"\"\\\n    The ``gunicorn`` command line runner for launching Gunicorn with\n    generic WSGI applications.\n    \"\"\"\n    from gunicorn.app.wsgiapp import WSGIApplication\n    WSGIApplication(\"%(prog)s [OPTIONS] [APP_MODULE]\", prog=prog).run()\n</code></pre></p> <p>\u5176\u4e2d<code>WSGIApplication</code>\u7ee7\u627f\u81ea<code>Application</code>, <code>WSGIApplication</code>\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>class WSGIApplication(Application):\n            return self.load_wsgiapp()\n</code></pre> <p><code>WSGIApplication</code>\u7c7b\u6ca1\u6709\u5b9a\u4e49<code>run</code>\u65b9\u6cd5\uff0c\u6240\u6709\u4f1a\u7ee7\u627f\u7236\u7c7b\u7684<code>run</code>\u65b9\u6cd5\uff0c\u7236\u7c7b(Application) \u7684<code>run</code>\u65b9\u6cd5\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>class Application(BaseApplication):\n\n    def run(self):\n        super().run()\n</code></pre> <p>\u8fd9\u4e2a\u91cc\u9762\u4f1a\u8c03\u7528\u7236\u7c7b<code>BaseApplication</code>\u7684<code>run</code>\u65b9\u6cd5\u3002</p> <p><code>BaseApplication</code>\u7684<code>run</code>\u65b9\u6cd5\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>class BaseApplication(object):\n\n\n    def run(self):\n        try:\n            Arbiter(self).run()\n        except RuntimeError as e:\n            print(\"\\nError: %s\\n\" % e, file=sys.stderr)\n            sys.stderr.flush()\n            sys.exit(1)\n</code></pre> <p>\u8fd9\u4e2a\u91cc\u9762\u4f1a\u5b9e\u4f8b\u5316<code>Arbiter</code>\u7c7b\uff0c\u7136\u540e\u8c03\u7528\u5176\u7684<code>run</code>\u65b9\u6cd5\u3002</p> <p>\u7c7b<code>Arbiter</code>\u7684\u5b9a\u4e49\u5728<code>gunicorn/arbiter.py</code>\u4e2d\uff0c\u5176<code>run</code>\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>class Arbiter(object):\n    def run(self):\n        \"Main master loop.\"\n        self.start()\n        util._setproctitle(\"master [%s]\" % self.proc_name)\n\n        try:\n            self.manage_workers()\n\n            while True:\n                self.maybe_promote_master()\n\n                sig = self.SIG_QUEUE.pop(0) if self.SIG_QUEUE else None\n                if sig is None:\n                    self.sleep()\n                    self.murder_workers()\n                    self.manage_workers()\n                    continue\n\n                if sig not in self.SIG_NAMES:\n                    self.log.info(\"Ignoring unknown signal: %s\", sig)\n                    continue\n\n                signame = self.SIG_NAMES.get(sig)\n                handler = getattr(self, \"handle_%s\" % signame, None)\n                if not handler:\n                    self.log.error(\"Unhandled signal: %s\", signame)\n                    continue\n                self.log.info(\"Handling signal: %s\", signame)\n                handler()\n                self.wakeup()\n        except (StopIteration, KeyboardInterrupt):\n            self.halt()\n        except HaltServer as inst:\n            self.halt(reason=inst.reason, exit_status=inst.exit_status)\n        except SystemExit:\n            raise\n        except Exception:\n            self.log.error(\"Unhandled exception in main loop\",\n                           exc_info=True)\n            self.stop(False)\n            if self.pidfile is not None:\n                self.pidfile.unlink()\n            sys.exit(-1)\n</code></pre> <p>\u5176\u4e2d\u7684<code>manager_workers</code>\u65b9\u6cd5\u7528\u6765\u7ba1\u7406work\uff0c\u4ee3\u7801\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>    def manage_workers(self):\n        \"\"\"\\\n        Maintain the number of workers by spawning or killing\n        as required.\n        \"\"\"\n        if len(self.WORKERS) &lt; self.num_workers:\n            self.spawn_workers()\n\n        workers = self.WORKERS.items()\n        workers = sorted(workers, key=lambda w: w[1].age)\n        while len(workers) &gt; self.num_workers:\n            (pid, _) = workers.pop(0)\n            self.kill_worker(pid, signal.SIGTERM)\n\n        active_worker_count = len(workers)\n        if self._last_logged_active_worker_count != active_worker_count:\n            self._last_logged_active_worker_count = active_worker_count\n            self.log.debug(\"{0} workers\".format(active_worker_count),\n                           extra={\"metric\": \"gunicorn.workers\",\n                                  \"value\": active_worker_count,\n                                  \"mtype\": \"gauge\"})\n</code></pre> <p>\u5176\u4e2d\u4f1a\u8c03\u7528<code>spawn_workers</code>\u6765\u521b\u5efa<code>works</code>\uff0c<code>spawn_workers</code>\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>    def spawn_workers(self):\n        \"\"\"\\\n        Spawn new workers as needed.\n\n        This is where a worker process leaves the main loop\n        of the master process.\n        \"\"\"\n\n        for _ in range(self.num_workers - len(self.WORKERS)):\n            self.spawn_worker()\n            time.sleep(0.1 * random.random())\n</code></pre> <p>\u5176\u4e2d\u4f1a\u8c03\u7528<code>spawn_worker</code>\u65b9\u6cd5\u6765\u521b\u5efa<code>worker</code>\uff0c<code>spawn_worker</code>\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>    def spawn_worker(self):\n        self.worker_age += 1\n        worker = self.worker_class(self.worker_age, self.pid, self.LISTENERS,\n                                   self.app, self.timeout / 2.0,\n                                   self.cfg, self.log)\n        self.cfg.pre_fork(self, worker)\n        pid = os.fork()\n        if pid != 0:\n            worker.pid = pid\n            self.WORKERS[pid] = worker\n            return pid\n\n        # Do not inherit the temporary files of other workers\n        for sibling in self.WORKERS.values():\n            sibling.tmp.close()\n\n        # Process Child\n        worker.pid = os.getpid()\n        try:\n            util._setproctitle(\"worker [%s]\" % self.proc_name)\n            self.log.info(\"Booting worker with pid: %s\", worker.pid)\n            self.cfg.post_fork(self, worker)\n            worker.init_process()\n            sys.exit(0)\n        except SystemExit:\n            raise\n        except AppImportError as e:\n            self.log.debug(\"Exception while loading the application\",\n                           exc_info=True)\n            print(\"%s\" % e, file=sys.stderr)\n            sys.stderr.flush()\n            sys.exit(self.APP_LOAD_ERROR)\n        except Exception:\n            self.log.exception(\"Exception in worker process\")\n            if not worker.booted:\n                sys.exit(self.WORKER_BOOT_ERROR)\n            sys.exit(-1)\n        finally:\n            self.log.info(\"Worker exiting (pid: %s)\", worker.pid)\n            try:\n                worker.tmp.close()\n                self.cfg.worker_exit(self, worker)\n            except Exception:\n                self.log.warning(\"Exception during worker exit:\\n%s\",\n                                 traceback.format_exc())\n</code></pre> <p>\u9996\u5148\u4f1a\u6839\u636e<code>worker_class</code>\u6765\u5b9e\u4f8b\u5316<code>worker</code>\uff0c\u7136\u540e\u8c03\u7528<code>cfg.pre_fork</code>\u65b9\u6cd5\uff0c\u63a5\u7740\u8c03\u7528<code>os.fork</code>\u65b9\u6cd5\u6765\u521b\u5efa<code>worker</code>\uff0c\u7136\u540e\u8c03\u7528<code>cfg.post_fork</code>\u65b9\u6cd5\uff0c\u6700\u540e\u8c03\u7528<code>worker.init_process</code>\u65b9\u6cd5\u6765\u521d\u59cb\u5316<code>worker</code>\u3002</p> <p>\u8c03\u7528os\u6a21\u5757\u4e2d\u7684fork\u65b9\u6cd5\u540e\u4f1a\u751f\u6210\u4e00\u4e2a\u5b50\u8fdb\u7a0b\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u590d\u5236\u7236\u8fdb\u7a0b\u7684\u6570\u636e\u4fe1\u606f\uff0c\u800c\u540e\u7a0b\u5e8f\u5c31\u5206\u4e24\u4e2a\u8fdb\u7a0b\u7ee7\u7eed\u8fd0\u884c\u540e\u9762\u7684\u7a0b\u5e8f\uff0c\u5728\u5b50\u8fdb\u7a0b\u5185\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u8fd4\u56de0\uff1b\u5728\u7236\u8fdb\u7a0b\u5185\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u8fd4\u56de\u5b50\u8fdb\u7a0b\u7684\u7f16\u53f7PID\u3002</p> <p>\u6240\u4ee5\u4e0b\u9762\u7684if\u8bed\u53e5\u4f1a\u5728\u7236\u8fdb\u7a0b\u4e2d\u6267\u884c\uff1a <pre><code>        if pid != 0:\n            worker.pid = pid\n            self.WORKERS[pid] = worker\n            return pid\n</code></pre></p> <p>\u800c\u5728\u5b50\u8fdb\u7a0b\u4e2d\u4f1a\u6267\u884c\uff1a <pre><code> # Do not inherit the temporary files of other workers\n        for sibling in self.WORKERS.values():\n            sibling.tmp.close()\n\n        # Process Child\n        worker.pid = os.getpid()\n        try:\n            util._setproctitle(\"worker [%s]\" % self.proc_name)\n            self.log.info(\"Booting worker with pid: %s\", worker.pid)\n            self.cfg.post_fork(self, worker)\n            worker.init_process()\n            sys.exit(0)\n        except SystemExit:\n            raise\n        except AppImportError as e:\n            self.log.debug(\"Exception while loading the application\",\n                           exc_info=True)\n            print(\"%s\" % e, file=sys.stderr)\n            sys.stderr.flush()\n            sys.exit(self.APP_LOAD_ERROR)\n        except Exception:\n            self.log.exception(\"Exception in worker process\")\n            if not worker.booted:\n                sys.exit(self.WORKER_BOOT_ERROR)\n            sys.exit(-1)\n        finally:\n            self.log.info(\"Worker exiting (pid: %s)\", worker.pid)\n            try:\n                worker.tmp.close()\n                self.cfg.worker_exit(self, worker)\n            except Exception:\n                self.log.warning(\"Exception during worker exit:\\n%s\",\n                                 traceback.format_exc())\n</code></pre></p> <p>\u5bfc\u81f4\u62a5\u9519<code>RuntimeError: Cannot re-initialize CUDA in forked subprocess. To use CUDA with multiprocessing, you must use the 'spawn' start method</code>\u7684\u95ee\u9898\u5c31\u51fa\u5728\u8fd9\u4e2a<code>os.fork</code>\u8fd9\u91cc\u3002</p> <p>\u90a3\u4e3a\u5565<code>uvicorn</code>\u53ef\u4ee5\u5462?</p> <p>\u6267\u884c<code>uvicorn</code>\u7684\u65f6\u5019\uff0c\u540c\u6837\u4e5f\u4f1a\u8c03\u7528<code>uvicorn</code>\u5305\u4e0b\u9762\u7684<code>__main__.py</code>\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>import uvicorn\n\nif __name__ == \"__main__\":\n    uvicorn.main()\n</code></pre> \u5176\u4e2d\u4f1a\u8c03\u7528<code>uvicorn.main</code>\u6a21\u5757\u7684<code>main</code>\u65b9\u6cd5\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <p>\u5176<code>main</code>\u65b9\u6cd5\u5b9a\u4e49\u5982\u4e0b: <pre><code># \u7701\u7565\u53c2\u6570\u5b9a\u4e49\ndef main(\n    app: str,\n    host: str,\n    port: int,\n    uds: str,\n    fd: int,\n    loop: LoopSetupType,\n    http: HTTPProtocolType,\n    ws: WSProtocolType,\n    ws_max_size: int,\n    ws_max_queue: int,\n    ws_ping_interval: float,\n    ws_ping_timeout: float,\n    ws_per_message_deflate: bool,\n    lifespan: LifespanType,\n    interface: InterfaceType,\n    reload: bool,\n    reload_dirs: list[str],\n    reload_includes: list[str],\n    reload_excludes: list[str],\n    reload_delay: float,\n    workers: int,\n    env_file: str,\n    log_config: str,\n    log_level: str,\n    access_log: bool,\n    proxy_headers: bool,\n    server_header: bool,\n    date_header: bool,\n    forwarded_allow_ips: str,\n    root_path: str,\n    limit_concurrency: int,\n    backlog: int,\n    limit_max_requests: int,\n    timeout_keep_alive: int,\n    timeout_graceful_shutdown: int | None,\n    ssl_keyfile: str,\n    ssl_certfile: str,\n    ssl_keyfile_password: str,\n    ssl_version: int,\n    ssl_cert_reqs: int,\n    ssl_ca_certs: str,\n    ssl_ciphers: str,\n    headers: list[str],\n    use_colors: bool,\n    app_dir: str,\n    h11_max_incomplete_event_size: int | None,\n    factory: bool,\n) -&gt; None:\n    run(\n        app,\n        host=host,\n        port=port,\n        uds=uds,\n        fd=fd,\n        loop=loop,\n        http=http,\n        ws=ws,\n        ws_max_size=ws_max_size,\n        ws_max_queue=ws_max_queue,\n        ws_ping_interval=ws_ping_interval,\n        ws_ping_timeout=ws_ping_timeout,\n        ws_per_message_deflate=ws_per_message_deflate,\n        lifespan=lifespan,\n        env_file=env_file,\n        log_config=LOGGING_CONFIG if log_config is None else log_config,\n        log_level=log_level,\n        access_log=access_log,\n        interface=interface,\n        reload=reload,\n        reload_dirs=reload_dirs or None,\n        reload_includes=reload_includes or None,\n        reload_excludes=reload_excludes or None,\n        reload_delay=reload_delay,\n        workers=workers,\n        proxy_headers=proxy_headers,\n        server_header=server_header,\n        date_header=date_header,\n        forwarded_allow_ips=forwarded_allow_ips,\n        root_path=root_path,\n        limit_concurrency=limit_concurrency,\n        backlog=backlog,\n        limit_max_requests=limit_max_requests,\n        timeout_keep_alive=timeout_keep_alive,\n        timeout_graceful_shutdown=timeout_graceful_shutdown,\n        ssl_keyfile=ssl_keyfile,\n        ssl_certfile=ssl_certfile,\n        ssl_keyfile_password=ssl_keyfile_password,\n        ssl_version=ssl_version,\n        ssl_cert_reqs=ssl_cert_reqs,\n        ssl_ca_certs=ssl_ca_certs,\n        ssl_ciphers=ssl_ciphers,\n        headers=[header.split(\":\", 1) for header in headers],  # type: ignore[misc]\n        use_colors=use_colors,\n        factory=factory,\n        app_dir=app_dir,\n        h11_max_incomplete_event_size=h11_max_incomplete_event_size,\n    )\n</code></pre></p> <p>\u5176\u4e2d\u4f1a\u8c03\u7528<code>run</code>\u65b9\u6cd5\uff0c<code>run</code>\u65b9\u6cd5\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>def run(\n    app: ASGIApplication | Callable[..., Any] | str,\n    *,\n    host: str = \"127.0.0.1\",\n    port: int = 8000,\n    uds: str | None = None,\n    fd: int | None = None,\n    loop: LoopSetupType = \"auto\",\n    http: type[asyncio.Protocol] | HTTPProtocolType = \"auto\",\n    ws: type[asyncio.Protocol] | WSProtocolType = \"auto\",\n    ws_max_size: int = 16777216,\n    ws_max_queue: int = 32,\n    ws_ping_interval: float | None = 20.0,\n    ws_ping_timeout: float | None = 20.0,\n    ws_per_message_deflate: bool = True,\n    lifespan: LifespanType = \"auto\",\n    interface: InterfaceType = \"auto\",\n    reload: bool = False,\n    reload_dirs: list[str] | str | None = None,\n    reload_includes: list[str] | str | None = None,\n    reload_excludes: list[str] | str | None = None,\n    reload_delay: float = 0.25,\n    workers: int | None = None,\n    env_file: str | os.PathLike[str] | None = None,\n    log_config: dict[str, Any] | str | None = LOGGING_CONFIG,\n    log_level: str | int | None = None,\n    access_log: bool = True,\n    proxy_headers: bool = True,\n    server_header: bool = True,\n    date_header: bool = True,\n    forwarded_allow_ips: list[str] | str | None = None,\n    root_path: str = \"\",\n    limit_concurrency: int | None = None,\n    backlog: int = 2048,\n    limit_max_requests: int | None = None,\n    timeout_keep_alive: int = 5,\n    timeout_graceful_shutdown: int | None = None,\n    ssl_keyfile: str | None = None,\n    ssl_certfile: str | os.PathLike[str] | None = None,\n    ssl_keyfile_password: str | None = None,\n    ssl_version: int = SSL_PROTOCOL_VERSION,\n    ssl_cert_reqs: int = ssl.CERT_NONE,\n    ssl_ca_certs: str | None = None,\n    ssl_ciphers: str = \"TLSv1\",\n    headers: list[tuple[str, str]] | None = None,\n    use_colors: bool | None = None,\n    app_dir: str | None = None,\n    factory: bool = False,\n    h11_max_incomplete_event_size: int | None = None,\n) -&gt; None:\n    if app_dir is not None:\n        sys.path.insert(0, app_dir)\n\n    config = Config(\n        app,\n        host=host,\n        port=port,\n        uds=uds,\n        fd=fd,\n        loop=loop,\n        http=http,\n        ws=ws,\n        ws_max_size=ws_max_size,\n        ws_max_queue=ws_max_queue,\n        ws_ping_interval=ws_ping_interval,\n        ws_ping_timeout=ws_ping_timeout,\n        ws_per_message_deflate=ws_per_message_deflate,\n        lifespan=lifespan,\n        interface=interface,\n        reload=reload,\n        reload_dirs=reload_dirs,\n        reload_includes=reload_includes,\n        reload_excludes=reload_excludes,\n        reload_delay=reload_delay,\n        workers=workers,\n        env_file=env_file,\n        log_config=log_config,\n        log_level=log_level,\n        access_log=access_log,\n        proxy_headers=proxy_headers,\n        server_header=server_header,\n        date_header=date_header,\n        forwarded_allow_ips=forwarded_allow_ips,\n        root_path=root_path,\n        limit_concurrency=limit_concurrency,\n        backlog=backlog,\n        limit_max_requests=limit_max_requests,\n        timeout_keep_alive=timeout_keep_alive,\n        timeout_graceful_shutdown=timeout_graceful_shutdown,\n        ssl_keyfile=ssl_keyfile,\n        ssl_certfile=ssl_certfile,\n        ssl_keyfile_password=ssl_keyfile_password,\n        ssl_version=ssl_version,\n        ssl_cert_reqs=ssl_cert_reqs,\n        ssl_ca_certs=ssl_ca_certs,\n        ssl_ciphers=ssl_ciphers,\n        headers=headers,\n        use_colors=use_colors,\n        factory=factory,\n        h11_max_incomplete_event_size=h11_max_incomplete_event_size,\n    )\n    server = Server(config=config)\n\n    if (config.reload or config.workers &gt; 1) and not isinstance(app, str):\n        logger = logging.getLogger(\"uvicorn.error\")\n        logger.warning(\"You must pass the application as an import string to enable 'reload' or \" \"'workers'.\")\n        sys.exit(1)\n\n    if config.should_reload:\n        sock = config.bind_socket()\n        ChangeReload(config, target=server.run, sockets=[sock]).run()\n    elif config.workers &gt; 1:\n        sock = config.bind_socket()\n        Multiprocess(config, target=server.run, sockets=[sock]).run()\n    else:\n        server.run()\n    if config.uds and os.path.exists(config.uds):\n        os.remove(config.uds)  # pragma: py-win32\n\n    if not server.started and not config.should_reload and config.workers == 1:\n        sys.exit(STARTUP_FAILURE)\n</code></pre> <p>\u8be5\u51fd\u6570\u901a\u8fc7\u89e3\u6790\u53c2\u6570\u521b\u5efa\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u7136\u540e\u6839\u636e\u914d\u7f6e\u521b\u5efa\u4e00\u4e2a\u670d\u52a1\u5668\u5b9e\u4f8b\uff0c\u5e76\u6700\u7ec8\u8fd0\u884c\u8be5\u670d\u52a1\u5668\u3002\u6839\u636e\u914d\u7f6e\u7684\u4e0d\u540c\uff0c\u670d\u52a1\u5668\u53ef\u4ee5\u4ee5\u5355\u8fdb\u7a0b\u3001\u591a\u8fdb\u7a0b\u6216\u70ed\u52a0\u8f7d\u7684\u65b9\u5f0f\u8fd0\u884c\u3002</p> <p>\u5f53<code>workers</code>\u5927\u4e8e <code>1</code> \u65f6\uff0c\u4f1a<code>Multiprocess(config, target=server.run, sockets=[sock]).run()</code> \u521b\u5efa\u591a\u8fdb\u7a0b\u6267\u884c<code>server.run</code>\u3002</p> <p><code>Multiprocess</code>\u7c7b\u5b9a\u4e49\u5728<code>uvicorn.supervisors.multiprocess.py</code>\u6587\u4ef6\u4e2d\u3002</p> <pre><code>class Multiprocess:\n    def __init__(\n        self,\n        config: Config,\n        target: Callable[[list[socket] | None], None],\n        sockets: list[socket],\n    ) -&gt; None:\n        self.config = config\n        self.target = target\n        self.sockets = sockets\n        self.processes: list[SpawnProcess] = []\n        self.should_exit = threading.Event()\n        self.pid = os.getpid()\n\n    def signal_handler(self, sig: int, frame: FrameType | None) -&gt; None:\n        \"\"\"\n        A signal handler that is registered with the parent process.\n        \"\"\"\n        self.should_exit.set()\n\n    def run(self) -&gt; None:\n        self.startup()\n        self.should_exit.wait()\n        self.shutdown()\n\n    def startup(self) -&gt; None:\n        message = f\"Started parent process [{str(self.pid)}]\"\n        color_message = \"Started parent process [{}]\".format(click.style(str(self.pid), fg=\"cyan\", bold=True))\n        logger.info(message, extra={\"color_message\": color_message})\n\n        for sig in HANDLED_SIGNALS:\n            signal.signal(sig, self.signal_handler)\n\n        for _idx in range(self.config.workers):\n            process = get_subprocess(config=self.config, target=self.target, sockets=self.sockets)\n            process.start()\n            self.processes.append(process)\n\n    def shutdown(self) -&gt; None:\n        for process in self.processes:\n            process.terminate()\n            process.join()\n\n        message = f\"Stopping parent process [{str(self.pid)}]\"\n        color_message = \"Stopping parent process [{}]\".format(click.style(str(self.pid), fg=\"cyan\", bold=True))\n        logger.info(message, extra={\"color_message\": color_message})\n</code></pre> <p>\u5176<code>run</code>\u65b9\u6cd5\u4f1a\u8c03\u7528<code>startup</code>\u65b9\u6cd5\uff0c<code>startup</code>\u65b9\u6cd5\u8c03\u7528<code>get_subprocess</code>\u65b9\u6cd5\u83b7\u53d6\u5b50\u8fdb\u7a0b\uff0c\u7136\u540e\u8c03\u7528<code>start</code>\u65b9\u6cd5\u542f\u52a8\u5b50\u8fdb\u7a0b\u3002</p> <p><code>get_subprocess</code>\u65b9\u6cd5\u5b9a\u4e49\u5728<code>uvicorn._subprocess\u00b7py</code>\u4e2d\uff1a</p> <pre><code>import multiprocessing\nfrom multiprocessing.context import SpawnProcess\n\nmultiprocessing.allow_connection_pickling()\nspawn = multiprocessing.get_context(\"spawn\")\n\n\ndef get_subprocess(\n    config: Config,\n    target: Callable[..., None],\n    sockets: list[socket],\n) -&gt; SpawnProcess:\n    \"\"\"\n    Called in the parent process, to instantiate a new child process instance.\n    The child is not yet started at this point.\n\n    * config - The Uvicorn configuration instance.\n    * target - A callable that accepts a list of sockets. In practice this will\n               be the `Server.run()` method.\n    * sockets - A list of sockets to pass to the server. Sockets are bound once\n                by the parent process, and then passed to the child processes.\n    \"\"\"\n    # We pass across the stdin fileno, and reopen it in the child process.\n    # This is required for some debugging environments.\n    try:\n        stdin_fileno = sys.stdin.fileno()\n    # The `sys.stdin` can be `None`, see https://docs.python.org/3/library/sys.html#sys.__stdin__.\n    except (AttributeError, OSError):\n        stdin_fileno = None\n\n    kwargs = {\n        \"config\": config,\n        \"target\": target,\n        \"sockets\": sockets,\n        \"stdin_fileno\": stdin_fileno,\n    }\n\n    return spawn.Process(target=subprocess_started, kwargs=kwargs)\n</code></pre> <p>\u5b83\u4f7f\u7528\u4e86<code>Python</code>\u7684<code>multiprocessing</code>\u5e93\u7684<code>get_context</code>\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u7684\u529f\u80fd\u662f\u8fd4\u56de\u4e00\u4e2a\u5177\u6709 <code>multiprocessing</code> \u6a21\u5757\u76f8\u540c\u7684\u5c5e\u6027\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61\uff0c\u542f\u52a8\u65b9\u5f0f\u4e3a<code>spawn</code>\u3002</p> <p>\u636e\u5e73\u53f0\u7684\u4e0d\u540c\uff0c <code>multiprocessing</code> \u652f\u6301\u4e09\u79cd\u542f\u52a8\u8fdb\u7a0b\u7684\u65b9\u5f0f\u3002\u8fd9\u4e9b\u542f\u52a8\u65b9\u6cd5\u662f</p> <ul> <li>spawn : \u7236\u8fdb\u7a0b\u542f\u52a8\u4e00\u4e2a\u65b0\u7684Python\u89e3\u91ca\u5668\u8fdb\u7a0b\u3002\u5b50\u8fdb\u7a0b\u53ea\u4f1a\u7ee7\u627f\u8fd0\u884c\u8fdb\u7a0b\u5bf9\u8c61\u7684 run() \u65b9\u6cd5\u6240\u9700\u8d44\u6e90\u3002\u53ef\u5728 POSIX \u548c Windows \u5e73\u53f0\u4e0a\u4f7f\u7528\u3002 Windows \u548c macOS \u4e0a\u7684\u9ed8\u8ba4\u8bbe\u7f6e\u3002</li> <li>fork: \u7236\u8fdb\u7a0b\u4f7f\u7528 os.fork() \u6765\u6d3e\u751f Python \u89e3\u91ca\u5668\u3002\u5b50\u8fdb\u7a0b\u5728\u542f\u52a8\u65f6\u5b9e\u9645\u4e0a\u4e0e\u7236\u8fdb\u7a0b\u76f8\u540c\u3002\u7236\u8fdb\u7a0b\u7684\u6240\u6709\u8d44\u6e90\u90fd\u88ab\u5b50\u8fdb\u7a0b\u7ee7\u627f\u3002\u53ef\u7528\u4e8e POSIX \u7cfb\u7edf\u3002\u5f53\u524d POSIX \u4e0a\u7684\u9ed8\u8ba4\u503c\uff08macOS \u9664\u5916\uff09\u3002</li> <li>forkserver: \u5f53\u7a0b\u5e8f\u542f\u52a8\u5e76\u9009\u62e9 forkserver \u542f\u52a8\u65b9\u6cd5\u65f6\uff0c\u4f1a\u4ea7\u751f\u4e00\u4e2a server \u8fdb\u7a0b\u3002\u4ece\u90a3\u65f6\u8d77\uff0c\u65e0\u8bba\u4f55\u65f6\u9700\u8981\u4e00\u4e2a\u65b0\u8fdb\u7a0b\uff0c\u7236\u8fdb\u7a0b\u90fd\u4f1a\u8fde\u63a5\u5230 server \u8fdb\u7a0b \u5e76\u8bf7\u6c42\u5176 fork \u4e00\u4e2a\u65b0\u8fdb\u7a0b\u3002</li> </ul> <p>\u5177\u4f53\u8bf4\u660e\u53ef\u67e5\u770b\uff1amultiprocess Contexts and start methods</p> <p>\u6240\u4ee5\u901a\u8fc7<code>uvicorn</code>\u6846\u67b6\u542f\u52a8\u7684\u5b50\u8fdb\u7a0b\u662f\u4f7f\u7528<code>spawn</code>\u65b9\u5f0f\u542f\u52a8\u7684\uff0c\u4e0d\u4f1a\u51fa\u73b0<code>RuntimeError: Cannot re-initialize CUDA in forked subprocess. To use CUDA with multiprocessing, you must use the 'spawn' start method</code>\u8fd9\u4e2a\u9519\u8bef\u3002</p>"},{"location":"03_AI/LlamaIndex/01_LlamaIndex%E4%BB%8B%E7%BB%8D.html","title":"LlamaIndex\u4ecb\u7ecd","text":""},{"location":"03_AI/LlamaIndex/01_LlamaIndex%E4%BB%8B%E7%BB%8D.html#llamaindex_1","title":"\u4ec0\u4e48\u662f LlamaIndex","text":"<p><code>LlamaIndex</code> \u662f\u4e00\u4e2a\u7528\u4e8e\u6784\u5efa\u4e0a\u4e0b\u6587\u589e\u5f3a LLM \u5e94\u7528\u7a0b\u5e8f\u7684\u6846\u67b6\u3002</p> <p>\u4e0a\u4e0b\u6587\u589e\u5f3a\u662f\u6307\u5728\u79c1\u6709\u6216\u7279\u5b9a\u4e8e\u57df\u7684\u6570\u636e\u4e4b\u4e0a\u5e94\u7528 LLMs \u7684\u4efb\u4f55\u7528\u4f8b\u3002\u4e00\u4e9b\u6d41\u884c\u7684\u7528\u4f8b\u5305\u62ec\uff1a</p> <ul> <li> <p>\u95ee\u7b54\u804a\u5929\u673a\u5668\u4eba\uff08\u901a\u5e38\u79f0\u4e3a RAG \uff08Retrieval-Augmented Generation\uff09\u7cfb\u7edf\uff09</p> </li> <li> <p>\u6587\u6863\u7406\u89e3\u548c\u63d0\u53d6</p> </li> <li>\u53ef\u4ee5\u8fdb\u884c\u7814\u7a76\u5e76\u91c7\u53d6\u884c\u52a8\u7684\u81ea\u4e3b\u4ee3\u7406\uff08Agent\uff09</li> </ul> <p><code>LlamaIndex</code> \u63d0\u4f9b\u4e86\u6784\u5efa\u4e0a\u8ff0\u4efb\u4f55\u7528\u4f8b\uff08\u4ece\u539f\u578b\u5230\u751f\u4ea7\uff09\u7684\u5de5\u5177\u3002\u8fd9\u4e9b\u5de5\u5177\u5141\u8bb8\u60a8\u63d0\u53d6/\u5904\u7406\u8fd9\u4e9b\u6570\u636e\uff0c\u5e76\u5b9e\u73b0\u5c06\u6570\u636e\u8bbf\u95ee\u4e0e LLM \u63d0\u793a\u76f8\u7ed3\u5408\u7684\u590d\u6742\u67e5\u8be2\u5de5\u4f5c\u6d41\u7a0b\u3002</p> <p></p>"},{"location":"03_AI/LlamaIndex/01_LlamaIndex%E4%BB%8B%E7%BB%8D.html#_1","title":"\u4e3a\u4ec0\u4e48\u8981\u8fdb\u884c\u4e0a\u4e0b\u6587\u589e\u5f3a","text":"<p>LLM \u63d0\u4f9b\u4e86\u4eba\u7c7b\u4e0e\u6570\u636e\u4e4b\u95f4\u7684\u81ea\u7136\u8bed\u8a00\u63a5\u53e3\u3002</p> <p>\u5e7f\u6cdb\u53ef\u7528\u7684 LLM \u662f\u6839\u636e\u5927\u91cf\u516c\u5f00\u6570\u636e\u8fdb\u884c\u9884\u5148\u8bad\u7ec3\u7684\u3002\u4f46\u662f\uff0c\u5927\u6a21\u578b\u6ca1\u6709\u4f7f\u7528\u4f60\u7684\u79c1\u6709\u6570\u636e\u6216\u4e00\u4e9b\u7279\u5b9a\u9886\u57df\u7684\u6570\u636e\u8fdb\u884c\u8bad\u7ec3\u3002\u5b83\u9690\u85cf\u5728 API \u540e\u9762\u3001SQL \u6570\u636e\u5e93\u4e2d\uff0c\u6216\u8005\u9690\u85cf\u5728 PDF \u6216PPT\u4e2d\u3002</p> <p>LlamaIndex \u63d0\u4f9b\u4e86\u652f\u6301\u4e0a\u4e0b\u6587\u589e\u5f3a\u7684\u5de5\u5177\u3002\u4e00\u4e2a\u6d41\u884c\u7684\u4f8b\u5b50\u662f\u68c0\u7d22\u589e\u5f3a\u751f\u6210\uff08RAG\uff09\uff0c\u5b83\u5728\u63a8\u7406\u65f6\u5c06\u4e0a\u4e0b\u6587\u4e0e LLMs \u7ed3\u5408\u8d77\u6765\u3002\u53e6\u4e00\u4e2a\u662f\u5fae\u8c03\u3002</p>"},{"location":"03_AI/LlamaIndex/01_LlamaIndex%E4%BB%8B%E7%BB%8D.html#llamaindex_2","title":"LlamaIndex\u4e3b\u8981\u7ec4\u4ef6\uff1f","text":"<p><code>LlamaIndex</code> \u63d0\u4f9b\u4e865\u5927\u6838\u5fc3\u5de5\u5177\uff1a - Data connectors: \u63d0\u53d6\u6570\u636e\uff0c\u4eceAPI,PDF SQL \u7b49\u7b49\u4e2d\u63d0\u53d6\u6570\u636e\u3002</p> <ul> <li> <p>Data indexes\uff1a\u4ee5\u4e2d\u95f4\u8868\u793a\u5f62\u5f0f\u6784\u5efa\u6570\u636e\uff0c\u8fd9\u4e9b\u4e2d\u95f4\u8868\u793a\u5f62\u5f0f\u5bf9\u4e8e LLM \u6765\u8bf4\u65e2\u7b80\u5355\u53c8\u9ad8\u6548\u3002</p> </li> <li> <p>Engines\uff1a\u4f7f\u7528\u81ea\u7136\u8bed\u8a00\u5bf9\u6570\u636e\u8fdb\u884c\u8bbf\u95ee</p> <ul> <li>Query Engine: \u5f3a\u5927\u7684\u95ee\u7b54\u63a5\u53e3\uff0c\u4f8b\u5982RAG pipeline.</li> <li>Chat Engine: \u5bf9\u8bdd\u63a5\u53e3\uff0c\u591a\u8f6e\u5bf9\u8bdd\uff0c\u6765\u56de\u4ea4\u4e92</li> </ul> </li> <li> <p>Agents\uff1a\u901a\u8fc7\u4f7f\u7528\u5de5\u5177\u589e\u5f3a\uff0c\u4ece\u7b80\u5355\u7684\u8f85\u52a9\u51fd\u6570\u5230API\u96c6\u6210\u7b49\u7b49</p> </li> <li> <p>Observability/Evaluation\uff1a \u80fd\u591f\u5728\u826f\u6027\u5faa\u73af\u4e2d\u4e25\u683c\u5b9e\u9a8c\u3001\u8bc4\u4f30\u548c\u76d1\u63a7\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f</p> </li> </ul> <p></p>"},{"location":"03_AI/LlamaIndex/01_LlamaIndex%E4%BB%8B%E7%BB%8D.html#llamaindex_3","title":"\u4e00\u4e2a\u7b80\u5355\u7684LlamaIndex\u5e94\u7528","text":"<p>01_Introduction.ipynb</p>"},{"location":"03_AI/LlamaIndex/02_LlamaIndex%E7%B4%A2%E5%BC%95.html","title":"LlamaIndex \u7d22\u5f15","text":"<p>\u4e00\u4e2aRAG\u7cfb\u7edf\u7684\u6d41\u7a0b\u5927\u81f4\u5982\u56fe\uff1a</p> <p></p> <p>\u672c\u6587\u4e3b\u8981\u5173\u6ce8\u5176\u4e2d\u7684\u68c0\u7d22\u90e8\u5206\u3002\u4f7f\u7528\u7684\u6846\u67b6\u662f llama_index \u3002\u5728\u4e00\u4e2aRAG\u7cfb\u7edf\u4e2d\uff0c\u5728\u52a0\u8f7d\u6587\u6863\u4e4b\u540e\u4f1a\u5f97\u5230\u4e00\u4e2a Document \u5217\u8868 (\u6216\u8005Node \u5217\u8868, Document \u7ee7\u627f\u00b7\u81eaTextNode\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4f7f\u7528\u7684\u90fd\u662fTextNode)\uff0c\u7136\u540e\u5bf9\u8fd9\u4e9b Document \u5217\u8868\u521b\u5efa\u7d22\u5f15\uff08Index\uff09\u6765\u65b9\u4fbf\u68c0\u7d22\u3002</p>"},{"location":"03_AI/LlamaIndex/02_LlamaIndex%E7%B4%A2%E5%BC%95.html#document_node","title":"Document \u5bf9\u8c61\u548cNode\u5bf9\u8c61","text":"<p>\u9996\u5148\u6211\u4eec\u8981\u6765\u770b\u4e00\u4e0b Document\u5bf9\u8c61 \u548c TextNode\u5bf9\u8c61\u662f\u4ec0\u4e48\u6837\u5b50\u3002\u5176\u6e90\u7801\u5728<code>llama_index\\core\\schema.py</code>\u4e2d\uff1a</p> <pre><code>classDiagram\n\n  class BaseComponent {\n    class_name() str\n    dict() Dict[str, Any]\n    from_dict(data: Dict[str, Any]) Self\n    from_json(data_str: str) Self\n    json() str\n    to_dict() Dict[str, Any]\n    to_json() str\n  }\n  class BaseNode {\n    child_nodes\n    embedding : Optional[List[float]]\n    excluded_embed_metadata_keys : List[str]\n    excluded_llm_metadata_keys : List[str]\n    extra_info\n    hash\n    id_ : str\n    metadata : Dict[str, Any]\n    next_node\n    node_id\n    parent_node\n    prev_node\n    ref_doc_id\n    relationships : Dict[NodeRelationship, RelatedNodeType]\n    source_node\n  }\n  class Document {\n    doc_id\n    id_ : str\n  }\n  class TextNode {\n    end_char_idx : Optional[int]\n    hash\n    metadata_seperator : str\n    metadata_template : str\n    node_info\n    start_char_idx : Optional[int]\n    text : str\n    text_template : str\n\n  }\n  BaseNode --|&gt; BaseComponent\n  TextNode --|&gt; BaseNode\n  Document --|&gt; TextNode</code></pre> <p>\u5176\u4e2d <code>BaseComponent</code> \u63d0\u4f9b\u4e86\u4e00\u4e2a\u5bf9\u8c61\u548cjson\uff0c\u5b57\u5178\u4e92\u76f8\u8f6c\u6362\u7684\u65b9\u6cd5\u3002<code>Document</code> \u7ee7\u627f\u81ea <code>TextNode</code>\uff0c<code>TextNode</code>\u7ee7\u627f\u81ea<code>BaseNode</code>\uff0c<code>BaseNode</code>\u7ee7\u627f\u81ea<code>BaseComponent</code>\u3002\u5176\u4e2d <code>BaseComponent</code> \u63d0\u4f9b\u4e86\u4e00\u4e2a\u5bf9\u8c61\u548cjson\uff0c\u5b57\u5178\u4e92\u76f8\u8f6c\u6362\u7684\u65b9\u6cd5\u3002</p> <p><code>BaseNode</code>\u4e2d\u7684\u5b57\u6bb5\u8bf4\u660e\uff1a</p> <ul> <li> <p>id_: Node \u7684\u552f\u4e00Id\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4f7f\u7528uuid.uuid4\u751f\u6210\u7684\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f,\u8fd9\u4e2a\u5b57\u6bb5\u4e00\u822c\u4e0d\u76f4\u63a5\u4f7f\u7528\uff0c\u800c\u662f\u4f7f\u7528<code>node_id</code>\u8fd9\u4e2aproperty</p> </li> <li> <p>embedding: Node\u5bf9\u5e94\u7684embedding\u5b57\u6bb5\uff0c\u662f\u4e00\u4e2afloat\u5217\u8868\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e3a<code>None</code></p> </li> <li> <p>metadata:  \u5143\u6570\u636e\uff0c\u662f\u4e00\u4e2a\u5b57\u5178</p> </li> <li> <p>excluded_embed_metadata_keys\uff1a\u5728embedding\u65f6\u7528\u6765\u6392\u9664metadata\u7684key\u5217\u8868</p> </li> <li> <p>excluded_llm_metadata_keys: \u5728llm\u8c03\u7528\u65f6\u7528\u6765\u6392\u9664metadata\u7684key\u5217\u8868</p> </li> <li> <p>relationships\uff1a\u4e00\u4e2a\u5b57\u5178\uff0c\u7528\u6765\u4fdd\u5b58\u5176\u4ed6Node\u548c\u5f53\u524dNode\u7684\u5173\u7cfb\uff0c\u6709<code>Source</code>,<code>PREVIOUS</code>,<code>NEXT</code>,<code>PARENT</code>,<code>CHILD</code>\u7b49\u5173\u7cfb\u3002<code>Source</code>\u8868\u793a\u662f\u5f53\u524d Node\uff0c<code>PREVIOUS</code>\u8868\u793a\u662f\u5f53\u524d Node \u7684\u524d\u4e00\u4e2a\uff0c<code>NEXT</code>\u8868\u793a\u662f\u5f53\u524dNode\u7684\u4e0b\u4e00\u4e2a\uff0c<code>PARENT</code>\u662f\u5f53\u524dNode\u7684\u7236\u8282\u70b9\uff0c<code>CHILD</code>\u8868\u793a\u662f\u5f53\u524d\u8282\u70b9\u7684\u5b50\u8282\u70b9\u3002</p> </li> </ul>"},{"location":"03_AI/LlamaIndex/02_LlamaIndex%E7%B4%A2%E5%BC%95.html#llama_indexindex","title":"\u4ec0\u4e48\u662fllama_index\u4e2d\u7684\u7d22\u5f15\uff08Index\uff09","text":"<p>\u5728 LlamaIndex \u672f\u8bed\u4e2d\uff0c <code>Index</code> \u662f\u7531 <code>Document</code> \u5bf9\u8c61\u7ec4\u6210\u7684\u6570\u636e\u7ed3\u6784\uff0c\u65e8\u5728\u652f\u6301 LLM \u8fdb\u884c\u67e5\u8be2\u3002</p> <p>LlamaIndex \u63d0\u4f9b\u4e86\u51e0\u79cd\u4e0d\u540c\u7684\u7d22\u5f15\u7c7b\u578b\u3002\u6211\u4eec\u5c06\u5728\u8fd9\u91cc\u4ecb\u7ecd\u4e24\u4e2a\u6700\u5e38\u89c1\u7684\u3002</p> <ul> <li>Vector Store Index(\u5411\u91cf\u5b58\u50a8\u7d22\u5f15)\uff1a<code>VectorStoreIndex</code> \u662f\u6700\u5e38\u89c1\u7684\u7d22\u5f15\u7c7b\u578b\u3002\u5b83\u63a5\u53d7 Document \u5217\u8868\u7136\u540e\u5c06\u5176split\u6210Nodes.</li> </ul>"},{"location":"03_AI/LlamaIndex/02_LlamaIndex%E7%B4%A2%E5%BC%95.html#llamaindex_1","title":"LlamaIndex \u7d22\u5f15\u6837\u4f8b","text":"<p>\u4f7f\u7528llama_index\u521b\u5efa\u7d22\u5f15\u7684\u6837\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>import logging\nfrom urllib.parse import quote_plus\n\nimport qdrant_client\nfrom llama_index.core import SimpleDirectoryReader, StorageContext, VectorStoreIndex\nfrom llama_index.core.indices.vector_store import VectorIndexRetriever\nfrom llama_index.core.storage.docstore.postgres_docstore import PostgresDocumentStore\nfrom llama_index.storage.docstore.mongodb import MongoDocumentStore\nfrom llama_index.storage.index_store.redis.base import RedisIndexStore\nfrom llama_index.vector_stores.qdrant import QdrantVectorStore\nfrom redis import Redis\n\nfrom commmon.config import config\n\nlogger = logging.getLogger(\"test\")\n\ndef log_document(document):\n    logger.info(f\"{document.doc_id=}, {document.ref_doc_id=}\")\n    logger.info(f\"relationships: {document.relationships}\")\n    logger.info(f\"document: {vars(document)}\")\n\ndef test_create_index():\n    # \u52a0\u8f7d\u6587\u6863\n    # \u4e00\u4e2a\u6587\u4ef6\u5bf9\u5e94\u591a\u4e2adocument\u5bf9\u8c61 node_id\u7b49\u4e8edoc_id\u7b49\u4e8eid_\n    #\n     documents = SimpleDirectoryReader(input_files=[\"test.md\"], file_extractor={\".md\": MarkdownReader(remove_images=False, remove_hyperlinks=False)}).load_data()\n    logger.info(f\"\u52a0\u8f7d\u6587\u6863\u6210\u529f\uff0c\u5171{len(documents)}\u4e2a\u6587\u6863\")\n    for document in documents:\n        log_document(document)\n\n    # \u5b9a\u4e49docs\u5b58\u50a8\n    # uri\u683c\u5f0f\u5982\u4e0b\uff1a\"mongodb://mongo_user:mongo_password@mongo_host:mongo_port\n    mongo_db_uri = \"mongodb://mongo_user:mongo_password@mongo_host:mongo_port\"\n    docs_store = MongoDocumentStore.from_uri(mongo_db_uri, db_name=\"test\")\n\n    # \u5b9a\u4e49vector\u5b58\u50a8\n    client = qdrant_client.QdrantClient(\n        host=config.QDRANT_HOST,\n        port=config.QDRANT_PORT,\n        https=config.QDRANT_HTTPS,\n        # set API KEY for Qdrant Cloud\n        # api_key=\"&lt;qdrant-api-key&gt;\",\n        api_key=config.QDRANT_API_KEY,\n    )\n    vector_store = QdrantVectorStore(client=client,\n                                     batch_size=64,\n                                     parallel=10,\n                                     max_retries=3,\n                                     enable_hybrid=False,\n                                     collection_name=\"test\")\n\n    # \u5b9a\u4e49index\u5b58\u50a8\n    # uri\u683c\u5f0f\u5982\u4e0b\uff1a\"redis://:redis_password@redis_host:redis_port/redis_db\"\n    redis_client = Redis(host=config.REDIS_HOST,\n                         port=config.REDIS_PORT,\n                         password=config.REDIS_PASSWORD,\n                         db=config.REDIS_DB)\n    index_sotre = RedisIndexStore.from_redis_client(redis_client, namespace=\"test\")\n\n    # \u521b\u5efastorage context\n    storage_context = StorageContext.from_defaults(docstore=docs_store,\n                                                   vector_store=vector_store,\n                                                   index_store=index_sotre)\n\n    # \u6784\u5efa\u7d22\u5f15\n    index = VectorStoreIndex.from_documents(\n        documents,\n        storage_context=storage_context,\n        store_nodes_override=True,  # \u5b58\u50a8nodes\u65f6\u662f\u5426\u8986\u76d6\n    )\n    # index.index_struct  :  IndexDict(index_id=\"xxx\", nodes_dict={\"node_id\":\"node_id\"}) index_id 111 -&gt; node_ids: [1,2,3,4]\n    logger.info(\"\u6784\u5efa\u7d22\u5f15\u6210\u529f\")\n    retriever = index.as_retriever(similarity_top_k=10)\n    query = \"This is a test query text\"\n    response = retriever.retrieve(query)\n    logger.info(f\"\u68c0\u7d22\u7ed3\u679c\uff1a{len(response)=\")\n    logger.info(f\"\u68c0\u7d22\u7ed3\u679c\uff1a{response[0]=}\")\n</code></pre> <p><code>test.md</code>\u5185\u5bb9\u4f7f\u7528\u7684\u662fLangchain-chatchat\u9879\u76ee\u7684README.md\u6587\u4ef6\u3002</p> <p>\u8bfb\u53d6\u5b8c<code>documents</code>\u5217\u8868\u7684\u957f\u5ea6\u4e3a<code>21</code>,\u5176\u4e2d\u7b2c\u4e00\u4e2adocument\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>{'id_': 'd8831dcb-6840-48fa-a222-8f82aab2f163',\n 'embedding': None,\n 'metadata': {'file_path': 'test.md',\n  'file_name': 'test.md',\n  'file_size': 8503,\n  'creation_date': '2024-05-06',\n  'last_modified_date': '2024-04-30'},\n 'excluded_embed_metadata_keys': ['file_name',\n  'file_type',\n  'file_size',\n  'creation_date',\n  'last_modified_date',\n  'last_accessed_date'],\n 'excluded_llm_metadata_keys': ['file_name',\n  'file_type',\n  'file_size',\n  'creation_date',\n  'last_modified_date',\n  'last_accessed_date'],\n 'relationships': {},\n 'text': '\\n\\n\\n![](img/logo-long-chatchat-trans-v2.png)\\r\\n\\r\\n\ufffd\ufffd [READ THIS IN ENGLISH](README_en.md)\\r\\n\ufffd\ufffd [\u65e5\u672c\u8a9e\u3067\u8aad\u3080](README_ja.md)\\r\\n\\r\\n\ufffd\ufffd **LangChain-Chatchat** (\u539f Langchain-ChatGLM)\\r\\n\\r\\n\u57fa\u4e8e ChatGLM \u7b49\u5927\u8bed\u8a00\u6a21\u578b\u4e0e Langchain \u7b49\u5e94\u7528\u6846\u67b6\u5b9e\u73b0\uff0c\u5f00\u6e90\u3001\u53ef\u79bb\u7ebf\u90e8\u7f72\u7684\u68c0\u7d22\u589e\u5f3a\u751f\u6210(RAG)\u5927\u6a21\u578b\u77e5\u8bc6\u5e93\u9879\u76ee\u3002\\r\\n\\r\\n',\n 'start_char_idx': None,\n 'end_char_idx': None,\n 'text_template': '{metadata_str}\\n\\n{content}',\n 'metadata_template': '{key}: {value}',\n 'metadata_seperator': '\\n',\n 'class_name': 'Document'}\n</code></pre>"},{"location":"03_AI/LlamaIndex/02_LlamaIndex%E7%B4%A2%E5%BC%95.html#_1","title":"\u6784\u5efa\u7d22\u5f15\u6e90\u7801\u5206\u6790","text":"<p><code>form_documents</code>\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>    @classmethod\n    def from_documents(\n        cls: Type[IndexType],\n        documents: Sequence[Document],\n        storage_context: Optional[StorageContext] = None,\n        show_progress: bool = False,\n        callback_manager: Optional[CallbackManager] = None,\n        transformations: Optional[List[TransformComponent]] = None,\n        # deprecated\n        service_context: Optional[ServiceContext] = None,\n        **kwargs: Any,\n    ) -&gt; IndexType:\n        \"\"\"Create index from documents.\n\n        Args:\n            documents (Optional[Sequence[BaseDocument]]): List of documents to\n                build the index from.\n\n        \"\"\"\n        storage_context = storage_context or StorageContext.from_defaults()\n        docstore = storage_context.docstore\n        callback_manager = (\n            callback_manager\n            or callback_manager_from_settings_or_context(Settings, service_context)\n        )\n        transformations = transformations or transformations_from_settings_or_context(\n            Settings, service_context\n        )\n\n        with callback_manager.as_trace(\"index_construction\"):\n            for doc in documents:\n                docstore.set_document_hash(doc.get_doc_id(), doc.hash)\n\n            nodes = run_transformations(\n                documents,  # type: ignore\n                transformations,\n                show_progress=show_progress,\n                **kwargs,\n            )\n\n            return cls(\n                nodes=nodes,\n                storage_context=storage_context,\n                callback_manager=callback_manager,\n                show_progress=show_progress,\n                transformations=transformations,\n                service_context=service_context,\n                **kwargs,\n            )\n</code></pre> <p>\u672c\u4f8b\u4e2d<code>transformations</code>\u5217\u8868\u4e3a\u7a7a\uff0c<code>nodes</code>\u548c<code>documents</code>\u662f\u540c\u4e00\u4e2a\u5217\u8868\u3002</p> <p>\u8fd9\u4e2a\u65b9\u6cd5\u9996\u5148\u4f1a\u8c03\u7528<code>set_document_hash</code>\u5c06 Document \u7684 hash \u503c \u5b58\u50a8\u5230 docstore \u4e2d\u3002\u5728\u672c\u4f8b\u4e2d\u4f1a\u5c06 doc_hash \u5199\u5165\u5230MongoDB\u4e2d\u7684<code>docstore/metadata</code> \u4e2d\u3002</p> <p></p> <p>\u7136\u540e\u6267\u884c <code>run_transformations</code> \u505a\u6587\u6863\u62c6\u5206\uff0c\u5143\u6570\u636e\u63d0\u53d6\u7b49\u5de5\u4f5c\u5f97\u5230\u5bf9\u5e94\u7684<code>nodes</code>\uff0c\u5177\u4f53\u6267\u884c\u4e86\u54ea\u4e9b\u662f\u6839\u636e<code>transformations</code>\u53c2\u6570\u51b3\u5b9a\u7684\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b<code>transformations</code>\u662f\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\u7684\u5217\u8868\uff0c\u5176\u4e2d\u7684\u5143\u7d20\u662f<code>SentenceSplitter</code>\u7c7b\u7684\u5b9e\u4f8b\u3002<code>transformations</code>\u76f8\u5173\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>transformations = transformations or transformations_from_settings_or_context(\n    Settings, service_context\n)\n\ndef transformations_from_settings_or_context(\n    settings: _Settings, context: Optional[\"ServiceContext\"]\n) -&gt; List[TransformComponent]:\n    \"\"\"Get settings from either settings or context.\"\"\"\n    if context is not None:\n        return context.transformations\n\n    return settings.transformations  \n\n\n@dataclass\nclass _Settings:\n    \"\"\"Settings for the Llama Index, lazily initialized.\"\"\"\n\n    # lazy initialization\n    _llm: Optional[LLM] = None\n    _embed_model: Optional[BaseEmbedding] = None\n    _callback_manager: Optional[CallbackManager] = None\n    _tokenizer: Optional[Callable[[str], List[Any]]] = None\n    _node_parser: Optional[NodeParser] = None\n    _prompt_helper: Optional[PromptHelper] = None\n    _transformations: Optional[List[TransformComponent]] = None\n\n    # ---- Node parser ----\n    @property\n    def node_parser(self) -&gt; NodeParser:\n        \"\"\"Get the node parser.\"\"\"\n        if self._node_parser is None:\n            self._node_parser = SentenceSplitter()\n\n        if self._callback_manager is not None:\n            self._node_parser.callback_manager = self._callback_manager\n\n        return self._node_parser\n\n\n    # ---- Transformations ----\n    @property\n    def transformations(self) -&gt; List[TransformComponent]:\n        \"\"\"Get the transformations.\"\"\"\n        if self._transformations is None:\n            self._transformations = [self.node_parser]\n        return self._transformations\n\n\n# Singleton\nSettings = _Settings()\n</code></pre> <p>\u6700\u540e\u4f1a\u5b9e\u4f8b\u5316<code>VectorStoreIndex</code>\u7c7b\uff0c\u4f1a\u8c03\u7528<code>VectorStoreIndex</code>\u7c7b\u7684<code>__init__</code>\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65f6\u5019 nodes \u6709\u503c\uff0cobjects \u548c index_struct\u90fd\u4e3a None\uff1a</p> <pre><code>class VectorStoreIndex(BaseIndex[IndexDict]):\n    \"\"\"Vector Store Index.\n\n    Args:\n        use_async (bool): Whether to use asynchronous calls. Defaults to False.\n        show_progress (bool): Whether to show tqdm progress bars. Defaults to False.\n        store_nodes_override (bool): set to True to always store Node objects in index\n            store and document store even if vector store keeps text. Defaults to False\n    \"\"\"\n\n    index_struct_cls = IndexDict\n\n    def __init__(\n        self,\n        nodes: Optional[Sequence[BaseNode]] = None,\n        # vector store index params\n        use_async: bool = False,\n        store_nodes_override: bool = False,\n        embed_model: Optional[EmbedType] = None,\n        insert_batch_size: int = 2048,\n        # parent class params\n        objects: Optional[Sequence[IndexNode]] = None,\n        index_struct: Optional[IndexDict] = None,\n        storage_context: Optional[StorageContext] = None,\n        callback_manager: Optional[CallbackManager] = None,\n        transformations: Optional[List[TransformComponent]] = None,\n        show_progress: bool = False,\n        # deprecated\n        service_context: Optional[ServiceContext] = None,\n        **kwargs: Any,\n    ) -&gt; None:\n        \"\"\"Initialize params.\"\"\"\n        self._use_async = use_async\n        self._store_nodes_override = store_nodes_override\n        self._embed_model = (\n            resolve_embed_model(embed_model, callback_manager=callback_manager)\n            if embed_model\n            else embed_model_from_settings_or_context(Settings, service_context)\n        )\n\n        self._insert_batch_size = insert_batch_size\n        super().__init__(\n            nodes=nodes,\n            index_struct=index_struct,\n            service_context=service_context,\n            storage_context=storage_context,\n            show_progress=show_progress,\n            objects=objects,\n            callback_manager=callback_manager,\n            transformations=transformations,\n            **kwargs,\n        )\n</code></pre> <p>\u8fd9\u4e2a\u65b9\u6cd5\u91cc\u9762\u9996\u5148\u4f1a\u83b7\u53d6<code>embedding model</code>\uff0c\u7136\u540e\u6267\u884c\u7236\u7c7b<code>BaseIndex</code>\u7684<code>__init__</code>\u65b9\u6cd5\u3002</p> <pre><code>class BaseIndex(Generic[IS], ABC):\n    \"\"\"Base LlamaIndex.\n\n    Args:\n        nodes (List[Node]): List of nodes to index\n        show_progress (bool): Whether to show tqdm progress bars. Defaults to False.\n        service_context (ServiceContext): Service context container (contains\n            components like LLM, Embeddings, etc.).\n\n    \"\"\"\n\n    index_struct_cls: Type[IS]\n\n    def __init__(\n        self,\n        nodes: Optional[Sequence[BaseNode]] = None,\n        objects: Optional[Sequence[IndexNode]] = None,\n        index_struct: Optional[IS] = None,\n        storage_context: Optional[StorageContext] = None,\n        callback_manager: Optional[CallbackManager] = None,\n        transformations: Optional[List[TransformComponent]] = None,\n        show_progress: bool = False,\n        # deprecated\n        service_context: Optional[ServiceContext] = None,\n        **kwargs: Any,\n    ) -&gt; None:\n        \"\"\"Initialize with parameters.\"\"\"\n        if index_struct is None and nodes is None and objects is None:\n            raise ValueError(\"One of nodes, objects, or index_struct must be provided.\")\n        if index_struct is not None and nodes is not None:\n            raise ValueError(\"Only one of nodes or index_struct can be provided.\")\n        # This is to explicitly make sure that the old UX is not used\n        if nodes is not None and len(nodes) &gt;= 1 and not isinstance(nodes[0], BaseNode):\n            if isinstance(nodes[0], Document):\n                raise ValueError(\n                    \"The constructor now takes in a list of Node objects. \"\n                    \"Since you are passing in a list of Document objects, \"\n                    \"please use `from_documents` instead.\"\n                )\n            else:\n                raise ValueError(\"nodes must be a list of Node objects.\")\n\n        self._storage_context = storage_context or StorageContext.from_defaults()\n        # deprecated\n        self._service_context = service_context\n\n        self._docstore = self._storage_context.docstore\n        self._show_progress = show_progress\n        self._vector_store = self._storage_context.vector_store\n        self._graph_store = self._storage_context.graph_store\n        self._callback_manager = (\n            callback_manager\n            or callback_manager_from_settings_or_context(Settings, service_context)\n        )\n\n        objects = objects or []\n        self._object_map = {obj.index_id: obj.obj for obj in objects}\n        for obj in objects:\n            obj.obj = None  # clear the object to avoid serialization issues\n\n        with self._callback_manager.as_trace(\"index_construction\"):\n            if index_struct is None:\n                nodes = nodes or []\n                index_struct = self.build_index_from_nodes(\n                    nodes + objects  # type: ignore\n                )\n            self._index_struct = index_struct\n            self._storage_context.index_store.add_index_struct(self._index_struct)\n\n        self._transformations = (\n            transformations\n            or transformations_from_settings_or_context(Settings, service_context)\n        )\n</code></pre> <p>\u8fd9\u4e2a\u65b9\u6cd5\u9996\u5148\u4f1a\u5bf9 nodes, index_struct, objects\u53c2\u6570\u505a\u9a8c\u8bc1\uff0c\u7136\u540e\u4ece storage_context \u4e2d\u83b7\u53d6\u5404\u79cdstore\u3002\u56e0\u4e3a objects \u4e3aNone\uff0c\u63a5\u7740\u5173\u4e8eobject\u7684\u5faa\u73af\u4e0d\u4f1a\u6267\u884c\u3002\u63a5\u7740\u5c31\u662f\u8c03\u7528<code>build_index_from_nodes</code>\u65b9\u6cd5\u6784\u5efa\u7d22\u5f15\uff0c\u7136\u540e\u8c03\u7528<code>self._storage_context.index_store.add_index_struct(self._index_struct)</code>\u5c06<code>index_struct</code>\u4ed3\u50a8\u5230<code>index_store</code>\u4e2d\u3002</p> <p>\u5c06 nodes \u4e2d\u7684\u6587\u672c\u6267\u884c\u5411\u91cf\u5316\uff0c\u4fdd\u5b58\u5230\u5411\u91cf\u6570\u636e\u5e93(\u672c\u6b21\u793a\u4f8b\u4e3aQdrant\uff09\uff0c\u8fd8\u6709\u5c06\u6587\u6863\u4fdd\u5b58\u5230doc_store(\u672c\u6b21\u793a\u4f8b\u4e3aMongoDB\uff09\u4e2d\u90fd\u662f\u5728\u8fd9\u4e2a\u65b9\u6cd5\u91cc\u9762\u53bb\u505a\u7684\u3002<code>index_store</code>\u672c\u6b21\u793a\u4f8b\u4f7f\u7528\u7684Redis\u3002</p> <p><code>VectorStoreIndex</code>\u7684<code>build_index_from_nodes</code>\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>    def build_index_from_nodes(\n        self,\n        nodes: Sequence[BaseNode],\n        **insert_kwargs: Any,\n    ) -&gt; IndexDict:\n        \"\"\"Build the index from nodes.\n\n        NOTE: Overrides BaseIndex.build_index_from_nodes.\n            VectorStoreIndex only stores nodes in document store\n            if vector store does not store text\n        \"\"\"\n        # raise an error if even one node has no content\n        if any(\n            node.get_content(metadata_mode=MetadataMode.EMBED) == \"\" for node in nodes\n        ):\n            raise ValueError(\n                \"Cannot build index from nodes with no content. \"\n                \"Please ensure all nodes have content.\"\n            )\n\n        return self._build_index_from_nodes(nodes, **insert_kwargs)\n</code></pre> <p>\u9996\u5148\u4f1a\u5224\u65adnode\u662f\u5426\u6709content\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u62a5\u9519\u3002\u7136\u540e\u8c03\u7528<code>_build_index_from_nodes</code>\u65b9\u6cd5\u3002</p> <pre><code> def _build_index_from_nodes(\n        self,\n        nodes: Sequence[BaseNode],\n        **insert_kwargs: Any,\n    ) -&gt; IndexDict:\n        \"\"\"Build index from nodes.\"\"\"\n        index_struct = self.index_struct_cls()\n        if self._use_async:\n            tasks = [\n                self._async_add_nodes_to_index(\n                    index_struct,\n                    nodes,\n                    show_progress=self._show_progress,\n                    **insert_kwargs,\n                )\n            ]\n            run_async_tasks(tasks)\n        else:\n            self._add_nodes_to_index(\n                index_struct,\n                nodes,\n                show_progress=self._show_progress,\n                **insert_kwargs,\n            )\n        return index_struct\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u662f\u4f7f\u7528\u540c\u6b65\u7684\u65b9\u5f0f\u8c03\u7528\uff0c\u6240\u4ee5\u4f1a\u8c03\u7528<code>_add_nodes_to_index</code>\u65b9\u6cd5\u3002</p> <pre><code>    def _add_nodes_to_index(\n        self,\n        index_struct: IndexDict,\n        nodes: Sequence[BaseNode],\n        show_progress: bool = False,\n        **insert_kwargs: Any,\n    ) -&gt; None:\n        \"\"\"Add document to index.\"\"\"\n        if not nodes:\n            return\n\n        for nodes_batch in iter_batch(nodes, self._insert_batch_size):\n            nodes_batch = self._get_node_with_embedding(nodes_batch, show_progress)\n            new_ids = self._vector_store.add(nodes_batch, **insert_kwargs)\n\n            if not self._vector_store.stores_text or self._store_nodes_override:\n                # NOTE: if the vector store doesn't store text,\n                # we need to add the nodes to the index struct and document store\n                for node, new_id in zip(nodes_batch, new_ids):\n                    # NOTE: remove embedding from node to avoid duplication\n                    node_without_embedding = node.copy()\n                    node_without_embedding.embedding = None\n\n                    index_struct.add_node(node_without_embedding, text_id=new_id)\n                    self._docstore.add_documents(\n                        [node_without_embedding], allow_update=True\n                    )\n            else:\n                # NOTE: if the vector store keeps text,\n                # we only need to add image and index nodes\n                for node, new_id in zip(nodes_batch, new_ids):\n                    if isinstance(node, (ImageNode, IndexNode)):\n                        # NOTE: remove embedding from node to avoid duplication\n                        node_without_embedding = node.copy()\n                        node_without_embedding.embedding = None\n\n                        index_struct.add_node(node_without_embedding, text_id=new_id)\n                        self._docstore.add_documents(\n                            [node_without_embedding], allow_update=True\n                        )\n</code></pre> <p>\u9996\u5148\u4f1a\u5c06<code>nodes</code>\u6309\u7167<code>_insert_batch_size</code>\u5904\u7406\u6210\u4e0d\u540c\u7684batch\uff0c\u7136\u540e\u5bf9\u6bcf\u4e00\u4e2abatch\u8fdb\u884c\u64cd\u4f5c\u3002\u5176\u4e2d<code>_get_node_with_embedding</code>\u5bf9\u4e00\u4e2abatch\u7684nodes\u8c03\u7528embedding model\u8fdb\u884c\u5411\u91cf\u5316\u64cd\u4f5c\u3002\u7136\u540e\u8c03\u7528<code>self._vector_store.add(nodes_batch, **insert_kwargs)</code>\u5c06\u5411\u91cf\u5316\u540e\u7684<code>nodes</code>\u5199\u5165\u5230\u5411\u91cf\u6570\u636e\u5e93\u4e2d\u3002\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u8fd4\u56de\u4e00\u4e2a<code>new_ids</code>\uff0c\u8868\u793a\u4e00\u4e2abatch\u7684nodes\u5728\u5411\u91cf\u6570\u636e\u5e93\u4e2d\u7684ID\u5217\u8868\u3002\u63a5\u4e0b\u6765\u4f1a\u5224\u65ad\u5411\u91cf\u6570\u636e\u5e93\u7684<code>stores_text</code>\u5c5e\u6027\u548c<code>_store_nodes_override</code>\u53c2\u6570\uff0c\u5982\u679c\u5411\u91cf\u6570\u636e\u5e93\u7684<code>stores_text</code>\u4e3aFalse\u6216\u8005<code>_store_nodes_override</code>\u53c2\u6570\u4e3aTrue\uff0c\u5c31\u4f1a\u6267\u884cif\u8bed\u53e5\uff0c\u5426\u5219\u5c31\u6267\u884celse\u8bed\u53e5\u3002if \u8bed\u53e5\u4e2d\u4f1a\u5c06node\u7684embedding\u5b57\u6bb5\u7f6e\u4e3a None\uff0c\u7136\u540e\u5c06\u5176\u6dfb\u52a0\u5230Index\u4e2d\u3002index add_node\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>@dataclass\nclass IndexDict(IndexStruct):\n    \"\"\"A simple dictionary of documents.\"\"\"\n\n    # TODO: slightly deprecated, should likely be a list or set now\n    # mapping from vector store id to node doc_id\n    nodes_dict: Dict[str, str] = field(default_factory=dict)\n\n    # TODO: deprecated, not used\n    # mapping from node doc_id to vector store id\n    doc_id_dict: Dict[str, List[str]] = field(default_factory=dict)\n\n    # TODO: deprecated, not used\n    # this should be empty for all other indices\n    embeddings_dict: Dict[str, List[float]] = field(default_factory=dict)\n\n    def add_node(\n        self,\n        node: BaseNode,\n        text_id: Optional[str] = None,\n    ) -&gt; str:\n        \"\"\"Add text to table, return current position in list.\"\"\"\n        # # don't worry about child indices for now, nodes are all in order\n        # self.nodes_dict[int_id] = node\n        vector_id = text_id if text_id is not None else node.node_id\n        self.nodes_dict[vector_id] = node.node_id\n\n        return vector_id\n</code></pre> <p>index\u4e2d\u7684nodes_dict\u7ef4\u62a4\u4e86\u5411\u91cf\u6570\u636e\u5e93ID\u548cnode_id\u7684\u4e00\u4e2a\u5173\u7cfb\uff0c\u5728\u672c\u4f8b\u4e2d\u8fd9\u4e24\u4e2aID\u662f\u4e00\u6837\u7684\uff0c\u90fd\u662fnode.node_id\u3002\u6700\u540e\u8c03\u7528</p> <pre><code>self._docstore.add_documents(\n    [node_without_embedding], allow_update=True\n)\n</code></pre> <p>\u5c06node\u4fdd\u5b58\u7684docstore\u4e2d\uff0c\u5728\u672c\u4f8b\u4e2d\u4e3aMongoDB\u3002</p> <p>\u5728MongoDB\u4e2d\u4f1a\u5c06\u6570\u636e\u4fdd\u5b58\u5728<code>docstore/data</code>\u3001<code>docstore/metadata</code>\u3001<code>docstore/ref_doc_info</code>\u4e09\u4e2acollection\u4e2d\u3002</p> <p>\u5176\u4e2d<code>docstore/data</code>\u4e2d\u4fdd\u5b58\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\n  \"_id\": \"b87e8f8b-e21a-4eca-a0b5-83e336bc6ace\",\n  \"__data__\": {\n    \"id_\": \"b87e8f8b-e21a-4eca-a0b5-83e336bc6ace\",\n    \"embedding\": null,\n    \"metadata\": {\n      \"page_label\": \"5\",\n      \"file_name\": \"\u6d4b\u8bd5.pdf\",\n      \"file_path\": \"\u6d4b\u8bd5.pdf\",\n      \"file_type\": \"application/pdf\",\n      \"file_size\": 462360,\n      \"creation_date\": \"2024-02-04\",\n      \"last_modified_date\": \"2023-11-14\"\n    },\n    \"excluded_embed_metadata_keys\": [\n      \"file_name\",\n      \"file_type\",\n      \"file_size\",\n      \"creation_date\",\n      \"last_modified_date\",\n      \"last_accessed_date\"\n    ],\n    \"excluded_llm_metadata_keys\": [\n      \"file_name\",\n      \"file_type\",\n      \"file_size\",\n      \"creation_date\",\n      \"last_modified_date\",\n      \"last_accessed_date\"\n    ],\n    \"relationships\": {},\n    \"text\": \"\u300a\\n\u70ed\u52a0\u5de5\u5de5\u827a\\n\u300b\\n2016\\n\u5e74\\n10\\n\u6708 \u7b2c\\n45\\n\u5377 \u7b2c\\n19\\n\u671f\\n\u677e\u7f29\u5b54\u73b0\u8c61\\n\uff0c\\n\u56fe\\n7\\n\u663e\u793a\u4e86\u94dd\u5408\u91d1\u7f69\u76d6\u4f18\u5316\u524d\u540e\u5256\u9762\\n\u7684\u7f29\u5b54\u533a\u57df\\n\u3002\\n\u7531\u56fe\u53ef\u89c1\\n\uff1a\\n\u4f18\u5316\u540e\u7f29\u5b54\u533a\u57df\u6d88\u5931\\n\uff0c\\n\u7f29\u5b54\\n\u6982\u7387\u663e\u8457\u964d\u4f4e\\n\uff0c\\n\u94f8\u4ef6\u7684\u8d28\u91cf\u5f97\u5230\u63d0\u9ad8\\n\u3002\\n5\\n\u7ed3\u8bba\\n\uff08\\n1\\n\uff09\\n\u91c7\u7528\\nBP\\n\u795e\u7ecf\u7f51\u7edc\u4e0e\\nGA\\n\u7ed3\u5408\u53ef\u5bf9\u538b\u94f8\u5de5\\n\u827a\u53c2\u6570\u8fdb\u884c\u4f18\u5316\\n\uff0c\\n\u627e\u51fa\u4e00\u7ec4\u9002\u5408\u96f6\u4ef6\u7684\u6700\u4f73\u5de5\u827a\u53c2\u6570\\n\u3002\\n\uff08\\n2\\n\uff09\\n\u901a\u8fc7\u5de5\u827a\u53c2\u6570\u7684\u4f18\u5316\\n\uff0c\\n\u53ef\u4ee5\u5c06\u96f6\u4ef6\u7684\u51dd\u56fa\\n\u65f6\u95f4\u51cf\u5c11\\n\uff0c\\n\u4e8c\u6b21\u679d\u6676\u81c2\u95f4\u8ddd\u51cf\u5c0f\\n\uff0c\\n\u51fa\u73b0\u7f29\u677e\u7f29\u5b54\u7684\u6982\\n\u7387\u964d\u4f4e\\n\uff0c\\n\u6210\u578b\u8d28\u91cf\u5f97\u5230\u63d0\u9ad8\\n\u3002\\n\u53c2\u8003\u6587\u732e\\n\uff1a\\n[1]\\n\u8d75\u519b\\n\uff0c\\n\u5c39\u7855\\n\uff0c\\n\u6b66\u5411\u5357\\n\uff0e\\nBP\\n\u795e\u7ecf\u7f51\u7edc\u5728\\nAZ91D\\n\u9541\u5408\u91d1\u6324\u538b\u94f8\u9020\\n\u5de5\u827a\u4e2d\u7684\u5e94\u7528\\n[J]\\n\uff0e\\n\u70ed\u52a0\u5de5\u5de5\u827a\\n\uff0c\\n2013\\n\uff0c\\n42(7)\\n\uff1a\\n46-48\\n\uff0e\\n[2]\\n\u8d75\u5efa\u534e\\n\uff0c\\n\u9ec4\u60e0\u5170\\n\uff0c\\n\u5c39\u51ac\u6885\\n\uff0c\\n\u7b49\\n\uff0e\\n\u57fa\u4e8e\u795e\u7ecf\u7f51\u7edc\u7684\u6cf5\u4f53\u94f8\u9020\u8fc7\u7a0b\\n\u6570\u503c\u6a21\u62df\u7684\u4f18\u5316\u4e0e\u5e94\u7528\\n[J]\\n\uff0e\\n\u70ed\u52a0\u5de5\u5de5\u827a\\n\uff0c\\n2010\\n\uff0c\\n39 (23)\\n\uff1a\\n53-58\\n\uff0e\\n[3]\\n\u5c1a\u5b88\u5e73\\n\uff0c\\n\u96f7\u654f\\n\uff0c\\n\u84af\u884c\u6210\\n\uff0e\\n\u571f\u7ed3\u6784\u7cfb\u7edf\u7684\u975e\u7ebf\u6027\u53c2\u6570\u53cd\u6f14\u7814\u7a76\\n[J]\\n\uff0e\\n\u6e56\u5357\u5927\u5b66\u5b66\u62a5\\n\uff1a\\n\u81ea\u7136\u79d1\u5b66\u7248\\n\uff0c\\n2008\\n\uff0e\\n[4]\\n\u5f20\u5fb7\u4e30\\n\uff0e\\nMATLAB\\n\u795e\u7ecf\u7f51\u7edc\u5e94\u7528\u8bbe\u8ba1\\n[M]\\n\uff0e\\n\u5317\u4eac\\n\uff1a\\n\u673a\u68b0\u5de5\u4e1a\\n\u51fa\u7248\u793e\\n\uff0c\\n2009\\n\uff0e\\n[5]\\n\u96f7\u82f1\u6770\\n\uff0c\\n\u5f20\u5584\u6587\\n\uff0c\\n\u674e\u7eed\u6b66\\n\uff0c\\n\u7b49\\n\uff0e\\nMATLAB\\n\u9057\u4f20\u7b97\u6cd5\u5de5\u5177\u7bb1\u53ca\u5e94\\n\u7528\\n[M]\\n\uff0e\\n\u897f\u5b89\\n\uff1a\\n\u897f\u5b89\u7535\u5b50\u79d1\u6280\u5927\u5b66\u51fa\u7248\u793e\\n\uff0c\\n2005\\n\uff0e\\n1.0\\n0.9\\n0.8\\n0.7\\n0.6\\n0.5\\n0.4\\n0.3\\n0.2\\n0.1\\n0.0\\n\u56fe\\n7\\n\u538b\u94f8\u4ef6\u7f29\u5b54\u6982\u7387\u56fe\\nFig.7 Porosity probability of die casting\\n(a)\\n\u4f18\u5316\u524d\\n(b)\\n\u4f18\u5316\u540e\\n\u6982\u7387\u7f3a\u9677\\n\u53c2\u6570\\n=0.1\\n\u6982\u7387\u7f3a\u9677\\n\u53c2\u6570\\n=0.04\\n\u5bf9\u6bd4\\n\u3002\\n\u53ef\u770b\u51fa\\n\uff1a\\n\u2460\\n\u6297\u62c9\u5f3a\u5ea6\u7ecf\u8fc7\u7a00\u571f\u5904\u7406\u4e4b\u540e\u6bd4\u672a\u5904\\n\u7406\u7684\u5747\u6709\u63d0\u9ad8\\n\uff0c\\n\u5e73\u5747\u503c\u63d0\u9ad8\u8fbe\\n7.05%\\n\uff1b\\n\u2461\\n\u4f38\u957f\u7387\u7ecf\u8fc7\\n\u7a00\u571f\u5904\u7406\u4e4b\u540e\u6bd4\u672a\u5904\u7406\u7684\u4ec5\u6700\u5927\u503c\u6301\u5e73\\n\uff0c\\n\u6700\u5c0f\u503c\u548c\\n\u5e73\u5747\u503c\u5747\u6709\u964d\u4f4e\\n\uff0c\\n\u5176\u4e2d\u5e73\u5747\u503c\u964d\u4f4e\\n12.82%\\n\uff1b\\n\u2462\\n\u51b2\u51fb\\n\u529f\u7ecf\u8fc7\u7a00\u571f\u5904\u7406\u4e4b\u540e\u6bd4\u672a\u5904\u7406\u7684\u5747\u6709\u964d\u4f4e\\n\uff0c\\n\u5e73\u5747\u503c\\n\u964d\u4f4e\u8fbe\\n23.92%\\n\u3002\\n3\\n\u6570\u636e\u5206\u6790\\n\u4f17\u6240\u5468\u77e5\\n\uff0c\\n\u9ad8\u9530\u94a2\u7684\u94f8\u6001\u7ec4\u7ec7\u662f\u7531\u5965\u6c0f\u4f53\\n\u3001\\n\u78b3\u5316\\n\u7269\\n\u3001\\n\u73e0\u5149\u4f53\u548c\u5c11\u91cf\u78f7\u5171\u6676\u7b49\u7ec4\u6210\u7684\\n\u3002\\n\u7531\u4e8e\u78b3\u5316\u7269\u6570\u91cf\\n\u591a\\n\uff0c\\n\u5e76\u5728\u6676\u754c\u5f62\u6210\u7f51\u72b6\\n\uff0c\\n\u4e25\u91cd\u964d\u4f4e\u94a2\u7684\u6676\u754c\u5f3a\u5ea6\\n\uff0c\\n\u4f7f\\n\u94a2\u7684\u6027\u80fd\u53d8\u8106\\n\uff0c\\n\u4e00\u822c\u60c5\u51b5\u4e0b\u4e0d\u80fd\u4f7f\u7528\\n\u3002\\n\u53ea\u6709\u901a\u8fc7\u56fa\u6eb6\u5904\u7406\\n\uff08\\n\u5373\u6c34\u97e7\u5904\u7406\\n\uff09\\n\u540e\\n\uff0c\\n\u4f7f\u94a2\u4e2d\u7684\u78b3\u5316\u7269\u6eb6\u89e3\u4e8e\u5965\u6c0f\\n\u4f53\u4e2d\\n\uff0c\\n\u6210\u4e3a\u5355\u4e00\u7684\u5965\u6c0f\u4f53\u7ec4\u7ec7\\n\uff0c\\n\u9ad8\u9530\u94a2\u624d\u5177\u6709\u8f83\u9ad8\u7684\\n\u5f3a\u5ea6\\n\u3001\\n\u5851\u5f62\u548c\u97e7\u6027\\n\u3002\\n\u7a00\u571f\u5143\u7d20\u5bf9\u9ad8\u9530\u94a2\u529b\u5b66\u6027\u80fd\u7684\u5f71\u54cd\u662f\u94a2\u4e2d\u975e\u91d1\\n\u5c5e\u5939\u6742\u7269\\n\u3001\\n\u78b3\u5316\u7269\\n\u3001\\n\u6676\u7c92\u5ea6\u7b49\u5404\u79cd\u56e0\u7d20\u7efc\u5408\u5f71\u54cd\u7684\u7ed3\\n\u679c\\n\u3002\\n\u7efc\u5408\u91d1\u76f8\\n\u3001\\n\u626b\u63cf\u7535\u955c\u548c\u529b\u5b66\u6027\u80fd\u7684\u68c0\u6d4b\u6570\u636e\\n\uff0c\\n\u5206\\n\u6790\u8ba4\u4e3a\\n\uff1a\\n\u52a0\u5165\u7a00\u571f\u5143\u7d20\\n\uff0c\\n\u5229\u7528\u5176\u5177\u6709\u6bd4\u8f83\u9ad8\u7684\u8868\u9762\u6d3b\\n\u6027\u4ee5\u53ca\u7531\u5b83\u5f62\u6210\u9ad8\u7194\u70b9\u5316\u5408\u7269\u4f5c\u4e3a\u7ed3\u6676\u6838\u5fc3\u7684\u4f5c\\n\u7528\\n\uff0c\\n\u56e0\u6b64\u4e00\u6b21\u7ed3\u6676\u5f97\u5230\u4e86\u7ec6\u5316\\n\u3002\\n\u7ecf\u8fc7\u7a00\u571f\u5904\u7406\u540e\u7684\\n\u9ad8\u9530\u94a2\\n\uff0c\\n\u6676\u7c92\u5ea6\u660e\u663e\u7ec6\u5316\\n\u3002\\n\u4f46\u5fc5\u987b\u6307\u51fa\\n\uff0c\\n\u7531\u4e8e\u7a00\u571f\u5143\\n\u7d20\u4e0e\u94a2\u4e2d\u78b3\u5143\u7d20\u53ef\u4ee5\u5f62\u6210\u9ad8\u7194\u70b9\u7684\u7a00\u571f\u78b3\u5316\u7269\\n\uff0c\\n\u5b83\\n\u867d\u7136\u5b58\u5728\u4e8e\u6676\u5185\\n\uff0c\\n\u4f46\u662f\u5bf9\u94a2\u7684\u97e7\u6027\u5374\u4ea7\u751f\u4e0d\u5229\u5f71\u54cd\\n\uff0c\\n\u4f7f\u9ad8\u9530\u94a2\u6297\u62c9\u5f3a\u5ea6\u63d0\u9ad8\\n\uff0c\\n\u4f46\u4f4e\u6e29\u51b2\u51fb\u97e7\u6027\u964d\u4f4e\\n\uff0c\\n\u5373\u51b2\\n\u51fb\u503c\u4e0b\u964d\\n\uff0c\\n\u7279\u522b\u662f\u5728\u5bd2\u51b7\u5730\u533a\u4f1a\u8868\u73b0\u5f97\u66f4\u52a0\u660e\u663e\\n\u3002\\n4\\n\u7ed3\u8bed\\n\u9ad8\u9530\u94a2\u91c7\u7528\u7a00\u571f\u5904\u7406\\n\uff08\\n\u5373\u52a0\u5165\u94a2\u5305\u5185\u5bf9\u9ad8\u9530\u94a2\u8fdb\\n\u884c\u53d8\u8d28\u5904\u7406\\n\uff09\uff0c\\n\u53ef\u4ee5\u6709\u6548\u7ec6\u5316\u6676\u7c92\\n\uff0c\\n\u6297\u62c9\u5f3a\u5ea6\u53ef\u4ee5\u63d0\u9ad8\\n7%\\n\u5de6\u53f3\\n\uff0c\\n\u4f46\u51b2\u51fb\u503c\u5c06\u5927\u5e45\u964d\u4f4e\\n\uff0c\\n\u964d\u5e45\u8fbe\\n23%\\n\u3002\\n\u5728\u6ca1\u6709\\n\u4f7f\u7528\u7cbe\u70bc\u6280\u672f\u7684\u60c5\u51b5\u4e0b\\n\uff0c\\n\u51b2\u51fb\u503c\u4e0b\u964d\u96be\u4ee5\u514b\u670d\\n\u3002\\n\u53c2\u8003\u6587\u732e\\n\uff1a\\n[1]\\n\u970d\u6587\u971e\\n\uff0e\\n\u4e0d\u540c\u7a00\u571f\u52a0\u5165\u91cf\u5bf9\u9ad8\u9530\u94a2\u7ec4\u7ec7\u53ca\u529b\u5b66\u6027\u80fd\u7684\u5f71\u54cd\\n[J]\\n\uff0e\\n\u70ed\u52a0\u5de5\u5de5\u827a\\n\uff0c\\n2012\\n\uff0c\\n41(7)\\n\uff1a\\n15-17\\n\uff0e\\n[2]\\n\u6a0a\u5b89\u56fd\\n\uff0e\\n\u5fae\u5408\u91d1\u5316\u7eaf\u51c0\u94a2\u4e2d\u7a00\u571f\u5143\u7d20\u7684\u4f5c\u7528\\n[J]\\n\uff0e\\n\u6709\u8272\u91d1\u5c5e\\n\uff0c\\n2010\\n\uff0c\\n62(1)\\n\uff1a\\n14-16\\n\uff0e\\n[3]\\n\u9a6c \u6770\\n\uff0e\\n\u7a00\u571f\u5143\u7d20\u5728\u94a2\u4e2d\u7684\u4f5c\u7528\u53ca\u5bf9\u94a2\u6027\u80fd\u7684\u5f71\u54cd\\n[J]\\n\uff0e\\n\u94a2\u94c1\\n\u7814\u7a76\\n\uff0c\\n2009\\n\uff0c\\n37(3)\\n\uff1a\\n54-56\\n\uff0e\\n\u65b9\u6848\u662f\u5426\u52a0\u5165\u7a00\u571f\\n(\\n\u8bd5\u4ef6\u7f16\u53f7\\n)\\nR\\nm\\n/MPa\\nA\\n(%)\\na\\nU2\\n/(J\\n\u00b7\\ncm\\n-2\\n)\\n\u65b9\u6848\u4e00\\n\u65b9\u6848\u4e8c\\n\u65b9\u6848\u4e09\\n\u5426\\n\uff08\\n1A\\n\uff09\\n\u662f\\n\uff08\\n1B\\n\uff09\\n\u5426\\n\uff08\\n2A\\n\uff09\\n\u662f\\n\uff08\\n2B\\n\uff09\\n\u5426\\n\uff08\\n3A\\n\uff09\\n\u662f\\n\uff08\\n3B\\n\uff09\\n847\\n943\\n815\\n892\\n873\\n87970.0\\n70.5\\n56.5\\n48.5\\n70.0\\n52.5331\\n\uff0c\\n288\\n\uff0c\\n375\\n\uff0c\\n\u5e73\u5747\\n387.3\\n456\\n\uff0c\\n325\\n\uff0c\\n325\\n\uff0c\\n\u5e73\u5747\\n312.6\\n338\\n\uff0c\\n281\\n\uff0c\\n413\\n\uff0c\\n\u5e73\u5747\\n371.3\\n363\\n\uff0c\\n306\\n\uff0c\\n325\\n\uff0c\\n\u5e73\u5747\\n304\\n381\\n\uff0c\\n275\\n\uff0c\\n387\\n\uff0c\\n\u5e73\u5747\\n383\\n381\\n\uff0c\\n256\\n\uff0c\\n225\\n\uff0c\\n\u5e73\u5747\\n252\\n\u8868\\n4\\n\u52a0\u5165\u7a00\u571f\u548c\u672a\u52a0\u7a00\u571f\u9ad8\u9530\u94a2\u7684\u529b\u5b66\u6027\u80fd\u5bf9\u6bd4\\nTab.4 The mechanical properties contrast of high\\nmanganese steel with the rare earths and without the\\nrare earths\\n\u8868\\n3\\n\u4e0d\u540c\u8bd5\u9a8c\u65b9\u6848\u4e0b\u9ad8\u9530\u94a2\u7684\u529b\u5b66\u6027\u80fd\u6d4b\u8bd5\u7ed3\u679c\\nTab.3 Mechanics performance test results of high\\nmanganese steel under different test schemes\\n\u8bd5\u9a8c\u65b9\u6848\\nR\\nm\\n/MPa\\nA\\n(%)\\na\\nU2\\n/(J\\n\u00b7\\ncm\\n-2\\n)\\n\u6700\u5927\u503c\u6700\u5c0f\u503c\u5e73\u5747\u503c\u6700\u5927\u503c\u6700\u5c0f\u503c\u5e73\u5747\u503c\u6700\u5927\u503c\u6700\u5c0f\u503c\u5e73\u5747\u503c\\n\u672a\u52a0\u7a00\u571f\\n\u52a0\u5165\u7a00\u571f\\n873\\n943815\\n879845\\n904.670.0\\n70.556.5\\n48.565.5\\n57.1387.3\\n312.6371.3\\n252380.5\\n289.5\\n(\\n\u4e0a\u63a5\u7b2c\\n117\\n\u9875\\n)\\n119\\n\",\n    \"start_char_idx\": null,\n    \"end_char_idx\": null,\n    \"text_template\": \"{metadata_str}\\n\\n{content}\",\n    \"metadata_template\": \"{key}: {value}\",\n    \"metadata_seperator\": \"\\n\",\n    \"class_name\": \"Document\"\n  },\n  \"__type__\": \"4\"\n}\n</code></pre> <p>\u5728<code>docstore/metadata</code>\u4e2d\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\n  \"_id\": \"891af491-2999-4d99-b587-87a72a79af27\",\n  \"doc_hash\": \"fa47aff1ecab93260fdba2a6c926bafd4d2cc0afcd2b4832b7ee092d3c2ed3f3\"\n}\n</code></pre> <p>\u5728Redis\u4e2d\u5b58\u50a8\u7684index\u67093\u4e2a\u5b57\u6bb5\uff0c\u5206\u522b\u662fID\uff0cKey\uff0cValue\u3002ID\u662f\u81ea\u589e\u7684\u6570\u5b57\uff0cKey\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u7d22\u5f15ID\uff0c\u662f\u4e00\u4e2aUUID\u683c\u5f0f\uff0cValue\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u8868\u793aLlamaIndex\u4e2d\u7684\u7d22\u5f15\u6570\u636e\u7ed3\u6784\u3002\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\n    \"__type__\": \"vector_store\",\n    \"__data__\": \"{\\\"index_id\\\": \\\"a289e79a-6acc-4142-bf21-aeb9c16977bc\\\", \\\"summary\\\": null, \\\"nodes_dict\\\": {\\\"da98496b-27a1-4509-bdef-63fb9d834ea5\\\": \\\"da98496b-27a1-4509-bdef-63fb9d834ea5\\\", \\\"b77f422d-e51a-41a9-8c67-4b37f6d044ae\\\": \\\"b77f422d-e51a-41a9-8c67-4b37f6d044ae\\\", \\\"fa3932cd-7d81-4617-8c49-4c87607641cf\\\": \\\"fa3932cd-7d81-4617-8c49-4c87607641cf\\\", \\\"397947bb-5385-4078-b2ca-d86d7bf2003a\\\": \\\"397947bb-5385-4078-b2ca-d86d7bf2003a\\\", \\\"b87e8f8b-e21a-4eca-a0b5-83e336bc6ace\\\": \\\"b87e8f8b-e21a-4eca-a0b5-83e336bc6ace\\\"}, \\\"doc_id_dict\\\": {}, \\\"embeddings_dict\\\": {}}\"\n}\n</code></pre> <p>\u5176\u4e2d\u7ef4\u62a4\u4e86\u5411\u91cf\u6570\u636e\u5e93ID\u548cnode_id\u7684\u5bf9\u5e94\u5173\u7cfb\u3002</p>"},{"location":"03_AI/LlamaIndex/03_LlamaIndex%E8%AF%84%E4%BC%B0.html","title":"RAG\u8bc4\u4f30","text":"<p>\u8bc4\u4f30\uff08Evaluation\uff09\u548c\u57fa\u51c6\u6d4b\u8bd5\uff08benchmark\uff09\u662f\u5f00\u53d1\u4e2dLLM\u7684\u5173\u952e\u6982\u5ff5\u3002\u82e5\u8981\u63d0\u9ad8LLM\u5e94\u7528\uff08RAG\u3001Agent\uff09\u7684\u6027\u80fd\uff0c\u5fc5\u987b\u6709\u4e00\u79cd\u65b9\u6cd5\u6765\u8861\u91cf\u5b83\u3002</p> <p>LlamaIndex \u63d0\u4f9b\u8861\u91cf\u751f\u6210\u7ed3\u679c\u7684\u8d28\u91cf\u548c\u68c0\u7d22\u8d28\u91cf\u7684\u5173\u952e\u6a21\u5757\u3002</p> <ul> <li>\u54cd\u5e94\u8bc4\u4f30\uff08Response Evaluation\uff09\uff1aLLM\u751f\u6210\u7684\u7ed3\u679c\u548c\u68c0\u7d22\u5230\u7684\u4e0a\u4e0b\u6587\u662f\u5426\u5339\u914d\uff1f\u548cquery\u662f\u5426\u5339\u914d\uff1f\u548c\u53c2\u8003\u7b54\u6848\u548c\u6307\u5357\u662f\u5339\u914d\uff1f</li> <li>\u68c0\u7d22\u8bc4\u4f30\uff08Retrieavl Evalution\uff09\uff1a\u68c0\u7d22\u5230\u7684\u5185\u5bb9\u548cquery\u662f\u5426\u76f8\u5173\uff1f</li> </ul>"},{"location":"03_AI/LlamaIndex/03_LlamaIndex%E8%AF%84%E4%BC%B0.html#retrieval_evalution","title":"\u68c0\u7d22\u8bc4\u4f30\uff08Retrieval Evalution)","text":"<p>LlamaIndex\u63d0\u4f9b\u76f8\u5173\u6a21\u5757\u53ef\u4ee5\u5355\u72ec\u7684\u5bf9\u68c0\u7d22\u6548\u679c\u8fdb\u884c\u8bc4\u4f30\u3002</p> <p>\u68c0\u7d22\u8bc4\u4f30\u7684\u6982\u5ff5\u5e76\u4e0d\u65b0\u9896\uff1b\u7ed9\u5b9a\u4e00\u4e2a\u5305\u542b\u95ee\u9898\u548cground-truth\u7684\u6570\u636e\u96c6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5e73\u5747\u4e92\u60e0\u6392\u540d\uff08MRR\uff09\u3001\u547d\u4e2d\u7387\u3001\u7cbe\u786e\u5ea6\u7b49\u6392\u540d\u6307\u6807\u6765\u8bc4\u4f30\u68c0\u7d22\u5668\u3002</p> <p>\u68c0\u7d22\u8bc4\u4f30\u6838\u5fc3\u6b65\u9aa4\u56f4\u7ed5\u4ee5\u4e0b\u5185\u5bb9\u5c55\u5f00\uff1a</p> <ul> <li>\u6570\u636e\u96c6\u751f\u6210\uff08Dataset Generation\uff09\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u6587\u672c\u8bed\u6599\u5e93\uff0c\u4f7f\u7528\u5927\u6a21\u578b\u751f\u6210\uff08\u95ee\u9898\uff0c\u4e0a\u4e0b\u6587\uff09\u5bf9\u3002</li> <li>\u68c0\u7d22\u8bc4\u4f30\uff08Retrieval Evaluation\uff09\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u68c0\u7d22\u5668\u548c\u4e00\u7ec4\u95ee\u9898\uff0c\u4f7f\u7528\u6392\u5e8f\u6307\u6807\uff08mrr,hit rate\u7b49\uff09\u8bc4\u4f30\u68c0\u7d22\u5230\u7684\u7ed3\u679c\u3002</li> </ul> <p>\u793a\u4f8b\u4ee3\u7801\uff1a</p> <pre><code>from llama_index.core.evaluation import generate_question_context_pairs\nfrom llama_index.core import VectorStoreIndex, SimpleDirectoryReader\nfrom llama_index.core.node_parser import SentenceSplitter\nfrom llama_index.llms.openai import OpenAI\nfrom llama_index.core.evaluation import (\n    generate_question_context_pairs,\n    EmbeddingQAFinetuneDataset,\n)\n\n# \u52a0\u8f7d\u6587\u4ef6\u3001\u5bf9\u6587\u4ef6\u8fdb\u884c\u5206\u7247\ndocuments = SimpleDirectoryReader(\"./data/\").load_data()\nnode_parser = SentenceSplitter(chunk_size=512)\nnodes = node_parser.get_nodes_from_documents(documents)\n# by default, the node ids are set to random uuids. To ensure same id's per run, we manually set them.\nfor idx, node in enumerate(nodes):\n    node.id_ = f\"node_{idx}\"\n\n# \u6784\u5efa\u7d22\u5f15\nvector_index = VectorStoreIndex(nodes)\n\n# \u521b\u5efaretrier\nretriever = vector_index.as_retriever(similarity_top_k=2)\n\n\n# \u6784\u9020&lt;query,context&gt;\u6570\u636e\u96c6\nllm = OpenAI(model=\"gpt-4\")\nqa_dataset = generate_question_context_pairs(\n    nodes, llm=llm, num_questions_per_chunk=2\n)\n# \u53ef\u9009 \u5c06\u6570\u636e\u96c6\u4fdd\u5b58\u5230JSON\u4e2d\n# qa_dataset.save_json(\"dataset.json\")\n# \u53ef\u9009 \u4eceJSON\u6587\u4ef6\u4e2d\u52a0\u8f7d\u5230\u6570\u636e\u96c6\n# qa_dataset = EmbeddingQAFinetuneDataset.from_json(\"dataset.json\")\n\n# \u8bc4\u6d4b\u76f8\u5173\nmetrics = [\"mrr\", \"hit_rate\"]\nretriever_evaluator = RetrieverEvaluator.from_metric_names(\n    metrics, retriever=retriever\n)\n# \u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u8bc4\u6d4b\neval_results = await retriever_evaluator.aevaluate_dataset(qa_dataset)\n</code></pre>"},{"location":"03_AI/LlamaIndex/03_LlamaIndex%E8%AF%84%E4%BC%B0.html#_1","title":"\u6570\u636e\u96c6\u751f\u6210","text":"<p>\u5176\u4e2d\u6784\u9020\u6570\u636e\u96c6\u7684\u662f\u901a\u8fc7\u8c03\u7528\u5927\u6a21\u578b\uff0c\u8ba9\u5927\u6a21\u578b\u5bf9\u6bcf\u4e00\u4e2anode\u751f\u6210\u591a\u4e2aquery\u3002\u5177\u4f53\u4ee3\u7801\u89c1<code>llama_index.core.evaluation</code>\u4e0b\u7684<code>generate_question_context_pairs</code>\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u5b9e\u9645\u4e0a\u5728<code>llama_index\\core\\llama_dataset\\legacy\\embedding.py</code>\u4e2d\uff0c\u5728<code>embedding.py</code>\u4e2d\u53eb<code>generate_qa_embedding_pairs</code>\u51fd\u6570\uff0c\u5176\u6e90\u7801\u5982\u4e0b\uff1a</p> <pre><code>def generate_qa_embedding_pairs(\n    nodes: List[TextNode],\n    llm: LLM,\n    qa_generate_prompt_tmpl: str = DEFAULT_QA_GENERATE_PROMPT_TMPL,\n    num_questions_per_chunk: int = 2,\n) -&gt; EmbeddingQAFinetuneDataset:\n    \"\"\"Generate examples given a set of nodes.\"\"\"\n    node_dict = {\n        node.node_id: node.get_content(metadata_mode=MetadataMode.NONE)\n        for node in nodes\n    }\n\n    queries = {}\n    relevant_docs = {}\n    for node_id, text in tqdm(node_dict.items()):\n        query = qa_generate_prompt_tmpl.format(\n            context_str=text, num_questions_per_chunk=num_questions_per_chunk\n        )\n        response = llm.complete(query)\n\n        result = str(response).strip().split(\"\\n\")\n        questions = [\n            re.sub(r\"^\\d+[\\).\\s]\", \"\", question).strip() for question in result\n        ]\n        questions = [question for question in questions if len(question) &gt; 0]\n\n        for question in questions:\n            question_id = str(uuid.uuid4())\n            queries[question_id] = question\n            relevant_docs[question_id] = [node_id]\n\n    # construct dataset\n    return EmbeddingQAFinetuneDataset(\n        queries=queries, corpus=node_dict, relevant_docs=relevant_docs\n    )\n</code></pre> <p>\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d74\u4e2a\u53c2\u6570\uff1a</p> <ul> <li> <p>nodes: \u7528\u6765\u751f\u6210question\u7684node\u5217\u8868</p> </li> <li> <p>llm: \u7528\u6765\u751f\u6210question\u7684\u5927\u8bed\u8a00\u6a21\u578b\u5bf9\u8c61\uff0cllm\u5bf9\u8c61\u53ea\u5b9e\u73b0\u4e86<code>complete</code>\u65b9\u6cd5\u5373\u53ef</p> </li> <li> <p>qa_generate_prompt_tmpl\uff1a\u7528\u6765\u751f\u6210question\u7684\u63d0\u793a\u8bcd\u6a21\u677f\uff0c\u9ed8\u8ba4\u4e3a<code>DEFAULT_QA_GENERATE_PROMPT_TMPL</code>\uff0c\u5185\u5bb9\u4e3a\uff1a</p> <pre><code>\"\"\"\\\nContext information is below.\n\n---------------------\n{context_str}\n---------------------\n\nGiven the context information and not prior knowledge.\ngenerate only questions based on the below query.\n\nYou are a Teacher/ Professor. Your task is to setup \\\n{num_questions_per_chunk} questions for an upcoming \\\nquiz/examination. The questions should be diverse in nature \\\nacross the document. Restrict the questions to the \\\ncontext information provided.\"\n\"\"\"\n</code></pre> <p>\u7ffb\u8bd1\u6210\u5bf9\u5e94\u7684\u4e2d\u6587\u63d0\u793a\u8bcd\u5982\u4e0b\uff1a</p> <pre><code>\"\"\"\\\n\u4ee5\u4e0b\u662f\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002\n\n---------------------\n{context_str}\n---------------------\n\n\u6df1\u5165\u7406\u89e3\u4e0a\u8ff0\u7ed9\u5b9a\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u800c\u4e0d\u662f\u4f60\u7684\u5148\u9a8c\u77e5\u8bc6\uff0c\u6839\u636e\u4e0b\u9762\u7684\u8981\u6c42\u751f\u6210\u95ee\u9898\u3002\n\n\u8981\u6c42\uff1a\u4f60\u662f\u4e00\u4f4d\u6559\u6388\uff0c\u4f60\u7684\u4efb\u52a1\u662f\u4e3a\u5373\u5c06\u5230\u6765\u7684\u8003\u8bd5\u8bbe\u7f6e{num_questions_per_chunk}\u4e2a\u95ee\u9898\u3002\u4f60\u5e94\u8be5\u4e25\u683c\u57fa\u4e8e\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u6765\u8bbe\u7f6e\u591a\u79cd\u591a\u6837\u7684\u95ee\u9898\u3002\\\n\u4f60\u8bbe\u7f6e\u7684\u95ee\u9898\u4e0d\u8981\u5305\u542b\u9009\u9879\uff0c\u4e5f\u4e0d\u8981\u4ee5\u201c\u95ee\u98981\u201d\u6216\u201c\u95ee\u98982\u201d\u4e3a\u5f00\u5934\uff0c\u4e5f\u4e0d\u8981\u8f93\u51fa\u95ee\u9898\u7684\u5e8f\u53f7\uff0c\u76f4\u63a5\u8f93\u51fa\u751f\u6210\u7684\u95ee\u9898\u3002\\\n\u5c06\u95ee\u9898\u9650\u5236\u5728\u6240\u63d0\u4f9b\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u4e2d\u3002\\\n\"\"\"\n</code></pre> </li> <li> <p>num_questions_per_chunk\uff1a\u5bf9\u6bcf\u4e2anode\u751f\u6210\u591a\u5c11\u4e2aquestion\uff0c\u9ed8\u8ba4\u4e3a2\u4e2a\u3002</p> </li> </ul> <p>\u6570\u636e\u96c6\u6784\u9020\u5b8c\u6210\u4e4b\u540e\u4f1a\u521b\u5efa\u4e00\u4e2a<code>EmbeddingQAFinetuneDataset</code>\u7684\u5bf9\u8c61\u3002</p> <p><code>EmbeddingQAFinetuneDataset</code>\u6e90\u7801\u5982\u4e0b\uff1a</p> <pre><code>class EmbeddingQAFinetuneDataset(BaseModel):\n    \"\"\"Embedding QA Finetuning Dataset.\n\n    Args:\n        queries (Dict[str, str]): Dict id -&gt; query.\n        corpus (Dict[str, str]): Dict id -&gt; string.\n        relevant_docs (Dict[str, List[str]]): Dict query id -&gt; list of doc ids.\n\n    \"\"\"\n\n    queries: Dict[str, str]  # dict id -&gt; query\n    corpus: Dict[str, str]  # dict id -&gt; string\n    relevant_docs: Dict[str, List[str]]  # query id -&gt; list of doc ids\n    mode: str = \"text\"\n\n    @property\n    def query_docid_pairs(self) -&gt; List[Tuple[str, List[str]]]:\n        \"\"\"Get query, relevant doc ids.\"\"\"\n        return [\n            (query, self.relevant_docs[query_id])\n            for query_id, query in self.queries.items()\n        ]\n\n    def save_json(self, path: str) -&gt; None:\n        \"\"\"Save json.\"\"\"\n        with open(path, \"w\") as f:\n            json.dump(self.dict(), f, indent=4)\n\n    @classmethod\n    def from_json(cls, path: str) -&gt; \"EmbeddingQAFinetuneDataset\":\n        \"\"\"Load json.\"\"\"\n        with open(path, encodings=\"utf-8\") as f:\n            data = json.load(f)\n        return cls(**data)\n</code></pre> <p>\u5176\u4e2d\u6709\u4e09\u4e2a\u5b57\u5178\uff0c\u5206\u522b\u662f<code>queries</code>\u3001<code>corpus</code>\u3001<code>relevant_docs</code>\u3002</p> <ul> <li>queries\uff1a\u5b58\u50a8\u95f4\u6240\u6709\u7684qution\uff0ckey\u662f\u81ea\u52a8\u751f\u6210\u7684uuid\uff0cvalue\u662f\u901a\u8fc7llm\u751f\u6210\u7684question</li> <li>corpus\uff1a\u5b58\u50a8\u6240\u6709\u7684node,key\u662fnode\u7684id\uff0cvalue\u662fnode</li> <li>relevant_docs\uff1a\u5b58\u50a8query\u548cnode\u7684\u5bf9\u5e94\u6620\u5c04\uff0ckey\u662fquestion\u7684id\uff0cvalue\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u8868\u793a\u751f\u6210question\u5bf9\u5e94\u7684node\u7684id\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8fd9\u4e2a\u5217\u8868\u4e2d\u7684\u5143\u7d20\u53ea\u6709\u4e00\u4e2a\u3002</li> </ul> <p>\u53e6\u5916\u8fd9\u4e2a\u7c7b\u8fd8\u5b9e\u73b0\u4e86\u4fdd\u5b58\u5230JSON\u548c\u4eceJSON\u52a0\u8f7d\u6570\u636e\u7684\u65b9\u6cd5\u3002\u4f46\u662f\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6ca1\u6709\u8003\u8651\u7f16\u7801\u548c\u4e2d\u6587\u5b57\u7b26\u3002\u5bf9JSON\u548c\u4e2d\u6587\u5b57\u7b26\u4f18\u5316\u540e\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>class EmbeddingQAFinetuneDataset(LlamaIndexEmbeddingQAFinetuneDataset):\n    def save_json(self, path: str) -&gt; None:\n        with open(path, \"w\", encoding=\"utf-8\") as f:\n            json.dump(self.dict(), f, indent=4, ensure_ascii=False)\n\n    @classmethod\n    def from_json(cls, path: str) -&gt; \"EmbeddingQAFinetuneDataset\":\n        \"\"\"Load json.\"\"\"\n        with open(path, \"r\", encoding=\"utf-8\") as f:\n            data = json.load(f)\n        return cls(**data)\n</code></pre> <p>\u751f\u6210\u7684JSON\u6587\u4ef6\u5185\u5bb9\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\n    \"queries\": {},\n    \"corpus\": {},\n    \"relevant_docs\": {},\n    \"mode\": \"text\"\n}\n</code></pre>"},{"location":"03_AI/LlamaIndex/03_LlamaIndex%E8%AF%84%E4%BC%B0.html#_2","title":"\u68c0\u7d22\u8bc4\u4f30","text":"<p>\u8bc4\u4f30\u76f8\u5173\u4ee3\u7801\u4e3a\uff1a</p> <pre><code># \u8bc4\u6d4b\u76f8\u5173\nmetrics = [\"mrr\", \"hit_rate\"]\nretriever_evaluator = RetrieverEvaluator.from_metric_names(\n    metrics, retriever=retriever\n)\n# \u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u8bc4\u6d4b\neval_results = await retriever_evaluator.aevaluate_dataset(qa_dataset)\n</code></pre> <p>\u68c0\u7d22\u8bc4\u4f30\u4f7f\u7528\u7684\u662f<code>RetrieverEvaluator</code> \u8fd9\u4e2a\u7c7b\uff0c\u9700\u8981\u5c06\u8bc4\u4f30\u6307\u6807\u548cretriever\u4f20\u9012\u5230<code>from_metric_names</code>\u65b9\u6cd5\uff0c\u7136\u540e\u8c03\u7528<code>aevaluate_dataset</code>\u65b9\u6cd5\u5c06\u6570\u636e\u96c6\u4f20\u8fdb\u53bb\u3002</p> <p><code>RetrieverEvaluator</code>\u7c7b\u5b9a\u4e49\u5728<code>llama_index\\core\\evaluation\\retrieval\\evaluator.py</code>\u4e2d\uff0c\u8fd9\u4e2a\u7c7b\u7ee7\u627f\u81ea<code>BaseRetrievalEvaluator</code>\uff0c\u5b9e\u73b0\u4e86<code>_aget_retrieved_ids_texts</code>\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4e2d\u4f7f\u7528\u5f02\u6b65\u8c03\u7528<code>retriever</code>\u7684<code>aretrieve</code>\u65b9\u6cd5\u3002</p> <pre><code>class RetrieverEvaluator(BaseRetrievalEvaluator):\n    \"\"\"Retriever evaluator.\n\n    This module will evaluate a retriever using a set of metrics.\n\n    Args:\n        metrics (List[BaseRetrievalMetric]): Sequence of metrics to evaluate\n        retriever: Retriever to evaluate.\n        node_postprocessors (Optional[List[BaseNodePostprocessor]]): Post-processor to apply after retrieval.\n\n\n    \"\"\"\n\n    retriever: BaseRetriever = Field(..., description=\"Retriever to evaluate\")\n    node_postprocessors: Optional[List[BaseNodePostprocessor]] = Field(\n        default=None, description=\"Optional post-processor\"\n    )\n\n    def __init__(\n        self,\n        metrics: Sequence[BaseRetrievalMetric],\n        retriever: BaseRetriever,\n        node_postprocessors: Optional[List[BaseNodePostprocessor]] = None,\n        **kwargs: Any,\n    ) -&gt; None:\n        \"\"\"Init params.\"\"\"\n        super().__init__(\n            metrics=metrics,\n            retriever=retriever,\n            node_postprocessors=node_postprocessors,\n            **kwargs,\n        )\n\n    async def _aget_retrieved_ids_and_texts(\n        self, query: str, mode: RetrievalEvalMode = RetrievalEvalMode.TEXT\n    ) -&gt; Tuple[List[str], List[str]]:\n        \"\"\"Get retrieved ids and texts, potentially applying a post-processor.\"\"\"\n        retrieved_nodes = await self.retriever.aretrieve(query)\n\n        if self.node_postprocessors:\n            for node_postprocessor in self.node_postprocessors:\n                retrieved_nodes = node_postprocessor.postprocess_nodes(\n                    retrieved_nodes, query_str=query\n                )\n\n        return (\n            [node.node.node_id for node in retrieved_nodes],\n            [node.node.text for node in retrieved_nodes],\n        )\n</code></pre> <p><code>BaseRetrievalEvaluator</code>\u7c7b\u5b9a\u4e49\u5728<code>llama_index\\core\\evaluation\\retrieval\\base.py</code>\u4e2d\u3002</p> <p>\u6e90\u7801\u5982\u4e0b\uff1a</p> <pre><code>class BaseRetrievalEvaluator(BaseModel):\n    \"\"\"Base Retrieval Evaluator class.\"\"\"\n\n    metrics: List[BaseRetrievalMetric] = Field(\n        ..., description=\"List of metrics to evaluate\"\n    )\n\n    class Config:\n        arbitrary_types_allowed = True\n\n    @classmethod\n    def from_metric_names(\n        cls, metric_names: List[str], **kwargs: Any\n    ) -&gt; \"BaseRetrievalEvaluator\":\n        \"\"\"Create evaluator from metric names.\n\n        Args:\n            metric_names (List[str]): List of metric names\n            **kwargs: Additional arguments for the evaluator\n\n        \"\"\"\n        metric_types = resolve_metrics(metric_names)\n        return cls(metrics=[metric() for metric in metric_types], **kwargs)\n\n    @abstractmethod\n    async def _aget_retrieved_ids_and_texts(\n        self, query: str, mode: RetrievalEvalMode = RetrievalEvalMode.TEXT\n    ) -&gt; Tuple[List[str], List[str]]:\n        \"\"\"Get retrieved ids and texts.\"\"\"\n        raise NotImplementedError\n\n    def evaluate(\n        self,\n        query: str,\n        expected_ids: List[str],\n        expected_texts: Optional[List[str]] = None,\n        mode: RetrievalEvalMode = RetrievalEvalMode.TEXT,\n        **kwargs: Any,\n    ) -&gt; RetrievalEvalResult:\n        \"\"\"Run evaluation results with query string and expected ids.\n\n        Args:\n            query (str): Query string\n            expected_ids (List[str]): Expected ids\n\n        Returns:\n            RetrievalEvalResult: Evaluation result\n\n        \"\"\"\n        return asyncio.run(\n            self.aevaluate(\n                query=query,\n                expected_ids=expected_ids,\n                expected_texts=expected_texts,\n                mode=mode,\n                **kwargs,\n            )\n        )\n\n    # @abstractmethod\n    async def aevaluate(\n        self,\n        query: str,\n        expected_ids: List[str],\n        expected_texts: Optional[List[str]] = None,\n        mode: RetrievalEvalMode = RetrievalEvalMode.TEXT,\n        **kwargs: Any,\n    ) -&gt; RetrievalEvalResult:\n        \"\"\"Run evaluation with query string, retrieved contexts,\n        and generated response string.\n\n        Subclasses can override this method to provide custom evaluation logic and\n        take in additional arguments.\n        \"\"\"\n        retrieved_ids, retrieved_texts = await self._aget_retrieved_ids_and_texts(\n            query, mode\n        )\n        metric_dict = {}\n        for metric in self.metrics:\n            eval_result = metric.compute(\n                query, expected_ids, retrieved_ids, expected_texts, retrieved_texts\n            )\n            metric_dict[metric.metric_name] = eval_result\n\n        return RetrievalEvalResult(\n            query=query,\n            expected_ids=expected_ids,\n            expected_texts=expected_texts,\n            retrieved_ids=retrieved_ids,\n            retrieved_texts=retrieved_texts,\n            mode=mode,\n            metric_dict=metric_dict,\n        )\n\n    async def aevaluate_dataset(\n        self,\n        dataset: EmbeddingQAFinetuneDataset,\n        workers: int = 2,\n        show_progress: bool = False,\n        **kwargs: Any,\n    ) -&gt; List[RetrievalEvalResult]:\n        \"\"\"Run evaluation with dataset.\"\"\"\n        semaphore = asyncio.Semaphore(workers)\n\n        async def eval_worker(\n            query: str, expected_ids: List[str], mode: RetrievalEvalMode\n        ) -&gt; RetrievalEvalResult:\n            async with semaphore:\n                return await self.aevaluate(query, expected_ids=expected_ids, mode=mode)\n\n        response_jobs = []\n        mode = RetrievalEvalMode.from_str(dataset.mode)\n        for query_id, query in dataset.queries.items():\n            expected_ids = dataset.relevant_docs[query_id]\n            response_jobs.append(eval_worker(query, expected_ids, mode))\n        if show_progress:\n            from tqdm.asyncio import tqdm_asyncio\n\n            eval_results = await tqdm_asyncio.gather(*response_jobs)\n        else:\n            eval_results = await asyncio.gather(*response_jobs)\n\n        return eval_results\n</code></pre> <p>BaseRetrievalEvaluator\u662f\u4e00\u4e2a\u57fa\u7840\u7684\u68c0\u7d22\u8bc4\u4f30\u5668\u7c7b\u3002\u5b83\u5141\u8bb8\u901a\u8fc7\u6307\u5b9a\u8bc4\u4f30\u6307\u6807\u540d\u79f0\u6765\u521b\u5efa\u8bc4\u4f30\u5668\uff0c\u5e76\u63d0\u4f9b\u4e86\u5bf9\u68c0\u7d22\u7ed3\u679c\u8fdb\u884c\u8bc4\u4f30\u7684\u65b9\u6cd5\u3002  </p> <ul> <li> <p><code>metrics</code>\u5c5e\u6027\u662f\u4e00\u4e2a\u8bc4\u4f30\u6307\u6807\u5217\u8868\uff0c\u7528\u4e8e\u6307\u5b9a\u8981\u8bc4\u4f30\u7684\u6307\u6807\u3002 </p> </li> <li> <p><code>from_metric_names</code>\u662f\u4e00\u4e2a\u7c7b\u65b9\u6cd5\uff0c\u901a\u8fc7\u7ed9\u5b9a\u6307\u6807\u540d\u79f0\u5217\u8868\u548c\u53ef\u9009\u7684\u989d\u5916\u53c2\u6570\u6765\u521b\u5efa\u8bc4\u4f30\u5668\u5b9e\u4f8b\u3002</p> </li> <li><code>_aget_retrieved_ids_and_texts</code>\u662f\u4e00\u4e2a\u62bd\u8c61\u65b9\u6cd5\uff0c\u7528\u4e8e\u83b7\u53d6\u68c0\u7d22\u5230\u7684ID\u548c\u6587\u672c\u3002\u5b50\u7c7b\u9700\u8981\u5b9e\u73b0\u6b64\u65b9\u6cd5\u3002_</li> <li>evaluate\u65b9\u6cd5\u7528\u4e8e\u5bf9\u7ed9\u5b9a\u7684\u67e5\u8be2\u548c\u671f\u671bID\u8fdb\u884c\u8bc4\u4f30\uff0c\u5e76\u8fd4\u56de\u8bc4\u4f30\u7ed3\u679c\u3002\u5b83\u5185\u90e8\u4f7f\u7528\u4e86asyncio.run\u6765\u8fd0\u884c\u5f02\u6b65\u7684aevaluate\u65b9\u6cd5\u3002 </li> <li>aevaluate\u65b9\u6cd5\u662fevaluate\u7684\u5f02\u6b65\u7248\u672c\uff0c\u5b83\u6267\u884c\u5177\u4f53\u7684\u8bc4\u4f30\u903b\u8f91\uff0c\u5305\u62ec\u8c03\u7528\u5b50\u7c7b\u5b9e\u73b0\u7684<code>_aget_retrieved_ids_and_texts</code>\u65b9\u6cd5\u83b7\u53d6\u68c0\u7d22\u7ed3\u679c\uff0c\u5e76\u4f7f\u7528\u6307\u5b9a\u7684\u8bc4\u4f30\u6307\u6807\u8ba1\u7b97\u7ed3\u679c\u3002 </li> <li>aevaluate_dataset\u65b9\u6cd5\u7528\u4e8e\u5bf9\u6574\u4e2a\u6570\u636e\u96c6\u8fdb\u884c\u8bc4\u4f30\uff0c\u5b83\u901a\u8fc7\u521b\u5efa\u591a\u4e2a\u5de5\u4f5c\u7ebf\u7a0b\u5e76\u884c\u5730\u6267\u884caevaluate\u65b9\u6cd5\u6765\u63d0\u9ad8\u6548\u7387\u3002\u53ef\u4ee5\u901a\u8fc7workers\u53c2\u6570\u6307\u5b9a\u5e76\u53d1\u7684\u5de5\u4f5c\u7ebf\u7a0b\u6570\u91cf\uff0c\u901a\u8fc7show_progress\u53c2\u6570\u63a7\u5236\u662f\u5426\u663e\u793a\u8fdb\u5ea6\u6761\u3002</li> </ul>"},{"location":"03_AI/LlamaIndex/03_LlamaIndex%E8%AF%84%E4%BC%B0.html#_3","title":"\u68c0\u7d22\u6307\u6807","text":"<p>\u5176\u4e2d\u8ddf\u68c0\u7d22\u76f8\u5173\u7684\u6307\u6807\u67093\u4e2a\uff0chit_rate\u3001mrr\u3001cohere_rerank_relevancy\u3002</p> <ul> <li>hit_rate: \u8868\u793a\u547d\u4e2d\u7387</li> <li>mrr(Mean Reciprocal Rank)\uff1a\u8868\u793a\u5e73\u5747\u5012\u6570\u6392\u540d</li> <li>cohere_rerank_relevancy\uff1a\u8868\u793a\u4f7f\u7528cohere\u91cd\u6392\u4e4b\u540e\u7684\u76f8\u5173\u5ea6</li> </ul> <p>metrics\u76f8\u5173\u7684\u4ee3\u7801\u5b9a\u4e49\u5728<code>llama_index\\core\\evaluation\\retrieval\\metrics.py</code>\u4e2d\u3002</p> <p>\u52a0\u8f7dmetric\u7c7b\u662f\u4ece<code>METRIC_REGISTRY</code>\u5b57\u5178\u4e2d\u83b7\u53d6\u7684\u3002</p> <pre><code>METRIC_REGISTRY: Dict[str, Type[BaseRetrievalMetric]] = {\n    \"hit_rate\": HitRate,\n    \"mrr\": MRR,\n    \"cohere_rerank_relevancy\": CohereRerankRelevancyMetric,\n}\n\n\ndef resolve_metrics(metrics: List[str]) -&gt; List[Type[BaseRetrievalMetric]]:\n    \"\"\"Resolve metrics from list of metric names.\"\"\"\n    for metric in metrics:\n        if metric not in METRIC_REGISTRY:\n            raise ValueError(f\"Invalid metric name: {metric}\")\n\n    return [METRIC_REGISTRY[metric] for metric in metrics]\n</code></pre> <p>\u5176\u4e2dhit rate\u8ba1\u7b97\u5982\u4e0b\uff1a</p> <pre><code>class HitRate(BaseRetrievalMetric):\n    \"\"\"Hit rate metric.\"\"\"\n\n    metric_name: str = \"hit_rate\"\n\n    def compute(\n        self,\n        query: Optional[str] = None,\n        expected_ids: Optional[List[str]] = None,\n        retrieved_ids: Optional[List[str]] = None,\n        expected_texts: Optional[List[str]] = None,\n        retrieved_texts: Optional[List[str]] = None,\n        **kwargs: Any,\n    ) -&gt; RetrievalMetricResult:\n        \"\"\"Compute metric.\"\"\"\n        if retrieved_ids is None or expected_ids is None:\n            raise ValueError(\"Retrieved ids and expected ids must be provided\")\n        is_hit = any(id in expected_ids for id in retrieved_ids)\n        return RetrievalMetricResult(\n            score=1.0 if is_hit else 0.0,\n        )\n</code></pre> <p><code>retrieved_ids</code>\u8868\u793a\u68c0\u7d22\u51fa\u7684node_id\u5217\u8868\u3002<code>expected_ids</code>\u8868\u793a\u6784\u9020\u6570\u636e\u96c6\u65f6query\u5bf9\u5e94\u7684node_id\u5217\u8868\uff0c\u9ed8\u8ba4\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\u3002</p> <p>\u5982\u679c\u68c0\u7d22\u51fa\u6765\u7684id\u5728<code>expected_ids</code>\u4e2d\u5c31\u8868\u793a\u547d\u4e2d\u4e86\uff0c\u5206\u6570\u8bbe\u7f6e\u4e3a1.0\uff0c\u5426\u5219\u5c31\u6ca1\u6709\u547d\u4e2d\uff0c\u5206\u6570\u8bbe\u7f6e\u4e3a0.0</p> <p>\u5176\u4e2dmrr\u6307\u6807\u7684\u8ba1\u7b97\u5982\u4e0b\uff1a</p> <pre><code>class MRR(BaseRetrievalMetric):\n    \"\"\"MRR metric.\"\"\"\n\n    metric_name: str = \"mrr\"\n\n    def compute(\n        self,\n        query: Optional[str] = None,\n        expected_ids: Optional[List[str]] = None,\n        retrieved_ids: Optional[List[str]] = None,\n        expected_texts: Optional[List[str]] = None,\n        retrieved_texts: Optional[List[str]] = None,\n        **kwargs: Any,\n    ) -&gt; RetrievalMetricResult:\n        \"\"\"Compute metric.\"\"\"\n        if retrieved_ids is None or expected_ids is None:\n            raise ValueError(\"Retrieved ids and expected ids must be provided\")\n        for i, id in enumerate(retrieved_ids):\n            if id in expected_ids:\n                return RetrievalMetricResult(\n                    score=1.0 / (i + 1),\n                )\n        return RetrievalMetricResult(\n            score=0.0,\n        )\n</code></pre> <p>\u5faa\u73af\u68c0\u7d22\u51fa\u6765\u7684node_id\u5217\u8868\uff0c\u5982\u679cnode_id\u5728<code>expected_ids</code>\u4e2d\uff0c\u5c31\u8fd4\u56de<code>1/n</code>\uff0c<code>n</code>\u8868\u793a\u662f\u68c0\u7d22\u51fa\u6765\u7684\u7ed3\u679c\u4e2d\u7684\u7b2c\u51e0\u4e2a\uff0c\u4ece<code>1</code>\u5f00\u59cb\u3002\u5982\u679c\u6ca1\u6709\u547d\u4e2d\uff0c\u5c31\u8fd4\u56de0.0\u3002</p> <p>\u4e00\u4e2a\u5b8c\u6574\u7684\u7684\u6d4b\u8bd5\u811a\u672c\u6837\u4f8b\u5982\u4e0b\uff0c\u5bf9LlamaIndex\u6837\u4f8b\u4e3b\u8981\u505a\u4e86\u591a\u8fdb\u7a0b\u7684\u6539\u8fdb\uff0c\u53ef\u4ee5\u540c\u65f6\u5bf9\u591a\u4e2aengine\u8bc4\u4f30\uff0c\u4fee\u590d\u4e86<code>EmbeddingQAFinetuneDataset</code>\u4e2d\u6ca1\u6709\u5bf9JSON\u6587\u4ef6\u7f16\u7801\u8fdb\u884c\u8bbe\u7f6e\u548c\u4e2d\u6587\u5b57\u7b26\u4f1a\u5b58\u50a8\u6210Unicode\u5b57\u7b26\u7684\u95ee\u9898\u3002</p> <pre><code>import argparse\nimport asyncio\nimport json\nimport logging\nfrom multiprocessing import Pool, Manager, Queue\n\nfrom typing import List, Sequence, Any, Tuple, Dict\n\nimport pandas as pd\nfrom llama_index.core import QueryBundle\nfrom llama_index.core.bridge.pydantic import Field\nfrom llama_index.core.evaluation import generate_question_context_pairs, BaseRetrievalEvaluator\nfrom llama_index.core.evaluation.retrieval.base import RetrievalEvalMode\nfrom llama_index.core.evaluation.retrieval.metrics_base import BaseRetrievalMetric\nfrom llama_index.legacy.finetuning import EmbeddingQAFinetuneDataset as LlamaIndexEmbeddingQAFinetuneDataset\n\nfrom common.const import ROOT_PATH\nfrom common.errors import EvaluateException\nfrom core.query.engine.register import single_engine_register, multi_engine_register\nfrom core.store.doc.mongo import mongo_db_docs_store\nfrom evaluate.llm_chat import llm_register\nfrom utils.log_utils import init_logger\n\nlogger = init_logger(\"evaluate\", save_level=False)\nlogger.setLevel(logging.INFO)\n\n\ndef get_args():\n    parser = argparse.ArgumentParser()\n    parser.add_argument('-d', '--dataset_id', required=True, type=str, help=\"\u6570\u636e\u96c6ID\")\n    parser.add_argument('-e', '--engines', default='', type=str, help=\"\u7528\u6765\u8bc4\u4f30\u7684engine\u540d\u79f0\uff0c\u7528\u9017\u53f7\u5206\u9694\")\n    parser.add_argument('-l', '--llm', default='local', type=str, help=\"\u7528\u6765\u751f\u6210\u6570\u636e\u96c6\u7684LLM\")\n    parser.add_argument('-n', '--num', default=2, type=int, help=\"\u6bcf\u4e2anode\u751f\u6210query\u7684\u4e2a\u6570\")\n    parser.add_argument('-o', '--override', default=False, action=\"store_true\", help=\"\u662f\u5426\u91cd\u65b0\u751f\u6210\u6570\u636e\u96c6\uff0c\u9ed8\u8ba4\u4e3aFalse\")\n    parser.add_argument('-m', '--metrics', default=[\"mrr\", \"hit_rate\"], type=str, nargs='+', help=\"\u7528\u6765\u8bc4\u4f30\u7684\u6307\u6807\")\n    parser.add_argument('-r', '--result', default=\"result.xlsx\", type=str, help=\"\u7ed3\u679c\u6587\u4ef6\u540d\")\n    return parser.parse_args()\n\n\nclass LabelledQADataset(LlamaIndexEmbeddingQAFinetuneDataset):\n    def save_json(self, path: str) -&gt; None:\n        with open(path, \"w\", encoding=\"utf-8\") as f:\n            json.dump(self.dict(), f, indent=4, ensure_ascii=False)\n\n    @classmethod\n    def from_json(cls, path: str) -&gt; \"LabelledQADataset\":\n        \"\"\"Load json.\"\"\"\n        with open(path, \"r\", encoding=\"utf-8\") as f:\n            data = json.load(f)\n        return cls(**data)\n\n\nclass QueryEngineEvaluator(BaseRetrievalEvaluator):\n    engine: Any = Field(None, description=\"query engine\")\n    dataset_id: str = Field(\"\", description=\"\u6570\u636e\u96c6ID\")\n\n    def __init__(\n            self,\n            metrics: Sequence[BaseRetrievalMetric],\n            engine: Any,\n            dataset_id: str = \"\",\n            **kwargs: Any,\n    ) -&gt; None:\n        \"\"\"Init params.\"\"\"\n        super().__init__(\n            metrics=metrics,\n            **kwargs,\n        )\n        self.engine = engine\n        self.dataset_id = dataset_id\n\n    async def _aget_retrieved_ids_and_texts(\n            self, query: str, mode: RetrievalEvalMode = RetrievalEvalMode.TEXT\n    ) -&gt; Tuple[List[str], List[str]]:\n        \"\"\"Get retrieved ids and texts.\"\"\"\n        query_bundle = QueryBundle(query_str=query)\n        retrieved_nodes = self.engine.retrieve(query_bundle, dataset_id=self.dataset_id)\n        return (\n            [node.node.node_id for node in retrieved_nodes],\n            [node.node.text for node in retrieved_nodes],\n        )\n\n\nclass MyEngineEvaluator(object):\n    def __init__(self,\n                 dataset_id: str = None,\n                 engines=\"\",\n                 llm: str = \"yi\",\n                 num_questions_per_chunk: int = 2,\n                 metrics: List[str] = None,\n                 override: bool = False,\n                 result_file_name=\"result.xlsx\"):\n        self.dataset_id = dataset_id\n        self.engines = engines\n        self.llm_name = llm\n        self.llm = self.get_llm(llm_name=llm)\n        self.num_questions_per_chunk = num_questions_per_chunk\n        if metrics is None:\n            self.metrics = [\"mrr\", \"hit_rate\"]\n        else:\n            self.metrics = metrics\n        self.override = override\n        self.result_file_name = result_file_name\n\n        #\n        self.qa_generate_prompt_tmpl = \"\"\"\\\n\u4ee5\u4e0b\u662f\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002\u4e0a\u4e0b\u6587\u4fe1\u606f\u5728&lt;p&gt;\u6807\u7b7e\u4e2d\uff0c\u4e0a\u4e0b\u6587\u4fe1\u606f\u5185\u5bb9\u4e3b\u8981\u662fxxxxxx\u516c\u53f8\u6280\u672f\u4fdd\u969c\u56e2\u961f\u6574\u7406\u7684\u6587\u6863\u3002\n\n---------------------\n&lt;p&gt;\n{context_str}\n&lt;/p&gt;\n---------------------\n\n\u6df1\u5165\u7406\u89e3\u4e0a\u8ff0\u7ed9\u5b9a\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u800c\u4e0d\u662f\u4f60\u7684\u5148\u9a8c\u77e5\u8bc6\uff0c\u6839\u636e\u4e0b\u9762\u7684\u8981\u6c42\u751f\u6210\u95ee\u9898\u3002\n\n\u8981\u6c42\uff1a\u4f60\u662f\u4e00\u4f4d\u6280\u672f\u4fdd\u969c\u56e2\u961f\u7684\u8fd0\u7ef4\u4e13\u5bb6\uff0c\u4f60\u7684\u4efb\u52a1\u662f\u6839\u636e\u4e0a\u4e0b\u6587\u4fe1\u606f\u751f\u6210{num_questions_per_chunk}\u4e2a\u516c\u53f8\u5458\u5de5\u5de5\u4f5c\u4e2d\u53ef\u80fd\u8be2\u95ee\u7684\u95ee\u9898\u3002\u4f60\u5e94\u8be5\u4e25\u683c\u57fa\u4e8e\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u6765\u8bbe\u7f6e\u591a\u79cd\u591a\u6837\u7684\u95ee\u9898\u3002\\\n\u4f60\u8bbe\u7f6e\u7684\u95ee\u9898\u4e0d\u8981\u5305\u542b\u9009\u9879\uff0c\u4e5f\u4e0d\u8981\u4ee5\u201c\u95ee\u98981\u201d\u6216\u201c\u95ee\u98982\u201d\u4e3a\u5f00\u5934\uff0c\u4e5f\u4e0d\u8981\u8f93\u51fa\u95ee\u9898\u7684\u5e8f\u53f7\uff0c\u76f4\u63a5\u8f93\u51fa\u751f\u6210\u7684\u95ee\u9898\u3002\\\n\u5c06\u95ee\u9898\u9650\u5236\u5728\u6240\u63d0\u4f9b\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u4e2d\u3002\\\n\"\"\"\n        self.dataset_path = ROOT_PATH.joinpath(\"datasets\")\n        if not self.dataset_path.exists():\n            logger.info(f\"\u521b\u5efa\u76ee\u5f55\uff1a{self.dataset_path}\")\n            self.dataset_path.mkdir(parents=True, exist_ok=True)\n        self.auto_qa_file_name = f\"{self.llm_name}.json\"\n        self.human_qa_file_name = \"human.json\"\n\n        self.qa_dataset = None\n        self.result = None\n\n    def get_llm(self, llm_name: str):\n        llm = llm_register.get(llm_name)\n        return llm\n\n    def get_qa_dataset(self):\n        \"\"\"\n        \u83b7\u53d6 &lt;query,\u4e0a\u4e0b\u6587&gt; \u6570\u636e\u96c6\n\n        1. \u6839\u636e override \u53c2\u6570\u5224\u65ad\u662f\u5426\u9700\u8981\u81ea\u52a8\u751f\u6210\u6570\u636e\u96c6\u3001\n        2. \u5c06\u81ea\u52a8\u751f\u6210\u7684\u6570\u636e\u96c6\u540e\u624b\u52a8\u6784\u9020\u7684\u6570\u636e\u96c6\u5408\u5e76\u5230\u4e00\u4e2a\u6570\u636e\u96c6\u4e2d\n\n        :return: &lt;query, context&gt; \u6570\u636e\u96c6\n        \"\"\"\n\n        if self.override:\n            auto_qa_dataset: LabelledQADataset = self.get_qa_dataset_from_db()\n            auto_qa_file_path = self.dataset_path.joinpath(self.auto_qa_file_name)\n            auto_qa_dataset.save_json(auto_qa_file_path)\n        else:\n            auto_qa_dataset = self.get_qa_dataset_from_file(file_name=self.auto_qa_file_name)\n        human_qa_dataset = self.get_qa_dataset_from_file(file_name=self.human_qa_file_name)\n        # \u5408\u5e76\u6570\u636e\u96c6\n        auto_qa_dataset.queries.update(human_qa_dataset.queries)\n        auto_qa_dataset.corpus.update(human_qa_dataset.corpus)\n        auto_qa_dataset.relevant_docs.update(human_qa_dataset.relevant_docs)\n        return auto_qa_dataset\n\n    def get_qa_dataset_from_file(self, file_name=None) -&gt; LabelledQADataset:\n        \"\"\"\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6 &lt;query, context&gt; \u6570\u636e\u96c6\n\n        \u4ecedatasets\u76ee\u5f55\u4e0b\u7684JSON\u6587\u4ef6\u83b7\u53d6\u6570\u636e\u96c6\n        \"\"\"\n        if file_name is None:\n            raise EvaluateException(\"\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u6570\u636e\u96c6\u53c2\u6570\u9519\u8bef\uff1a\u6587\u4ef6\u540d\u4e3a\u7a7a\")\n        file_path = self.dataset_path.joinpath(file_name)\n        if not file_path.exists():\n            empty_qa_dataset = LabelledQADataset(queries={}, corpus={}, relevant_docs={})\n            empty_qa_dataset.save_json(file_path)\n            return empty_qa_dataset\n        else:\n            qa_dataset = LabelledQADataset.from_json(file_path)\n            return qa_dataset\n\n    def get_qa_dataset_from_db(self) -&gt; LabelledQADataset:\n        \"\"\"\u4ece\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6 nodes \u7136\u540e\u4f7f\u7528LLM\u751f\u6210\u6570\u636e\u96c6\n        \"\"\"\n        # \u4ece\u6570\u636e\u5e93\u67e5\u8be2\u51fa\u6240\u6709nodes\n        nodes = mongo_db_docs_store.get_docs(dataset_id=self.dataset_id)\n\n        # \u4f7f\u7528\u5927\u6a21\u578b\u751f\u6210\u6570\u636e\u96c6\n        qa_dataset = generate_question_context_pairs(\n            nodes, llm=self.llm,\n            num_questions_per_chunk=self.num_questions_per_chunk,\n            qa_generate_prompt_tmpl=self.qa_generate_prompt_tmpl\n        )\n        # \u5c06 qa_dataset \u8f6c\u6362\u6210\u81ea\u5b9a\u4e49\u7684\u7c7b\u578b\n        res = LabelledQADataset(queries=qa_dataset.queries, corpus=qa_dataset.corpus,\n                                relevant_docs=qa_dataset.relevant_docs)\n        return res\n\n    def get_engine_names(self):\n        \"\"\"\u83b7\u53d6engine\u540d\u79f0\u5217\u8868\n        \"\"\"\n        all_engine_names = self.get_all_engine_names()\n        if self.engines:\n            self.engines = self.engines.strip()\n            engine_names = self.engines.split(\",\")\n            if len(engine_names) == 0:\n                return all_engine_names\n            else:\n                avaliable_engine_names = []\n                for gine_name in engine_names:\n                    if gine_name in all_engine_names:\n                        avaliable_engine_names.append(gine_name)\n                return avaliable_engine_names\n        else:\n            return all_engine_names\n\n    def get_all_engine_names(self) -&gt; List[str]:\n        \"\"\"\u83b7\u53d6\u6240\u6709\u7684engine\u540d\u79f0\u5217\u8868\n\n        Returns: list(str): \u6240\u6709\u7684engine\u540d\u79f0\u5217\u8868\n        \"\"\"\n        single_engine_names = single_engine_register.get_all_names()\n        multi_engine_names = multi_engine_register.get_all_names()\n        result = single_engine_names + multi_engine_names\n        return result\n\n    def evalutate_singe_engine(self, engine_name: str = None,\n                               dataset: LabelledQADataset = None,\n                               dataset_id: str = None,\n                               result_queue: Queue = None,\n                               engine_index: int = 0):\n        \"\"\"\u5bf9\u5355\u4e2aengine\u8fdb\u884c\u8bc4\u4f30\n\n        Args:\n            engine_name: engine\u540d\u79f0\n            dataset: \u6570\u636e\u96c6\n            dataset_id: \u6570\u636e\u96c6ID\n            result_queue: \u8bc4\u4f30\u7ed3\u679c\n            engine_index: engine\u5e8f\u53f7\n\n        Returns:\n\n        \"\"\"\n        try:\n            logger.info(f\"\u5f00\u59cb\u8bc4\u4f30engine: {engine_name}\")\n            engine = single_engine_register.get(engine_name)\n            if not engine:\n                engine = multi_engine_register.get(engine_name)\n            if not engine:\n                raise EvaluateException(f\"\u5f15\u64ce{engine_name}\u4e0d\u5b58\u5728\")\n\n            # \u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u8bc4\u4f30\n            query_engine_evaluator = QueryEngineEvaluator.from_metric_names(\n                self.metrics, engine=engine, dataset_id=dataset_id\n            )\n            eval_results = asyncio.run(query_engine_evaluator.aevaluate_dataset(dataset, workers=16))\n\n            # \u8ba1\u7b97\u6307\u6807\u5e73\u5747\u6570\n            metric_dicts = []\n            for eval_result in eval_results:\n                metric_dict = eval_result.metric_vals_dict\n                metric_dicts.append(metric_dict)\n            temp_result = pd.DataFrame(metric_dicts)\n            hit_rate = temp_result['hit_rate'].mean()\n            mrr = temp_result['mrr'].mean()\n\n            # \u8fd4\u56de\u7ed3\u679c\n            result = {\"engine\": engine_name, \"hit_rate\": hit_rate, \"mrr\": mrr, \"engine_index\": engine_index}\n            logger.info(f\"\u7ed3\u675f\u8bc4\u4f30engine: {engine_name}, result: {result}\")\n            result_queue.put(result)\n        except Exception as e:\n            logger.exception(f\"\u8bc4\u4f30engine {engine_name} \u5931\u8d25: {str(e)}\")\n\n    def evaluate_engines(self, engine_names=None, dataset=None):\n        if not engine_names:\n            raise EvaluateException(\"engine_name\u4e3a\u7a7a\")\n        if not dataset:\n            raise EvaluateException(\"dataset\u4e3a\u7a7a\")\n\n        # \u4f7f\u7528\u591a\u8fdb\u7a0b\u5bf9\u591a\u4e2aengine\u8fdb\u884c\u8bc4\u4f30\n        with Manager() as manager:\n            result_queue = manager.Queue()\n            engine_names_count = len(engine_names)\n            with Pool(processes=engine_names_count) as pool:\n                for engine_index, engine_name in enumerate(engine_names):\n                    pool.apply_async(self.evalutate_singe_engine,\n                                     kwds={\n                                         \"engine_name\": engine_name,\n                                         \"dataset\": dataset,\n                                         \"dataset_id\": self.dataset_id,\n                                         \"result_queue\": result_queue,\n                                         \"engine_index\": engine_index\n                                     })\n\n                pool.close()  # \u5173\u95ed\u8fdb\u7a0b\u6c60 ==\u300b \u4e0d\u63a5\u53d7\u4efb\u52a1\n                pool.join()  # \u7b49\u5f85\u5b50\u8fdb\u7a0b\u6267\u884c\u5b8c\u6bd5\uff0c\u7236\u8fdb\u7a0b\u518d\u6267\u884c\n\n            result = []\n            while not result_queue.empty():\n                result.append(result_queue.get())\n            return result\n\n    def display_result(self, data: List[Dict]):\n        \"\"\"\u663e\u793a\u7ed3\u679c\n\n        Args:\n            data (list): \u683c\u5f0f\u5982\u4e0b\n            [\n                {\n                    \"engine\": \u5f15\u64ce\u540d\u79f0,\n                    \"hit_rate\": \u547d\u4e2d\u7387,\n                    \"mrr\": mrr\u6307\u6807,\n                    \"engine_index\": \u5f15\u64ce\u5e8f\u53f7\uff0c\u4ece0\u5f00\u59cb\n                }\n            ]\n\n        Returns:\n\n        \"\"\"\n        result = pd.DataFrame(data)\n        # \u6839\u636eengine_index\u6392\u5e8f\uff0c\u591a\u8fdb\u7a0b\u7684\u8bdd\u5217\u8868\u987a\u5e8f\u4f1a\u53d8\u4e71\uff0c\u52a0\u4e0a\u8fd9\u4e2a\u4fdd\u8bc1\u591a\u6b21\u6267\u884c\u7684\u7ed3\u679c\u4e00\u6837\n        result.sort_values(by=\"engine_index\", inplace=True)\n        # \u6dfb\u52a0 F1 \u5206\u6570\n        result[\"F1 Score\"] = (2 * result[\"hit_rate\"] * result[\"mrr\"]) / (result[\"hit_rate\"] + result[\"mrr\"])\n        logger.info(\"\u8bc4\u6d4b\u7ed3\u679c\")\n        logger.info(\"=\" * 100)\n        logger.info(result)\n        logger.info(\"=\" * 100)\n        result_file_path = self.dataset_path.joinpath(self.result_file_name)\n        result.to_excel(result_file_path, index=False)\n\n    def run(self):\n        \"\"\"\u6267\u884c\u8bc4\u4f30\u7684\u5165\u53e3\u65b9\u6cd5\n        \"\"\"\n        # \u83b7\u53d6\u6570\u636e\u96c6\n        qa_dataset = self.get_qa_dataset()\n\n        # \u83b7\u53d6engine\u540d\u79f0\u5217\u8868\n        engine_names = self.get_engine_names()\n\n        # \u8bc4\u4f30\u68c0\u7d22\u5668\n        result = self.evaluate_engines(engine_names=engine_names, dataset=qa_dataset)\n\n        # 4.\u8bc4\u4f30\u7ed3\u679c\u5904\u7406\uff0c\u6253\u5370\u65e5\u5fd7\u548c\u4fdd\u5b58\u5230\u6587\u4ef6\n        self.display_result(result)\n\n\ndef main():\n    # 1. \u53c2\u6570\u89e3\u6790\n    args = get_args()\n    logger.info(f\"start evaluation, args: {args}\")\n    engine_exaluator = MyEngineEvaluator(dataset_id=args.dataset_id,\n                                         engines=args.engines,\n                                         llm=args.llm,\n                                         num_questions_per_chunk=args.num,\n                                         metrics=args.metrics,\n                                         override=args.override,\n                                         result_file_name=args.result\n                                         )\n    engine_exaluator.run()\n    logger.info(\"end evaluation\")\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"03_AI/LlamaIndex/03_LlamaIndex%E8%AF%84%E4%BC%B0.html#response_evalution","title":"\u54cd\u5e94\u8bc4\u4f30\uff08Response Evalution)","text":""},{"location":"03_AI/python%E5%BA%93/matplotlib/index.html","title":"matplotlib\u7528\u6cd5","text":""},{"location":"03_AI/python%E5%BA%93/numpy/index.html","title":"numpy \u7528\u6cd5","text":"<ul> <li>NumPy \u4ecb\u7ecd</li> <li>\u5feb\u901f\u5165\u95e8\u6559\u7a0b</li> <li>NumPy \u57fa\u7840\u77e5\u8bc6</li> <li>Numpy \u5e38\u7528</li> </ul>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E4%BB%8B%E7%BB%8D.html","title":"Numpy \u4ecb\u7ecd","text":"<p>\u5173\u4e8e\u6570\u7ec4\u5927\u5c0f\u548c\u901f\u5ea6\u7684\u8981\u70b9\u5728\u79d1\u5b66\u8ba1\u7b97\u4e2d\u5c24\u4e3a\u91cd\u8981\u3002\u4e3e\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u8003\u8651\u5c061\u7ef4\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u4e0e\u76f8\u540c\u957f\u5ea6\u7684\u53e6\u4e00\u4e2a\u5e8f\u5217\u4e2d\u7684\u76f8\u5e94\u5143\u7d20\u76f8\u4e58\u7684\u60c5\u51b5\u3002\u5982\u679c\u6570\u636e\u5b58\u50a8\u5728\u4e24\u4e2a<code>Python</code>\u5217\u8868<code>a</code>\u548c<code>b</code> \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u8fed\u4ee3\u6bcf\u4e2a\u5143\u7d20\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> In\u00a0[1]: Copied! <pre>%%time\n\na = [1,2,3]\nb = [3,2,1]\nc = []\nfor i in range(len(a)):\n    c.append(a[i]*b[i])\n\nprint(c)\n</pre> %%time  a = [1,2,3] b = [3,2,1] c = [] for i in range(len(a)):     c.append(a[i]*b[i])  print(c) <pre>[3, 4, 3]\nCPU times: total: 0 ns\nWall time: 0 ns\n</pre> <p>\u786e\u5b9e\u7b26\u5408\u6211\u4eec\u7684\u8981\u6c42\uff0c\u4f46\u5982\u679ca\u548cb\u6bcf\u4e00\u4e2a\u90fd\u5305\u542b\u6570\u4ee5\u767e\u4e07\u8ba1\u7684\u6570\u5b57\uff0c\u6211\u4eec\u4f1a\u4ed8\u51faPython\u4e2d\u5faa\u73af\u7684\u6548\u7387\u4f4e\u4e0b\u7684\u4ee3\u4ef7\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728C\u4e2d\u5199\u5165\u4ee5\u4e0b\u4ee3\u7801\uff0c\u66f4\u5feb\u5730\u5b8c\u6210\u76f8\u540c\u7684\u4efb\u52a1\uff08\u4e3a\u4e86\u6e05\u695a\u8d77\u89c1\uff0c\u6211\u4eec\u5ffd\u7565\u4e86\u53d8\u91cf\u58f0\u660e\u548c\u521d\u59cb\u5316\uff0c\u5185\u5b58\u5206\u914d\u7b49\uff09\u3002</p> <pre>for (i = 0; i &lt; rows; i++): {\n  c[i] = a[i]*b[i];\n}\n</pre> <p>\u8fd9\u8282\u7701\u4e86\u89e3\u91caPython\u4ee3\u7801\u548c\u64cd\u4f5cPython\u5bf9\u8c61\u6240\u6d89\u53ca\u7684\u6240\u6709\u5f00\u9500\uff0c\u4f46\u727a\u7272\u4e86\u7528Python\u7f16\u5199\u4ee3\u7801\u6240\u5e26\u6765\u7684\u597d\u5904\u3002\u6570\u636e\u7684\u552f\u5ea6\u589e\u52a0\uff0c\u4ee3\u7801\u4f1a\u53d8\u5f97\u590d\u6742\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4e8c\u7ef4\u6570\u7ec4\uff0cC\u4ee3\u7801(\u5982\u524d\u6240\u8ff0)\u4f1a\u6269\u5c55\u4e3a\u8fd9\u6837\uff1a</p> <pre>for (i = 0; i &lt; rows; i++): {\n  for (j = 0; j &lt; columns; j++): {\n    c[i][j] = a[i][j]*b[i][j];\n  }\n}\n</pre> <p>NumPy \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e24\u5168\u5176\u7f8e\u7684\u89e3\u51b3\u65b9\u6848\uff1a\u5f53\u6d89\u53ca\u5230 ndarray \u65f6\uff0c\u9010\u4e2a\u5143\u7d20\u7684\u64cd\u4f5c\u662f\u201c\u9ed8\u8ba4\u6a21\u5f0f\u201d\uff0c\u4f46\u9010\u4e2a\u5143\u7d20\u7684\u64cd\u4f5c\u7531\u9884\u7f16\u8bd1\u7684C\u4ee3\u7801\u5feb\u901f\u6267\u884c\u3002\u5728NumPy\u4e2d\uff1a</p> <pre>c = a * b\n</pre> <p>\u4ee5\u8fd1C\u901f\u5ea6\u6267\u884c\u524d\u9762\u7684\u793a\u4f8b\u6240\u505a\u7684\u4e8b\u60c5\uff0c\u4f46\u662f\u6211\u4eec\u671f\u671b\u57fa\u4e8ePython\u7684\u4ee3\u7801\u5177\u6709\u7b80\u5355\u6027\u3002\u7684\u786e\uff0cNumPy\u7684\u8bed\u6cd5\u66f4\u4e3a\u7b80\u5355\uff01\u6700\u540e\u4e00\u4e2a\u4f8b\u5b50\u8bf4\u660e\u4e86NumPy\u7684\u4e24\u4e2a\u7279\u5f81\uff0c\u5b83\u4eec\u662fNumPy\u7684\u5927\u90e8\u5206\u529f\u80fd\u7684\u57fa\u7840\uff1a\u77e2\u91cf\u5316\u548c\u5e7f\u64ad\u3002</p> In\u00a0[2]: Copied! <pre>%%time\nimport numpy as np\na = np.array([1, 2, 3])\nb = np.array([3, 2, 1])\nc = a * b\nprint(c)\n</pre> %%time import numpy as np a = np.array([1, 2, 3]) b = np.array([3, 2, 1]) c = a * b print(c) <pre>[3 4 3]\nCPU times: total: 203 ms\nWall time: 511 ms\n</pre>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E4%BB%8B%E7%BB%8D.html#numpy","title":"Numpy \u4ecb\u7ecd\u00b6","text":""},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E4%BB%8B%E7%BB%8D.html#numpy","title":"\u4ec0\u4e48\u662fNumpy\u00b6","text":"<p>NumPy\u662fPython\u4e2d\u79d1\u5b66\u8ba1\u7b97\u7684\u57fa\u7840\u5305\u3002\u5b83\u662f\u4e00\u4e2aPython\u5e93\uff0c\u63d0\u4f9b\u591a\u7ef4\u6570\u7ec4\u5bf9\u8c61\uff0c\u5404\u79cd\u6d3e\u751f\u5bf9\u8c61\uff08\u5982\u63a9\u7801\u6570\u7ec4\u548c\u77e9\u9635\uff09\uff0c\u4ee5\u53ca\u7528\u4e8e\u6570\u7ec4\u5feb\u901f\u64cd\u4f5c\u7684\u5404\u79cdAPI\uff0c\u6709\u5305\u62ec\u6570\u5b66\u3001\u903b\u8f91\u3001\u5f62\u72b6\u64cd\u4f5c\u3001\u6392\u5e8f\u3001\u9009\u62e9\u3001\u8f93\u5165\u8f93\u51fa\u3001\u79bb\u6563\u5085\u7acb\u53f6\u53d8\u6362\u3001\u57fa\u672c\u7ebf\u6027\u4ee3\u6570\uff0c\u57fa\u672c\u7edf\u8ba1\u8fd0\u7b97\u548c\u968f\u673a\u6a21\u62df\u7b49\u7b49\u3002</p> <p>NumPy\u5305\u7684\u6838\u5fc3\u662f ndarray \u5bf9\u8c61\u3002\u5b83\u5c01\u88c5\u4e86python\u539f\u751f\u7684\u540c\u6570\u636e\u7c7b\u578b\u7684 n \u7ef4\u6570\u7ec4\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u5176\u6027\u80fd\u4f18\u826f\uff0c\u5176\u4e2d\u6709\u8bb8\u591a\u64cd\u4f5c\u90fd\u662f\u4ee3\u7801\u5728\u672c\u5730\u8fdb\u884c\u7f16\u8bd1\u540e\u6267\u884c\u7684\u3002</p> <p>NumPy\u6570\u7ec4 \u548c \u539f\u751fPython Array\uff08\u6570\u7ec4\uff09\u4e4b\u95f4\u6709\u51e0\u4e2a\u91cd\u8981\u7684\u533a\u522b\uff1a</p> <p>NumPy \u6570\u7ec4\u5728\u521b\u5efa\u65f6\u5177\u6709\u56fa\u5b9a\u7684\u5927\u5c0f\uff0c\u4e0ePython\u7684\u539f\u751f\u6570\u7ec4\u5bf9\u8c61\uff08\u53ef\u4ee5\u52a8\u6001\u589e\u957f\uff09\u4e0d\u540c\u3002\u66f4\u6539ndarray\u7684\u5927\u5c0f\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u6570\u7ec4\u5e76\u5220\u9664\u539f\u6765\u7684\u6570\u7ec4\u3002 NumPy \u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u90fd\u9700\u8981\u5177\u6709\u76f8\u540c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u56e0\u6b64\u5728\u5185\u5b58\u4e2d\u7684\u5927\u5c0f\u76f8\u540c\u3002 \u4f8b\u5916\u60c5\u51b5\uff1aPython\u7684\u539f\u751f\u6570\u7ec4\u91cc\u5305\u542b\u4e86NumPy\u7684\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5c31\u5141\u8bb8\u4e0d\u540c\u5927\u5c0f\u5143\u7d20\u7684\u6570\u7ec4\u3002 NumPy \u6570\u7ec4\u6709\u52a9\u4e8e\u5bf9\u5927\u91cf\u6570\u636e\u8fdb\u884c\u9ad8\u7ea7\u6570\u5b66\u548c\u5176\u4ed6\u7c7b\u578b\u7684\u64cd\u4f5c\u3002\u901a\u5e38\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u7684\u6267\u884c\u6548\u7387\u66f4\u9ad8\uff0c\u6bd4\u4f7f\u7528Python\u539f\u751f\u6570\u7ec4\u7684\u4ee3\u7801\u66f4\u5c11\u3002 \u8d8a\u6765\u8d8a\u591a\u7684\u57fa\u4e8ePython\u7684\u79d1\u5b66\u548c\u6570\u5b66\u8f6f\u4ef6\u5305\u4f7f\u7528NumPy\u6570\u7ec4; \u867d\u7136\u8fd9\u4e9b\u5de5\u5177\u901a\u5e38\u90fd\u652f\u6301Python\u7684\u539f\u751f\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f46\u5b83\u4eec\u5728\u5904\u7406\u4e4b\u524d\u4f1a\u8fd8\u662f\u4f1a\u5c06\u8f93\u5165\u7684\u6570\u7ec4\u8f6c\u6362\u4e3aNumPy\u7684\u6570\u7ec4\uff0c\u800c\u4e14\u4e5f\u901a\u5e38\u8f93\u51fa\u4e3aNumPy\u6570\u7ec4\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u4e3a\u4e86\u9ad8\u6548\u5730\u4f7f\u7528\u5f53\u4eca\u79d1\u5b66/\u6570\u5b66\u57fa\u4e8ePython\u7684\u5de5\u5177\uff08\u5927\u90e8\u5206\u7684\u79d1\u5b66\u8ba1\u7b97\u5de5\u5177\uff09\uff0c\u4f60\u53ea\u77e5\u9053\u5982\u4f55\u4f7f\u7528Python\u7684\u539f\u751f\u6570\u7ec4\u7c7b\u578b\u662f\u4e0d\u591f\u7684 - \u8fd8\u9700\u8981\u77e5\u9053\u5982\u4f55\u4f7f\u7528 NumPy \u6570\u7ec4\u3002</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E4%BB%8B%E7%BB%8D.html#numpy","title":"\u4e3a\u4ec0\u4e48 NumPy \u8fd9\u4e48\u5feb\uff1f\u00b6","text":"<p>\u77e2\u91cf\u5316\u63cf\u8ff0\u4e86\u4ee3\u7801\u4e2d\u6ca1\u6709\u4efb\u4f55\u663e\u5f0f\u7684\u5faa\u73af\uff0c\u7d22\u5f15\u7b49 - \u8fd9\u4e9b\u5f53\u7136\u662f\u9884\u7f16\u8bd1\u7684C\u4ee3\u7801\u4e2d\u201c\u5e55\u540e\u201d\u4f18\u5316\u7684\u7ed3\u679c\u3002\u77e2\u91cf\u5316\u4ee3\u7801\u6709\u8bb8\u591a\u4f18\u70b9\uff0c\u5176\u4e2d\u5305\u62ec\uff1a</p> <ul> <li>\u77e2\u91cf\u5316\u4ee3\u7801\u66f4\u7b80\u6d01\uff0c\u66f4\u6613\u4e8e\u9605\u8bfb</li> <li>\u66f4\u5c11\u7684\u4ee3\u7801\u884c\u901a\u5e38\u610f\u5473\u7740\u66f4\u5c11\u7684\u9519\u8bef</li> <li>\u4ee3\u7801\u66f4\u63a5\u8fd1\u4e8e\u6807\u51c6\u7684\u6570\u5b66\u7b26\u53f7\uff08\u901a\u5e38\uff0c\u66f4\u5bb9\u6613\u6b63\u786e\u7f16\u7801\u6570\u5b66\u7ed3\u6784\uff09</li> <li>\u77e2\u91cf\u5316\u5bfc\u81f4\u4ea7\u751f\u66f4\u591a \u201cPythonic\u201d \u4ee3\u7801\u3002\u5982\u679c\u6ca1\u6709\u77e2\u91cf\u5316\uff0c\u6211\u4eec\u7684\u4ee3\u7801\u5c31\u4f1a\u88ab\u4f4e\u6548\u4e14\u96be\u4ee5\u9605\u8bfb\u7684for\u5faa\u73af\u6240\u56f0\u6270\u3002</li> </ul> <p>\u5e7f\u64ad\u662f\u7528\u4e8e\u63cf\u8ff0\u64cd\u4f5c\u7684\u9690\u5f0f\u9010\u5143\u7d20\u884c\u4e3a\u7684\u672f\u8bed; \u4e00\u822c\u6765\u8bf4\uff0c\u5728NumPy\u4e2d\uff0c\u6240\u6709\u64cd\u4f5c\uff0c\u4e0d\u4ec5\u4ec5\u662f\u7b97\u672f\u8fd0\u7b97\uff0c\u800c\u662f\u903b\u8f91\uff0c\u4f4d\uff0c\u529f\u80fd\u7b49\uff0c\u90fd\u4ee5\u8fd9\u79cd\u9690\u5f0f\u7684\u9010\u5143\u7d20\u65b9\u5f0f\u8868\u73b0\uff0c\u5373\u5b83\u4eec\u8fdb\u884c\u5e7f\u64ad\u3002\u6b64\u5916\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c<code>a</code>\u5e76\u4e14<code>b</code>\u53ef\u4ee5\u662f\u76f8\u540c\u5f62\u72b6\u7684\u591a\u7ef4\u6570\u7ec4\uff0c\u6216\u8005\u6807\u91cf\u548c\u6570\u7ec4\uff0c\u6216\u8005\u751a\u81f3\u662f\u5177\u6709\u4e0d\u540c\u5f62\u72b6\u7684\u4e24\u4e2a\u6570\u7ec4\uff0c\u6761\u4ef6\u662f\u8f83\u5c0f\u7684\u6570\u7ec4\u53ef\u4ee5\u201c\u6269\u5c55\u201d\u5230\u66f4\u5927\u7684\u5f62\u72b6\u3002\u7ed3\u679c\u5e7f\u64ad\u660e\u786e\u65e0\u8bef\u7684\u65b9\u5f0f\u3002\u6709\u5173\u5e7f\u64ad\u7684\u8be6\u7ec6\u201c\u89c4\u5219\u201d\uff0c\u8bf7\u53c2\u9605<code>numpy.doc.broadcasting</code>\u3002</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E4%BB%8B%E7%BB%8D.html","title":"\u53c2\u8003\u94fe\u63a5\u00b6","text":"<ul> <li>NumPy \u4ecb\u7ecd</li> </ul>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html","title":"Numpy \u57fa\u7840\u77e5\u8bc6","text":""},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%B8%B8%E7%94%A8.html","title":"Numpy \u5e38\u7528","text":""},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html","title":"Numpy \u5feb\u901f\u5165\u95e8\u6559\u7a0b","text":""},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_1","title":"\u57fa\u7840\u77e5\u8bc6","text":"<p>NumPy\u7684\u4e3b\u8981\u5bf9\u8c61\u662f\u540c\u6784\u591a\u7ef4\u6570\u7ec4\u3002\u5b83\u662f\u4e00\u4e2a\u5143\u7d20\u8868\uff08\u901a\u5e38\u662f\u6570\u5b57\uff09\uff0c\u6240\u6709\u7c7b\u578b\u90fd\u76f8\u540c\uff0c\u7531\u975e\u8d1f\u6574\u6570\u5143\u7ec4\u7d22\u5f15\u3002\u5728NumPy\u7ef4\u5ea6\u4e2d\u79f0\u4e3a \u8f74 \u3002</p> <p>\u4f8b\u5982\uff0c3D\u7a7a\u95f4\u4e2d\u7684\u70b9\u7684\u5750\u6807<code>[1, 2, 1]</code>\u5177\u6709\u4e00\u4e2a\u8f74\u3002\u8be5\u8f74\u67093\u4e2a\u5143\u7d20\uff0c\u6240\u4ee5\u6211\u4eec\u8bf4\u5b83\u7684\u957f\u5ea6\u4e3a3.\u5728\u4e0b\u56fe\u6240\u793a\u7684\u4f8b\u5b50\u4e2d\uff0c\u6570\u7ec4\u67092\u4e2a\u8f74\u3002\u7b2c\u4e00\u8f74\u7684\u957f\u5ea6\u4e3a2\uff0c\u7b2c\u4e8c\u8f74\u7684\u957f\u5ea6\u4e3a3\u3002</p> <pre><code>[[ 1., 0., 0.],\n [ 0., 1., 2.]]\n</code></pre> <p>NumPy\u7684\u6570\u7ec4\u7c7b\u88ab\u8c03\u7528<code>ndarray</code>\u3002\u5b83\u4e5f\u88ab\u522b\u540d\u6240\u77e5  <code>array</code>\u3002\u8bf7\u6ce8\u610f\uff0c<code>numpy.array</code>\u8fd9\u4e0e\u6807\u51c6Python\u5e93\u7c7b\u4e0d\u540c<code>array.array</code>\uff0c\u540e\u8005\u53ea\u5904\u7406\u4e00\u7ef4\u6570\u7ec4\u5e76\u63d0\u4f9b\u8f83\u5c11\u7684\u529f\u80fd\u3002<code>ndarray</code>\u5bf9\u8c61\u66f4\u91cd\u8981\u7684\u5c5e\u6027\u662f\uff1a</p> <ul> <li>ndarray.ndim - \u6570\u7ec4\u7684\u8f74\uff08\u7ef4\u5ea6\uff09\u7684\u4e2a\u6570\u3002\u5728Python\u4e16\u754c\u4e2d\uff0c\u7ef4\u5ea6\u7684\u6570\u91cf\u88ab\u79f0\u4e3arank\u3002</li> <li>ndarray.shape - \u6570\u7ec4\u7684\u7ef4\u5ea6\u3002\u8fd9\u662f\u4e00\u4e2a\u6574\u6570\u7684\u5143\u7ec4\uff0c\u8868\u793a\u6bcf\u4e2a\u7ef4\u5ea6\u4e2d\u6570\u7ec4\u7684\u5927\u5c0f\u3002\u5bf9\u4e8e\u6709 n \u884c\u548c m \u5217\u7684\u77e9\u9635\uff0c<code>shape</code> \u5c06\u662f <code>(n,m)</code>\u3002\u56e0\u6b64\uff0c<code>shape</code> \u5143\u7ec4\u7684\u957f\u5ea6\u5c31\u662frank\u6216\u7ef4\u5ea6\u7684\u4e2a\u6570 <code>ndim</code>\u3002</li> <li>ndarray.size - \u6570\u7ec4\u5143\u7d20\u7684\u603b\u6570\u3002\u8fd9\u7b49\u4e8e <code>shape</code> \u7684\u5143\u7d20\u7684\u4e58\u79ef\u3002</li> <li>ndarray.dtype - \u4e00\u4e2a\u63cf\u8ff0\u6570\u7ec4\u4e2d\u5143\u7d20\u7c7b\u578b\u7684\u5bf9\u8c61\u3002\u53ef\u4ee5\u4f7f\u7528\u6807\u51c6\u7684Python\u7c7b\u578b\u521b\u5efa\u6216\u6307\u5b9adtype\u3002\u53e6\u5916NumPy\u63d0\u4f9b\u5b83\u81ea\u5df1\u7684\u7c7b\u578b\u3002\u4f8b\u5982numpy.int32\u3001numpy.int16\u548cnumpy.float64\u3002</li> <li>ndarray.itemsize - \u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u7684\u5b57\u8282\u5927\u5c0f\u3002\u4f8b\u5982\uff0c\u5143\u7d20\u4e3a <code>float64</code> \u7c7b\u578b\u7684\u6570\u7ec4\u7684 <code>itemsize</code> \u4e3a8\uff08=64/8\uff09\uff0c\u800c <code>complex32</code> \u7c7b\u578b\u7684\u6570\u7ec4\u7684 <code>itemsize</code> \u4e3a4\uff08=32/8\uff09\u3002\u5b83\u7b49\u4e8e <code>ndarray.dtype.itemsize</code> \u3002</li> <li>ndarray.data - \u8be5\u7f13\u51b2\u533a\u5305\u542b\u6570\u7ec4\u7684\u5b9e\u9645\u5143\u7d20\u3002\u901a\u5e38\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u4f7f\u7528\u6b64\u5c5e\u6027\uff0c\u56e0\u4e3a\u6211\u4eec\u5c06\u4f7f\u7528\u7d22\u5f15\u8bbf\u95ee\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u3002</li> </ul>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_2","title":"\u4e00\u4e2a\u4f8b\u5b50","text":"<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; a = np.arange(15).reshape(3, 5)\n&gt;&gt;&gt; a\narray([[ 0,  1,  2,  3,  4],\n       [ 5,  6,  7,  8,  9],\n       [10, 11, 12, 13, 14]])\n&gt;&gt;&gt; a.shape\n(3, 5)\n&gt;&gt;&gt; a.ndim\n2\n&gt;&gt;&gt; a.dtype.name\n'int64'\n&gt;&gt;&gt; a.itemsize\n8\n&gt;&gt;&gt; a.size\n15\n&gt;&gt;&gt; type(a)\n&lt;type 'numpy.ndarray'&gt;\n&gt;&gt;&gt; b = np.array([6, 7, 8])\n&gt;&gt;&gt; b\narray([6, 7, 8])\n&gt;&gt;&gt; type(b)\n&lt;type 'numpy.ndarray'&gt;\n</code></pre>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_3","title":"\u6570\u7ec4\u521b\u5efa","text":"<p>\u6709\u51e0\u79cd\u65b9\u6cd5\u53ef\u4ee5\u521b\u5efa\u6570\u7ec4\u3002</p> <p>\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528array\u51fd\u6570\u4ece\u5e38\u89c4Python\u5217\u8868\u6216\u5143\u7ec4\u4e2d\u521b\u5efa\u6570\u7ec4\u3002\u5f97\u5230\u7684\u6570\u7ec4\u7684\u7c7b\u578b\u662f\u4ecePython\u5217\u8868\u4e2d\u5143\u7d20\u7684\u7c7b\u578b\u63a8\u5bfc\u51fa\u6765\u7684\u3002</p> <pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; a = np.array([2,3,4])\n&gt;&gt;&gt; a\narray([2, 3, 4])\n&gt;&gt;&gt; a.dtype\ndtype('int64')\n&gt;&gt;&gt; b = np.array([1.2, 3.5, 5.1])\n&gt;&gt;&gt; b.dtype\ndtype('float64')\n</code></pre> <p>\u4e00\u4e2a\u5e38\u89c1\u7684\u9519\u8bef\uff0c\u5c31\u662f\u8c03\u7528<code>array</code>\u7684\u65f6\u5019\u4f20\u5165\u591a\u4e2a\u6570\u5b57\u53c2\u6570\uff0c\u800c\u4e0d\u662f\u63d0\u4f9b\u5355\u4e2a\u6570\u5b57\u7684\u5217\u8868\u7c7b\u578b\u4f5c\u4e3a\u53c2\u6570\u3002</p> <pre><code>&gt;&gt;&gt; a = np.array(1,2,3,4)    # WRONG\n&gt;&gt;&gt; a = np.array([1,2,3,4])  # RIGHT\n</code></pre> <p><code>array</code> \u8fd8\u53ef\u4ee5\u5c06\u5e8f\u5217\u7684\u5e8f\u5217\u8f6c\u6362\u6210\u4e8c\u7ef4\u6570\u7ec4\uff0c\u5c06\u5e8f\u5217\u7684\u5e8f\u5217\u7684\u5e8f\u5217\u8f6c\u6362\u6210\u4e09\u7ef4\u6570\u7ec4\uff0c\u7b49\u7b49\u3002</p> <pre><code>&gt;&gt;&gt; b = np.array([(1.5,2,3), (4,5,6)])\n&gt;&gt;&gt; b\narray([[ 1.5,  2. ,  3. ],\n       [ 4. ,  5. ,  6. ]])\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u5728\u521b\u5efa\u65f6\u663e\u5f0f\u6307\u5b9a\u6570\u7ec4\u7684\u7c7b\u578b\uff1a</p> <pre><code>&gt;&gt;&gt; c = np.array( [ [1,2], [3,4] ], dtype=complex )\n&gt;&gt;&gt; c\narray([[ 1.+0.j,  2.+0.j],\n       [ 3.+0.j,  4.+0.j]])\n</code></pre> <p>\u901a\u5e38\uff0c\u6570\u7ec4\u7684\u5143\u7d20\u6700\u521d\u662f\u672a\u77e5\u7684\uff0c\u4f46\u5b83\u7684\u5927\u5c0f\u662f\u5df2\u77e5\u7684\u3002\u56e0\u6b64\uff0cNumPy\u63d0\u4f9b\u4e86\u51e0\u4e2a\u51fd\u6570\u6765\u521b\u5efa\u5177\u6709\u521d\u59cb\u5360\u4f4d\u7b26\u5185\u5bb9\u7684\u6570\u7ec4\u3002\u8fd9\u5c31\u51cf\u5c11\u4e86\u6570\u7ec4\u589e\u957f\u7684\u5fc5\u8981\uff0c\u56e0\u4e3a\u6570\u7ec4\u589e\u957f\u7684\u64cd\u4f5c\u82b1\u8d39\u5f88\u5927\u3002</p> <p>\u51fd\u6570<code>zeros</code>\u521b\u5efa\u4e00\u4e2a\u75310\u7ec4\u6210\u7684\u6570\u7ec4\uff0c\u51fd\u6570 <code>ones</code>\u521b\u5efa\u4e00\u4e2a\u5b8c\u6574\u7684\u6570\u7ec4\uff0c\u51fd\u6570<code>empty</code> \u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\uff0c\u5176\u521d\u59cb\u5185\u5bb9\u662f\u968f\u673a\u7684\uff0c\u53d6\u51b3\u4e8e\u5185\u5b58\u7684\u72b6\u6001\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u521b\u5efa\u7684\u6570\u7ec4\u7684dtype\u662f  <code>float64</code> \u7c7b\u578b\u7684\u3002</p> <pre><code>&gt;&gt;&gt; np.zeros( (3,4) )\narray([[ 0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.]])\n&gt;&gt;&gt; np.ones( (2,3,4), dtype=np.int16 )                # dtype can also be specified\narray([[[ 1, 1, 1, 1],\n        [ 1, 1, 1, 1],\n        [ 1, 1, 1, 1]],\n       [[ 1, 1, 1, 1],\n        [ 1, 1, 1, 1],\n        [ 1, 1, 1, 1]]], dtype=int16)\n&gt;&gt;&gt; np.empty( (2,3) )                                 # uninitialized, output may vary\narray([[  3.73603959e-262,   6.02658058e-154,   6.55490914e-260],\n       [  5.30498948e-313,   3.14673309e-307,   1.00000000e+000]])\n</code></pre> <p>\u4e3a\u4e86\u521b\u5efa\u6570\u5b57\u7ec4\u6210\u7684\u6570\u7ec4\uff0cNumPy\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7c7b\u4f3c\u4e8e<code>range</code>\u7684\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u8fd4\u56de\u6570\u7ec4\u800c\u4e0d\u662f\u5217\u8868\u3002</p> <pre><code>&gt;&gt;&gt; np.arange( 10, 30, 5 )\narray([10, 15, 20, 25])\n&gt;&gt;&gt; np.arange( 0, 2, 0.3 )                 # it accepts float arguments\narray([ 0. ,  0.3,  0.6,  0.9,  1.2,  1.5,  1.8])\n</code></pre> <p>\u5f53<code>arange</code>\u4e0e\u6d6e\u70b9\u53c2\u6570\u4e00\u8d77\u4f7f\u7528\u65f6\uff0c\u7531\u4e8e\u6709\u9650\u7684\u6d6e\u70b9\u7cbe\u5ea6\uff0c\u901a\u5e38\u4e0d\u53ef\u80fd\u9884\u6d4b\u6240\u83b7\u5f97\u7684\u5143\u7d20\u7684\u6570\u91cf\u3002\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u901a\u5e38\u6700\u597d\u4f7f\u7528<code>linspace</code>\u51fd\u6570\u6765\u63a5\u6536\u6211\u4eec\u60f3\u8981\u7684\u5143\u7d20\u6570\u91cf\u7684\u51fd\u6570\uff0c\u800c\u4e0d\u662f\u6b65\u957f\uff08step\uff09\uff1a</p> <pre><code>&gt;&gt;&gt; from numpy import pi\n&gt;&gt;&gt; np.linspace( 0, 2, 9 )                 # 9 numbers from 0 to 2\narray([ 0.  ,  0.25,  0.5 ,  0.75,  1.  ,  1.25,  1.5 ,  1.75,  2.  ])\n&gt;&gt;&gt; x = np.linspace( 0, 2*pi, 100 )        # useful to evaluate function at lots of points\n&gt;&gt;&gt; f = np.sin(x)\n</code></pre> <p>Tip</p> <p><code>array</code>\uff0c <code>zeros</code>\uff0c <code>zeros_like</code>\uff0c <code>ones</code>\uff0c <code>ones_like</code>\uff0c <code>empty</code>\uff0c <code>empty_like</code>\uff0c <code>arange</code>\uff0c <code>linspace</code>\uff0c <code>numpy.random.mtrand.RandomState.rand</code>\uff0c <code>numpy.random.mtrand.RandomState.randn</code>\uff0c <code>fromfunction</code>\uff0c <code>fromfile</code></p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_4","title":"\u6253\u5370\u6570\u7ec4","text":"<p>\u5f53\u60a8\u6253\u5370\u6570\u7ec4\u65f6\uff0cNumPy\u4ee5\u4e0e\u5d4c\u5957\u5217\u8868\u7c7b\u4f3c\u7684\u65b9\u5f0f\u663e\u793a\u5b83\uff0c\u4f46\u5177\u6709\u4ee5\u4e0b\u5e03\u5c40\uff1a</p> <ul> <li>\u6700\u540e\u4e00\u4e2a\u8f74\u4ece\u5de6\u5230\u53f3\u6253\u5370\uff0c</li> <li>\u5012\u6570\u7b2c\u4e8c\u4e2a\u4ece\u4e0a\u5230\u4e0b\u6253\u5370\uff0c</li> <li>\u5176\u4f59\u90e8\u5206\u4e5f\u4ece\u4e0a\u5230\u4e0b\u6253\u5370\uff0c\u6bcf\u4e2a\u5207\u7247\u7528\u7a7a\u884c\u5206\u9694\u3002</li> </ul> <p>\u7136\u540e\u5c06\u4e00\u7ef4\u6570\u7ec4\u6253\u5370\u4e3a\u884c\uff0c\u5c06\u4e8c\u7ef4\u6570\u636e\u6253\u5370\u4e3a\u77e9\u9635\uff0c\u5c06\u4e09\u7ef4\u6570\u636e\u6253\u5370\u4e3a\u77e9\u6570\u7ec4\u8868\u3002</p> <pre><code>&gt;&gt;&gt; a = np.arange(6)                         # 1d array\n&gt;&gt;&gt; print(a)\n[0 1 2 3 4 5]\n&gt;&gt;&gt;\n&gt;&gt;&gt; b = np.arange(12).reshape(4,3)           # 2d array\n&gt;&gt;&gt; print(b)\n[[ 0  1  2]\n [ 3  4  5]\n [ 6  7  8]\n [ 9 10 11]]\n&gt;&gt;&gt;\n&gt;&gt;&gt; c = np.arange(24).reshape(2,3,4)         # 3d array\n&gt;&gt;&gt; print(c)\n[[[ 0  1  2  3]\n  [ 4  5  6  7]\n  [ 8  9 10 11]]\n [[12 13 14 15]\n  [16 17 18 19]\n  [20 21 22 23]]]\n</code></pre> <p>\u6709\u5173 <code>reshape</code> \u7684\u8be6\u60c5\uff0c\u8bf7\u53c2\u9605\u4e0b\u6587\u3002</p> <p>\u5982\u679c\u6570\u7ec4\u592a\u5927\u800c\u65e0\u6cd5\u6253\u5370\uff0cNumPy\u4f1a\u81ea\u52a8\u8df3\u8fc7\u6570\u7ec4\u7684\u4e2d\u5fc3\u90e8\u5206\u5e76\u4ec5\u6253\u5370\u89d2\u70b9\uff1a</p> <pre><code>&gt;&gt;&gt; print(np.arange(10000))\n[   0    1    2 ..., 9997 9998 9999]\n&gt;&gt;&gt;\n&gt;&gt;&gt; print(np.arange(10000).reshape(100,100))\n[[   0    1    2 ...,   97   98   99]\n [ 100  101  102 ...,  197  198  199]\n [ 200  201  202 ...,  297  298  299]\n ...,\n [9700 9701 9702 ..., 9797 9798 9799]\n [9800 9801 9802 ..., 9897 9898 9899]\n [9900 9901 9902 ..., 9997 9998 9999]]\n</code></pre> <p>\u8981\u7981\u7528\u6b64\u884c\u4e3a\u5e76\u5f3a\u5236NumPy\u6253\u5370\u6574\u4e2a\u6570\u7ec4\uff0c\u53ef\u4ee5\u4f7f\u7528\u66f4\u6539\u6253\u5370\u9009\u9879<code>set_printoptions</code>\u3002</p> <pre><code>&gt;&gt;&gt; np.set_printoptions(threshold=sys.maxsize)       # sys module should be imported\n</code></pre>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_5","title":"\u57fa\u672c\u64cd\u4f5c","text":"<p>\u6570\u7ec4\u4e0a\u7684\u7b97\u672f\u8fd0\u7b97\u7b26\u4f1a\u5e94\u7528\u5230 \u5143\u7d20 \u7ea7\u522b\u3002\u4e0b\u9762\u662f\u521b\u5efa\u4e00\u4e2a\u65b0\u6570\u7ec4\u5e76\u586b\u5145\u7ed3\u679c\u7684\u793a\u4f8b\uff1a</p> <pre><code>&gt;&gt;&gt; a = np.array( [20,30,40,50] )\n&gt;&gt;&gt; b = np.arange( 4 )\n&gt;&gt;&gt; b\narray([0, 1, 2, 3])\n&gt;&gt;&gt; c = a-b\n&gt;&gt;&gt; c\narray([20, 29, 38, 47])\n&gt;&gt;&gt; b**2\narray([0, 1, 4, 9])\n&gt;&gt;&gt; 10*np.sin(a)\narray([ 9.12945251, -9.88031624,  7.4511316 , -2.62374854])\n&gt;&gt;&gt; a&lt;35\narray([ True, True, False, False])\n</code></pre> <p>\u4e0e\u8bb8\u591a\u77e9\u9635\u8bed\u8a00\u4e0d\u540c\uff0c\u4e58\u79ef\u8fd0\u7b97\u7b26<code>*</code>\u5728NumPy\u6570\u7ec4\u4e2d\u6309\u5143\u7d20\u8fdb\u884c\u8fd0\u7b97\u3002\u77e9\u9635\u4e58\u79ef\u53ef\u4ee5\u4f7f\u7528<code>@</code>\u8fd0\u7b97\u7b26\uff08\u5728python&gt; = 3.5\u4e2d\uff09\u6216<code>dot</code>\u51fd\u6570\u6216\u65b9\u6cd5\u6267\u884c\uff1a</p> <pre><code>&gt;&gt;&gt; A = np.array( [[1,1],\n...             [0,1]] )\n&gt;&gt;&gt; B = np.array( [[2,0],\n...             [3,4]] )\n&gt;&gt;&gt; A * B                       # elementwise product\narray([[2, 0],\n       [0, 4]])\n&gt;&gt;&gt; A @ B                       # matrix product\narray([[5, 4],\n       [3, 4]])\n&gt;&gt;&gt; A.dot(B)                    # another matrix product\narray([[5, 4],\n       [3, 4]])\n</code></pre> <p>\u67d0\u4e9b\u64cd\u4f5c\uff08\u4f8b\u5982<code>+=</code>\u548c <code>*=</code>\uff09\u4f1a\u66f4\u76f4\u63a5\u66f4\u6539\u88ab\u64cd\u4f5c\u7684\u77e9\u9635\u6570\u7ec4\u800c\u4e0d\u4f1a\u521b\u5efa\u65b0\u77e9\u9635\u6570\u7ec4\u3002</p> <pre><code>&gt;&gt;&gt; a = np.ones((2,3), dtype=int)\n&gt;&gt;&gt; b = np.random.random((2,3))\n&gt;&gt;&gt; a *= 3\n&gt;&gt;&gt; a\narray([[3, 3, 3],\n       [3, 3, 3]])\n&gt;&gt;&gt; b += a\n&gt;&gt;&gt; b\narray([[ 3.417022  ,  3.72032449,  3.00011437],\n       [ 3.30233257,  3.14675589,  3.09233859]])\n&gt;&gt;&gt; a += b                  # b is not automatically converted to integer type\nTraceback (most recent call last):\n  ...\nTypeError: Cannot cast ufunc add output from dtype('float64') to dtype('int64') with casting rule 'same_kind'\n</code></pre> <p>\u5f53\u4f7f\u7528\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u7ec4\u8fdb\u884c\u64cd\u4f5c\u65f6\uff0c\u7ed3\u679c\u6570\u7ec4\u7684\u7c7b\u578b\u5bf9\u5e94\u4e8e\u66f4\u4e00\u822c\u6216\u66f4\u7cbe\u786e\u7684\u6570\u7ec4\uff08\u79f0\u4e3a\u5411\u4e0a\u8f6c\u6362\u7684\u884c\u4e3a\uff09\u3002</p> <pre><code>&gt;&gt;&gt; a = np.ones(3, dtype=np.int32)\n&gt;&gt;&gt; b = np.linspace(0,pi,3)\n&gt;&gt;&gt; b.dtype.name\n'float64'\n&gt;&gt;&gt; c = a+b\n&gt;&gt;&gt; c\narray([ 1.        ,  2.57079633,  4.14159265])\n&gt;&gt;&gt; c.dtype.name\n'float64'\n&gt;&gt;&gt; d = np.exp(c*1j)\n&gt;&gt;&gt; d\narray([ 0.54030231+0.84147098j, -0.84147098+0.54030231j,\n       -0.54030231-0.84147098j])\n&gt;&gt;&gt; d.dtype.name\n'complex128'\n</code></pre> <p>\u8bb8\u591a\u4e00\u5143\u64cd\u4f5c\uff0c\u4f8b\u5982\u8ba1\u7b97\u6570\u7ec4\u4e2d\u6240\u6709\u5143\u7d20\u7684\u603b\u548c\uff0c\u90fd\u662f\u4f5c\u4e3a<code>ndarray</code>\u7c7b\u7684\u65b9\u6cd5\u5b9e\u73b0\u7684\u3002</p> <pre><code>&gt;&gt;&gt; a = np.random.random((2,3))\n&gt;&gt;&gt; a\narray([[ 0.18626021,  0.34556073,  0.39676747],\n       [ 0.53881673,  0.41919451,  0.6852195 ]])\n&gt;&gt;&gt; a.sum()\n2.5718191614547998\n&gt;&gt;&gt; a.min()\n0.1862602113776709\n&gt;&gt;&gt; a.max()\n0.6852195003967595\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u9002\u7528\u4e8e\u6570\u7ec4\uff0c\u5c31\u50cf\u5b83\u662f\u4e00\u4e2a\u6570\u5b57\u5217\u8868\u4e00\u6837\uff0c\u65e0\u8bba\u5176\u5f62\u72b6\u5982\u4f55\u3002\u4f46\u662f\uff0c\u901a\u8fc7\u6307\u5b9a<code>axis</code> \u53c2\u6570\uff0c\u60a8\u53ef\u4ee5\u6cbf\u6570\u7ec4\u7684\u6307\u5b9a\u8f74\u5e94\u7528\u64cd\u4f5c\uff1a</p> <pre><code>&gt;&gt;&gt; b = np.arange(12).reshape(3,4)\n&gt;&gt;&gt; b\narray([[ 0,  1,  2,  3],\n       [ 4,  5,  6,  7],\n       [ 8,  9, 10, 11]])\n&gt;&gt;&gt;\n&gt;&gt;&gt; b.sum(axis=0)                            # sum of each column\narray([12, 15, 18, 21])\n&gt;&gt;&gt;\n&gt;&gt;&gt; b.min(axis=1)                            # min of each row\narray([0, 4, 8])\n&gt;&gt;&gt;\n&gt;&gt;&gt; b.cumsum(axis=1)                         # cumulative sum along each row\narray([[ 0,  1,  3,  6],\n       [ 4,  9, 15, 22],\n       [ 8, 17, 27, 38]])\n</code></pre>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_6","title":"\u901a\u51fd\u6570","text":"<p>NumPy\u63d0\u4f9b\u719f\u6089\u7684\u6570\u5b66\u51fd\u6570\uff0c\u4f8b\u5982sin\uff0ccos\u548cexp\u3002\u5728NumPy\u4e2d\uff0c\u8fd9\u4e9b\u88ab\u79f0\u4e3a\u201c\u901a\u51fd\u6570\u201d\uff08<code>ufunc</code>\uff09\u3002\u5728NumPy\u4e2d\uff0c\u8fd9\u4e9b\u51fd\u6570\u5728\u6570\u7ec4\u4e0a\u6309\u5143\u7d20\u8fdb\u884c\u8fd0\u7b97\uff0c\u4ea7\u751f\u4e00\u4e2a\u6570\u7ec4\u4f5c\u4e3a\u8f93\u51fa\u3002</p> <pre><code>&gt;&gt;&gt; B = np.arange(3)\n&gt;&gt;&gt; B\narray([0, 1, 2])\n&gt;&gt;&gt; np.exp(B)\narray([ 1.        ,  2.71828183,  7.3890561 ])\n&gt;&gt;&gt; np.sqrt(B)\narray([ 0.        ,  1.        ,  1.41421356])\n&gt;&gt;&gt; C = np.array([2., -1., 4.])\n&gt;&gt;&gt; np.add(B, C)\narray([ 2.,  0.,  6.])\n</code></pre> <p>Tip</p> <p><code>all</code>\uff0c <code>any</code>\uff0c <code>apply_along_axis</code>\uff0c <code>argmax</code>\uff0c <code>argmin</code>\uff0c <code>argsort</code>\uff0c <code>average</code>\uff0c <code>bincount</code>\uff0c <code>ceil</code>\uff0c <code>clip</code>\uff0c <code>conj</code>\uff0c <code>corrcoef</code>\uff0c <code>cov</code>\uff0c <code>cross</code>\uff0c <code>cumprod</code>\uff0c <code>cumsum</code>\uff0c <code>diff</code>\uff0c <code>dot</code>\uff0c <code>floor</code>\uff0c <code>inner</code>\uff0c  INV \uff0c <code>lexsort</code>\uff0c <code>max</code>\uff0c <code>maximum</code>\uff0c <code>mean</code>\uff0c <code>median</code>\uff0c <code>min</code>\uff0c <code>minimum</code>\uff0c <code>nonzero</code>\uff0c <code>outer</code>\uff0c <code>prod</code>\uff0c <code>re</code>\uff0c <code>round</code>\uff0c <code>sort</code>\uff0c <code>std</code>\uff0c <code>sum</code>\uff0c <code>trace</code>\uff0c <code>transpose</code>\uff0c <code>var</code>\uff0c <code>vdot</code>\uff0c <code>vectorize</code>\uff0c <code>where</code></p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_7","title":"\u7d22\u5f15\u3001\u5207\u7247\u548c\u8fed\u4ee3","text":"<p>**\u4e00\u7ef4**\u7684\u6570\u7ec4\u53ef\u4ee5\u8fdb\u884c\u7d22\u5f15\u3001\u5207\u7247\u548c\u8fed\u4ee3\u64cd\u4f5c\u7684\uff0c\u5c31\u50cf \u5217\u8868 \u548c\u5176\u4ed6Python\u5e8f\u5217\u7c7b\u578b\u4e00\u6837\u3002</p> <pre><code>&gt;&gt;&gt; a = np.arange(10)**3\n&gt;&gt;&gt; a\narray([  0,   1,   8,  27,  64, 125, 216, 343, 512, 729])\n&gt;&gt;&gt; a[2]\n8\n&gt;&gt;&gt; a[2:5]\narray([ 8, 27, 64])\n&gt;&gt;&gt; a[:6:2] = -1000    # equivalent to a[0:6:2] = -1000; from start to position 6, exclusive, set every 2nd element to -1000\n&gt;&gt;&gt; a\narray([-1000,     1, -1000,    27, -1000,   125,   216,   343,   512,   729])\n&gt;&gt;&gt; a[ : :-1]                                 # reversed a\narray([  729,   512,   343,   216,   125, -1000,    27, -1000,     1, -1000])\n&gt;&gt;&gt; for i in a:\n...     print(i**(1/3.))\n...\nnan\n1.0\nnan\n3.0\nnan\n5.0\n6.0\n7.0\n8.0\n9.0\n</code></pre> <p>**\u591a\u7ef4**\u7684\u6570\u7ec4\u6bcf\u4e2a\u8f74\u53ef\u4ee5\u6709\u4e00\u4e2a\u7d22\u5f15\u3002\u8fd9\u4e9b\u7d22\u5f15\u4ee5\u9017\u53f7\u200b\u200b\u5206\u9694\u7684\u5143\u7ec4\u7ed9\u51fa\uff1a</p> <pre><code>&gt;&gt;&gt; def f(x,y):\n...     return 10*x+y\n...\n&gt;&gt;&gt; b = np.fromfunction(f,(5,4),dtype=int)\n&gt;&gt;&gt; b\narray([[ 0,  1,  2,  3],\n       [10, 11, 12, 13],\n       [20, 21, 22, 23],\n       [30, 31, 32, 33],\n       [40, 41, 42, 43]])\n&gt;&gt;&gt; b[2,3]\n23\n&gt;&gt;&gt; b[0:5, 1]                       # each row in the second column of b\narray([ 1, 11, 21, 31, 41])\n&gt;&gt;&gt; b[ : ,1]                        # equivalent to the previous example\narray([ 1, 11, 21, 31, 41])\n&gt;&gt;&gt; b[1:3, : ]                      # each column in the second and third row of b\narray([[10, 11, 12, 13],\n       [20, 21, 22, 23]])\n</code></pre> <p>\u5f53\u63d0\u4f9b\u7684\u7d22\u5f15\u5c11\u4e8e\u8f74\u7684\u6570\u91cf\u65f6\uff0c\u7f3a\u5931\u7684\u7d22\u5f15\u88ab\u8ba4\u4e3a\u662f\u5b8c\u6574\u7684\u5207\u7247<code>:</code></p> <pre><code>&gt;&gt;&gt; b[-1]                                  # the last row. Equivalent to b[-1,:]\narray([40, 41, 42, 43])\n</code></pre> <p><code>b[i]</code> \u65b9\u62ec\u53f7\u4e2d\u7684\u8868\u8fbe\u5f0f <code>i</code> \u88ab\u89c6\u4e3a\u540e\u9762\u7d27\u8ddf\u7740 <code>:</code> \u7684\u591a\u4e2a\u5b9e\u4f8b\uff0c\u7528\u4e8e\u8868\u793a\u5269\u4f59\u8f74\u3002NumPy\u4e5f\u5141\u8bb8\u4f60\u4f7f\u7528\u4e09\u4e2a\u70b9\u5199\u4e3a <code>b[i,...]</code>\u3002</p> <p>\u4e09\u4e2a\u70b9\uff08 <code>...</code> \uff09\u8868\u793a\u4ea7\u751f\u5b8c\u6574\u7d22\u5f15\u5143\u7ec4\u6240\u9700\u7684\u5192\u53f7\u3002\u4f8b\u5982\uff0c\u5982\u679c <code>x</code> \u662frank\u4e3a5\u7684\u6570\u7ec4\uff08\u5373\uff0c\u5b83\u5177\u67095\u4e2a\u8f74\uff09\uff0c\u5219\uff1a</p> <ul> <li><code>x[1,2,...]</code> \u76f8\u5f53\u4e8e <code>x[1,2,:,:,:]</code>\uff0c</li> <li><code>x[...,3]</code> \u7b49\u6548\u4e8e <code>x[:,:,:,:,3]</code></li> <li><code>x[4,...,5,:]</code> \u7b49\u6548\u4e8e <code>x[4,:,:,5,:]</code>\u3002</li> </ul> <pre><code>&gt;&gt;&gt; c = np.array( [[[  0,  1,  2],               # a 3D array (two stacked 2D arrays)\n...                 [ 10, 12, 13]],\n...                [[100,101,102],\n...                 [110,112,113]]])\n&gt;&gt;&gt; c.shape\n(2, 2, 3)\n&gt;&gt;&gt; c[1,...]                                   # same as c[1,:,:] or c[1]\narray([[100, 101, 102],\n       [110, 112, 113]])\n&gt;&gt;&gt; c[...,2]                                   # same as c[:,:,2]\narray([[  2,  13],\n       [102, 113]])\n</code></pre> <p>\u5bf9\u591a\u7ef4\u6570\u7ec4\u8fdb\u884c \u8fed\u4ee3\uff08Iterating\uff09 \u662f\u76f8\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u8f74\u5b8c\u6210\u7684\uff1a</p> <pre><code>&gt;&gt;&gt; for row in b:\n...     print(row)\n...\n[0 1 2 3]\n[10 11 12 13]\n[20 21 22 23]\n[30 31 32 33]\n[40 41 42 43]\n</code></pre> <p>\u4f46\u662f\uff0c\u5982\u679c\u60f3\u8981\u5bf9\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u6267\u884c\u64cd\u4f5c\uff0c\u53ef\u4ee5\u4f7f\u7528<code>flat</code>\u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u662f\u6570\u7ec4\u7684\u6240\u6709\u5143\u7d20\u7684\u8fed\u4ee3\u5668\uff1a</p> <pre><code>&gt;&gt;&gt; for element in b.flat:\n...     print(element)\n...\n0\n1\n2\n3\n10\n11\n12\n13\n20\n21\n22\n23\n30\n31\n32\n33\n40\n41\n42\n43\n</code></pre> <p>Tip</p> <p>Indexing (reference), <code>newaxis</code>, <code>ndenumerate</code>, <code>indices</code></p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_8","title":"\u5f62\u72b6\u64cd\u7eb5","text":""},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_9","title":"\u6539\u53d8\u6570\u7ec4\u7684\u5f62\u72b6","text":"<p>\u4e00\u4e2a\u6570\u7ec4\u7684\u5f62\u72b6\u662f\u7531\u6bcf\u4e2a\u8f74\u7684\u5143\u7d20\u6570\u91cf\u51b3\u5b9a\u7684\uff1a</p> <pre><code>&gt;&gt;&gt; a = np.floor(10*np.random.random((3,4)))\n&gt;&gt;&gt; a\narray([[ 2.,  8.,  0.,  6.],\n       [ 4.,  5.,  1.,  1.],\n       [ 8.,  9.,  3.,  6.]])\n&gt;&gt;&gt; a.shape\n(3, 4)\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528\u5404\u79cd\u547d\u4ee4\u66f4\u6539\u6570\u7ec4\u7684\u5f62\u72b6\u3002\u8bf7\u6ce8\u610f\uff0c\u4ee5\u4e0b\u4e09\u4e2a\u547d\u4ee4\u90fd\u8fd4\u56de\u4e00\u4e2a\u4fee\u6539\u540e\u7684\u6570\u7ec4\uff0c\u4f46\u4e0d\u4f1a\u66f4\u6539\u539f\u59cb\u6570\u7ec4\uff1a</p> <pre><code>&gt;&gt;&gt; a.ravel()  # returns the array, flattened\narray([ 2.,  8.,  0.,  6.,  4.,  5.,  1.,  1.,  8.,  9.,  3.,  6.])\n&gt;&gt;&gt; a.reshape(6,2)  # returns the array with a modified shape\narray([[ 2.,  8.],\n       [ 0.,  6.],\n       [ 4.,  5.],\n       [ 1.,  1.],\n       [ 8.,  9.],\n       [ 3.,  6.]])\n&gt;&gt;&gt; a.T  # returns the array, transposed\narray([[ 2.,  4.,  8.],\n       [ 8.,  5.,  9.],\n       [ 0.,  1.,  3.],\n       [ 6.,  1.,  6.]])\n&gt;&gt;&gt; a.T.shape\n(4, 3)\n&gt;&gt;&gt; a.shape\n(3, 4)\n</code></pre> <p>\u7531 ravel() \u4ea7\u751f\u7684\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u987a\u5e8f\u901a\u5e38\u662f\u201cC\u98ce\u683c\u201d\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6700\u53f3\u8fb9\u7684\u7d22\u5f15\u201c\u53d8\u5316\u6700\u5feb\u201d\uff0c\u56e0\u6b64[0,0]\u4e4b\u540e\u7684\u5143\u7d20\u662f[0,1] \u3002\u5982\u679c\u5c06\u6570\u7ec4\u91cd\u65b0\u6574\u5f62\u4e3a\u5176\u4ed6\u5f62\u72b6\uff0c\u5219\u8be5\u6570\u7ec4\u5c06\u88ab\u89c6\u4e3a\u201cC\u98ce\u683c\u201d\u3002NumPy\u901a\u5e38\u521b\u5efa\u6309\u6b64\u987a\u5e8f\u5b58\u50a8\u7684\u6570\u7ec4\uff0c\u56e0\u6b64 ravel() \u901a\u5e38\u4e0d\u9700\u8981\u590d\u5236\u5176\u53c2\u6570\uff0c\u4f46\u5982\u679c\u6570\u7ec4\u662f\u901a\u8fc7\u83b7\u53d6\u53e6\u4e00\u4e2a\u6570\u7ec4\u7684\u5207\u7247\u6216\u4f7f\u7528\u4e0d\u5e38\u89c1\u7684\u9009\u9879\u521b\u5efa\u7684\uff0c\u5219\u53ef\u80fd\u9700\u8981\u590d\u5236\u5b83\u3002\u8fd8\u53ef\u4ee5\u4f7f\u7528\u53ef\u9009\u53c2\u6570\u6307\u793a\u51fd\u6570 ravel() \u548c reshape()\uff0c\u4ee5\u4f7f\u7528FORTRAN\u6837\u5f0f\u7684\u6570\u7ec4\uff0c\u5176\u4e2d\u6700\u5de6\u8fb9\u7684\u7d22\u5f15\u53d8\u5316\u6700\u5feb\u3002</p> <p>\u8be5<code>reshape</code>\u51fd\u6570\u8fd4\u56de\u5e26\u6709\u4fee\u6539\u5f62\u72b6\u7684\u53c2\u6570\uff0c\u800c\u8be5 <code>ndarray.resize</code>\u65b9\u6cd5\u4f1a\u4fee\u6539\u6570\u7ec4\u672c\u8eab\uff1a</p> <pre><code>&gt;&gt;&gt; a\narray([[ 2.,  8.,  0.,  6.],\n       [ 4.,  5.,  1.,  1.],\n       [ 8.,  9.,  3.,  6.]])\n&gt;&gt;&gt; a.resize((2,6))\n&gt;&gt;&gt; a\narray([[ 2.,  8.,  0.,  6.,  4.,  5.],\n       [ 1.,  1.,  8.,  9.,  3.,  6.]])\n</code></pre> <p>\u5982\u679c\u5728 reshape \u64cd\u4f5c\u4e2d\u5c06 size \u6307\u5b9a\u4e3a-1\uff0c\u5219\u4f1a\u81ea\u52a8\u8ba1\u7b97\u5176\u4ed6\u7684 size \u5927\u5c0f\uff1a</p> <pre><code>&gt;&gt;&gt; a.reshape(3,-1)\narray([[ 2.,  8.,  0.,  6.],\n       [ 4.,  5.,  1.,  1.],\n       [ 8.,  9.,  3.,  6.]])\n</code></pre> <p>Tip</p> <p><code>ndarray.shape</code>\uff0c <code>reshape</code>\uff0c <code>resize</code>\uff0c <code>ravel</code></p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_10","title":"\u5c06\u4e0d\u540c\u6570\u7ec4\u5806\u53e0\u5728\u4e00\u8d77","text":"<p>\u51e0\u4e2a\u6570\u7ec4\u53ef\u4ee5\u6cbf\u4e0d\u540c\u7684\u8f74\u5806\u53e0\u5728\u4e00\u8d77\uff0c\u4f8b\u5982\uff1a</p> <pre><code>&gt;&gt;&gt; a = np.floor(10*np.random.random((2,2)))\n&gt;&gt;&gt; a\narray([[ 8.,  8.],\n       [ 0.,  0.]])\n&gt;&gt;&gt; b = np.floor(10*np.random.random((2,2)))\n&gt;&gt;&gt; b\narray([[ 1.,  8.],\n       [ 0.,  4.]])\n&gt;&gt;&gt; np.vstack((a,b))\narray([[ 8.,  8.],\n       [ 0.,  0.],\n       [ 1.,  8.],\n       [ 0.,  4.]])\n&gt;&gt;&gt; np.hstack((a,b))\narray([[ 8.,  8.,  1.,  8.],\n       [ 0.,  0.,  0.,  4.]])\n</code></pre> <p>\u8be5\u51fd\u6570\u5c06<code>column_stack</code> 1D\u6570\u7ec4\u4f5c\u4e3a\u5217\u5806\u53e0\u52302D\u6570\u7ec4\u4e2d\u3002\u5b83\u4ec5\u76f8\u5f53\u4e8e  <code>hstack</code>2D\u6570\u7ec4\uff1a</p> <pre><code>&gt;&gt;&gt; from numpy import newaxis\n&gt;&gt;&gt; np.column_stack((a,b))     # with 2D arrays\narray([[ 8.,  8.,  1.,  8.],\n       [ 0.,  0.,  0.,  4.]])\n&gt;&gt;&gt; a = np.array([4.,2.])\n&gt;&gt;&gt; b = np.array([3.,8.])\n&gt;&gt;&gt; np.column_stack((a,b))     # returns a 2D array\narray([[ 4., 3.],\n       [ 2., 8.]])\n&gt;&gt;&gt; np.hstack((a,b))           # the result is different\narray([ 4., 2., 3., 8.])\n&gt;&gt;&gt; a[:,newaxis]               # this allows to have a 2D columns vector\narray([[ 4.],\n       [ 2.]])\n&gt;&gt;&gt; np.column_stack((a[:,newaxis],b[:,newaxis]))\narray([[ 4.,  3.],\n       [ 2.,  8.]])\n&gt;&gt;&gt; np.hstack((a[:,newaxis],b[:,newaxis]))   # the result is the same\narray([[ 4.,  3.],\n       [ 2.,  8.]])\n</code></pre> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u8be5\u51fd\u6570<code>ma.row_stack</code>\u7b49\u6548<code>vstack</code> \u4e8e\u4efb\u4f55\u8f93\u5165\u6570\u7ec4\u3002\u901a\u5e38\uff0c\u5bf9\u4e8e\u5177\u6709\u4e24\u4e2a\u4ee5\u4e0a\u7ef4\u5ea6\u7684\u6570\u7ec4\uff0c  <code>hstack</code>\u6cbf\u5176\u7b2c\u4e8c\u8f74<code>vstack</code>\u5806\u53e0\uff0c\u6cbf\u5176\u7b2c\u4e00\u8f74\u5806\u53e0\uff0c\u5e76<code>concatenate</code> \u5141\u8bb8\u53ef\u9009\u53c2\u6570\u7ed9\u51fa\u8fde\u63a5\u5e94\u53d1\u751f\u7684\u8f74\u7684\u7f16\u53f7\u3002</p> <p>\u6ce8\u610f</p> <p>\u5728\u590d\u6742\u7684\u60c5\u51b5\u4e0b\uff0c<code>r_</code>\u548cc <code>c_</code>\u4e8e\u901a\u8fc7\u6cbf\u4e00\u4e2a\u8f74\u5806\u53e0\u6570\u5b57\u6765\u521b\u5efa\u6570\u7ec4\u5f88\u6709\u7528\u3002\u5b83\u4eec\u5141\u8bb8\u4f7f\u7528\u8303\u56f4\u64cd\u4f5c\u7b26(\u201c\uff1a\u201d)\u3002</p> <pre><code>&gt;&gt;&gt; np.r_[1:4,0,4]\narray([1, 2, 3, 0, 4])\n</code></pre> \u4e0e\u6570\u7ec4\u4e00\u8d77\u7528\u4f5c\u53c2\u6570\u65f6\uff0c <code>r_</code> \u548c <code>c_</code> \u5728\u9ed8\u8ba4\u884c\u4e3a\u4e0a\u7c7b\u4f3c\u4e8e <code>vstack</code> \u548c <code>hstack</code> \uff0c\u4f46\u5141\u8bb8\u4f7f\u7528\u53ef\u9009\u53c2\u6570\u7ed9\u51fa\u8981\u8fde\u63a5\u7684\u8f74\u7684\u7f16\u53f7\u3002 <p>Tip</p> <p><code>hstack</code>\uff0c <code>vstack</code>\uff0c <code>column_stack</code>\uff0c <code>concatenate</code>\uff0c <code>c_</code>\uff0c <code>r_</code></p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_11","title":"\u5c06\u4e00\u4e2a\u6570\u7ec4\u62c6\u5206\u6210\u51e0\u4e2a\u8f83\u5c0f\u7684\u6570\u7ec4","text":"<p>\u4f7f\u7528<code>hsplit</code>\uff0c\u53ef\u4ee5\u6cbf\u6570\u7ec4\u7684\u6c34\u5e73\u8f74\u62c6\u5206\u6570\u7ec4\uff0c\u65b9\u6cd5\u662f\u6307\u5b9a\u8981\u8fd4\u56de\u7684\u5f62\u72b6\u76f8\u7b49\u7684\u6570\u7ec4\u7684\u6570\u91cf\uff0c\u6216\u8005\u6307\u5b9a\u5e94\u8be5\u5728\u5176\u4e4b\u540e\u8fdb\u884c\u5206\u5272\u7684\u5217\uff1a</p> <pre><code>&gt;&gt;&gt; a = np.floor(10*np.random.random((2,12)))\n&gt;&gt;&gt; a\narray([[ 9.,  5.,  6.,  3.,  6.,  8.,  0.,  7.,  9.,  7.,  2.,  7.],\n       [ 1.,  4.,  9.,  2.,  2.,  1.,  0.,  6.,  2.,  2.,  4.,  0.]])\n&gt;&gt;&gt; np.hsplit(a,3)   # Split a into 3\n[array([[ 9.,  5.,  6.,  3.],\n       [ 1.,  4.,  9.,  2.]]), array([[ 6.,  8.,  0.,  7.],\n       [ 2.,  1.,  0.,  6.]]), array([[ 9.,  7.,  2.,  7.],\n       [ 2.,  2.,  4.,  0.]])]\n&gt;&gt;&gt; np.hsplit(a,(3,4))   # Split a after the third and the fourth column\n[array([[ 9.,  5.,  6.],\n       [ 1.,  4.,  9.]]), array([[ 3.],\n       [ 2.]]), array([[ 6.,  8.,  0.,  7.,  9.,  7.,  2.,  7.],\n       [ 2.,  1.,  0.,  6.,  2.,  2.,  4.,  0.]])]\n</code></pre> <p><code>vsplit</code>\u6cbf\u5782\u76f4\u8f74\u5206\u5272\uff0c\u5e76<code>array_split</code>\u5141\u8bb8\u6307\u5b9a\u8981\u5206\u5272\u7684\u8f74\u3002</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_12","title":"\u62f7\u8d1d\u548c\u89c6\u56fe","text":"<p>\u5f53\u8ba1\u7b97\u548c\u64cd\u4f5c\u6570\u7ec4\u65f6\uff0c\u6709\u65f6\u4f1a\u5c06\u6570\u636e\u590d\u5236\u5230\u65b0\u6570\u7ec4\u4e2d\uff0c\u6709\u65f6\u5219\u4e0d\u4f1a\u3002\u8fd9\u901a\u5e38\u662f\u521d\u5b66\u8005\u6df7\u6dc6\u7684\u6839\u6e90\u3002\u6709\u4e09\u79cd\u60c5\u51b5\uff1a</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_13","title":"\u5b8c\u5168\u4e0d\u590d\u5236","text":"<p>\u7b80\u5355\u5206\u914d\u4e0d\u4f1a\u590d\u5236\u6570\u7ec4\u5bf9\u8c61\u6216\u5176\u6570\u636e\u3002</p> <pre><code>&gt;&gt;&gt; a = np.arange(12)\n&gt;&gt;&gt; b = a            # no new object is created\n&gt;&gt;&gt; b is a           # a and b are two names for the same ndarray object\nTrue\n&gt;&gt;&gt; b.shape = 3,4    # changes the shape of a\n&gt;&gt;&gt; a.shape\n(3, 4)\n</code></pre> <p>Python\u5c06\u53ef\u53d8\u5bf9\u8c61\u4f5c\u4e3a\u5f15\u7528\u4f20\u9012\uff0c\u56e0\u6b64\u51fd\u6570\u8c03\u7528\u4e0d\u4f1a\u590d\u5236\u3002</p> <pre><code>&gt;&gt;&gt; def f(x):\n...     print(id(x))\n...\n&gt;&gt;&gt; id(a)                           # id is a unique identifier of an object\n148293216\n&gt;&gt;&gt; f(a)\n148293216\n</code></pre>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_14","title":"\u89c6\u56fe\u6216\u6d45\u62f7\u8d1d","text":"<p>\u4e0d\u540c\u7684\u6570\u7ec4\u5bf9\u8c61\u53ef\u4ee5\u5171\u4eab\u76f8\u540c\u7684\u6570\u636e\u3002\u8be5<code>view</code>\u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u67e5\u770b\u76f8\u540c\u6570\u636e\u7684\u65b0\u6570\u7ec4\u5bf9\u8c61\u3002</p> <pre><code>&gt;&gt;&gt; c = a.view()\n&gt;&gt;&gt; c is a\nFalse\n&gt;&gt;&gt; c.base is a                        # c is a view of the data owned by a\nTrue\n&gt;&gt;&gt; c.flags.owndata\nFalse\n&gt;&gt;&gt;\n&gt;&gt;&gt; c.shape = 2,6                      # a's shape doesn't change\n&gt;&gt;&gt; a.shape\n(3, 4)\n&gt;&gt;&gt; c[0,4] = 1234                      # a's data changes\n&gt;&gt;&gt; a\narray([[   0,    1,    2,    3],\n       [1234,    5,    6,    7],\n       [   8,    9,   10,   11]])\n</code></pre> <p>\u5207\u7247\u6570\u7ec4\u4f1a\u8fd4\u56de\u4e00\u4e2a\u89c6\u56fe\uff1a</p> <pre><code>&gt;&gt;&gt; s = a[ : , 1:3]     # spaces added for clarity; could also be written \"s = a[:,1:3]\"\n&gt;&gt;&gt; s[:] = 10           # s[:] is a view of s. Note the difference between s=10 and s[:]=10\n&gt;&gt;&gt; a\narray([[   0,   10,   10,    3],\n       [1234,   10,   10,    7],\n       [   8,   10,   10,   11]])\n</code></pre>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_15","title":"\u6df1\u62f7\u8d1d","text":"<p>\u8be5<code>copy</code>\u65b9\u6cd5\u751f\u6210\u6570\u7ec4\u53ca\u5176\u6570\u636e\u7684\u5b8c\u6574\u526f\u672c\u3002</p> <pre><code>&gt;&gt;&gt; d = a.copy()                          # a new array object with new data is created\n&gt;&gt;&gt; d is a\nFalse\n&gt;&gt;&gt; d.base is a                           # d doesn't share anything with a\nFalse\n&gt;&gt;&gt; d[0,0] = 9999\n&gt;&gt;&gt; a\narray([[   0,   10,   10,    3],\n       [1234,   10,   10,    7],\n       [   8,   10,   10,   11]])\n</code></pre> <p>\u6709\u65f6\uff0c\u5982\u679c\u4e0d\u518d\u9700\u8981\u539f\u59cb\u6570\u7ec4\uff0c\u5219\u5e94\u5728\u5207\u7247\u540e\u8c03\u7528 <code>copy</code>\u3002\u4f8b\u5982\uff0c\u5047\u8bbea\u662f\u4e00\u4e2a\u5de8\u5927\u7684\u4e2d\u95f4\u7ed3\u679c\uff0c\u6700\u7ec8\u7ed3\u679cb\u53ea\u5305\u542ba\u7684\u4e00\u5c0f\u90e8\u5206\uff0c\u90a3\u4e48\u5728\u7528\u5207\u7247\u6784\u9020b\u65f6\u5e94\u8be5\u505a\u4e00\u4e2a\u6df1\u62f7\u8d1d\uff1a</p> <pre><code>&gt;&gt;&gt; a = np.arange(int(1e8))\n&gt;&gt;&gt; b = a[:100].copy()\n&gt;&gt;&gt; del a  # the memory of ``a`` can be released.\n</code></pre> <p>\u5982\u679c\u6539\u4e3a\u4f7f\u7528 <code>b = a[:100]</code>\uff0c\u5219 <code>a</code> \u7531 <code>b</code> \u5f15\u7528\uff0c\u5e76\u4e14\u5373\u4f7f\u6267\u884c <code>del a</code> \u4e5f\u4f1a\u5728\u5185\u5b58\u4e2d\u6301\u4e45\u5b58\u5728\u3002</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_16","title":"\u529f\u80fd\u548c\u65b9\u6cd5\u6982\u8ff0","text":"<p>\u4ee5\u4e0b\u662f\u6309\u7c7b\u522b\u6392\u5e8f\u7684\u4e00\u4e9b\u6709\u7528\u7684NumPy\u51fd\u6570\u548c\u65b9\u6cd5\u540d\u79f0\u7684\u5217\u8868\u3002\u6709\u5173\u5b8c\u6574\u5217\u8868\uff0c\u8bf7\u53c2\u9605\u53c2\u8003\u624b\u518c\u91cc\u7684\u5e38\u7528API\u3002</p> <ul> <li>\u6570\u7ec4\u7684\u521b\u5efa\uff08Array Creation\uff09 - arange, array, copy, empty, empty_like, eye, fromfile, fromfunction, identity, linspace, logspace, mgrid, ogrid, ones, ones_like, zeros, zeros_like</li> <li>\u8f6c\u6362\u548c\u53d8\u6362\uff08Conversions\uff09 - ndarray.astype, atleast_1d, atleast_2d, atleast_3d, mat</li> <li>\u64cd\u7eb5\u672f\uff08Manipulations\uff09 - array_split, column_stack, concatenate, diagonal, dsplit, dstack, hsplit, hstack, ndarray.item, newaxis, ravel, repeat, reshape, resize, squeeze, swapaxes, take, transpose, vsplit, vstack</li> <li>\u8be2\u95ee\uff08Questions\uff09 - all, any, nonzero, where, </li> <li>\u987a\u5e8f\uff08Ordering\uff09 - argmax, argmin, argsort, max, min, ptp, searchsorted, sort</li> <li>\u64cd\u4f5c\uff08Operations\uff09 - choose, compress, cumprod, cumsum, inner, ndarray.fill, imag, prod, put, putmask, real, sum</li> <li>\u57fa\u672c\u7edf\u8ba1\uff08Basic Statistics\uff09 - cov, mean, std, var</li> <li>\u57fa\u672c\u7ebf\u6027\u4ee3\u6570\uff08Basic Linear Algebra\uff09 - cross, dot, outer, linalg.svd, vdot</li> </ul>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#less","title":"Less \u57fa\u7840","text":""},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#broadcasting","title":"\u5e7f\u64ad\uff08Broadcasting\uff09\u89c4\u5219","text":"<p>\u5e7f\u64ad\u5141\u8bb8\u901a\u7528\u529f\u80fd\u4ee5\u6709\u610f\u4e49\u7684\u65b9\u5f0f\u5904\u7406\u4e0d\u5177\u6709\u5b8c\u5168\u76f8\u540c\u5f62\u72b6\u7684\u8f93\u5165\u3002</p> <p>\u5e7f\u64ad\u7684\u7b2c\u4e00\u4e2a\u89c4\u5219\u662f\uff0c\u5982\u679c\u6240\u6709\u8f93\u5165\u6570\u7ec4\u4e0d\u5177\u6709\u76f8\u540c\u6570\u91cf\u7684\u7ef4\u5ea6\uff0c\u5219\u5c06\u201c1\u201d\u91cd\u590d\u5730\u9884\u5148\u6dfb\u52a0\u5230\u8f83\u5c0f\u6570\u7ec4\u7684\u5f62\u72b6\uff0c\u76f4\u5230\u6240\u6709\u6570\u7ec4\u5177\u6709\u76f8\u540c\u6570\u91cf\u7684\u7ef4\u5ea6\u3002</p> <p>\u5e7f\u64ad\u7684\u7b2c\u4e8c\u4e2a\u89c4\u5219\u786e\u4fdd\u6cbf\u7279\u5b9a\u7ef4\u5ea6\u7684\u5927\u5c0f\u4e3a1\u7684\u6570\u7ec4\u8868\u73b0\u4e3a\u5177\u6709\u6cbf\u8be5\u7ef4\u5ea6\u5177\u6709\u6700\u5927\u5f62\u72b6\u7684\u6570\u7ec4\u7684\u5927\u5c0f\u3002\u5047\u5b9a\u6570\u7ec4\u5143\u7d20\u7684\u503c\u6cbf\u7740\u201c\u5e7f\u64ad\u201d\u6570\u7ec4\u7684\u90a3\u4e2a\u7ef4\u5ea6\u662f\u76f8\u540c\u7684\u3002</p> <p>\u5e94\u7528\u5e7f\u64ad\u89c4\u5219\u540e\uff0c\u6240\u6709\u6570\u7ec4\u7684\u5927\u5c0f\u5fc5\u987b\u5339\u914d\u3002\u66f4\u591a\u7ec6\u8282\u53ef\u4ee5\u5728\u5e7f\u64ad\u4e2d\u627e\u5230\u3002</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_17","title":"\u82b1\u5f0f\u7d22\u5f15\u548c\u7d22\u5f15\u6280\u5de7","text":"<p>NumPy\u63d0\u4f9b\u6bd4\u5e38\u89c4Python\u5e8f\u5217\u66f4\u591a\u7684\u7d22\u5f15\u529f\u80fd\u3002\u9664\u4e86\u901a\u8fc7\u6574\u6570\u548c\u5207\u7247\u8fdb\u884c\u7d22\u5f15\u4e4b\u5916\uff0c\u6b63\u5982\u6211\u4eec\u4e4b\u524d\u770b\u5230\u7684\uff0c\u6570\u7ec4\u53ef\u4ee5\u7531\u6574\u6570\u6570\u7ec4\u548c\u5e03\u5c14\u6570\u7ec4\u7d22\u5f15\u3002</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_18","title":"\u4f7f\u7528\u7d22\u5f15\u6570\u7ec4\u8fdb\u884c\u7d22\u5f15","text":"<pre><code>&gt;&gt;&gt; a = np.arange(12)**2                       # the first 12 square numbers\n&gt;&gt;&gt; i = np.array( [ 1,1,3,8,5 ] )              # an array of indices\n&gt;&gt;&gt; a[i]                                       # the elements of a at the positions i\narray([ 1,  1,  9, 64, 25])\n&gt;&gt;&gt;\n&gt;&gt;&gt; j = np.array( [ [ 3, 4], [ 9, 7 ] ] )      # a bidimensional array of indices\n&gt;&gt;&gt; a[j]                                       # the same shape as j\narray([[ 9, 16],\n       [81, 49]])\n</code></pre> <p>\u5f53\u7d22\u5f15\u6570\u7ec4<code>a</code>\u662f\u591a\u7ef4\u7684\u65f6\uff0c\u5355\u4e2a\u7d22\u5f15\u6570\u7ec4\u6307\u7684\u662f\u7b2c\u4e00\u4e2a\u7ef4\u5ea6<code>a</code>\u3002\u4ee5\u4e0b\u793a\u4f8b\u901a\u8fc7\u4f7f\u7528\u8c03\u8272\u677f\u5c06\u6807\u7b7e\u56fe\u50cf\u8f6c\u6362\u4e3a\u5f69\u8272\u56fe\u50cf\u6765\u663e\u793a\u6b64\u884c\u4e3a\u3002</p> <pre><code>&gt;&gt;&gt; palette = np.array( [ [0,0,0],                # black\n...                       [255,0,0],              # red\n...                       [0,255,0],              # green\n...                       [0,0,255],              # blue\n...                       [255,255,255] ] )       # white\n&gt;&gt;&gt; image = np.array( [ [ 0, 1, 2, 0 ],           # each value corresponds to a color in the palette\n...                     [ 0, 3, 4, 0 ]  ] )\n&gt;&gt;&gt; palette[image]                            # the (2,4,3) color image\narray([[[  0,   0,   0],\n        [255,   0,   0],\n        [  0, 255,   0],\n        [  0,   0,   0]],\n       [[  0,   0,   0],\n        [  0,   0, 255],\n        [255, 255, 255],\n        [  0,   0,   0]]])\n</code></pre> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u4e3a\u591a\u4e2a\u7ef4\u5ea6\u63d0\u4f9b\u7d22\u5f15\u3002\u6bcf\u4e2a\u7ef4\u5ea6\u7684\u7d22\u5f15\u6570\u7ec4\u5fc5\u987b\u5177\u6709\u76f8\u540c\u7684\u5f62\u72b6\u3002</p> <pre><code>&gt;&gt;&gt; a = np.arange(12).reshape(3,4)\n&gt;&gt;&gt; a\narray([[ 0,  1,  2,  3],\n       [ 4,  5,  6,  7],\n       [ 8,  9, 10, 11]])\n&gt;&gt;&gt; i = np.array( [ [0,1],                        # indices for the first dim of a\n...                 [1,2] ] )\n&gt;&gt;&gt; j = np.array( [ [2,1],                        # indices for the second dim\n...                 [3,3] ] )\n&gt;&gt;&gt;\n&gt;&gt;&gt; a[i,j]                                     # i and j must have equal shape\narray([[ 2,  5],\n       [ 7, 11]])\n&gt;&gt;&gt;\n&gt;&gt;&gt; a[i,2]\narray([[ 2,  6],\n       [ 6, 10]])\n&gt;&gt;&gt;\n&gt;&gt;&gt; a[:,j]                                     # i.e., a[ : , j]\narray([[[ 2,  1],\n        [ 3,  3]],\n       [[ 6,  5],\n        [ 7,  7]],\n       [[10,  9],\n        [11, 11]]])\n</code></pre> <p>\u5f53\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u6309\u987a\u5e8f\uff08\u6bd4\u5982\u5217\u8868\uff09\u653e\u5165<code>i</code>\uff0c<code>j</code>\u7136\u540e\u4f7f\u7528\u5217\u8868\u8fdb\u884c\u7d22\u5f15\u3002</p> <pre><code>&gt;&gt;&gt; l = [i,j]\n&gt;&gt;&gt; a[l]                                       # equivalent to a[i,j]\narray([[ 2,  5],\n       [ 7, 11]])\n</code></pre> <p>\u4f46\u662f\uff0c\u6211\u4eec\u4e0d\u80fd\u901a\u8fc7\u653e\u5165<code>i</code>\u548c<code>j</code>\u653e\u5165\u6570\u7ec4\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u6570\u7ec4\u5c06\u88ab\u89e3\u91ca\u4e3a\u7d22\u5f15a\u7684\u7b2c\u4e00\u4e2a\u7ef4\u5ea6\u3002</p> <pre><code>&gt;&gt;&gt; s = np.array( [i,j] )\n&gt;&gt;&gt; a[s]                                       # not what we want\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in ?\nIndexError: index (3) out of range (0&lt;=index&lt;=2) in dimension 0\n&gt;&gt;&gt;\n&gt;&gt;&gt; a[tuple(s)]                                # same as a[i,j]\narray([[ 2,  5],\n       [ 7, 11]])\n</code></pre> <p>\u4f7f\u7528\u6570\u7ec4\u7d22\u5f15\u7684\u53e6\u4e00\u4e2a\u5e38\u89c1\u7528\u6cd5\u662f\u641c\u7d22\u4e0e\u65f6\u95f4\u76f8\u5173\u7684\u7cfb\u5217\u7684\u6700\u5927\u503c\uff1a</p> <pre><code>&gt;&gt;&gt; time = np.linspace(20, 145, 5)                 # time scale\n&gt;&gt;&gt; data = np.sin(np.arange(20)).reshape(5,4)      # 4 time-dependent series\n&gt;&gt;&gt; time\narray([  20.  ,   51.25,   82.5 ,  113.75,  145.  ])\n&gt;&gt;&gt; data\narray([[ 0.        ,  0.84147098,  0.90929743,  0.14112001],\n       [-0.7568025 , -0.95892427, -0.2794155 ,  0.6569866 ],\n       [ 0.98935825,  0.41211849, -0.54402111, -0.99999021],\n       [-0.53657292,  0.42016704,  0.99060736,  0.65028784],\n       [-0.28790332, -0.96139749, -0.75098725,  0.14987721]])\n&gt;&gt;&gt;\n&gt;&gt;&gt; ind = data.argmax(axis=0)                  # index of the maxima for each series\n&gt;&gt;&gt; ind\narray([2, 0, 3, 1])\n&gt;&gt;&gt;\n&gt;&gt;&gt; time_max = time[ind]                       # times corresponding to the maxima\n&gt;&gt;&gt;\n&gt;&gt;&gt; data_max = data[ind, range(data.shape[1])] # =&gt; data[ind[0],0], data[ind[1],1]...\n&gt;&gt;&gt;\n&gt;&gt;&gt; time_max\narray([  82.5 ,   20.  ,  113.75,   51.25])\n&gt;&gt;&gt; data_max\narray([ 0.98935825,  0.84147098,  0.99060736,  0.6569866 ])\n&gt;&gt;&gt;\n&gt;&gt;&gt; np.all(data_max == data.max(axis=0))\nTrue\n</code></pre> <p>\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u7d22\u5f15\u4f5c\u4e3a\u5206\u914d\u7ed9\u7684\u76ee\u6807\uff1a</p> <pre><code>&gt;&gt;&gt; a = np.arange(5)\n&gt;&gt;&gt; a\narray([0, 1, 2, 3, 4])\n&gt;&gt;&gt; a[[1,3,4]] = 0\n&gt;&gt;&gt; a\narray([0, 0, 2, 0, 0])\n</code></pre> <p>\u4f46\u662f\uff0c\u5f53\u7d22\u5f15\u5217\u8868\u5305\u542b\u91cd\u590d\u65f6\uff0c\u5206\u914d\u4f1a\u591a\u6b21\u5b8c\u6210\uff0c\u7559\u4e0b\u6700\u540e\u4e00\u4e2a\u503c\uff1a</p> <pre><code>&gt;&gt;&gt; a = np.arange(5)\n&gt;&gt;&gt; a[[0,0,2]]=[1,2,3]\n&gt;&gt;&gt; a\narray([2, 1, 3, 3, 4])\n</code></pre> <p>\u8fd9\u662f\u5408\u7406\u7684\uff0c\u4f46\u8bf7\u6ce8\u610f\u662f\u5426\u8981\u4f7f\u7528Python\u7684  <code>+=</code>\u6784\u9020\uff0c\u56e0\u4e3a\u5b83\u53ef\u80fd\u4e0d\u4f1a\u6309\u9884\u671f\u6267\u884c\uff1a</p> <pre><code>&gt;&gt;&gt; a = np.arange(5)\n&gt;&gt;&gt; a[[0,0,2]]+=1\n&gt;&gt;&gt; a\narray([1, 1, 3, 3, 4])\n</code></pre> <p>\u5373\u4f7f0\u5728\u7d22\u5f15\u5217\u8868\u4e2d\u51fa\u73b0\u4e24\u6b21\uff0c\u7b2c0\u4e2a\u5143\u7d20\u4e5f\u53ea\u589e\u52a0\u4e00\u6b21\u3002\u8fd9\u662f\u56e0\u4e3aPython\u8981\u6c42\u201ca + = 1\u201d\u7b49\u540c\u4e8e\u201ca = a + 1\u201d\u3002</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_19","title":"\u4f7f\u7528\u5e03\u5c14\u6570\u7ec4\u8fdb\u884c\u7d22\u5f15","text":"<p>\u5f53\u6211\u4eec\u4f7f\u7528\uff08\u6574\u6570\uff09\u7d22\u5f15\u6570\u7ec4\u7d22\u5f15\u6570\u7ec4\u65f6\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86\u8981\u9009\u62e9\u7684\u7d22\u5f15\u5217\u8868\u3002\u4f7f\u7528\u5e03\u5c14\u7d22\u5f15\uff0c\u65b9\u6cd5\u662f\u4e0d\u540c\u7684; \u6211\u4eec\u660e\u786e\u5730\u9009\u62e9\u6211\u4eec\u60f3\u8981\u7684\u6570\u7ec4\u4e2d\u7684\u54ea\u4e9b\u9879\u76ee\u4ee5\u53ca\u6211\u4eec\u4e0d\u9700\u8981\u7684\u9879\u76ee\u3002</p> <p>\u4eba\u4eec\u53ef\u4ee5\u60f3\u5230\u7684\u6700\u81ea\u7136\u7684\u5e03\u5c14\u7d22\u5f15\u65b9\u6cd5\u662f\u4f7f\u7528\u4e0e\u539f\u59cb\u6570\u7ec4\u5177\u6709 \u76f8\u540c\u5f62\u72b6\u7684 \u5e03\u5c14\u6570\u7ec4\uff1a</p> <pre><code>&gt;&gt;&gt; a = np.arange(12).reshape(3,4)\n&gt;&gt;&gt; b = a &gt; 4\n&gt;&gt;&gt; b                                          # b is a boolean with a's shape\narray([[False, False, False, False],\n       [False,  True,  True,  True],\n       [ True,  True,  True,  True]])\n&gt;&gt;&gt; a[b]                                       # 1d array with the selected elements\narray([ 5,  6,  7,  8,  9, 10, 11])\n</code></pre> <p>\u6b64\u5c5e\u6027\u5728\u5206\u914d\u4e2d\u975e\u5e38\u6709\u7528\uff1a</p> <pre><code>&gt;&gt;&gt; a[b] = 0                                   # All elements of 'a' higher than 4 become 0\n&gt;&gt;&gt; a\narray([[0, 1, 2, 3],\n       [4, 0, 0, 0],\n       [0, 0, 0, 0]])\n</code></pre> <p>\u60a8\u53ef\u4ee5\u67e5\u770b\u4ee5\u4e0b\u793a\u4f8b\uff0c\u4e86\u89e3\u5982\u4f55\u4f7f\u7528\u5e03\u5c14\u7d22\u5f15\u751f\u6210Mandelbrot\u96c6\u7684\u56fe\u50cf\uff1a</p> <pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; import matplotlib.pyplot as plt\n&gt;&gt;&gt; def mandelbrot( h,w, maxit=20 ):\n...     \"\"\"Returns an image of the Mandelbrot fractal of size (h,w).\"\"\"\n...     y,x = np.ogrid[ -1.4:1.4:h*1j, -2:0.8:w*1j ]\n...     c = x+y*1j\n...     z = c\n...     divtime = maxit + np.zeros(z.shape, dtype=int)\n...\n...     for i in range(maxit):\n...         z = z**2 + c\n...         diverge = z*np.conj(z) &gt; 2**2            # who is diverging\n...         div_now = diverge &amp; (divtime==maxit)  # who is diverging now\n...         divtime[div_now] = i                  # note when\n...         z[diverge] = 2                        # avoid diverging too much\n...\n...     return divtime\n&gt;&gt;&gt; plt.imshow(mandelbrot(400,400))\n&gt;&gt;&gt; plt.show()\n</code></pre> <p></p> <p>\u4f7f\u7528\u5e03\u5c14\u503c\u8fdb\u884c\u7d22\u5f15\u7684\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u66f4\u7c7b\u4f3c\u4e8e\u6574\u6570\u7d22\u5f15; \u5bf9\u4e8e\u6570\u7ec4\u7684\u6bcf\u4e2a\u7ef4\u5ea6\uff0c\u6211\u4eec\u7ed9\u51fa\u4e00\u4e2a1D\u5e03\u5c14\u6570\u7ec4\uff0c\u9009\u62e9\u6211\u4eec\u60f3\u8981\u7684\u5207\u7247\uff1a</p> <pre><code>&gt;&gt;&gt; a = np.arange(12).reshape(3,4)\n&gt;&gt;&gt; b1 = np.array([False,True,True])             # first dim selection\n&gt;&gt;&gt; b2 = np.array([True,False,True,False])       # second dim selection\n&gt;&gt;&gt;\n&gt;&gt;&gt; a[b1,:]                                   # selecting rows\narray([[ 4,  5,  6,  7],\n       [ 8,  9, 10, 11]])\n&gt;&gt;&gt;\n&gt;&gt;&gt; a[b1]                                     # same thing\narray([[ 4,  5,  6,  7],\n       [ 8,  9, 10, 11]])\n&gt;&gt;&gt;\n&gt;&gt;&gt; a[:,b2]                                   # selecting columns\narray([[ 0,  2],\n       [ 4,  6],\n       [ 8, 10]])\n&gt;&gt;&gt;\n&gt;&gt;&gt; a[b1,b2]                                  # a weird thing to do\narray([ 4, 10])\n</code></pre> <p>\u8bf7\u6ce8\u610f\uff0c1D\u5e03\u5c14\u6570\u7ec4\u7684\u957f\u5ea6\u5fc5\u987b\u4e0e\u8981\u5207\u7247\u7684\u5c3a\u5bf8\uff08\u6216\u8f74\uff09\u7684\u957f\u5ea6\u4e00\u81f4\u3002\u5728\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c<code>b1</code>\u5177\u6709\u957f\u5ea6\u4e3a3\uff08\u7684\u6570\u76ee \u7684\u884c \u4e2d<code>a</code>\uff09\uff0c\u548c  <code>b2</code>\uff08\u957f\u5ea64\uff09\u9002\u5408\u4e8e\u7d22\u5f15\u7684\u7b2c\u4e8c\u8f74\u7ebf\uff08\u5217\uff09  <code>a</code>\u3002</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#ix_","title":"ix_()\u51fd\u6570","text":"<p><code>ix_</code>\u51fd\u6570\u53ef\u7528\u4e8e\u7ec4\u5408\u4e0d\u540c\u7684\u5411\u91cf\uff0c\u4ee5\u4fbf\u83b7\u5f97\u6bcf\u4e2an-uplet\u7684\u7ed3\u679c\u3002\u4f8b\u5982\uff0c\u5982\u679c\u8981\u8ba1\u7b97\u4ece\u6bcf\u4e2a\u5411\u91cfa\uff0cb\u548cc\u4e2d\u53d6\u5f97\u7684\u6240\u6709\u4e09\u5143\u7ec4\u7684\u6240\u6709a + b * c\uff1a</p> <pre><code>&gt;&gt;&gt; a = np.array([2,3,4,5])\n&gt;&gt;&gt; b = np.array([8,5,4])\n&gt;&gt;&gt; c = np.array([5,4,6,8,3])\n&gt;&gt;&gt; ax,bx,cx = np.ix_(a,b,c)\n&gt;&gt;&gt; ax\narray([[[2]],\n       [[3]],\n       [[4]],\n       [[5]]])\n&gt;&gt;&gt; bx\narray([[[8],\n        [5],\n        [4]]])\n&gt;&gt;&gt; cx\narray([[[5, 4, 6, 8, 3]]])\n&gt;&gt;&gt; ax.shape, bx.shape, cx.shape\n((4, 1, 1), (1, 3, 1), (1, 1, 5))\n&gt;&gt;&gt; result = ax+bx*cx\n&gt;&gt;&gt; result\narray([[[42, 34, 50, 66, 26],\n        [27, 22, 32, 42, 17],\n        [22, 18, 26, 34, 14]],\n       [[43, 35, 51, 67, 27],\n        [28, 23, 33, 43, 18],\n        [23, 19, 27, 35, 15]],\n       [[44, 36, 52, 68, 28],\n        [29, 24, 34, 44, 19],\n        [24, 20, 28, 36, 16]],\n       [[45, 37, 53, 69, 29],\n        [30, 25, 35, 45, 20],\n        [25, 21, 29, 37, 17]]])\n&gt;&gt;&gt; result[3,2,4]\n17\n&gt;&gt;&gt; a[3]+b[2]*c[4]\n17\n</code></pre> <p>\u60a8\u8fd8\u53ef\u4ee5\u6309\u5982\u4e0b\u65b9\u5f0f\u5b9e\u73b0reduce\uff1a</p> <pre><code>&gt;&gt;&gt; def ufunc_reduce(ufct, *vectors):\n...    vs = np.ix_(*vectors)\n...    r = ufct.identity\n...    for v in vs:\n...        r = ufct(r,v)\n...    return r\n</code></pre> <p>\u7136\u540e\u5c06\u5176\u7528\u4f5c\uff1a</p> <pre><code>&gt;&gt;&gt; ufunc_reduce(np.add,a,b,c)\narray([[[15, 14, 16, 18, 13],\n        [12, 11, 13, 15, 10],\n        [11, 10, 12, 14,  9]],\n       [[16, 15, 17, 19, 14],\n        [13, 12, 14, 16, 11],\n        [12, 11, 13, 15, 10]],\n       [[17, 16, 18, 20, 15],\n        [14, 13, 15, 17, 12],\n        [13, 12, 14, 16, 11]],\n       [[18, 17, 19, 21, 16],\n        [15, 14, 16, 18, 13],\n        [14, 13, 15, 17, 12]]])\n</code></pre> <p>\u4e0e\u666e\u901a\u7684ufunc.reduce\u76f8\u6bd4\uff0c\u8fd9\u4e2a\u7248\u672c\u7684reduce\u7684\u4f18\u70b9\u662f\u5b83\u5229\u7528\u4e86\u5e7f\u64ad\u89c4\u5219 \uff0c\u4ee5\u907f\u514d\u521b\u5efa\u4e00\u4e2a\u53c2\u6570\u6570\u7ec4\uff0c\u8f93\u51fa\u7684\u5927\u5c0f\u4e58\u4ee5\u5411\u91cf\u7684\u6570\u91cf\u3002</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_20","title":"\u4f7f\u7528\u5b57\u7b26\u4e32\u5efa\u7acb\u7d22\u5f15","text":"<p>\u8bf7\u53c2\u89c1\u7ed3\u6784\u5316\u6570\u7ec4\u3002</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_21","title":"\u7ebf\u6027\u4ee3\u6570","text":"<p>\u5de5\u4f5c\u6b63\u5728\u8fdb\u884c\u4e2d\u3002\u8fd9\u91cc\u5305\u62ec\u57fa\u672c\u7ebf\u6027\u4ee3\u6570\u3002</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_22","title":"\u7b80\u5355\u6570\u7ec4\u64cd\u4f5c","text":"<p>\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605numpy\u6587\u4ef6\u5939\u4e2d\u7684linalg.py.</p> <pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; a = np.array([[1.0, 2.0], [3.0, 4.0]])\n&gt;&gt;&gt; print(a)\n[[ 1.  2.]\n [ 3.  4.]]\n\n&gt;&gt;&gt; a.transpose()\narray([[ 1.,  3.],\n       [ 2.,  4.]])\n\n&gt;&gt;&gt; np.linalg.inv(a)\narray([[-2. ,  1. ],\n       [ 1.5, -0.5]])\n\n&gt;&gt;&gt; u = np.eye(2) # unit 2x2 matrix; \"eye\" represents \"I\"\n&gt;&gt;&gt; u\narray([[ 1.,  0.],\n       [ 0.,  1.]])\n&gt;&gt;&gt; j = np.array([[0.0, -1.0], [1.0, 0.0]])\n\n&gt;&gt;&gt; j @ j        # matrix product\narray([[-1.,  0.],\n       [ 0., -1.]])\n\n&gt;&gt;&gt; np.trace(u)  # trace\n2.0\n\n&gt;&gt;&gt; y = np.array([[5.], [7.]])\n&gt;&gt;&gt; np.linalg.solve(a, y)\narray([[-3.],\n       [ 4.]])\n\n&gt;&gt;&gt; np.linalg.eig(j)\n(array([ 0.+1.j,  0.-1.j]), array([[ 0.70710678+0.j        ,  0.70710678-0.j        ],\n       [ 0.00000000-0.70710678j,  0.00000000+0.70710678j]]))\n</code></pre> <pre><code>Parameters:\n    square matrix\nReturns\n    The eigenvalues, each repeated according to its multiplicity.\n    The normalized (unit \"length\") eigenvectors, such that the\n    column ``v[:,i]`` is the eigenvector corresponding to the\n    eigenvalue ``w[i]`` .\n</code></pre>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_23","title":"\u6280\u5de7\u548c\u63d0\u793a","text":"<p>\u8fd9\u91cc\u6211\u4eec\u5217\u51fa\u4e00\u4e9b\u7b80\u77ed\u6709\u7528\u7684\u63d0\u793a\u3002</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_24","title":"\u201c\u81ea\u52a8\u201d\u6574\u5f62","text":"<p>\u8981\u66f4\u6539\u6570\u7ec4\u7684\u5c3a\u5bf8\uff0c\u60a8\u53ef\u4ee5\u7701\u7565\u5176\u4e2d\u4e00\u4e2a\u5c3a\u5bf8\uff0c\u7136\u540e\u81ea\u52a8\u63a8\u5bfc\u51fa\u5c3a\u5bf8\uff1a</p> <pre><code>&gt;&gt;&gt; a = np.arange(30)\n&gt;&gt;&gt; a.shape = 2,-1,3  # -1 means \"whatever is needed\"\n&gt;&gt;&gt; a.shape\n(2, 5, 3)\n&gt;&gt;&gt; a\narray([[[ 0,  1,  2],\n        [ 3,  4,  5],\n        [ 6,  7,  8],\n        [ 9, 10, 11],\n        [12, 13, 14]],\n       [[15, 16, 17],\n        [18, 19, 20],\n        [21, 22, 23],\n        [24, 25, 26],\n        [27, 28, 29]]])\n</code></pre>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_25","title":"\u77e2\u91cf\u5806\u53e0","text":"<p>\u6211\u4eec\u5982\u4f55\u4ece\u540c\u7b49\u5927\u5c0f\u7684\u884c\u5411\u91cf\u5217\u8868\u4e2d\u6784\u9020\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\uff1f\u5728MATLAB\u8fd9\u662f\u5f88\u7b80\u5355\uff1a\u5982\u679c<code>x</code>\u548c<code>y</code>\u4f60\u53ea\u9700\u8981\u505a\u4e24\u4e2a\u76f8\u540c\u957f\u5ea6\u7684\u5411\u91cf<code>m=[x;y]</code>\u3002\u5728\u6b64NumPy\u7684\u901a\u8fc7\u529f\u80fd\u7684\u5de5\u4f5c\u539f\u7406<code>column_stack</code>\uff0c<code>dstack</code>\uff0c<code>hstack</code>\u548c<code>vstack</code>\uff0c\u89c6\u7ef4\u5728\u5806\u53e0\u662f\u5fc5\u987b\u8981\u505a\u7684\u3002\u4f8b\u5982\uff1a</p> <pre><code>x = np.arange(0,10,2)                     # x=([0,2,4,6,8])\ny = np.arange(5)                          # y=([0,1,2,3,4])\nm = np.vstack([x,y])                      # m=([[0,2,4,6,8],\n                                          #     [0,1,2,3,4]])\nxy = np.hstack([x,y])                     # xy =([0,2,4,6,8,0,1,2,3,4])\n</code></pre> \u8fd9\u4e9b\u51fd\u6570\u80cc\u540e\u7684\u903b\u8f91\u5728\u4e24\u4e2a\u4ee5\u4e0a\u7684\u7ef4\u5ea6\u4e0a\u53ef\u80fd\u5f88\u5947\u602a\u3002 <p>Tip</p> <p>\u4e0e Matlab \u6bd4\u8f83</p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_26","title":"\u76f4\u65b9\u56fe","text":"<p><code>histogram</code>\u5e94\u7528\u4e8e\u6570\u7ec4\u7684NumPy \u51fd\u6570\u8fd4\u56de\u4e00\u5bf9\u5411\u91cf\uff1a\u6570\u7ec4\u7684\u76f4\u65b9\u56fe\u548cbin\u7684\u5411\u91cf\u3002\u6ce8\u610f\uff1a  <code>matplotlib</code>\u8fd8\u6709\u4e00\u4e2a\u6784\u5efa\u76f4\u65b9\u56fe\u7684\u529f\u80fd\uff08<code>hist</code>\u5728Matlab\u4e2d\u79f0\u4e3a\uff09\uff0c\u4e0eNumPy\u4e2d\u7684\u76f4\u65b9\u56fe\u4e0d\u540c\u3002\u4e3b\u8981\u533a\u522b\u5728\u4e8e<code>pylab.hist</code>\u81ea\u52a8\u7ed8\u5236\u76f4\u65b9\u56fe\uff0c\u800c  <code>numpy.histogram</code>\u53ea\u751f\u6210\u6570\u636e\u3002</p> <pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; import matplotlib.pyplot as plt\n&gt;&gt;&gt; # Build a vector of 10000 normal deviates with variance 0.5^2 and mean 2\n&gt;&gt;&gt; mu, sigma = 2, 0.5\n&gt;&gt;&gt; v = np.random.normal(mu,sigma,10000)\n&gt;&gt;&gt; # Plot a normalized histogram with 50 bins\n&gt;&gt;&gt; plt.hist(v, bins=50, density=1)       # matplotlib version (plot)\n&gt;&gt;&gt; plt.show()\n</code></pre> <p></p> <pre><code>&gt;&gt;&gt; # Compute the histogram with numpy and then plot it\n&gt;&gt;&gt; (n, bins) = np.histogram(v, bins=50, density=True)  # NumPy version (no plot)\n&gt;&gt;&gt; plt.plot(.5*(bins[1:]+bins[:-1]), n)\n&gt;&gt;&gt; plt.show()\n</code></pre> <p></p>"},{"location":"03_AI/python%E5%BA%93/numpy/numpy%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#_27","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u5feb\u901f\u5165\u95e8\u6559\u7a0b</li> <li>Python\u7684\u6559\u7a0b</li> <li>SciPy\u6559\u7a0b</li> <li>SciPy\u8bb2\u4e49</li> <li>MATLAB\uff0cR\uff0cIDL\uff0cNumPy/SciPy \u5b9d\u5178</li> </ul>"},{"location":"03_AI/python%E5%BA%93/pandas/index.html","title":"Pandas\u7528\u6cd5","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Docker%E5%A4%9A%E6%9C%BA%E5%A4%9A%E5%8D%A1%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html","title":"Docker\u591a\u673a\u591a\u5361\u5206\u5e03\u5f0f\u8bad\u7ec3\u73af\u5883\u642d\u5efa","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Docker%E5%A4%9A%E6%9C%BA%E5%A4%9A%E5%8D%A1%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#_1","title":"\u80cc\u666f","text":"<p>\u4f17\u6240\u5468\u77e5\uff0c\u5927\u6a21\u578b\u7684\u8bad\u7ec3\u9700\u8981\u5927\u91cf\u7684\u663e\u5b58\u8d44\u6e90\uff0c\u5355\u5361\u5f88\u5bb9\u6613\u5c31\u7206\u4e86\uff0c\u4e8e\u662f\u5c31\u6709\u4e86\u5355\u673a\u591a\u5361\u3001\u591a\u673a\u591a\u5361\u7684\u8bad\u7ec3\u65b9\u6848\u3002</p> <p>\u5728\u8bad\u7ec3\u5927\u6a21\u578b\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u4e0d\u540c\u7684\u9879\u76ee\u8fdb\u884c\u8bad\u7ec3\u7684\u65f6\u5019\uff0c\u4e0d\u540c\u9879\u76ee\uff08\u4f8b\u5982 XuanYuan\uff0cLlama-Chinese\uff0cLLaMA-Factory\uff09\u6240\u4f9d\u8d56\u7684Python\u5e93\u548c\u4e00\u4e9b\u7cfb\u7edf\u5de5\u5177\u7684\u7248\u672c\u4e0d\u4e00\u81f4\uff0c\u4f7f\u7528Conda\u73af\u5883\u53ef\u4ee5\u5bf9Python\u76f8\u5173\u7684\u4f9d\u8d56\u505a\u5230\u5f88\u597d\u7684\u9694\u79bb\uff0c\u4f46\u662f\u5bf9\u4e8e\u4e00\u4e9b\u7cfb\u7edf\u5de5\u5177\u5982<code>NCCL</code>\u7684\u7248\u672c\u4e0d\u80fd\u505a\u5230\u9694\u79bb\uff0c\u53ef\u80fd\u5bfc\u81f4\u8bad\u7ec3\u7684\u65f6\u5019\u51fa\u95ee\u9898\u3002\u800c\u4e14\u4f7f\u7528Docker\u53ea\u9700\u8981\u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u6784\u5efa\u597dDocker\u955c\u50cf\u5373\u53ef\uff0c\u4e0d\u9700\u8981\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u90fd\u91cd\u65b0\u642d\u5efa\u4e00\u6b21\u73af\u5883\uff0c\u53ef\u4ee5\u5927\u5927\u8282\u7ea6\u73af\u5883\u642d\u5efa\u7684\u65f6\u95f4\u3002\u5e76\u4e14 Nvidia \u5b98\u65b9\u7684Docker\u955c\u50cf\u4e2d\u63d0\u4f9b\u4e86PyTorch\u955c\u50cf\uff0c\u5176\u5bf9 GPU \u52a0\u901f\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u5e76\u5305\u542b\u4e00\u7ec4\u7ecf\u8fc7\u9a8c\u8bc1\u7684\u5e93\uff0c\u53ef\u542f\u7528\u548c\u4f18\u5316 GPU \u6027\u80fd\u3002\u8be5\u5bb9\u5668\u8fd8\u5305\u542b\u7528\u4e8e\u52a0\u901f ETL\uff08DALI\u3001RAPIDS\uff09\u3001\u8bad\u7ec3\uff08cuDNN\u3001NCCL\uff09\u548c\u63a8\u7406\uff08TensorRT\uff09\u5de5\u4f5c\u8d1f\u8f7d\u7684\u8f6f\u4ef6\u3002</p> <p>\u4f46\u662fdeepspeed\u591a\u673a\u8bad\u7ec3\u662f\u901a\u8fc7ssh\u6765\u901a\u8baf\u7684\uff0c\u4e0d\u540c\u670d\u52a1\u5668\u7684docker\u5bb9\u5668\u901a\u8baf\u662f\u4e2a\u9ebb\u70e6\u4e8b\u3002\u8fd8\u597d\uff0cdocker\u53ef\u4ee5\u521b\u5efaoverlay\u7f51\u7edc\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Docker%E5%A4%9A%E6%9C%BA%E5%A4%9A%E5%8D%A1%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#overlay","title":"\u521b\u5efaoverlay\u5171\u4eab\u7f51\u7edc","text":"<p>\u5047\u8bbe\u6211\u4eec\u6709\u4e24\u53f0\u4e3b\u673a\uff0c\u5747\u5df2\u7ecf\u5728\u5bbf\u4e3b\u673a\u4e0a\u5b89\u88c5\u5b8c Docker\u3001NVIDIA \u663e\u5361\u9a71\u52a8\uff0cNVIDIA Container Toolkit\u3002</p> <ul> <li>server A: 1.1.1.1</li> <li>server B: 2.2.2.2</li> </ul> <p>NVIDIA Container Toolkit \u548c Docker Engine\uff0cCUDA Driver\u7684\u5173\u7cfb\u5982\u4e0b\u56fe</p> <p></p> <p>\u5bbf\u4e3b\u673a\u7684 IP \u4e0d\u592a\u91cd\u8981\uff0cDocker \u591a\u673a\u591a\u5361\u5206\u5e03\u5f0f\u8bad\u7ec3\u7684\u65f6\u5019\u4f7f\u7528\u7684\u662f Docker \u5bb9\u5668 IP\uff0c\u8ba9\u5b83\u4eec\u80fd\u8de8\u670d\u52a1\u5668\u95f4\u901a\u8baf\u3002</p> <p>docker\u5b98\u65b9\u7684 network-tutorial-overlay  \u6709\u8be6\u7ec6\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u4e0b\u9762\u662f\u590d\u73b0\u6b65\u9aa4\uff0c\u6ce8\u610f\u547d\u4ee4\u662f\u5206\u522b\u5728\u4e0d\u540c\u7684\u8282\u70b9\u4e0a\u6267\u884c\u7684\uff1a</p> <ul> <li>On <code>host1</code>, initialize the node as a swarm (manager).</li> <li>On <code>host2</code>, join the node to the swarm (worker).</li> <li>On <code>host1</code>, create an attachable overlay network (test-net).</li> <li>On <code>host1</code>, run an interactive alpine container (alpine1) on test-net.</li> <li>On <code>host2</code>, run an interactive, and detached, alpine container (alpine2) on test-net.</li> <li>On <code>host1</code>, from within a session of alpine1, ping alpine2.</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Docker%E5%A4%9A%E6%9C%BA%E5%A4%9A%E5%8D%A1%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#1","title":"1. \u521d\u59cb\u5316\u96c6\u7fa4","text":"<p>\u6211\u4eec\u9009\u62e9 server A \u4f5c\u4e3a <code>manager</code> \u8282\u70b9\uff0c\u5728\u6b64\u670d\u52a1\u5668\u4e0a\u6267\u884c\u521d\u59cb\u5316\u547d\u4ee4\uff1a</p> <pre><code>docker swarm init\n</code></pre> <p>\u6267\u884c\u62a5\u9519<code>Error response from daemon: could not choose an IP address to advertise since this system has multiple addresses on different interfaces (1.1.1.1 on bond0 and 192.168.122.1 on virbr0) - specify one with --advertise-addr</code>\u3002</p> <p>\u8fd9\u4e2a\u9519\u8bef\u662f\u56e0\u4e3a\u6709\u591a\u4e2a\u7f51\u5361\uff0c\u5fc5\u987b\u4f7f\u7528 <code>--advertise-addr</code> \u6307\u5b9a\u4e00\u4e2a\u5730\u5740\u3002</p> <pre><code># IP \u5730\u5740\u9700\u8981\u6362\u6210\u5b9e\u9645\u7684IP\u5730\u5740\n$ docker swarm init --advertise-addr 1.1.1.1\nSwarm initialized: current node (h077aglfoegkmire6bwab47hv) is now a manager.\n\nTo add a worker to this swarm, run the following command:\n\n    docker swarm join --token SWMTKN-1-xxxxx-yyyy 1.1.1.1:2377\n\nTo add a manager to this swarm, run 'docker swarm join-token manager' and follow the instructions.\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Docker%E5%A4%9A%E6%9C%BA%E5%A4%9A%E5%8D%A1%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#2","title":"2.\u52a0\u5165\u96c6\u7fa4","text":"<p>\u5c06 server B \u4f5c\u4e3a <code>worker</code> \u8282\u70b9\u52a0\u5165\u96c6\u7fa4\uff0c\u8fdb\u5165 server B \u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u4e2d\u8f93\u51fa\u7684<code>docker swarm join</code>\u547d\u4ee4\uff1a</p> <pre><code># \u76f4\u63a5\u590d\u5236\u4e0a\u9762\u547d\u4ee4\u4e2d\u7684\u8f93\u51fa\u7ed3\u679c\n$ docker swarm join --token SWMTKN-1-xxxxx-yyyy 1.1.1.1:2377\nThis node joined a swarm as a worker.\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Docker%E5%A4%9A%E6%9C%BA%E5%A4%9A%E5%8D%A1%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#3","title":"3.\u521b\u5efa\u7f51\u7edc","text":"<p>\u5728 <code>manager</code> \u4e2d\u521b\u5efa <code>overlay</code> \u7f51\u7edc\uff0c\u6267\u884c\u547d\u4ee4</p> <pre><code># \u521b\u5efa\u4e00\u4e2a\u540d\u53eb dis-train \u7684 overlay \u7f51\u7edc\n$ docker network create --driver=overlay --attachable dis-train\nnjhxlanigtonjuvm7k5at9qi1\n# \u67e5\u770b\u5f53\u524d\u7f51\u7edc\u5217\u8868\n$ docker network ls=\nNETWORK ID     NAME                           DRIVER    SCOPE\n0965c4afa0dd   bridge                         bridge    local\nnjhxlanigton   dis-train                      overlay   swarm\n3d2797c0dee1   docker_app-network             bridge    local\n6889006291b2   docker_gwbridge                bridge    local\n6bc9c3bfc570   host                           host      local\n0alwsfkjhwgz   ingress                        overlay   swarm\na7f00d18da5a   none                           null      local\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Docker%E5%A4%9A%E6%9C%BA%E5%A4%9A%E5%8D%A1%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#4","title":"4.\u540c\u6b65\u7f51\u7edc","text":"<p>\u63a5\u7740\u8fdb\u5165 <code>worker</code> \u8282\u70b9\u6267\u884c\u547d\u4ee4\u67e5\u770b\u4f1a\u53d1\u73b0\uff0c\u770b\u4e0d\u5230\u4e0a\u4e00\u6b65\u521b\u5efa\u7684\u7f51\u7edc\uff1a</p> <pre><code>$ docker network ls\nNETWORK ID     NAME              DRIVER    SCOPE\n78f272bf635a   bridge            bridge    local\n47de07982155   docker_gwbridge   bridge    local\nd6c382283c9a   host              host      local\n0alwsfkjhwgz   ingress           overlay   swarm\ncf45ece5fda0   none              null      local\n</code></pre> <p>\u8fd9\u65f6\u5019\u6211\u4eec\u53ea\u9700\u8981\u5f00\u542f\u4e00\u4e2a\u5bb9\u5668\uff0c\u5f3a\u5236\u6307\u5b9a\u7f51\u7edc\u4e3a<code>dis-train</code>\uff0cdocker\u5c31\u4f1a\u81ea\u52a8\u540c\u6b65\u5bf9\u5e94\u7f51\u7edc\u4e86</p> <pre><code> docker run -d -it --name test-network --network dis-train alpine\n</code></pre> <p>\u8fd9\u4e2a\u65f6\u5019\u518d\u6765\u67e5\u770b\uff0c<code>worker</code> \u8282\u70b9\u4e2d\u5c31\u6709\u4e86\u521a\u521a\u521b\u5efa\u7684\u7f51\u7edc\u4e86\u3002</p> <pre><code>$ docker network ls\nNETWORK ID     NAME              DRIVER    SCOPE\n78f272bf635a   bridge            bridge    local\nnjhxlanigton   dis-train         overlay   swarm\n47de07982155   docker_gwbridge   bridge    local\nd6c382283c9a   host              host      local\n0alwsfkjhwgz   ingress           overlay   swarm\ncf45ece5fda0   none              null      local\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Docker%E5%A4%9A%E6%9C%BA%E5%A4%9A%E5%8D%A1%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#_2","title":"\u8fd0\u884c\u5bb9\u5668\u642d\u5efa","text":"<p>\u8fdb\u5165<code>manager</code>\u8282\u70b9\uff0c\u5148\u521b\u5efa\u4e00\u4e2a <code>llm</code>\u7684\u6587\u4ef6\u5939\uff0c\u5185\u90e8\u7684\u6587\u4ef6\u5217\u8868\u5982\u4e0b\uff1a</p> <pre><code>.\n\u251c\u2500\u2500 code\n\u251c\u2500\u2500 docker-compose.yaml\n\u251c\u2500\u2500 Dockerfile\n\u251c\u2500\u2500 sources.list\n\u2514\u2500\u2500 sync.sh\n\n1 directory, 4 files\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Docker%E5%A4%9A%E6%9C%BA%E5%A4%9A%E5%8D%A1%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#1_1","title":"1. \u8bad\u7ec3\u6846\u67b6\u51c6\u5907","text":"<p>\u8bad\u7ec3\u6846\u67b6\u4f7f\u7528\u7684\u662f LLaMA-Factory  \u8fd9\u4e2a\u6846\u67b6\u3002</p> <pre><code># \u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55\n$ cd llm\n\n# \u514b\u9686\u9879\u76ee\u5230 code \u76ee\u5f55\n$ git clone https://github.com/hiyouga/LLaMA-Factory code\n</code></pre> <p>\u670d\u52a1\u5668\u73af\u5883\u5982\u4e0b\uff1a</p> <ul> <li>\u663e\u5361\u9a71\u52a8\u7248\u672c\uff1a CUDA Version: 12.2</li> <li>PyTorch\u7248\u672c\uff1a 2.2.0</li> <li>Git Commit: e3d8fc75eb2cfc54efd35bfd9ad6c4ac5acc458c</li> </ul> <p>\u4fee\u6539 <code>code/requirements.txt</code> \u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>\n</code></pre> <p>LLaMA-Factory  \u8fd9\u4e2a\u6846\u67b6\u7684 Dockerfile \u5e76\u6ca1\u6709\u8003\u8651\u591a\u673a\u591a\u5361\uff0c\u9700\u8981\u91cd\u65b0\u5199 Dockerfile\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>FROM nvcr.io/nvidia/pytorch:24.01-py3\n\nLABEL maintainer=\"danerlt001@gmail.com\"\n\n# \u4f7f\u7528 root \u7528\u6237\nUSER root\n\n# \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\n# \u9632\u6b62 python \u5c06 pyc \u6587\u4ef6\u5199\u5165\u786c\u76d8\nENV PYTHONDONTWRITEBYTECODE=1\n# \u9632\u6b62 python \u7f13\u51b2 (buffering) stdout \u548c stderr, \u4ee5\u4fbf\u66f4\u5bb9\u6613\u5730\u8fdb\u884c\u5bb9\u5668\u65e5\u5fd7\u8bb0\u5f55\nENV PYTHONUNBUFFERED=1\n# pip index \u914d\u7f6e\nENV PIP_INDEX=\" -i https://pypi.tuna.tsinghua.edu.cn/simple/ \"\n# \u8bbe\u7f6e\u65f6\u533a\nENV TZ UTC\n\n# \u8bbe\u7f6eapt\u6e90\nCOPY sources.list /etc/apt/\n\n# \u5b89\u88c5\u4f9d\u8d56\nRUN apt-get update\\\n    &amp;&amp; apt-get install -y --no-install-recommends \\\n        git \\\n        build-essential \\\n        zlib1g-dev \\\n        libncurses5-dev \\\n        libgdbm-dev \\\n        libnss3-dev \\\n        libssl-dev \\\n        libsqlite3-dev \\\n        libreadline-dev \\ \n        libffi-dev \\\n        liblzma-dev \\\n        libbz2-dev \\\n        curl \\\n        wget \\\n        net-tools \\\n        iputils-ping \\\n        vim \\\n        locales \\\n        pdsh \\\n        openssh-server \\\n    &amp;&amp; apt-get autoremove \\\n    &amp;&amp; rm -rf /var/lib/apt/lists/* \\\n    &amp;&amp; localedef -i en_US -c -f UTF-8 -A /usr/share/locale/locale.alias en_US.UTF-8\n\n# \u8bbe\u7f6e\u8bed\u8a00\nENV LANG en_US.utf8\n\n# \u8bbe\u7f6e\u9879\u76ee\u6587\u4ef6\nWORKDIR /app\n\n# \u5b89\u88c5 Python \u4f9d\u8d56\nCOPY code/requirements.txt /tmp/\nRUN pip install -r /tmp/requirements.txt ${PIP_INDEX}\n\n# \u62f7\u8d1d\u9879\u76ee\u6587\u4ef6\nCOPY . /app/\nRUN pip install -e .[deepspeed,metrics,bitsandbytes,qwen] ${PIP_INDEX}\n\n# \u8bbe\u7f6e\u5377\nVOLUME [ \"/root/.cache/huggingface/\", \"/data/models\",  \"/data/models/output\", \"/data/datasets\" ]\n\nEXPOSE 7860\n\nCMD [ \"python\", \"src/train_web.py\" ]\n</code></pre> <p><code>sources.list</code>\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>deb http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy main restricted\ndeb-src http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy main restricted\ndeb http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy-updates main restricted\ndeb-src http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy-updates main restricted\ndeb http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy universe\ndeb-src http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy universe\ndeb http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy-updates universe\ndeb-src http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy-updates universe\ndeb http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy multiverse\ndeb-src http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy multiverse\ndeb http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy-updates multiverse\ndeb-src http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy-updates multiverse\ndeb http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy-backports main restricted universe multiverse\ndeb-src http://mirrors.cloud.aliyuncs.com/ubuntu/ jammy-backports main restricted universe multiverse\ndeb http://mirrors.cloud.aliyuncs.com/ubuntu jammy-security main restricted\ndeb-src http://mirrors.cloud.aliyuncs.com/ubuntu jammy-security main restricted\ndeb http://mirrors.cloud.aliyuncs.com/ubuntu jammy-security universe\ndeb-src http://mirrors.cloud.aliyuncs.com/ubuntu jammy-security universe\ndeb http://mirrors.cloud.aliyuncs.com/ubuntu jammy-security multiverse\ndeb-src http://mirrors.cloud.aliyuncs.com/ubuntu jammy-security multiverse\n</code></pre> <p><code>docker-compose.yaml</code>\u5185\u5bb9\u5982\u4e0b\uff0c\u5176\u4e2d\u7684\u6302\u8f7d\u76ee\u5f55\u548c\u73af\u5883\u53d8\u91cf\u9700\u8981\u6309\u7167\u5b9e\u9645\u60c5\u51b5\u6765\u914d\u7f6e\u3002</p> <pre><code>version: '3.8'\n\nservices:\n  dis-train:\n    build:\n      dockerfile: Dockerfile\n      context: .\n    image: dis-train:v1\n    container_name: dis\n    volumes:\n      - /data/cache/huggingface:/root/.cache/huggingface/\n      - /data/models:/data/models\n      - /data/models/output:/data/models\n      - /data/datasets:/data/datasets\n    environment:\n      - CUDA_VISIBLE_DEVICES=0,1\n      # \u9700\u8981\u6ce8\u610fNCCL\u7684\u914d\u7f6e,\u8fd9\u91cc\u9700\u8981\u6839\u636e\u5bb9\u5668\u7684\u60c5\u51b5\u6307\u5b9aNCCL\u7684\u901a\u8baf\u7f51\u5361 \n      # - NCCL_SOCKET_IFNAME=eth0\n    ports:\n      - \"7860:7860\"\n    ipc: host\n    deploy:\n      resources:\n        reservations:\n          devices:\n          - driver: nvidia\n            count: \"all\"\n            capabilities: [gpu]\n    restart: unless-stopped\n</code></pre> <p><code>sync.sh</code>\u811a\u672c\u662f\u7528\u6765\u5c06<code>llm</code>\u76ee\u5f55\u540c\u6b65\u5230 server B\u7684\uff0c\u5176\u4e2d\u7684\u8def\u5f84\u548c IP \u5730\u5740\u9700\u8981\u6309\u7167\u5b9e\u9645\u60c5\u51b5\u8bbe\u7f6e\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>rsync -avzh --delete \\\n--exclude '*.pyc' \\\n/data/workspace/llm/* root@server_b:/data/workspace/llm/\n</code></pre> <p>\u6784\u5efa\u955c\u50cf</p> <pre><code>docker-compose build\n</code></pre> <p>\u4fdd\u5b58\u955c\u50cf\uff1a</p> <pre><code>docker save -o llm.tar dis-train:v1\n</code></pre> <p>\u540c\u6b65\u76ee\u5f55\uff1a</p> <pre><code>basy sync.sh\n</code></pre> <p>\u5206\u522b\u5230 <code>manager</code> , <code>worker</code> \u8282\u70b9\u4f7f\u7528\u542f\u52a8\u5bb9\u5668\uff0c\uff1a</p> <pre><code>docker-compose up -d\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Docker%E5%A4%9A%E6%9C%BA%E5%A4%9A%E5%8D%A1%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#_3","title":"\u53c2\u8003\u94fe\u63a5","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Nvidia%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%B0%E5%BD%95.html","title":"Nvidia \u5927\u6a21\u578b\u8bb0\u5f55","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Nvidia%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%B0%E5%BD%95.html#rag","title":"RAG\u4ecb\u7ecd","text":"<p>\u5173\u952e\uff1a \u63d0\u9ad8\u68c0\u7d22\u80fd\u529b</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Nvidia%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%B0%E5%BD%95.html#_1","title":"\u68c0\u7d22\u524d","text":"<p>\u5728\u5411\u91cf\u6570\u636e\u5e93\u4e2d\u8fdb\u884c\u76f8\u4f3c\u5ea6\u641c\u7d22</p> <ul> <li>\u67e5\u8be2\u8def\u7531</li> <li>\u67e5\u8be2\u8f6c\u6362</li> <li>\u91cd\u5199\u67e5\u8be2</li> <li>HyDE \uff1a\u751f\u6210\u7b54\u6848\uff0c\u68c0\u7d22\u7b54\u6848</li> <li>\u5b50\u67e5\u8be2</li> <li>Small  Size  of chunk: \u5212\u5206\u6210\u5c0f\u7684</li> <li>Sentence-window retrieval</li> <li>Auto-merge retrieval</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Nvidia%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%B0%E5%BD%95.html#_2","title":"\u68c0\u7d22\u4e2d","text":"<ul> <li>\u6df7\u5408\u7d22\u5f15</li> <li>\u5173\u952e\u5b57\u68c0\u7d22</li> <li>\u5411\u91cf\u76f8\u4f3c\u5ea6\u68c0\u7d22</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Nvidia%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%B0%E5%BD%95.html#_3","title":"\u68c0\u7d22\u540e","text":"<ul> <li>Re-ranker\uff1a \u76f8\u4f3c\u7684\u4e0d\u4e00\u5b9a\u76f8\u5173\uff0c\u901a\u8fc7\u53e6\u4e00\u4e2a\u6a21\u578b\u5bf9\u68c0\u7d22\u7ed3\u679c\u505a\u4e00\u4e2a\u76f8\u5173\u6027\u8ba1\u7b97\uff0c\u7136\u540e\u91cd\u65b0\u6392\u5e8f\uff0c\u53d6\u51fa\u76f8\u5173\u6027\u6700\u8fd1\u7684topK</li> <li>\u5143\u6570\u636e\u8fc7\u6ee4\uff1a\u7ed9\u6587\u6863\u6dfb\u52a0\u5143\u6570\u636e\uff0c\u5728</li> <li>\u63d0\u793a\u8bcd\u538b\u7f29\uff1a\u5c06\u63d0\u793a\u8bcd\u4e2d\u7684\u566a\u58f0\u53bb\u6389\uff0c\u7cbe\u7b80\u5185\u5bb9\uff0c\u51cf\u5c11token\u6d88\u8017 </li> </ul> <p>\u75db\u70b9\uff1a</p> <ul> <li>\u8f7b\u677e\u90e8\u7f72</li> <li>\u591a\u6a21\u578b\uff0c\u6a21\u578b\u8f7b\u677e\u5207\u6362</li> <li>\u9ad8\u53ef\u7528</li> <li>RAGAS</li> <li>trulens</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Nvidia%20%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%B0%E5%BD%95.html#nvidia_1","title":"Nvidia\u89e3\u51b3\u65b9\u6848","text":"<p>Nvidia \u81ea\u7814\u7684embeddings model: recall benchmark 79%</p> <p>\u76f8\u4f3c\u5ea6\u7b97\u6cd5\uff1a ANN\u7b97\u6cd5\uff1a  RAPIDS RAFT \u63d0\u4f9bGPU\u52a0\u901f\u7684\u80fd\u529b</p> <p>\u63d0\u4f9b\u591a\u79cd\u5927\u8bed\u8a00\u6a21\u578b</p> <p>TensorRT-LLM\u6846\u67b6\uff1a \u90e8\u7f72LLM\u7684\u6846\u67b6\uff0c\u96c6\u6210\u4e86\u5e38\u89c1\u7684\u57fa\u4e8etransformer\u7684\u6a21\u578b</p> <p>Nemo Guardrails  : \u5f00\u6e90\u9879\u76ee</p> <p>RAG Evaluation Tool: \u8bc4\u4f30RAG</p> <p>GenerativeAISamples: RAG\u539f\u578b\u5e94\u7528\u7a0b\u5e8f</p> <p>ChipNemo: \u57fa\u4e8eRAG\uff0c\u5fae\u8c03\uff0c\u9884\u8bad\u7ec3\u5b8c\u6210\u82af\u7247\u8bbe\u8ba1</p> <p>zilliz RAG \u5e94\u7528\u6837\u4f8b\uff1a</p> <p>\u767e\u4e07\u4e0b\u76f4\u63a5\u66b4\u529b\u641c\u7d22 100% recall</p> <p>\u767e\u4e07\u7ea7\u76f4\u63a5\u7528HW\u7b97\u6cd5</p> <p>osschat.io</p> <p>milvus RAG \u6837\u4f8b\uff1ahttps://github.com/zilliztech/akcio</p> <p>\u5411\u91cf\u6570\u636e\u5e93\u8bc4\u6d4b\uff1ahttps://github.com/zilliztech/VectorDBBench</p> <p>towhee example</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Zero.html","title":"ZeRO \u5b66\u4e60\u8bb0\u5f55","text":"<p>\u76ee\u524d\u8bad\u7ec3\u8d85\u5927\u89c4\u6a21\u8bed\u8a00\u6a21\u578b\u4e3b\u8981\u6709\u4e24\u6761\u6280\u672f\u8def\u7ebf\uff1aTPU + XLA + TensorFlow/JAX \u548c GPU + PyTorch + Megatron-LM + DeepSpeed\u3002\u524d\u8005\u7531Google\u4e3b\u5bfc\uff0c\u7531\u4e8eTPU\u548c\u81ea\u5bb6\u4e91\u5e73\u53f0GCP\u6df1\u5ea6\u7ed1\u5b9a\uff0c\u5bf9\u4e8e\u975eGoogler\u6765\u8bf4\uff0c \u53ea\u53ef\u8fdc\u89c2\u800c\u4e0d\u53ef\u628a\u73a9\uff0c\u540e\u8005\u80cc\u540e\u5219\u6709NVIDIA\u3001Meta\u3001MS\u5927\u5382\u52a0\u6301\uff0c\u793e\u533a\u6c1b\u56f4\u6d3b\u8dc3\uff0c\u4e5f\u66f4\u53d7\u5230\u7fa4\u4f17\u6b22\u8fce\u3002</p> <p>\u4e0a\u9762\u63d0\u5230\u7684DeepSpeed\u7684\u6838\u5fc3\u662fZeRO(Zero Redundancy Optimizer)\uff0c\u7b80\u5355\u6765\u8bf4\uff0c\u5b83\u662f\u4e00\u79cd\u663e\u5b58\u4f18\u5316\u7684\u6570\u636e\u5e76\u884c(data parallelism, DP)\u65b9\u6848\u3002\u800c\u201c\u4f18\u5316\u201c\u8fd9\u4e2a\u8bdd\u9898\u53c8\u6c38\u65e0\u6b62\u5883\uff0c\u5728\u8fc7\u53bb\u4e24\u5e74DeepSpeed\u56e2\u961f\u53d1\u8868\u4e86\u4e09\u7bc7ZeRO\u76f8\u5173\u7684\u8bba\u6587\uff0c\u63d0\u51fa\u4e86\u53bb\u9664\u5197\u4f59\u53c2\u6570\u3001\u5f15\u5165CPU\u548c\u5185\u5b58\u3001\u5f15\u5165NVMe\u7b49\u65b9\u6cd5\uff0c\u4ece\u59cb\u81f3\u7ec8\u90fd\u56f4\u7ed5\u7740\u4e00\u4e2a\u76ee\u6807\uff1a\u5c06\u663e\u5b58\u4f18\u5316\u8fdb\u884c\u5230\u5e95\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Zero.html#zero_1","title":"ZeRO \u53d1\u5c55","text":"<ul> <li>ZeRO 2020\u5e742\u6708\uff0cZeRO\u901a\u8fc7\u4f18\u5316\u6a21\u578b\u548c\u4f18\u5316\u5668\u72b6\u6001\u7684\u5b58\u50a8\u4ee5\u53ca\u901a\u4fe1\u673a\u5236\uff0c\u4f7f\u5f97\u53ef\u4ee5\u9ad8\u6548\u5730\u8bad\u7ec3\u62e5\u6709\u6570\u5341\u4ebf\u751a\u81f3\u4e0a\u767e\u4ebf\u53c2\u6570\u7684\u6a21\u578b\u3002</li> <li>ZeRO-2 2020\u5e745\u6708\uff0cZeRO-2\uff0c\u5bf9\u4f18\u5316\u5668\u72b6\u6001\u548c\u68af\u5ea6\u5206\u7247\u3002</li> <li>ZeRO-offload 2021\u5e741\u6708\uff0cZeRO-offload\u5229\u7528\u4e86\u5185\u5b58\uff0c\u964d\u4f4e\u4e86\u5bf9GPU\u663e\u5b58\u7684\u9700\u6c42\uff08\u4f7f\u7528\u7684\u662fZeRO-2\u7ea7\u522b\uff09\uff0c\u53ef\u4ee5\u8bad\u7ec3\u66f4\u5927\u7684\u6a21\u578b\u3002</li> <li>ZeRO3-offload 2021\u5e743\u6708\uff0cZeRO-offload \u652f\u6301ZeRO-3 \u7ea7\u522b\u3002</li> <li>ZeRO-Infinty 2021\u5e744\u6708\uff0cZeRO-Infinty\u5229\u7528\u4e86\u5185\u5b58\u548cSSD\uff0c\u6253\u7834 GPU \u5185\u5b58\u5899\u4ee5\u5b9e\u73b0\u8d85\u5927\u89c4\u6a21\u6df1\u5ea6\u5b66\u4e60\u3002</li> <li>ZeRO++ 2023\u5e746\u6708\uff0c\u505a\u4e86\u4e00\u4e9b\u4f18\u5316\uff0c\u6bd4ZeRO-3\u8bad\u7ec3\u901f\u5ea6\u63d0\u5347\u4e86\u7ea62\u500d\u7684\u52a0\u901f\u3002</li> <li>ZeRO-offload++ 2023\u5e7411\u6708\uff0c\u5728ZeRO3-offload\u7684\u57fa\u7840\u4e0a\u505a\u4e86\u4e00\u4e9b\u4f18\u5316\uff0c\u80fd\u63d0\u4f9b6\u500d\u7684\u8bad\u7ec3\u901f\u5ea6\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Zero.html#_1","title":"\u5b58\u50a8\u6d88\u8017","text":"<p>\u5728\u5927\u6a21\u578b\u8bad\u7ec3\u7684\u8fc7\u7a0b\u4e2d\uff0cGPU\u90fd\u9700\u8981\u5b58\u4ec0\u4e48\u5185\u5bb9\u3002</p> <p></p> <p>**Model States**\u6307\u548c\u6a21\u578b\u672c\u8eab\u606f\u606f\u76f8\u5173\u7684\uff0c\u5fc5\u987b\u5b58\u50a8\u7684\u5185\u5bb9\uff0c\u5177\u4f53\u5305\u62ec\uff1a</p> <ul> <li>optimizer states\uff1a\u4f18\u5316\u5668\u72b6\u6001\uff0c\u5728\u5927\u8bed\u8a00\u6a21\u578b\u4e2d\u4e00\u822c\u4f7f\u7528\u7684\u662fAdam\u4f18\u5316\u5668\u3002Adam\u4f18\u5316\u7b97\u6cd5\u4e2d\u7684momentum\u548cvariance\u3002</li> <li>gradients\uff1a\u6a21\u578b\u68af\u5ea6</li> <li>parameters\uff1a\u6a21\u578b\u53c2\u6570W</li> </ul> <p>**Residual States**\u6307\u5e76\u975e\u6a21\u578b\u5fc5\u987b\u7684\uff0c\u4f46\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u4f1a\u989d\u5916\u4ea7\u751f\u7684\u5185\u5bb9\uff0c\u5177\u4f53\u5305\u62ec\uff1a</p> <ul> <li>activation\uff1a\u6fc0\u6d3b\u503c\u3002\u5728\u6d41\u6c34\u7ebf\u5e76\u884c\u4e2d\u6211\u4eec\u66fe\u8be6\u7ec6\u4ecb\u7ecd\u8fc7\u3002\u5728backward\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u94fe\u5f0f\u6cd5\u5219\u8ba1\u7b97\u68af\u5ea6\u65f6\u4f1a\u7528\u5230\u3002\u6709\u4e86\u5b83\u7b97\u68af\u5ea6\u4f1a\u66f4\u5feb\uff0c\u4f46\u5b83\u4e0d\u662f\u5fc5\u987b\u5b58\u50a8\u7684\uff0c\u56e0\u4e3a\u53ef\u4ee5\u901a\u8fc7\u91cd\u65b0\u505aForward\u6765\u7b97\u5b83\u3002</li> <li>temporary buffers: \u4e34\u65f6\u5b58\u50a8\u3002\u4f8b\u5982\u628a\u68af\u5ea6\u53d1\u9001\u5230\u67d0\u5757GPU\u4e0a\u505a\u52a0\u603b\u805a\u5408\u65f6\u4ea7\u751f\u7684\u5b58\u50a8\u3002</li> <li>unusable fragment memory\uff1a\u788e\u7247\u5316\u7684\u5b58\u50a8\u7a7a\u95f4\u3002\u867d\u7136\u603b\u5b58\u50a8\u7a7a\u95f4\u662f\u591f\u7684\uff0c\u4f46\u662f\u5982\u679c\u53d6\u4e0d\u5230\u8fde\u7eed\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u76f8\u5173\u7684\u8bf7\u6c42\u4e5f\u4f1a\u88abfail\u6389\u3002\u5bf9\u8fd9\u7c7b\u7a7a\u95f4\u6d6a\u8d39\u53ef\u4ee5\u901a\u8fc7\u5185\u5b58\u6574\u7406\u6765\u89e3\u51b3\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Zero.html#_2","title":"\u6df7\u5408\u7cbe\u5ea6\u8bad\u7ec3","text":"<p>\u589e\u52a0\u795e\u7ecf\u7f51\u7edc\u7684\u5927\u5c0f\u901a\u5e38\u4f1a\u63d0\u9ad8\u51c6\u786e\u6027\uff0c\u4f46\u4e5f\u4f1a\u589e\u52a0\u8bad\u7ec3\u6a21\u578b\u7684\u5185\u5b58\u548c\u8ba1\u7b97\u8981\u6c42\u3002Mixed Precision Training \u4ecb\u7ecd\u4e86\u4f7f\u7528\u534a\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff08\u901a\u5e38\u662fFP16\uff09\u8bad\u7ec3\u6df1\u5ea6\u795e\u7ecf\u7f51\u7edc\u7684\u65b9\u6cd5\uff0c\u800c\u4e0d\u4f1a\u635f\u5931\u6a21\u578b\u7cbe\u5ea6\u6216\u4e0d\u5fc5\u4fee\u6539\u8d85\u53c2\u6570\u3002\u8fd9\u51e0\u4e4e\u4f7f\u5185\u5b58\u9700\u6c42\u51cf\u534a\uff0c\u5e76\u4e14\u5728\u6700\u65b0\u7684 GPU \u4e0a\uff0c\u8fd8\u53ef\u4ee5\u52a0\u5feb\u8fd0\u7b97\u901f\u5ea6\u3002</p> <p>\u8f83\u5927\u7684\u6a21\u578b\u901a\u5e38\u9700\u8981\u66f4\u591a\u7684\u8ba1\u7b97\u548c\u5185\u5b58\u8d44\u6e90\u6765\u8bad\u7ec3\u3002\u901a\u8fc7\u4f7f\u7528\u964d\u4f4e\u7cbe\u5ea6\u7684\u8868\u793a\u548c\u7b97\u672f\u53ef\u4ee5\u964d\u4f4e\u8fd9\u4e9b\u8981\u6c42\u3002\u4efb\u4f55\u7a0b\u5e8f\uff08\u5305\u62ec\u795e\u7ecf\u7f51\u7edc\u8bad\u7ec3\u548c\u63a8\u7406\uff09\u7684\u6027\u80fd\uff08\u901f\u5ea6\uff09\u90fd\u53d7\u5230\u4ee5\u4e0b\u4e09\u4e2a\u56e0\u7d20\u4e4b\u4e00\u7684\u9650\u5236\uff1a</p> <ul> <li>\u7b97\u672f\u5e26\u5bbd</li> <li>\u5185\u5b58\u5e26\u5bbd</li> <li>\u5ef6\u8fdf\u3002</li> </ul> <p>\u964d\u4f4e\u7cbe\u5ea6\u89e3\u51b3\u4e86\u5176\u4e2d\u4e24\u4e2a\u9650\u5236\u56e0\u7d20\u3002\u901a\u8fc7\u4f7f\u7528\u66f4\u5c11\u7684\u4f4d\u6765\u5b58\u50a8\u76f8\u540c\u6570\u91cf\u7684\u503c\uff0c\u53ef\u4ee5\u964d\u4f4e\u5185\u5b58\u5e26\u5bbd\u538b\u529b\u3002\u964d\u4f4e\u7cbe\u5ea6\u4e4b\u540e\u8fdb\u884c\u6570\u5b66\u8fd0\u7b97\uff0c\u7b97\u672f\u65f6\u95f4\u4e5f\u53ef\u4ee5\u7f29\u77ed\u3002\u4f8b\u5982\uff0c\u6700\u65b0 GPU \u4e2d\u7684\u534a\u7cbe\u5ea6\u6570\u5b66\u541e\u5410\u91cf\u6bd4\u5355\u7cbe\u5ea6\u9ad8 2 \u500d\u5230 8 \u500d\u3002\u9664\u4e86\u901f\u5ea6\u63d0\u9ad8\u4e4b\u5916\uff0c\u964d\u4f4e\u7cbe\u5ea6\u7684\u683c\u5f0f\u8fd8\u53ef\u4ee5\u51cf\u5c11\u8bad\u7ec3\u6240\u9700\u7684\u5185\u5b58\u91cf\u3002</p> <p>IEEE\u6807\u51c6\u4e2d\u7684FP16\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p></p> <p>\u7531\u4e8e FP16 \u683c\u5f0f\u7684\u52a8\u6001\u8303\u56f4\u6bd4 FP32 \u7a84\uff0c\u56e0\u6b64\u6df7\u5408\u7cbe\u5ea6\u8bad\u7ec3\u5f15\u5165\u4e86\u4e09\u79cd\u6280\u672f\u6765\u9632\u6b62\u6a21\u578b\u7cbe\u5ea6\u635f\u5931\uff1a</p> <ul> <li>\u5728 FP32 \u4e2d\u7ef4\u62a4\u6743\u91cd\u7684\u4e3b\u526f\u672c\uff08maintaining a master copy of weights in FP32,\uff09</li> <li>\u6700\u5c0f\u5316\u68af\u5ea6\u503c\u53d8\u4e3a\u96f6\u65f6\u635f\u5931\u7f29\u653e\uff08loss-scaling that minimizes gradient values becoming zero\uff09</li> <li>\u91c7\u7528FP16\u7b97\u672f\u8fdb\u884c\u8ba1\u7b97\u4f46\u4ee5FP32\u8fdb\u884c\u7d2f\u52a0\uff08FP16 arithmetic with accumulation in FP32\uff09</li> </ul> <p>\u6df7\u5408\u7cbe\u5ea6\u8bad\u7ec3\uff0c\u5b57\u5982\u5176\u540d\uff0c\u540c\u65f6\u5b58\u5728fp16\u548cfp32\u4e24\u79cd\u683c\u5f0f\u7684\u6570\u503c\uff0c\u5176\u4e2d\u6a21\u578b\u53c2\u6570\u3001\u6a21\u578b\u68af\u5ea6\u90fd\u662ffp16\uff0c\u6b64\u5916\u8fd8\u6709fp32\u7684\u6a21\u578b\u53c2\u6570\u526f\u672c\u3002</p> <p></p> <p>\u6df7\u5408\u7cbe\u5ea6\u8bad\u7ec3\uff08mixed precision training\uff09\u548cAdam\u4f18\u5316\u5668\u57fa\u672c\u4e0a\u5df2\u7ecf\u662f\u8bad\u7ec3\u5927\u8bed\u8a00\u6a21\u578b\u7684\u6807\u914d\u3002</p> <p>Adam\u5728SGD\u57fa\u7840\u4e0a\uff0c\u4e3a\u6bcf\u4e2a\u53c2\u6570\u68af\u5ea6\u589e\u52a0\u4e86\u4e00\u9636\u52a8\u91cf\uff08momentum\uff09\u548c\u4e8c\u9636\u52a8\u91cf\uff08variance\uff09\u3002</p> <p>\u5982\u679c\u4f18\u5316\u5668\u662fAdam\uff0c\u5219\u8fd8\u6709fp32\u7684momentum\u548cvariance\u3002</p> <p></p> <ul> <li> <p>\u5b58\u50a8\u4e00\u4efdfp32\u7684parameter\uff0cmomentum\u548cvariance\uff08\u7edf\u79f0model states\uff09</p> </li> <li> <p>\u5728forward\u5f00\u59cb\u4e4b\u524d\uff0c\u989d\u5916\u5f00\u8f9f\u4e00\u5757\u5b58\u50a8\u7a7a\u95f4\uff0c\u5c06fp32 parameter\u51cf\u534a\u5230fp16 parameter\u3002</p> </li> <li> <p>\u6b63\u5e38\u505aforward\u548cbackward\uff0c\u5728\u6b64\u4e4b\u95f4\u4ea7\u751f\u7684activation\u548cgradients\uff0c\u90fd\u7528fp16\u8fdb\u884c\u5b58\u50a8\u3002</p> </li> <li> <p>\u7528fp16 gradients\u53bb\u66f4\u65b0fp32\u4e0b\u7684model states\u3002</p> </li> <li> <p>\u5f53\u6a21\u578b\u6536\u655b\u540e\uff0cfp32\u7684parameter\u5c31\u662f\u6700\u7ec8\u7684\u53c2\u6570\u8f93\u51fa\u3002</p> </li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Zero.html#_3","title":"\u663e\u5b58\u8ba1\u7b97","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u6765\u8ba1\u7b97\u6a21\u578b\u5728\u8bad\u7ec3\u65f6\u9700\u8981\u7684\u5b58\u50a8\u5927\u5c0f\u4e86\uff0c\u5047\u8bbe\u6a21\u578b\u7684\u53c2\u6570W\u5927\u5c0f\u662f \\(\\Phi\\)  \uff0c\u4ee5byte\u4e3a\u5355\u4f4d\uff0c\u5b58\u50a8\u5982\u4e0b\uff1a</p> <p></p> <p>\u56e0\u4e3a\u91c7\u7528\u4e86Adam\u4f18\u5316\uff0c\u6240\u4ee5\u624d\u4f1a\u51fa\u73b0momentum\u548cvariance\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\u522b\u7684\u4f18\u5316\u529e\u6cd5\u3002\u56e0\u6b64\u8fd9\u91cc\u4e3a\u4e86\u66f4\u901a\u7528\u4e9b\uff0c\u8bb0\u6a21\u578b\u5fc5\u5b58\u7684\u6570\u636e\u5927\u5c0f\u4e3a $ \\Phi $ \u3002\u56e0\u6b64\u6700\u7ec8\u5185\u5b58\u5f00\u9500\u4e3a\uff1a  $$ 2\\Phi + 2\\Phi + K\\Phi $$ \u53e6\u5916\uff0c\u8fd9\u91cc\u6682\u4e0d\u5c06activation\u7eb3\u5165\u7edf\u8ba1\u8303\u56f4\uff0c\u539f\u56e0\u662f\uff1a</p> <ul> <li>activation\u4e0d\u4ec5\u4e0e\u6a21\u578b\u53c2\u6570\u76f8\u5173\uff0c\u8fd8\u4e0ebatch size\u76f8\u5173</li> <li>activation\u7684\u5b58\u50a8\u4e0d\u662f\u5fc5\u987b\u7684\u3002\u5b58\u50a8activation\u53ea\u662f\u4e3a\u4e86\u5728\u7528\u94fe\u5f0f\u6cd5\u5219\u505abackward\u7684\u8fc7\u7a0b\u4e2d\uff0c\u8ba1\u7b97\u68af\u5ea6\u66f4\u5feb\u4e00\u4e9b\u3002\u4f46\u4f60\u6c38\u8fdc\u53ef\u4ee5\u901a\u8fc7\u53ea\u4fdd\u7559\u6700\u521d\u7684\u8f93\u5165X\uff0c\u91cd\u65b0\u505aforward\u6765\u5f97\u5230\u6bcf\u4e00\u5c42\u7684activation\uff08\u867d\u7136\u5b9e\u9645\u4e2d\u5e76\u4e0d\u4f1a\u8fd9\u4e48\u6781\u7aef\uff09\u3002</li> <li>\u56e0\u4e3aactivation\u7684\u8fd9\u79cd\u7075\u6d3b\u6027\uff0c\u7eb3\u5165\u5b83\u540e\u4e0d\u65b9\u4fbf\u8861\u91cf\u7cfb\u7edf\u6027\u80fd\u968f\u6a21\u578b\u589e\u5927\u7684\u771f\u5b9e\u53d8\u52a8\u60c5\u51b5\u3002\u56e0\u6b64\u5728\u8fd9\u91cc\u4e0d\u8003\u8651\u5b83\uff0c\u5728\u540e\u9762\u4f1a\u5355\u5f00\u4e00\u5757\u8bf4\u660e\u5bf9activation\u7684\u4f18\u5316\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Zero.html#zero_2","title":"ZeRO \u4ecb\u7ecd","text":"<p>GPU\u5206\u5e03\u56fe\u5982\u4e0b\uff1a</p> <p></p> <p>\u663e\u5b58\u5185\u5bb9\u5206\u4e3a\u4e24\u7c7b\uff1a</p> <ul> <li>\u6a21\u578b\u72b6\u6001\uff08model states\uff09: \u6a21\u578b\u53c2\u6570\uff08fp16\uff09\u3001\u6a21\u578b\u68af\u5ea6\uff08fp16\uff09\u548c\u4f18\u5316\u5668\u72b6\u6001\uff08fp32\u7684\u6a21\u578b\u53c2\u6570\u5907\u4efd\uff0cfp32\u7684momentum\u548cfp32\u7684variance\uff09\u3002\u5047\u8bbe\u6a21\u578b\u53c2\u6570\u91cf $ \u03a6 $ \uff0c\u5219\u5171\u9700\u8981$ 2\u03a6+2\u03a6+(4\u03a6+4\u03a6+4\u03a6)=4\u03a6+12\u03a6=16\u03a6 $ \u5b57\u8282\u5b58\u50a8\uff0c\u53ef\u4ee5\u770b\u5230\uff0cAdam\u72b6\u6001\u5360\u6bd4 $ 75 \\% $</li> <li>\u5269\u4f59\u72b6\u6001\uff08residual states\uff09: \u9664\u4e86\u6a21\u578b\u72b6\u6001\u4e4b\u5916\u7684\u663e\u5b58\u5360\u7528\uff0c\u5305\u62ec\u6fc0\u6d3b\u503c\uff08activation\uff09\u3001\u5404\u79cd\u4e34\u65f6\u7f13\u51b2\u533a\uff08buffer\uff09\u4ee5\u53ca\u65e0\u6cd5\u4f7f\u7528\u7684\u663e\u5b58\u788e\u7247\uff08fragmentation\uff09\u3002</li> </ul> <p>\u53ef\u4ee5\u770b\u5230\u6a21\u578b\u53c2\u6570\u4ec5\u5360\u6a21\u578b\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u6240\u6709\u6570\u636e\u7684\u4e00\u90e8\u5206\uff0c\u5f53\u8fdb\u884c\u6df7\u5408\u7cbe\u5ea6\u8fd0\u7b97\u65f6\uff0c\u5176\u4e2d\u6a21\u578b\u72b6\u6001\u53c2\u6570(\u4f18\u5316\u5668\u72b6\u6001 + \u68af\u5ea6+ \u6a21\u578b\u53c2\u6570\uff09\u5360\u5230\u4e86\u4e00\u5927\u534a\u4ee5\u4e0a\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u60f3\u529e\u6cd5\u53bb\u9664\u6a21\u578b\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u7684\u5197\u4f59\u6570\u636e\u3002</p> <p>\u800c\u4f18\u5316\u5668\u76f8\u5173\u7684\u5e76\u884c\u5c31\u662f\u4e00\u79cd\u53bb\u9664\u5197\u4f59\u6570\u636e\u7684\u5e76\u884c\u65b9\u6848\uff0c\u76ee\u524d\u8fd9\u79cd\u5e76\u884c\u6700\u6d41\u884c\u7684\u65b9\u6cd5\u662f ZeRO\uff08\u5373\u96f6\u5197\u4f59\u4f18\u5316\u5668\uff09\u3002\u9488\u5bf9\u6a21\u578b\u72b6\u6001\u7684\u5b58\u50a8\u4f18\u5316\uff08\u53bb\u9664\u5197\u4f59\uff09\uff0cZeRO\u4f7f\u7528\u7684\u65b9\u6cd5\u662f\u5206\u7247\uff0c\u5373\u6bcf\u5f20\u5361\u53ea\u5b58 1/N \u7684\u6a21\u578b\u72b6\u6001\u91cf\uff0c\u8fd9\u6837\u7cfb\u7edf\u5185\u53ea\u7ef4\u62a4\u4e00\u4efd\u6a21\u578b\u72b6\u6001\u3002ZeRO\u6709\u4e09\u4e2a\u4e0d\u540c\u7ea7\u522b\uff0c\u5bf9\u6a21\u578b\u72b6\u6001\u8fdb\u884c\u4e0d\u540c\u7a0b\u5ea6\u7684\u5206\u7247\uff1a</p> <ul> <li>ZeRO-1 : \u5bf9\u4f18\u5316\u5668\u72b6\u6001\u5206\u7247\uff08Optimizer States Sharding\uff09</li> <li>ZeRO-2 : \u5bf9\u4f18\u5316\u5668\u72b6\u6001\u548c\u68af\u5ea6\u5206\u7247\uff08Optimizer States &amp; Gradients Sharding\uff09</li> <li>ZeRO-3 : \u5bf9\u4f18\u5316\u5668\u72b6\u6001\u3001\u68af\u5ea6\u5206\u7247\u4ee5\u53ca\u6a21\u578b\u6743\u91cd\u53c2\u6570\u5206\u7247\uff08Optimizer States &amp; Gradients &amp; Parameters Sharding\uff09</li> </ul> <p></p> <p>\u793a\u4f8b\uff0c\u4ee5\u5168\u91cf\u9884\u8bad\u7ec3Atom-7B\u7684\u6a21\u578b\u4e3a\u4f8b\u3002\u6211\u4eec\u6709\u4e24\u53f0\u670d\u52a1\u5668\uff0c\u5176\u4e2d\u4e00\u53f0\u6709 2 \u5f20A100\uff0840GB\uff09\uff0c\u53e6\u4e00\u53f0\u4e3a 2 \u5f20 V100\uff0832GB\uff09\u3002</p> <p>Atom-7B\u7684\u53c2\u6570\u91cf\u5927\u5c0f\u4e3a $ 7 * 10 ^ 9 $ \u5b57\u8282\uff0c\u7b49\u4e8e 7GB \u6216\u8005 6.5 GiB\u3002$ n_d $\u8868\u793a\u6709\u591a\u5c11\u5f20\u5361\u8fdb\u884c\u5206\u5e03\u5f0f\u8bad\u7ec3\uff0c\u5728\u8fd9\u91cc\u7b49\u4e8e $ 4 $\u3002</p> <p>\u5c06 $ \\Psi  = 7 $ GB\uff0c$ K = 12 $ \uff0c$ N_d = 4 $ \u5e26\u5165\u4e0a\u9762\u7684\u516c\u5f0f\u3002</p> <ul> <li>baseline\u5185\u5b58\u5360\u7528\uff1a $ (2 + 2 + 12) * 7 = 112 $ GB\uff0c\u6bcf\u5f20\u5361\u9700\u8981 112GB \u663e\u5b58\uff0c\u8d85\u51fa\u4e86\u663e\u5361\u7684\u663e\u5b58\uff0c\u65e0\u6cd5\u8bad\u7ec3\u3002</li> <li>ZeRO-1 \u5185\u5b58\u5360\u7528\uff1a $ 2*7 + 2*7 + \\frac{12*7}{4} = 49 $ GB\uff0c\u6bcf\u5f20\u5361\u9700\u8981 49GB \u663e\u5b58\uff0c\u8d85\u51fa\u4e86\u663e\u5361\u7684\u663e\u5b58\uff0c\u65e0\u6cd5\u8bad\u7ec3\u3002</li> <li>ZeRO-2 \u5185\u5b58\u5360\u7528\uff1a $ 2*7 + \\frac{(2+12)*7}{4} = 38.5 $ GB\uff0c\u6bcf\u5f20\u5361\u9700\u8981 38.5GB \u663e\u5b58\uff0cA100\u80fd\u591f\u8bad\u7ec3\uff0c\u8d85\u51fa\u4e86V100\u7684\u663e\u5b58\uff0c\u65e0\u6cd5\u8bad\u7ec3\u3002</li> <li>ZeRO-3 \u5185\u5b58\u5360\u7528\uff1a $ \\frac{(2+2+12)*7}{4} = 28 $ GB\uff0c\u6bcf\u5f20\u5361\u9700\u8981 28 GB \u663e\u5b58\uff0c\u80fd\u591f\u8bad\u7ec3\u3002</li> </ul> <p>\u6ce8\u610f\uff1a\u8fd9\u91cc\u8ba1\u7b97\u7684\u663e\u5b58\u5360\u7528\u53ea\u8003\u8651\u4e86\u6a21\u578b\u72b6\u6001\uff0c\u5b9e\u9645\u4e0a\u8fd8\u6709\u5269\u4f59\u72b6\u6001\uff08\u5305\u62ec\u6fc0\u6d3b\u503c\uff08activation\uff09\u3001\u5404\u79cd\u4e34\u65f6\u7f13\u51b2\u533a\uff08buffer\uff09\u4ee5\u53ca\u65e0\u6cd5\u4f7f\u7528\u7684\u663e\u5b58\u788e\u7247\uff08fragmentation\uff09\uff09\uff0c\u4ee5 ZeRO-3 \u8bad\u7ec3\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u663e\u5b58\u4f1a\u5927\u4e8e 28 GB\uff0c\u8bad\u7ec3\u53ef\u80fd\u4f1a\u62a5OOM\u7684\u9519\u8bef\u3002\u5982\u679c\u60f3\u8981\u5728ZeRO-1\u548cZeRO-2\u80fd\u591f\u8bad\u7ec3\u9700\u8981\u4f7f\u7528offload\u6280\u672f\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Zero.html#zero_3","title":"ZeRO++","text":"<p>ZeRO++ \u662f\u4e00\u4e2a\u6784\u5efa\u5728 ZeRO \u4e4b\u4e0a\u7684\u901a\u4fe1\u4f18\u5316\u7b56\u7565\u7cfb\u7edf\uff0c\u65e0\u8bba\u89c4\u6a21\u6216\u8de8\u8bbe\u5907\u5e26\u5bbd\u9650\u5236\u5982\u4f55\uff0c\u90fd\u80fd\u4e3a\u5927\u578b\u6a21\u578b\u8bad\u7ec3\u63d0\u4f9b\u65e0\u4e0e\u4f26\u6bd4\u7684\u6548\u7387\u3002\u6bd4 ZeRO-3 \u8bad\u7ec3\u901f\u5ea6\u63d0\u5347\u4e86\u7ea62\u500d\u7684\u52a0\u901f\u3002Zero++ Totorials \u63d0\u5230\u4e86\u4f7f\u7528 Megatron-DeepSpeed \u6846\u67b6\uff0c 4 \u4e2a 16 x V100\uff0832G\u663e\u5b58\uff09 \u8282\u70b9\uff0c\u6bcf\u4e2a\u8282\u70b9\u5177\u6709 32GB RAM\u3002 \u8bad\u7ec3\u4e8618B \u5927\u5c0f\u7684GPT-2  \u6a21\u578b\u3002</p> <p>\u65e0\u9700\u66f4\u6539\u7528\u6237\u4ee3\u7801\u3002\u7531\u4e8e ZeRO++ \u6269\u5c55\u4e86 ZeRO Stage 3 (ZeRO-3)\uff0c\u56e0\u6b64\u9700\u8981\u6dfb\u52a0\u9002\u5f53\u7684\u6807\u5fd7\u6765\u6fc0\u6d3b\u4e09\u4e2a ZeRO++ \u4e2d\u7684\u96c6\u5408\u901a\u4fe1\u3002</p> <ul> <li>zero_quantized_weights\uff1a\u5e03\u5c14\u503c\uff0c\u6307\u793a\u662f\u5426\u4f7f\u7528\u91cf\u5316\u96f6\u6743\u91cd\uff08qwZ\uff09\uff0c\u9ed8\u8ba4\u4e3a false</li> <li>zero_hpz_partition_size\uff1a hpZ\uff08\u8f85\u52a9\u5206\u533a\uff09\u7ec4\u4e2d\u7684Rank\u6570\uff0c\u9ed8\u8ba4\u4e3a1\u8868\u793a\u6ca1\u6709hpZ\uff0c\u7406\u60f3\u7684\u662f\u6bcf\u4e2a\u8282\u70b9\u7684Rank\u6570\uff08GPU\uff09\u3002</li> <li>zero_quantized_gradients: \u5e03\u5c14\u503c\uff0c\u6307\u793a\u662f\u5426\u4f7f\u7528\u91cf\u5316\u96f6\u68af\u5ea6\uff08qgZ\uff09\uff0c\u9ed8\u8ba4\u4e3a false\u3002</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>{\n    \"zero_optimization\": {\n        \"stage\": 3,\n        \"reduce_bucket_size\": 10000000,\n        \"reduce_scatter\": true,\n\n        # \u4e0b\u9762\u8fd9\u4e09\u4e2a\u662fZeRO++ \u96c6\u5408\u901a\u4fe1\u7684\u914d\u7f6e\n        \"zero_quantized_weights\": true,\n        \"zero_hpz_partition_size\": 16,\n        \"zero_quantized_gradients\": true,\n\n        \"contiguous_gradients\": true,\n        \"overlap_comm\": true\n    }\n}\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Zero.html#zero-offload","title":"ZeRO-Offload","text":"<p>ZeRO-Offload \u662f\u4e00\u79cd ZeRO \u4f18\u5316\uff0c\u53ef\u5c06\u4f18\u5316\u5668\u5185\u5b58\u548c\u8ba1\u7b97\u4ece GPU \u5378\u8f7d\u5230\u4e3b\u673a CPU\u3002 </p> <p>ZeRO-Offload \u652f\u6301\u5728\u5355\u4e2a GPU \u4e0a\u9ad8\u6548\u8bad\u7ec3\u5177\u6709\u591a\u8fbe 130 \u4ebf\u4e2a\u53c2\u6570\u7684\u5927\u578b\u6a21\u578b\u3002\u5728 DeepSpeed \u6a21\u578b\u4e2d\u4f7f\u7528 ZeRO-Offload \u53ea\u66f4\u6539 DeepSpeed \u914d\u7f6e json \u4e2d\u7684\u4e00\u4e9b\u914d\u7f6e\uff0c\u65e0\u9700\u66f4\u6539\u4ee3\u7801\u3002</p> <p>\u5bf9\u4e8e\u5927\u578b\u6a21\u578b\u8bad\u7ec3\uff0cAdam \u7b49\u4f18\u5316\u5668\u53ef\u80fd\u4f1a\u6d88\u8017\u5927\u91cf GPU \u8ba1\u7b97\u548c\u5185\u5b58\u3002 ZeRO-Offload \u901a\u8fc7\u5229\u7528\u4e3b\u673a CPU \u4e0a\u7684\u8ba1\u7b97\u548c\u5185\u5b58\u8d44\u6e90\u6765\u6267\u884c\u4f18\u5316\u5668\uff0c\u4ece\u800c\u964d\u4f4e\u6b64\u7c7b\u6a21\u578b\u7684 GPU \u8ba1\u7b97\u548c\u5185\u5b58\u9700\u6c42\u3002\u6b64\u5916\uff0c\u4e3a\u4e86\u9632\u6b62\u4f18\u5316\u5668\u6210\u4e3a\u74f6\u9888\uff0cZeRO-Offload \u4f7f\u7528 DeepSpeed \u9ad8\u5ea6\u4f18\u5316\u7684 Adam CPU \u5b9e\u73b0\uff08\u79f0\u4e3a DeepSpeedCPUAdam\uff09\u3002 DeepSpeedCPUAdam \u6bd4\u6807\u51c6 PyTorch \u5b9e\u73b0\u5feb 5 \u81f3 7 \u500d\u3002</p> <p>\u5728 ZeRO-Offload \u6559\u7a0b \u4e2d\u63d0\u5230\u53ef\u4f7f\u7528\u5355\u4e2a V100 (32GB) \u663e\u5361\u4e0a\u8bad\u7ec3 10B \u53c2\u6570\u7684 GPT-2 \u6a21\u578b\u3002</p> <p>Zero-2 offload <code>zero_optimization</code> \u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>{\n    \"zero_optimization\": {\n        \"stage\": 2,\n        \"offload_optimizer\": {\n            \"device\": \"cpu\",\n        },\n        \"contiguous_gradients\": true,\n        \"overlap_comm\": true\n    }\n}\n</code></pre> <p>\u4e0a\u9762\u63d0\u5230\u7684\u4e3b\u8981\u662fZeRO2-offload\uff0cZeRo-3 offload \u5305\u542b\u5728 ZeRO-Infinity \u4e2d\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Zero.html#zero-infinty","title":"ZeRO-Infinty","text":"<p>ZeRO-Infinity \u662f\u4e00\u79cd\u65b0\u9896\u7684\u6df1\u5ea6\u5b66\u4e60 (DL) \u8bad\u7ec3\u6280\u672f\uff0c\u7528\u4e8e\u6269\u5c55\u6a21\u578b\u8bad\u7ec3\uff0c\u4ece\u5355\u4e2a GPU \u5230\u5177\u6709\u6570\u5343\u4e2a GPU \u7684\u5927\u578b\u8d85\u7ea7\u8ba1\u7b97\u673a\u3002\u5b83\u901a\u8fc7\u5229\u7528\u7cfb\u7edf\u7684\u5168\u90e8\u5185\u5b58\u5bb9\u91cf\uff0c\u540c\u65f6\u5229\u7528\u6240\u6709\u5f02\u6784\u5185\u5b58\uff08GPU\u3001CPU \u548c\u975e\u6613\u5931\u6027\u5185\u5b58 Express \u6216\u7b80\u79f0 NVMe\uff09\uff0c\u4e3a\u524d\u6240\u672a\u6709\u7684\u6a21\u578b\u5927\u5c0f\u63d0\u4f9b\u652f\u6301\u3002</p> <ul> <li>\u63d0\u4f9b\u5728 512 \u4e2a NVIDIA V100 Tensor Core GPU\uff08\u6bd4\u73b0\u6709\u6280\u672f\u5927 50 \u500d\uff09\u4e0a\u8bad\u7ec3\u5177\u6709\u8d85\u8fc7 30 \u4e07\u4ebf\u4e2a\u53c2\u6570\u7684\u6a21\u578b\u7684\u7cfb\u7edf\u80fd\u529b\u3002</li> <li>\u901a\u8fc7\u65b0\u9896\u7684\u6570\u636e\u5206\u533a\u548c\u6620\u5c04\uff0c\u53ef\u5229\u7528\u805a\u5408 CPU/NVMe \u5185\u5b58\u5e26\u5bbd\u548c CPU \u8ba1\u7b97\uff0c\u63d0\u4f9b\u5353\u8d8a\u7684\u8bad\u7ec3\u6548\u7387\u548c\u8d85\u7ebf\u6027\u541e\u5410\u91cf\u6269\u5c55\uff0c\u5728 512 \u4e2a NVIDIA V100 GPU \u4e0a\u63d0\u4f9b\u8d85\u8fc7 25 petaflops \u7684\u6301\u7eed\u541e\u5410\u91cf\u3002</li> <li>\u901a\u8fc7\u5141\u8bb8\u4f7f\u7528\u5355\u4e2a GPU \u7684\u6570\u636e\u79d1\u5b66\u5bb6\u5fae\u8c03\u5927\u4e8e Open AI GPT-3\uff081750 \u4ebf\u4e2a\u53c2\u6570\uff09\u7684\u6a21\u578b\uff0c\u8fdb\u4e00\u6b65\u63a8\u52a8 DeepSpeed \u56e2\u961f\u5b9e\u73b0\u5927\u578b\u6a21\u578b\u8bad\u7ec3\u6c11\u4e3b\u5316\u7684\u4f7f\u547d\u3002</li> <li>\u901a\u8fc7\u4f7f\u5927\u578b\u6a21\u578b\u8bad\u7ec3\u53d8\u5f97\u66f4\u7b80\u5355\u3001\u66f4\u5bb9\u6613\uff0c\u6d88\u9664\u8fdb\u5165\u969c\u788d - ZeRO-Infinity \u53ef\u6269\u5c55\u5230\u8d85\u8fc7\u4e07\u4ebf\u4e2a\u53c2\u6570\uff0c\u65e0\u9700\u7ec4\u5408\u591a\u79cd\u5e76\u884c\u6280\u672f\u7684\u590d\u6742\u6027\uff0c\u4e5f\u65e0\u9700\u66f4\u6539\u7528\u6237\u4ee3\u7801\u3002\u636e\u6211\u4eec\u6240\u77e5\uff0c\u8fd9\u662f\u552f\u4e00\u80fd\u591f\u505a\u5230\u8fd9\u4e00\u70b9\u7684\u5e76\u884c\u6280\u672f\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Zero.html#zero-offload_1","title":"ZeRO-Offload++","text":"<p>ZeRO-Offload++\uff0c \u901a\u8fc7\u534f\u4f5c CPU/GPU \u53cc\u6d41\u5c06\u8bad\u7ec3\u541e\u5410\u91cf\u63d0\u9ad8 6 \u500d\u3002\u501f\u52a9 Twin-Flow\uff0cZeRO-Offload++ \u4e0e ZeRO-Offload \u76f8\u6bd4\u53ef\u5b9e\u73b0\u9ad8\u8fbe 6 \u500d\u7684\u8bad\u7ec3\u52a0\u901f\u3002</p> <p>DeepSpeed ZeRO-Offload++: 6x Higher Training Throughput via Collaborative CPU/GPU Twin-Flow \u63d0\u5230\u5bf9 A100 \u548c H100 DGX \u673a\u5668\u8fdb\u884c\u6027\u80fd\u8bc4\u4f30\uff0c\u5e76\u4f7f\u7528 13B \u548c 30B \u53c2\u6570\u6d4b\u8bd5 OPT \u6a21\u578b\u3002\u57288\u53f0A100 DGX\u673a\u5668\u4e0a\u8fd0\u884c13B OPT\u6a21\u578b\u8bad\u7ec3\uff0c\u5e76\u4f7f\u75288\u53f0H100 DGX\u673a\u5668\u8fd0\u884cOPT-30B\u6a21\u578b\u8bad\u7ec3\u3002\u901a\u8fc7\u5bf9 ZeRO-Offload++ \u4e2d\u7684\u5378\u8f7d\u7387\u8fdb\u884c\u4e00\u4e9b\u8c03\u6574\uff0c\u5728\u5355\u4e2a DGX-H100-80GB \u548c DGX-A100-40GB \u4e0a\u5206\u522b\u5b9e\u73b0\u4e86 Meta OPT \u6a21\u578b 6 \u500d\u548c 3 \u500d\u7684\u8bad\u7ec3\u52a0\u901f\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/Zero.html#_4","title":"\u53c2\u8003\u8fde\u63a5","text":"<ul> <li>ZeRO </li> <li>ZeRO-2 </li> <li>ZeRO-offload </li> <li>ZeRO3-offload </li> <li>ZrRO-Infinty </li> <li>ZrRO++ </li> <li>ZeRO-offload++</li> <li>Zero\u8bba\u6587</li> <li>ZeRO Infinity \u8bba\u6587</li> <li>DeepSpeed ZeRO Totorials</li> <li>DeepSpeed\u4e4bZeRO\u7cfb\u5217\uff1a\u5c06\u663e\u5b58\u4f18\u5316\u8fdb\u884c\u5230\u5e95</li> <li>\u5982\u4f55\u8bc4\u4ef7\u5fae\u8f6f\u5f00\u6e90\u7684\u5206\u5e03\u5f0f\u8bad\u7ec3\u6846\u67b6deepspeed\uff1f - \u731b\u733f\u7684\u56de\u7b54</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/deepseppd.html","title":"DeepSpeed","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/deepseppd.html#_1","title":"\u4e00\u3001\u5f15\u8a00","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/deepseppd.html#_2","title":"\u5b9a\u4e49\u4e0e\u80cc\u666f","text":"<p>\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u662f\u4e00\u79cd\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\uff0c\u5b83\u901a\u8fc7\u6784\u5efa\u591a\u5c42\u975e\u7ebf\u6027\u53d8\u6362\u7ed3\u6784\u6765\u5b9e\u73b0\u590d\u6742\u6570\u636e\u7684\u9ad8\u6548\u5b66\u4e60\u4e0e\u5904\u7406\u3002\u8fd9\u4e9b\u6a21\u578b\u6a21\u62df\u4eba\u8111\u795e\u7ecf\u7cfb\u7edf\u7684\u5de5\u4f5c\u539f\u7406\uff0c\u7531\u4e00\u7cfb\u5217\u76f8\u4e92\u8fde\u63a5\u7684\u8282\u70b9\uff08\u6216\u79f0\u4e3a\u795e\u7ecf\u5143\uff09\u7ec4\u6210\uff0c\u8fd9\u4e9b\u8282\u70b9\u5206\u5e03\u5728\u4e0d\u540c\u7684\u5c42\u6b21\u4e0a\u3002\u6bcf\u4e2a\u5c42\u6b21\u6267\u884c\u7279\u5b9a\u7684\u8ba1\u7b97\u4efb\u52a1\uff0c\u901a\u5e38\u662f\u4ece\u8f93\u5165\u6570\u636e\u4e2d\u9010\u6b65\u63d0\u53d6\u548c\u5b66\u4e60\u8d8a\u6765\u8d8a\u62bd\u8c61\u548c\u9ad8\u7ea7\u7684\u7279\u5f81\u8868\u793a\u3002</p> <p>\u5177\u4f53\u7279\u70b9\u5305\u62ec\uff1a</p> <ul> <li> <p>\u591a\u5c42\u6b21\u7ed3\u6784\uff1a\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u7684\u6838\u5fc3\u5728\u4e8e\u5176\u6df1\u5ea6\uff0c\u5373\u5305\u542b\u591a\u4e2a\u9690\u85cf\u5c42\u3002\u8f93\u5165\u5c42\u63a5\u6536\u539f\u59cb\u6570\u636e\uff08\u5982\u56fe\u50cf\u50cf\u7d20\u3001\u6587\u672c\u5b57\u7b26\u7b49\uff09\uff0c\u7ecf\u8fc7\u9010\u5c42\u975e\u7ebf\u6027\u53d8\u6362\u540e\uff0c\u4fe1\u606f\u5728\u5404\u5c42\u95f4\u4f20\u9012\u5e76\u4e0d\u65ad\u88ab\u63d0\u70bc\u3002\u9ad8\u5c42\u7279\u5f81\u5f80\u5f80\u5bf9\u5e94\u4e8e\u5bf9\u539f\u59cb\u6570\u636e\u7684\u9ad8\u7ea7\u8bed\u4e49\u6216\u6982\u5ff5\u7406\u89e3\u3002</p> </li> <li> <p>\u975e\u7ebf\u6027\u53d8\u6362\uff1a\u6bcf\u4e00\u5c42\u795e\u7ecf\u5143\u901a\u5e38\u901a\u8fc7\u6fc0\u6d3b\u51fd\u6570\uff08\u5982sigmoid\u3001ReLU\u7b49\uff09\u8fdb\u884c\u975e\u7ebf\u6027\u53d8\u6362\uff0c\u4f7f\u5f97\u6a21\u578b\u80fd\u591f\u6355\u6349\u590d\u6742\u7684\u6570\u636e\u5173\u7cfb\u548c\u6a21\u5f0f\uff0c\u8fd9\u662f\u7b80\u5355\u7ebf\u6027\u6a21\u578b\u6240\u65e0\u6cd5\u505a\u5230\u7684</p> </li> <li> <p>\u7279\u5f81\u5b66\u4e60\uff1a\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u80fd\u591f\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u81ea\u52a8\u5b66\u4e60\u548c\u63d0\u53d6\u6709\u7528\u7684\u7279\u5f81\uff0c\u65e0\u9700\u4eba\u4e3a\u8bbe\u8ba1\u590d\u6742\u7684\u7279\u5f81\u5de5\u7a0b\u3002\u4f4e\u5c42\u53ef\u80fd\u5b66\u4e60\u8fb9\u7f18\u3001\u7eb9\u7406\u7b49\u57fa\u672c\u7279\u5f81\uff0c\u800c\u9ad8\u5c42\u5219\u53ef\u80fd\u8bc6\u522b\u5bf9\u8c61\u90e8\u5206\u3001\u6574\u4f53\u7ed3\u6784\u751a\u81f3\u62bd\u8c61\u6982\u5ff5\u3002</p> </li> <li> <p>\u7aef\u5230\u7aef\u5b66\u4e60\uff1a\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u53ef\u4ee5\u4ece\u8f93\u5165\u76f4\u63a5\u6620\u5c04\u5230\u8f93\u51fa\uff0c\u5b9e\u73b0\u6574\u4e2a\u95ee\u9898\u7684\u7aef\u5230\u7aef\u89e3\u51b3\uff0c\u51cf\u5c11\u4e86\u4f20\u7edf\u65b9\u6cd5\u4e2d\u9700\u8981\u5206\u6b65\u5904\u7406\u548c\u96c6\u6210\u591a\u4e2a\u7ec4\u4ef6\u7684\u590d\u6742\u6027\u3002</p> </li> <li> <p>\u6cdb\u5316\u80fd\u529b\uff1a\u901a\u8fc7\u53cd\u5411\u4f20\u64ad\u7b97\u6cd5\u548c\u5927\u91cf\u7684\u6807\u6ce8\u6570\u636e\u8bad\u7ec3\uff0c\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u80fd\u591f\u5b66\u4e60\u5230\u6570\u636e\u7684\u5185\u5728\u89c4\u5f8b\uff0c\u5e76\u5177\u5907\u826f\u597d\u7684\u6cdb\u5316\u80fd\u529b\uff0c\u5373\u5728\u672a\u89c1\u8fc7\u7684\u6570\u636e\u4e0a\u4e5f\u80fd\u505a\u51fa\u5408\u7406\u7684\u9884\u6d4b\u6216\u51b3\u7b56\u3002</p> </li> </ul> <p>\u5e38\u89c1\u7684\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u7c7b\u578b\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a</p> <ul> <li> <p>\u6df1\u5ea6\u4fe1\u5ff5\u7f51\u7edc\uff08Deep Belief Networks, DBN\uff09\uff1a\u57fa\u4e8e\u53d7\u9650\u73bb\u5c14\u5179\u66fc\u673a\uff08Restricted Boltzmann Machines, RBMs\uff09\u6784\u5efa\u7684\u751f\u6210\u6a21\u578b\uff0c\u64c5\u957f\u65e0\u76d1\u7763\u9884\u8bad\u7ec3\u548c\u6709\u76d1\u7763\u5fae\u8c03\u3002</p> </li> <li> <p>\u5806\u53e0\u81ea\u52a8\u7f16\u7801\u5668\uff08Stacked Autoencoders, SAEs\uff09\uff1a\u901a\u8fc7\u5806\u53e0\u591a\u4e2a\u81ea\u52a8\u7f16\u7801\u5668\uff0c\u81ea\u5e95\u5411\u4e0a\u9010\u5c42\u8fdb\u884c\u7279\u5f81\u5b66\u4e60\u548c\u964d\u566a\uff0c\u5e38\u7528\u4e8e\u65e0\u76d1\u7763\u6216\u534a\u76d1\u7763\u5b66\u4e60\u3002</p> </li> <li> <p>\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\uff08Convolutional Neural Networks, CNNs\uff09\uff1a\u7279\u522b\u9002\u5408\u5904\u7406\u50cf\u56fe\u50cf\u3001\u89c6\u9891\u7b49\u5177\u6709\u7a7a\u95f4\u6216\u65f6\u95f4\u7ed3\u6784\u7684\u6570\u636e\uff0c\u901a\u8fc7\u5377\u79ef\u8fd0\u7b97\u6355\u6349\u5c40\u90e8\u7279\u5f81\u53ca\u5176\u5e73\u79fb\u4e0d\u53d8\u6027\u3002</p> </li> <li> <p>\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff08Recurrent Neural Networks, RNNs\uff09\uff1a\u64c5\u957f\u5904\u7406\u5e8f\u5217\u6570\u636e\uff0c\u80fd\u591f\u6355\u6349\u65f6\u95f4\u5e8f\u5217\u4e2d\u7684\u957f\u671f\u4f9d\u8d56\u5173\u7cfb\u3002\u5176\u4e2d\uff0c\u957f\u77ed\u671f\u8bb0\u5fc6\u7f51\u7edc\uff08Long Short-Term Memory, LSTM\uff09\u548c\u95e8\u63a7\u5faa\u73af\u5355\u5143\uff08Gated Recurrent Unit, GRU\uff09\u662fRNN\u7684\u53d8\u79cd\uff0c\u89e3\u51b3\u4e86\u8fdc\u8ddd\u79bb\u4f9d\u8d56\u5b66\u4e60\u7684\u95ee\u9898\u3002</p> </li> <li> <p>Transformer\u6a21\u578b\uff1a\u8fd1\u5e74\u6765\u5728\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7b49\u9886\u57df\u5360\u636e\u4e3b\u5bfc\u5730\u4f4d\u7684\u6a21\u578b\uff0c\u6452\u5f03\u4e86\u4f20\u7edf\u7684\u5faa\u73af\u7ed3\u6784\uff0c\u91c7\u7528\u81ea\u6ce8\u610f\u529b\u673a\u5236\u6355\u83b7\u8f93\u5165\u5e8f\u5217\u5185\u90e8\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5982BERT\u3001GPT\u7b49\u9884\u8bad\u7ec3\u8bed\u8a00\u6a21\u578b\u3002</p> </li> </ul> <p>\u5f15\u5165DeepSpeed\u6846\u67b6\uff0c\u5f3a\u8c03\u5176\u5728\u63d0\u5347\u5927\u6a21\u578b\u8bad\u7ec3\u6548\u7387\u3001\u964d\u4f4e\u8d44\u6e90\u9700\u6c42\u65b9\u9762\u7684\u4ef7\u503c</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/deepseppd.html#deepspeed_1","title":"\u4e8c\u3001DeepSpeed\u6846\u67b6\u6982\u8ff0","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/deepseppd.html#1","title":"1.  \u6846\u67b6\u7b80\u4ecb","text":"<p>DeepSpeed \u662f\u4e00\u4e2a\u6df1\u5ea6\u5b66\u4e60\u4f18\u5316\u5e93\uff0c\u4f7f\u5206\u5e03\u5f0f\u8bad\u7ec3\u548c\u63a8\u7406\u53d8\u5f97\u7b80\u5355\u3001\u9ad8\u6548\u3001\u6709\u6548\u3002</p> <p>DeepSpeed \u652f\u6301\u4e16\u754c\u4e0a\u6700\u5f3a\u5927\u7684\u8bed\u8a00\u6a21\u578b\uff0c\u4f8b\u5982 MT-530B \u548c BLOOM\u3002\u5b83\u662f\u4e00\u6b3e\u6613\u4e8e\u4f7f\u7528\u7684\u6df1\u5ea6\u5b66\u4e60\u4f18\u5316\u8f6f\u4ef6\u5957\u4ef6\uff0c\u53ef\u4e3a\u8bad\u7ec3\u548c\u63a8\u7406\u63d0\u4f9b\u524d\u6240\u672a\u6709\u7684\u89c4\u6a21\u548c\u901f\u5ea6\u3002</p> <p>\u501f\u52a9 DeepSpeed\uff0c\u53ef\u4ee5\uff1a</p> <ul> <li>\u8bad\u7ec3/\u63a8\u7406\u5177\u6709\u6570\u5341\u4ebf\u6216\u6570\u4e07\u4ebf\u53c2\u6570\u7684\u5bc6\u96c6\u6216\u7a00\u758f\u6a21\u578b</li> <li>\u5b9e\u73b0\u51fa\u8272\u7684\u7cfb\u7edf\u541e\u5410\u91cf\u5e76\u6709\u6548\u6269\u5c55\u5230\u6570\u5343\u4e2a GPU</li> <li>\u5728\u8d44\u6e90\u53d7\u9650\u7684 GPU \u7cfb\u7edf\u4e0a\u8fdb\u884c\u8bad\u7ec3/\u63a8\u7406</li> <li>\u5b9e\u73b0\u524d\u6240\u672a\u6709\u7684\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u541e\u5410\u91cf\u7684\u63a8\u7406</li> <li>\u4ee5\u4f4e\u6210\u672c\u5b9e\u73b0\u6781\u9650\u538b\u7f29\uff0c\u5b9e\u73b0\u65e0\u4e0e\u4f26\u6bd4\u7684\u63a8\u7406\u5ef6\u8fdf\u548c\u6a21\u578b\u5c3a\u5bf8\u51cf\u5c0f</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/deepseppd.html#2_deepspeed","title":"2. DeepSpeed \u7684\u56db\u5927\u521b\u65b0\u652f\u67f1","text":"<ol> <li>\u6838\u5fc3\u7279\u6027\u89e3\u6790<ul> <li>\u6781\u81f4\u5e76\u884c\u5316\uff1a\u4ecb\u7ecdDeepSpeed\u5982\u4f55\u5b9e\u73b0\u6a21\u578b\u5e76\u884c\u3001\u6570\u636e\u5e76\u884c\u3001\u6d41\u6c34\u7ebf\u5e76\u884c\u7b49\u591a\u7ef4\u5ea6\u5e76\u884c\u7b56\u7565\uff0c\u4ee5\u53caZeRO\u4f18\u5316\u5668\uff08\u5305\u62ecZeRO-Offload\uff09\u5728\u51cf\u5c11\u5185\u5b58\u5360\u7528\u3001\u63d0\u5347GPU\u5229\u7528\u7387\u4e0a\u7684\u4f5c\u7528</li> <li>\u9ad8\u6548\u901a\u4fe1\uff1a\u8bb2\u89e3DeepSpeed\u5bf9NCCL\u3001GLOO\u7b49\u901a\u4fe1\u5e93\u7684\u96c6\u6210\u4e0e\u4f18\u5316\uff0c\u4ee5\u53ca\u5176\u5728\u5206\u5e03\u5f0f\u8bad\u7ec3\u4e2d\u7684\u4f4e\u5ef6\u8fdf\u7279\u6027</li> <li>\u6df7\u5408\u7cbe\u5ea6\u8bad\u7ec3\uff1a\u9610\u8ff0DeepSpeed\u5bf9FP16\u3001BF16\u7b49\u6df7\u5408\u7cbe\u5ea6\u8ba1\u7b97\u7684\u652f\u6301\uff0c\u4ee5\u53ca\u81ea\u52a8\u6df7\u5408\u7cbe\u5ea6(Auto-MP)\u5bf9\u8bad\u7ec3\u901f\u5ea6\u548c\u5185\u5b58\u4f7f\u7528\u6548\u7387\u7684\u63d0\u5347</li> <li>\u5176\u4ed6\u9ad8\u7ea7\u529f\u80fd\uff1a\u5982\u52a8\u6001\u56fe\u5c42\u878d\u5408\u3001\u68af\u5ea6\u7d2f\u79ef\u3001\u6a21\u578b\u526a\u679d\u3001\u91cf\u5316\u7b49\u6280\u672f\u5728\u63d0\u9ad8\u8bad\u7ec3\u6548\u7387\u3001\u51cf\u5c0f\u6a21\u578b\u5927\u5c0f\u65b9\u9762\u7684\u5e94\u7528</li> </ul> </li> </ol> <p>\u4e09\u3001DeepSpeed\u5728\u5927\u8bed\u8a00\u6a21\u578b\u5f00\u53d1\u4e2d\u7684\u5e94\u7528\u5b9e\u8df5</p> <ol> <li>\u6848\u4f8b\u5206\u6790<ul> <li>\u9009\u53d6\u5178\u578b\u7684\u5927\u89c4\u6a21\u8bed\u8a00\u6a21\u578b\u9879\u76ee\uff08\u5982GPT-3\u3001BERT\u7b49\uff09\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u4f7f\u7528DeepSpeed\u8fdb\u884c\u8bad\u7ec3\u7684\u5177\u4f53\u6d41\u7a0b\u3001\u914d\u7f6e\u53c2\u6570\u4e0e\u6027\u80fd\u63d0\u5347\u6548\u679c</li> <li>\u5c55\u793aDeepSpeed\u5728\u5e94\u5bf9\u8d85\u5927\u89c4\u6a21\u6a21\u578b\uff08\u5982\u4e07\u4ebf\u53c2\u6570\u7ea7\u522b\uff09\u65f6\u7684\u72ec\u7279\u4f18\u52bf\u548c\u89e3\u51b3\u65b9\u6848</li> </ul> </li> <li>\u5de5\u5177\u94fe\u96c6\u6210<ul> <li>\u63cf\u8ff0DeepSpeed\u4e0e\u4e3b\u6d41\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff08\u5982PyTorch\u3001TensorFlow\uff09\u7684\u65e0\u7f1d\u5bf9\u63a5\u65b9\u5f0f</li> <li>\u8ba8\u8bba\u5982\u4f55\u5728Hugging Face Transformers\u3001Fairseq\u7b49NLP\u5e93\u4e2d\u8f7b\u677e\u542f\u7528DeepSpeed\u652f\u6301</li> </ul> </li> <li>\u57fa\u7840\u8bbe\u65bd\u9002\u5e94\u6027<ul> <li>\u5206\u6790DeepSpeed\u5728\u4e0d\u540c\u786c\u4ef6\u73af\u5883\uff08\u5355\u5361\u3001\u591a\u5361\u3001\u591a\u8282\u70b9\u3001\u5f02\u6784\u8bbe\u5907\uff09\u4e0b\u7684\u90e8\u7f72\u7b56\u7565\u4e0e\u6027\u80fd\u8868\u73b0</li> <li>\u63a2\u8ba8\u4e91\u670d\u52a1\u5546\uff08\u5982Azure\u3001AWS\u3001Google Cloud\uff09\u63d0\u4f9b\u7684DeepSpeed\u4f18\u5316\u670d\u52a1\u4e0e\u5b9e\u4f8b\u7c7b\u578b\u9009\u62e9\u5efa\u8bae</li> </ul> </li> </ol> <p>\u56db\u3001DeepSpeed\u6700\u4f73\u5b9e\u8df5\u4e0e\u8c03\u4f18\u6280\u5de7</p> <ol> <li>\u7cfb\u7edf\u914d\u7f6e\u4e0e\u73af\u5883\u51c6\u5907<ul> <li>\u6307\u5bfc\u5982\u4f55\u5b89\u88c5DeepSpeed\u53ca\u4f9d\u8d56\u9879\uff0c\u914d\u7f6eCUDA\u3001NCCL\u7b49\u73af\u5883\u53d8\u91cf</li> <li>\u63d0\u4f9b\u68c0\u67e5\u4e0e\u8bca\u65ad\u5de5\u5177\u7684\u4f7f\u7528\u6559\u7a0b\uff0c\u786e\u4fdd\u7cfb\u7edf\u6ee1\u8db3DeepSpeed\u9ad8\u6548\u8fd0\u884c\u7684\u8981\u6c42</li> </ul> </li> <li>\u8bad\u7ec3\u811a\u672c\u8c03\u6574\u4e0e\u53c2\u6570\u4f18\u5316<ul> <li>\u89e3\u8bfbDeepSpeed\u914d\u7f6e\u6587\u4ef6\u7684\u5173\u952e\u9009\u9879\u53ca\u5176\u5bf9\u8bad\u7ec3\u6027\u80fd\u7684\u5f71\u54cd</li> <li>\u5206\u4eab\u5e38\u89c1\u8bad\u7ec3\u95ee\u9898\uff08\u5982\u5185\u5b58\u6ea2\u51fa\u3001\u901a\u4fe1\u74f6\u9888\u3001\u7cbe\u5ea6\u635f\u5931\u7b49\uff09\u7684\u6392\u67e5\u65b9\u6cd5\u4e0e\u89e3\u51b3\u7b56\u7565</li> </ul> </li> <li>\u6301\u7eed\u76d1\u63a7\u4e0e\u6027\u80fd\u8bc4\u4f30<ul> <li>\u63a8\u8350\u4f7f\u7528TensorBoard\u3001Weights &amp; Biases\u7b49\u5de5\u5177\u76d1\u6d4b\u8bad\u7ec3\u8fdb\u5ea6\u3001\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\u4e0e\u6a21\u578b\u6027\u80fd</li> <li>\u9610\u8ff0\u5982\u4f55\u901a\u8fc7\u8c03\u6574DeepSpeed\u53c2\u6570\u6216\u91c7\u7528\u65b0\u7279\u6027\u6765\u8fdb\u4e00\u6b65\u4f18\u5316\u6a21\u578b\u8bad\u7ec3\u6548\u7387</li> </ul> </li> </ol> <p>\u4e94\u3001\u672a\u6765\u5c55\u671b\u4e0e\u793e\u533a\u53c2\u4e0e</p> <ol> <li>DeepSpeed\u53d1\u5c55\u52a8\u6001<ul> <li>\u6982\u8ff0DeepSpeed\u8fd1\u671f\u91cd\u8981\u66f4\u65b0\u3001\u65b0\u589e\u529f\u80fd\u53ca\u672a\u6765\u7814\u53d1\u65b9\u5411</li> <li>\u5206\u6790DeepSpeed\u5728\u5e94\u5bf9\u66f4\u5927\u89c4\u6a21\u6a21\u578b\u3001\u66f4\u590d\u6742\u4efb\u52a1\u3001\u66f4\u4f4e\u8ba1\u7b97\u6210\u672c\u7b49\u65b9\u9762\u7684\u6f5c\u529b\u4e0e\u6311\u6218</li> </ul> </li> <li>\u793e\u533a\u8d21\u732e\u4e0e\u534f\u4f5c<ul> <li>\u9f13\u52b1\u56e2\u961f\u6210\u5458\u79ef\u6781\u53c2\u4e0eDeepSpeed\u793e\u533a\uff0c\u63d0\u4ea4\u95ee\u9898\u3001\u5206\u4eab\u7ecf\u9a8c\u3001\u8d21\u732e\u4ee3\u7801</li> <li>\u63d0\u4f9b\u53c2\u4e0eGitHub\u8ba8\u8bba\u3001\u63d0\u4ea4Pull Request\u3001\u53c2\u52a0\u7ebf\u4e0a\u7814\u8ba8\u4f1a\u7b49\u6d3b\u52a8\u7684\u6307\u5357</li> </ul> </li> </ol> <p>\u516d\u3001\u7ed3\u8bba</p> <ol> <li>\u603b\u7ed3DeepSpeed\u7684\u6838\u5fc3\u4ef7\u503c\u4e0e\u5e94\u7528\u4f18\u52bf<ul> <li>\u5f3a\u8c03DeepSpeed\u5728\u63a8\u52a8\u5927\u8bed\u8a00\u6a21\u578b\u8bad\u7ec3\u6548\u7387\u63d0\u5347\u3001\u8d44\u6e90\u6210\u672c\u964d\u4f4e\u65b9\u9762\u7684\u5173\u952e\u4f5c\u7528</li> <li>\u9f13\u821e\u56e2\u961f\u79ef\u6781\u62e5\u62b1DeepSpeed\uff0c\u4ee5\u5e94\u5bf9\u65e5\u76ca\u589e\u957f\u7684\u6a21\u578b\u89c4\u6a21\u4e0e\u8ba1\u7b97\u9700\u6c42\u6311\u6218</li> </ul> </li> </ol>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%85%A8%E9%87%8F%E9%A2%84%E8%AE%AD%E7%BB%83Atom-7B%E8%AE%B0%E5%BD%95.html","title":"\u5168\u91cf\u8bad\u7ec3 ATOM-7B \u8bb0\u5f55","text":"<p>\u7f16\u8bd1 deepspeed fuse_adam\u5931\u8d25\uff0c\u5347\u7ea7\u5230GCC 11.2 \u4e4b\u540e\u5b89\u88c5 deepspeed:</p> <pre><code># \u53ea\u7f16\u8bd1 fuse_adam\nDS_BUILD_FUSED_ADAM=1  pip install deepspeed \n# \u7f16\u8bd1 DS_BUILD_CPU_ADAM \nDS_BUILD_CPU_ADAM=1 pip install deepspeed\n# \u7f16\u8bd1\u6240\u6709 \u6a21\u5757\nDS_BUILD_OPS=1  pip install deepspeed\n\n# \u52a0\u901f\u6784\u5efa\nDS_BUILD_OPS=1 pip install deepspeed --global-option=\"build_ext\" --global-option=\"-j96\"\n\n# \u7f16\u8bd1 fuse_adam cpu_adam\nDS_BUILD_FUSED_ADAM=1   DS_BUILD_CPU_ADAM=1 pip install deepspeed  --global-option=\"build_ext\" --global-option=\"-j96\"\n</code></pre> <p>\u63d0\u793a CUDA 11.4 \u652f\u6301\u7684GCC \u7248\u672c\u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e 6.0 \u5c0f\u4e8e 11.0\u3002</p> <p>\u5c06GCC\u5207\u6362\u6210 GCC 8</p> <pre><code>sudo yum install -y devtoolset-8-toolchain\nscl enable devtoolset-8 bash\n</code></pre> <p>\u7136\u540e\u63a5\u7740\u6267\u884c\uff1a</p> <pre><code>DS_BUILD_FUSED_ADAM=1 pip install deepspeed\n</code></pre> <p>\u6267\u884c\u6210\u529f\u4e4b\u540e\u4f7f\u7528</p> <pre><code>ds_report\n</code></pre> <p>\u67e5\u770b\u7ed3\u679c\uff0cfused_adam installed \u663e\u793a\u4e3a YES \u8bf4\u660e\u5b89\u88c5\u6210\u529f\uff1a</p> <p></p> <p>\u7136\u540e\u6267\u884c</p> <pre><code>bash bash pretrain.sh\n</code></pre> <p>\u63d0\u793a<code>No module named 'torchdata'</code>,</p> <p>\u4f7f\u7528 pip \u5b89\u88c5\uff1a</p> <pre><code>pip install torchdata\n</code></pre> <p>\u518d\u6b21\u6267\u884c\uff1a</p> <pre><code>bash bash pretrain.sh\n</code></pre> <p>\u62a5\u9519\uff1a</p> <pre><code>Traceback (most recent call last):\n  File \"/data/litao/workspace/Llama2-Chinese-main/train/pretrain/pretrain_clm.py\", line 612, in &lt;module&gt;\n    main()\n  File \"/data/litao/workspace/Llama2-Chinese-main/train/pretrain/pretrain_clm.py\", line 235, in main\n    model_args, data_args, training_args = parser.parse_args_into_dataclasses()\n  File \"/root/anaconda3/envs/dis/lib/python3.10/site-packages/transformers/hf_argparser.py\", line 338, in parse_args_into_dataclasses\n    obj = dtype(**inputs)\n  File \"&lt;string&gt;\", line 112, in __init__\n  File \"/root/anaconda3/envs/dis/lib/python3.10/site-packages/transformers/training_args.py\", line 1329, in __post_init__\n    raise ValueError(\nValueError: Your setup doesn't support bf16/gpu. You need torch&gt;=1.10, using Ampere GPU with cuda&gt;=11.0\nTraceback (most recent call last):\n  File \"/data/litao/workspace/Llama2-Chinese-main/train/pretrain/pretrain_clm.py\", line 612, in &lt;module&gt;\n    main()\n  File \"/data/litao/workspace/Llama2-Chinese-main/train/pretrain/pretrain_clm.py\", line 235, in main\n    model_args, data_args, training_args = parser.parse_args_into_dataclasses()\n  File \"/root/anaconda3/envs/dis/lib/python3.10/site-packages/transformers/hf_argparser.py\", line 338, in parse_args_into_dataclasses\n    obj = dtype(**inputs)\n  File \"&lt;string&gt;\", line 112, in __init__\n  File \"/root/anaconda3/envs/dis/lib/python3.10/site-packages/transformers/training_args.py\", line 1329, in __post_init__\n    raise ValueError(\nValueError: Your setup doesn't support bf16/gpu. You need torch&gt;=1.10, using Ampere GPU with cuda&gt;=11.0\n</code></pre> <p>\u8fd9\u4e2a\u62a5\u9519\u662fv100\u4e0d\u652f\u6301bf16, \u5c06\u8bad\u7ec3\u7cbe\u5ea6\u8bbe\u7f6e\u6210float16\u5c31\u4e0d\u62a5\u8fd9\u4e2a\u9519\u4e86\u3002</p> <p>\u7136\u540e\u4e24\u5f20A100\u548c\u4e24\u5f20v100\u90fd\u62a5CUDA OOM\u7684\u9519\u8bef\u3002</p> <p>\u6240\u6709\u5c1d\u8bd5\u591a\u673a\u591a\u5361 </p> <p>\u65b0\u5efa\u4e00\u4e2ahostfile.txt\uff0c\u5185\u5bb9\u683c\u5f0f\u5982\u4e0b\uff1a\u524d\u9762\u662f\u670d\u52a1\u5668\u7684IP\u5730\u5740\uff0cslots\u8868\u793a\u670d\u52a1\u5668\u4e0a\u7684\u663e\u5361\u6570\u91cf\u3002</p> <pre><code>1.1.1.1 slots=2\n2.2.2.2 slots=2\n</code></pre> <p>\u7136\u540e\u5728\u542f\u52a8\u547d\u4ee4\u52a0\u4e0a <code>--hostfile=hostfile.txt</code>\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>deepspeed --hostfile=hostfile.txt pretrain_clm.py \\\n    --model_name_or_path /data/other_projects/Atom-7B \\\n   \u5176\u4ed6\u53c2\u6570.......\n</code></pre> <p>\u7136\u540e\u5728\u4e3b\u8282\u70b9\u4e0a\u6267\u884c\uff0c\u63d0\u793a\u65e0\u6cd5\u901a\u8fc7ssh\u8fde\u63a5\u4e3b\u8282\u70b9\uff0c\u9700\u8981\u5728\u4e3b\u8282\u70b9\u4e0a\u5bf9\u81ea\u5df1ssh\u514d\u5bc6\u3002</p> <p>\u62a5\u9519<code>RuntimeError: launcher 'pdsh' not installed.</code></p> <p>\u5728\u4e24\u53f0\u670d\u52a1\u5668\u90fd\u9700\u8981\u5b89\u88c5<code>pdsh</code></p> <pre><code>yum install -y pdsh\n</code></pre> <p>\u5728\u5176\u4e2d\u4e00\u53f0\u670d\u52a1\u5668\u4e2d\u5b89\u88c5pdsh\u62a5\u9519<code>No matches found for: pdsh</code></p> <p>\u9700\u8981\u6dfb\u52a0\u963f\u91cc\u4e91\u7684<code>epel.repo</code>\u5230 <code>/etc/yum.repos.d</code>\u76ee\u5f55\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>[epel]\nname=Extra Packages for Enterprise Linux 7 - $basearch\nbaseurl=http://mirrors.aliyun.com/epel/7/$basearch\nfailovermethod=priority\nenabled=1\ngpgcheck=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\n\n[epel-debuginfo]\nname=Extra Packages for Enterprise Linux 7 - $basearch - Debug\nbaseurl=http://mirrors.aliyun.com/epel/7/$basearch/debug\nfailovermethod=priority\nenabled=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\ngpgcheck=0\n\n[epel-source]\nname=Extra Packages for Enterprise Linux 7 - $basearch - Source\nbaseurl=http://mirrors.aliyun.com/epel/7/SRPMS\nfailovermethod=priority\nenabled=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\ngpgcheck=0\n</code></pre> <p>\u7136\u540e\u6267\u884c</p> <pre><code>yum update -y\nyum makecache\nyum install pdsh -y\n</code></pre> <p>\u7136\u540e\u63d0\u793a\u7b2c\u4e8c\u53f0\u670d\u52a1\u5668\u627e\u4e0d\u5230Python\u548c\u6a21\u578b\uff0c\u6240\u6709\u9700\u8981\u4e24\u53f0\u670d\u52a1\u5668\u4e0a\u7684conda\u8def\u5f84\u548c\u9879\u76ee\u548c\u6a21\u578b\u90fd\u5fc5\u987b\u662f\u540c\u4e00\u4e2a\u8def\u5f84\u3002</p> <p>\u7136\u540e\u6267\u884c\u62a5\u9519\uff1a</p> <pre><code>================================================ERROR=====================================\nCUDA SETUP: CUDA detection failed! Possible reasons:\n1. CUDA driver not installed\n2. CUDA not installed\n3. You have multiple conflicting CUDA libraries\n4. Required library not pre-compiled for this bitsandbytes release!\nCUDA SETUP: If you compiled from source, try again with `make CUDA_VERSION=DETECTED_CUDA_VERSION` for example, `make CUDA_VERSION=113`.\nCUDA SETUP: The CUDA version for the compile might depend on your conda install. Inspect CUDA version via `conda list | grep cuda`.\n================================================================================\n\nCUDA SETUP: Something unexpected happened. Please compile from source:\ngit clone git@github.com:TimDettmers/bitsandbytes.git\ncd bitsandbytes\nCUDA_VERSION=114 make cuda11x\npython setup.py install\nCUDA SETUP: Setup Failed!\nTraceback (most recent call last):\n  File \"/root/miniconda3/envs/dis/lib/python3.10/runpy.py\", line 187, in _run_module_as_main\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\n  File \"/root/miniconda3/envs/dis/lib/python3.10/runpy.py\", line 146, in _get_module_details\n    return _get_module_details(pkg_main_name, error)\n  File \"/root/miniconda3/envs/dis/lib/python3.10/runpy.py\", line 110, in _get_module_details\n    __import__(pkg_name)\n  File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/__init__.py\", line 6, in &lt;module&gt;\n    from . import cuda_setup, utils, research\n  File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/research/__init__.py\", line 1, in &lt;module&gt;\n    from . import nn\n  File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/research/nn/__init__.py\", line 1, in &lt;module&gt;\n    from .modules import LinearFP8Mixed, LinearFP8Global\n  File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/research/nn/modules.py\", line 8, in &lt;module&gt;\n    from bitsandbytes.optim import GlobalOptimManager\n  File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/optim/__init__.py\", line 6, in &lt;module&gt;\n    from bitsandbytes.cextension import COMPILED_WITH_CUDA\n  File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/cextension.py\", line 20, in &lt;module&gt;\n    raise RuntimeError('''\nRuntimeError: \n        CUDA Setup failed despite GPU being available. Please run the following command to get more information:\n\n        python -m bitsandbytes\n\n        Inspect the output of the command and see if you can locate CUDA libraries. You might need to add them\n        to your LD_LIBRARY_PATH. If you suspect a bug, please take the information from python -m bitsandbytes\n        and open an issue at: https://github.com/TimDettmers/bitsandbytes/issues\n</code></pre> <p>\u9700\u8981\u66f4\u65b0\u4e00\u4e0b<code>bitsandbytes</code>\u5230\u6700\u65b0\u7248\u672c\uff0c\u4e4b\u524d\u662f<code>0.39.0</code>\uff0c\u66f4\u65b0\u540e\u662f<code>bitsandbytes-0.42.0</code>\uff1a</p> <pre><code>pip install -U bitsandbytes\n</code></pre> <p>\u7136\u540e\u6267\u884c\uff1a</p> <pre><code>python -m bitsandbytes\n</code></pre> <p>\u5982\u679c\u62a5\u9519</p> <pre><code>False\n\n===================================BUG REPORT===================================\n/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/cuda_setup/main.py:167: UserWarning: Welcome to bitsandbytes. For bug reports, please run\n\npython -m bitsandbytes\n\n\n  warn(msg)\n================================================================================\n/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/cuda_setup/main.py:167: UserWarning: /root/miniconda3/envs/dis did not contain ['libcudart.so', 'libcudart.so.11.0', 'libcudart.so.12.0'] as expected! Searching further paths...\n  warn(msg)\n/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/cuda_setup/main.py:167: UserWarning: Found duplicate ['libcudart.so', 'libcudart.so.11.0', 'libcudart.so.12.0'] files: {PosixPath('/usr/local/cuda-11.4/lib64/libcudart.so'), PosixPath('/usr/local/cuda-11.4/lib64/libcudart.so.11.0')}.. We select the PyTorch default libcudart.so, which is {torch.version.cuda},but this might missmatch with the CUDA version that is needed for bitsandbytes.To override this behavior set the BNB_CUDA_VERSION=&lt;version string, e.g. 122&gt; environmental variableFor example, if you want to use the CUDA version 122BNB_CUDA_VERSION=122 python ...OR set the environmental variable in your .bashrc: export BNB_CUDA_VERSION=122In the case of a manual override, make sure you set the LD_LIBRARY_PATH, e.g.export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda-11.2\n  warn(msg)\n/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/cuda_setup/main.py:167: UserWarning: /usr/local/cuda-11.4/lib64 did not contain ['libcudart.so', 'libcudart.so.11.0', 'libcudart.so.12.0'] as expected! Searching further paths...\n  warn(msg)\nThe following directories listed in your path were found to be non-existent: {PosixPath('/opt/rh/devtoolset-7/root/usr/share/perl5/vendor_perl'), PosixPath('/opt/rh/devtoolset-7/root/usr/lib/perl5')}\nThe following directories listed in your path were found to be non-existent: {PosixPath(\"/bin/scl enable devtoolset-8  'scl' 'enable' 'devtoolset-7' 'bash'\")}\nThe following directories listed in your path were found to be non-existent: {PosixPath('/opt/rh/devtoolset-7/root/usr/lib/python2.7/site-packages'), PosixPath('/opt/rh/devtoolset-7/root/usr/lib64/python2.7/site-packages')}\nThe following directories listed in your path were found to be non-existent: {PosixPath('/opt/rh/devtoolset-8/root/usr/lib64/pkgconfig')}\nCUDA_SETUP: WARNING! libcudart.so not found in any environmental path. Searching in backup paths...\n/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/cuda_setup/main.py:167: UserWarning: Found duplicate ['libcudart.so', 'libcudart.so.11.0', 'libcudart.so.12.0'] files: {PosixPath('/usr/local/cuda/lib64/libcudart.so'), PosixPath('/usr/local/cuda/lib64/libcudart.so.11.0')}.. We select the PyTorch default libcudart.so, which is {torch.version.cuda},but this might missmatch with the CUDA version that is needed for bitsandbytes.To override this behavior set the BNB_CUDA_VERSION=&lt;version string, e.g. 122&gt; environmental variableFor example, if you want to use the CUDA version 122BNB_CUDA_VERSION=122 python ...OR set the environmental variable in your .bashrc: export BNB_CUDA_VERSION=122In the case of a manual override, make sure you set the LD_LIBRARY_PATH, e.g.export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda-11.2\n  warn(msg)\nDEBUG: Possible options found for libcudart.so: {PosixPath('/usr/local/cuda/lib64/libcudart.so'), PosixPath('/usr/local/cuda/lib64/libcudart.so.11.0')}\nCUDA SETUP: PyTorch settings found: CUDA_VERSION=117, Highest Compute Capability: 7.0.\nCUDA SETUP: To manually override the PyTorch CUDA version please see:https://github.com/TimDettmers/bitsandbytes/blob/main/how_to_use_nonpytorch_cuda.md\n/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/cuda_setup/main.py:167: UserWarning: WARNING: Compute capability &lt; 7.5 detected! Only slow 8-bit matmul is supported for your GPU!                     If you run into issues with 8-bit matmul, you can try 4-bit quantization: https://huggingface.co/blog/4bit-transformers-bitsandbytes\n  warn(msg)\nCUDA SETUP: Loading binary /root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/libbitsandbytes_cuda117_nocublaslt.so...\n/lib64/libstdc++.so.6: version `CXXABI_1.3.9' not found (required by /root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/libbitsandbytes_cuda117_nocublaslt.so)\nCUDA SETUP: Something unexpected happened. Please compile from source:\ngit clone https://github.com/TimDettmers/bitsandbytes.git\ncd bitsandbytes\nCUDA_VERSION=117 make cuda11x_nomatmul\npython setup.py install\nTraceback (most recent call last):\n  File \"/root/miniconda3/envs/dis/lib/python3.10/runpy.py\", line 187, in _run_module_as_main\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\n  File \"/root/miniconda3/envs/dis/lib/python3.10/runpy.py\", line 146, in _get_module_details\n    return _get_module_details(pkg_main_name, error)\n  File \"/root/miniconda3/envs/dis/lib/python3.10/runpy.py\", line 110, in _get_module_details\n    __import__(pkg_name)\n  File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/__init__.py\", line 6, in &lt;module&gt;\n    from . import cuda_setup, utils, research\n  File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/research/__init__.py\", line 1, in &lt;module&gt;\n    from . import nn\n  File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/research/nn/__init__.py\", line 1, in &lt;module&gt;\n    from .modules import LinearFP8Mixed, LinearFP8Global\n  File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/research/nn/modules.py\", line 8, in &lt;module&gt;\n    from bitsandbytes.optim import GlobalOptimManager\n  File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/optim/__init__.py\", line 6, in &lt;module&gt;\n    from bitsandbytes.cextension import COMPILED_WITH_CUDA\n  File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/cextension.py\", line 20, in &lt;module&gt;\n    raise RuntimeError('''\nRuntimeError: \n        CUDA Setup failed despite GPU being available. Please run the following command to get more information:\n\n        python -m bitsandbytes\n\n        Inspect the output of the command and see if you can locate CUDA libraries. You might need to add them\n        to your LD_LIBRARY_PATH. If you suspect a bug, please take the information from python -m bitsandbytes\n        and open an issue at: https://github.com/TimDettmers/bitsandbytes/issues\n</code></pre> <p>\u9700\u8981\u5c06<code>/root/miniconda3/lib</code>\u52a0\u5165\u5230<code>LD_LIBRARY_PATH</code>\u4e2d\uff1a</p> <p>\u5728<code>.bashrc</code>\u4e2d\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>export PATH=/usr/local/cuda-11.4/bin${PATH:+:${PATH}}\nexport LD_LIBRARY_PATH=/usr/local/cuda-11.4/lib64:/root/miniconda3/lib\nexport CUDA_HOME=/usr/local/cuda-11.4\n</code></pre> <p>\u51fa\u73b0<code>SUCCESS</code>\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p></p> <p>\u5355\u673a\u591a\u5361 v100\u548c\u5355\u673a\u591a\u5361A100\u90fd\u5931\u8d25\u4e86\uff0c\u90fd\u62a5\u9519 CUDA OOM\u3002</p> <p>\u6700\u7ec8\u4f7f\u7528\u591a\u673a\u591a\u5361+<code>Zero 3</code>\u624d\u8fd0\u884c\u751f\u6210\u3002\u4f7f\u7528A100 * 2\u548cV100 *2 \u624d\u8fd0\u884c\u6210\u529f\u3002</p> <p>\u9996\u5148\u6dfb\u52a0\u4e00\u4e2a<code>hostfile</code>:</p> <pre><code>10.113.75.134 slots=2\n10.168.144.5 slots=2\n</code></pre> <p>\u7136\u540e\u5728<code>pretrain.sh</code>\u4e2d\u6dfb\u52a0<code>hostfile</code>\u53c2\u6570.\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>output_model=/data/other_projects/Llama2-Chinese-main/train/pretrain/output_model\nif [ ! -d ${output_model} ];then  \n    mkdir ${output_model}\nfi\ncp ./pretrain.sh ${output_model}\ncp ./ds_config_zero*.json ${output_model}\n\ndeepspeed --hostfile=hostfile.txt pretrain_clm.py \\\n    --model_name_or_path /data/other_projects/Atom-7B \\\n    --train_files ../../data/train_sft.csv \\\n    --validation_files  ../../data/dev_sft.csv \\\n                         ../../data/dev_sft_sharegpt.csv \\\n    --per_device_train_batch_size 1 \\\n    --per_device_eval_batch_size 1 \\\n    --do_train \\\n    --output_dir ${output_model} \\\n    --evaluation_strategy  steps \\\n    --use_fast_tokenizer false \\\n    --max_eval_samples 500 \\\n    --learning_rate 3e-5 \\\n    --gradient_accumulation_steps 4 \\\n    --num_train_epochs 3 \\\n    --warmup_steps 10000 \\\n    --logging_dir ${output_model}/logs \\\n    --logging_strategy steps \\\n    --logging_steps 2 \\\n    --save_strategy steps \\\n    --preprocessing_num_workers 10 \\\n    --save_steps 500 \\\n    --eval_steps 500 \\\n    --save_total_limit 2000 \\\n    --seed 42 \\\n    --disable_tqdm false \\\n    --ddp_find_unused_parameters false \\\n    --block_size 4096 \\\n    --overwrite_output_dir \\\n    --report_to tensorboard \\\n    --run_name ${output_model} \\\n    --torch_dtype float16 \\\n    --gradient_checkpointing \\\n    --deepspeed ./ds_config_zero3.json \\\n    --ignore_data_skip true \\\n    --ddp_timeout 18000000 \\\n    | tee -a ${output_model}/train.log\n\n    # --resume_from_checkpoint ${output_model}/checkpoint-20400 \\\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html","title":"\u5206\u5e03\u5f0f\u5927\u6a21\u578b\u8bad\u7ec3\u5b66\u4e60\u8bb0\u5f55","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_2","title":"\u8d44\u6599\u6574\u7406","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_3","title":"\u6587\u6863","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#llm","title":"LLM\u5206\u5e03\u5f0f\u8bad\u7ec3\u5e76\u884c\u6280\u672f","text":"<ul> <li>\u5927\u6a21\u578b\u5206\u5e03\u5f0f\u8bad\u7ec3\u5e76\u884c\u6280\u672f\uff08\u4e00\uff09-\u6982\u8ff0</li> <li>\u5927\u6a21\u578b\u5206\u5e03\u5f0f\u8bad\u7ec3\u5e76\u884c\u6280\u672f\uff08\u4e8c\uff09-\u6570\u636e\u5e76\u884c</li> <li>\u5927\u6a21\u578b\u5206\u5e03\u5f0f\u8bad\u7ec3\u5e76\u884c\u6280\u672f\uff08\u4e09\uff09-\u6d41\u6c34\u7ebf\u5e76\u884c</li> <li>\u5927\u6a21\u578b\u5206\u5e03\u5f0f\u8bad\u7ec3\u5e76\u884c\u6280\u672f\uff08\u56db\uff09-\u5f20\u91cf\u5e76\u884c</li> <li>\u5927\u6a21\u578b\u5206\u5e03\u5f0f\u8bad\u7ec3\u5e76\u884c\u6280\u672f\uff08\u4e94\uff09-\u5e8f\u5217\u5e76\u884c</li> <li>\u5927\u6a21\u578b\u5206\u5e03\u5f0f\u8bad\u7ec3\u5e76\u884c\u6280\u672f\uff08\u516d\uff09-\u591a\u7ef4\u6df7\u5408\u5e76\u884c</li> <li>\u5927\u6a21\u578b\u5206\u5e03\u5f0f\u8bad\u7ec3\u5e76\u884c\u6280\u672f\uff08\u4e03\uff09-\u81ea\u52a8\u5e76\u884c</li> <li>\u5927\u6a21\u578b\u5206\u5e03\u5f0f\u8bad\u7ec3\u5e76\u884c\u6280\u672f\uff08\u516b\uff09-MOE\u5e76\u884c</li> <li>\u5927\u6a21\u578b\u5206\u5e03\u5f0f\u8bad\u7ec3\u5e76\u884c\u6280\u672f\uff08\u4e5d\uff09-\u603b\u7ed3</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#ai","title":"\u5206\u5e03\u5f0fAI\u6846\u67b6","text":"<ul> <li>PyTorch</li> <li>PyTorch \u5355\u673a\u591a\u5361\u8bad\u7ec3</li> <li>PyTorch \u591a\u673a\u591a\u5361\u8bad\u7ec3</li> <li>Megatron-LM</li> <li>Megatron-LM \u5355\u673a\u591a\u5361\u8bad\u7ec3</li> <li>Megatron-LM \u591a\u673a\u591a\u5361\u8bad\u7ec3</li> <li>\u57fa\u4e8eMegatron-LM\u4ece0\u52301\u5b8c\u6210GPT2\u6a21\u578b\u9884\u8bad\u7ec3\u3001\u6a21\u578b\u8bc4\u4f30\u53ca\u63a8\u7406</li> <li>DeepSpeed</li> <li>DeepSpeed \u5355\u673a\u591a\u5361\u8bad\u7ec3</li> <li>DeepSpeed \u591a\u673a\u591a\u5361\u8bad\u7ec3</li> <li>Megatron-DeepSpeed</li> <li>\u57fa\u4e8e Megatron-DeepSpeed \u4ece 0 \u52301 \u5b8c\u6210 LLaMA \u9884\u8bad\u7ec3</li> <li>\u57fa\u4e8e Megatron-DeepSpeed \u4ece 0 \u52301 \u5b8c\u6210 Bloom \u9884\u8bad\u7ec3</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_4","title":"\u5b66\u4e60\u8bb0\u5f55","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_5","title":"\u673a\u5668\u5b66\u4e60\u57fa\u7840\u6982\u5ff5","text":"<ul> <li> <p>\u4ec0\u4e48\u662f\u524d\u5411\u4f20\u64ad</p> </li> <li> <p>\u4ec0\u4e48\u662f\u53cd\u5411\u4f20\u64ad</p> </li> <li> <p>\u4ec0\u4e48\u662f\u68af\u5ea6</p> </li> <li> <p>\u4ec0\u4e48\u662f\u5e73\u5747\u68af\u5ea6</p> </li> <li> <p>\u4ec0\u4e48\u662f\u6a21\u578b\u6743\u91cd</p> </li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_6","title":"\u6982\u8ff0","text":"<p>\u5206\u5e03\u5f0f\u8bad\u7ec3\u6709\u54ea\u4e9b\u5e76\u884c\u6280\u672f\uff1a</p> <ul> <li>\u6570\u636e\u5e76\u884c</li> <li>\u6a21\u578b\u6a21\u578b<ul> <li>\u6d41\u6c34\u7ebf\u5e76\u884c(pipeline)</li> <li>\u5f20\u91cf\u5e76\u884c</li> </ul> </li> <li>\u5e8f\u5217\u5e76\u884c</li> <li>\u591a\u7ef4\u6df7\u5408\u5e76\u884c</li> <li>\u81ea\u52a8\u5e76\u884c</li> <li>MOE\u5e76\u884c</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_7","title":"\u6570\u636e\u5e76\u884c","text":"<p>Q\uff1a\u4ec0\u4e48\u662f\u6570\u636e\u5e76\u884c\u3002</p> <p>\u7b54\uff1a\u6570\u636e\u5e76\u884c\uff0c\u6570\u636e\u96c6\u88ab\u5206\u5272\u6210\u51e0\u4e2a\u788e\u7247\uff0c\u6bcf\u4e2a\u788e\u7247\u88ab\u5206\u914d\u5230\u4e00\u4e2a\u8bbe\u5907\u4e0a\u3002\u8fd9\u76f8\u5f53\u4e8e\u6cbf\u6279\u6b21\uff08Batch\uff09\u7ef4\u5ea6\u5bf9\u8bad\u7ec3\u8fc7\u7a0b\u8fdb\u884c\u5e76\u884c\u5316\u3002\u6bcf\u4e2a\u8bbe\u5907\u5c06\u6301\u6709\u4e00\u4e2a\u5b8c\u6574\u7684\u6a21\u578b\u526f\u672c\uff0c\u5e76\u5728\u5206\u914d\u7684\u6570\u636e\u96c6\u788e\u7247\u4e0a\u8fdb\u884c\u8bad\u7ec3\u3002\u5728\u53cd\u5411\u4f20\u64ad\u4e4b\u540e\uff0c\u6a21\u578b\u7684\u68af\u5ea6\u5c06\u88ab\u5168\u90e8\u51cf\u5c11\uff0c\u4ee5\u4fbf\u5728\u4e0d\u540c\u8bbe\u5907\u4e0a\u7684\u6a21\u578b\u53c2\u6570\u80fd\u591f\u4fdd\u6301\u540c\u6b65\u3002</p> <p>Q:\u6570\u636e\u5e76\u884c\u6709\u4ec0\u4e48\u7528</p> <p>A: </p> <p>Q: \u600e\u4e48\u5b9e\u73b0\u6570\u636e\u5e76\u884c</p> <p>A: \u5178\u578b\u7684\u6570\u636e\u5e76\u884c\u5b9e\u73b0\uff1aPyTorch DDP</p> <p>Q:\u6570\u636e\u5e76\u884c\u6709\u4ec0\u4e48\u4f18\u7f3a\u70b9</p> <p>A: \u4f18\u70b9\uff1a\u7b80\u5355\u3002\u7f3a\u70b9\uff1a\u6bcf\u4e2a GPU \u6301\u6709\u6574\u4e2a\u6a21\u578b\u6743\u91cd\u7684\u526f\u672c\u5bfc\u81f4\u5197\u4f59\u95ee\u9898\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_8","title":"\u6a21\u578b\u5e76\u884c","text":"<p>Q\uff1a \u4ec0\u4e48\u662f\u6a21\u578b\u5e76\u884c\uff0c\u6a21\u578b\u5e76\u884c\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff0c\u6709\u4f55\u4f18\u7f3a\u70b9\uff0c\u5982\u4f55\u5b9e\u73b0\u3002</p> <p>\u7b54\uff1a\u6a21\u578b\u88ab\u5206\u5272\u5e76\u5206\u5e03\u5728\u4e00\u4e2a\u8bbe\u5907\u9635\u5217\u4e0a\u3002</p> <p>Q\uff1a\u6a21\u578b\u5e76\u884c\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898</p> <p>A\uff1a\u89e3\u51b3\u4e86\u5197\u4f59\u95ee\u9898\u3002</p> <p>Q: \u6a21\u578b\u5e76\u884c\u7684\u4f18\u7f3a\u70b9</p> <p>A: </p> <p>Q:\u6a21\u578b\u5e76\u884c\u7684\u5b9e\u73b0</p> <p>A\uff1a\u6709\u4e24\u79cd\u5b9e\u73b0\uff0c\u5206\u522b\u662f\u5f20\u91cf\u5e76\u884c\uff0c\u6d41\u6c34\u7ebf\u5e76\u884c\u3002</p> <p>Q\uff1a\u4ec0\u4e48\u662f\u5f20\u91cf\u5e76\u884c</p> <p>A\uff1a\u5f20\u91cf\u5e76\u884c\u8bad\u7ec3\u662f\u5c06\u4e00\u4e2a\u5f20\u91cf\u6cbf\u7279\u5b9a\u7ef4\u5ea6\u5206\u6210 N \u5757\uff0c\u6bcf\u4e2a\u8bbe\u5907\u53ea\u6301\u6709\u6574\u4e2a\u5f20\u91cf\u7684 1/N\uff0c\u540c\u65f6\u4e0d\u5f71\u54cd\u8ba1\u7b97\u56fe\u7684\u6b63\u786e\u6027\u3002</p> <p>Q:\u5f20\u91cf\u5e76\u884c\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898</p> <p>A\uff1a</p> <p>Q\uff1a\u5f20\u91cf\u5e76\u884c\u7684\u4f18\u7f3a\u70b9</p> <p>A\uff1a</p> <p>Q:\u5f20\u91cf\u5e76\u884c\u7684\u5b9e\u73b0</p> <p>A\uff1a\u5178\u578b\u7684\u5f20\u91cf\u5e76\u884c\u5b9e\u73b0\uff1aMegatron-LM\uff081D\uff09\u3001Colossal-AI\uff082D\u30012.5D\u30013D\uff09\u3002</p> <p>Q: \u4ec0\u4e48\u662f\u6d41\u6c34\u7ebf\u5e76\u884c</p> <p>A\uff1a\u6d41\u6c34\u7ebf\u5e76\u884c\u7684\u6838\u5fc3\u601d\u60f3\u662f\uff0c\u6a21\u578b\u6309\u5c42\u5206\u5272\u6210\u82e5\u5e72\u5757\uff0c\u6bcf\u5757\u90fd\u4ea4\u7ed9\u4e00\u4e2a\u8bbe\u5907\u3002\u5728\u524d\u5411\u4f20\u64ad\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u4e2a\u8bbe\u5907\u5c06\u4e2d\u95f4\u7684\u6fc0\u6d3b\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u9636\u6bb5\u3002\u5728\u540e\u5411\u4f20\u64ad\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u4e2a\u8bbe\u5907\u5c06\u8f93\u5165\u5f20\u91cf\u7684\u68af\u5ea6\u4f20\u56de\u7ed9\u524d\u4e00\u4e2a\u6d41\u6c34\u7ebf\u9636\u6bb5\u3002</p> <p>Q\uff1a\u6d41\u6c34\u7ebf\u5e76\u884c\u7684\u4f18\u7f3a\u70b9</p> <p>A\uff1a\u4f18\u70b9\uff1a\u5141\u8bb8\u8bbe\u5907\u540c\u65f6\u8fdb\u884c\u8ba1\u7b97\uff0c\u4ece\u800c\u589e\u52a0\u8bad\u7ec3\u7684\u541e\u5410\u91cf\u3002 \u7f3a\u70b9\uff1a\u8bad\u7ec3\u8bbe\u5907\u5bb9\u6613\u51fa\u73b0\u7a7a\u95f2\u72b6\u6001\uff0c\u5bfc\u81f4\u8ba1\u7b97\u8d44\u6e90\u7684\u6d6a\u8d39\uff0c\u52a0\u901f\u6548\u7387\u6ca1\u6709\u6570\u636e\u5e76\u884c\u9ad8\u3002</p> <p>Q\uff1a\u5982\u4f55\u5b9e\u73b0\u6d41\u6c34\u7ebf\u5e76\u884c A\uff1a\u5178\u578b\u7684\u6d41\u6c34\u7ebf\u5e76\u884c\u5b9e\u73b0\uff1aGPipe\u3001PipeDream\u3001PipeDream-2BW\u3001PipeDream Flush\uff081F1B\uff09\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_9","title":"\u4f18\u5316\u5668\u76f8\u5173\u7684\u5e76\u884c","text":"<p>Q:\u4ec0\u4e48\u662f\u4f18\u5316\u5668\u76f8\u5173\u7684\u5e76\u884c</p> <p>A\uff1a\u968f\u7740\u6a21\u578b\u8d8a\u6765\u8d8a\u5927\uff0c\u5355\u4e2aGPU\u7684\u663e\u5b58\u76ee\u524d\u901a\u5e38\u65e0\u6cd5\u88c5\u4e0b\u90a3\u4e48\u5927\u7684\u6a21\u578b\u4e86\u3002\u90a3\u4e48\u5c31\u8981\u60f3\u529e\u6cd5\u5bf9\u5360\u663e\u5b58\u7684\u5730\u65b9\u8fdb\u884c\u4f18\u5316\u3002\u901a\u5e38\u6765\u8bf4\uff0c\u6a21\u578b\u8bad\u7ec3\u7684\u8fc7\u7a0b\u4e2d\uff0cGPU\u4e0a\u9700\u8981\u8fdb\u884c\u5b58\u50a8\u7684\u53c2\u6570\u5305\u62ec\u4e86\u6a21\u578b\u672c\u8eab\u7684\u53c2\u6570\u3001\u4f18\u5316\u5668\u72b6\u6001\u3001\u6fc0\u6d3b\u51fd\u6570\u7684\u8f93\u51fa\u503c\u3001\u68af\u5ea6\u4ee5\u53ca\u4e00\u4e9b\u96f6\u65f6\u7684Buffer\u3002\u5982\u4e0b\u56fe</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u6a21\u578b\u53c2\u6570\u4ec5\u5360\u6a21\u578b\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u6240\u6709\u6570\u636e\u7684\u4e00\u90e8\u5206\uff0c\u5f53\u8fdb\u884c\u6df7\u5408\u7cbe\u5ea6\u8fd0\u7b97\u65f6\uff0c\u5176\u4e2d\u6a21\u578b\u72b6\u6001\u53c2\u6570(\u4f18\u5316\u5668\u72b6\u6001 + \u68af\u5ea6+ \u6a21\u578b\u53c2\u6570\uff09\u5360\u5230\u4e86\u4e00\u5927\u534a\u4ee5\u4e0a\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u60f3\u529e\u6cd5\u53bb\u9664\u6a21\u578b\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u7684\u5197\u4f59\u6570\u636e\u3002</p> <p>\u800c\u4f18\u5316\u5668\u76f8\u5173\u7684\u5e76\u884c\u5c31\u662f\u4e00\u79cd\u53bb\u9664\u5197\u4f59\u6570\u636e\u7684\u5e76\u884c\u65b9\u6848\uff0c\u76ee\u524d\u8fd9\u79cd\u5e76\u884c\u6700\u6d41\u884c\u7684\u65b9\u6cd5\u662f ZeRO\uff08\u5373\u96f6\u5197\u4f59\u4f18\u5316\u5668\uff09\u3002\u9488\u5bf9\u6a21\u578b\u72b6\u6001\u7684\u5b58\u50a8\u4f18\u5316\uff08\u53bb\u9664\u5197\u4f59\uff09\uff0cZeRO\u4f7f\u7528\u7684\u65b9\u6cd5\u662f\u5206\u7247\uff0c\u5373\u6bcf\u5f20\u5361\u53ea\u5b58 1/N \u7684\u6a21\u578b\u72b6\u6001\u91cf\uff0c\u8fd9\u6837\u7cfb\u7edf\u5185\u53ea\u7ef4\u62a4\u4e00\u4efd\u6a21\u578b\u72b6\u6001\u3002ZeRO\u6709\u4e09\u4e2a\u4e0d\u540c\u7ea7\u522b\uff0c\u5bf9\u6a21\u578b\u72b6\u6001\u8fdb\u884c\u4e0d\u540c\u7a0b\u5ea6\u7684\u5206\u7247\uff1a</p> <ul> <li>ZeRO-1 : \u5bf9\u4f18\u5316\u5668\u72b6\u6001\u5206\u7247\uff08Optimizer States Sharding\uff09</li> <li>ZeRO-2 : \u5bf9\u4f18\u5316\u5668\u72b6\u6001\u548c\u68af\u5ea6\u5206\u7247\uff08Optimizer States &amp; Gradients Sharding\uff09</li> <li>ZeRO-3 : \u5bf9\u4f18\u5316\u5668\u72b6\u6001\u3001\u68af\u5ea6\u5206\u7247\u4ee5\u53ca\u6a21\u578b\u6743\u91cd\u53c2\u6570\u5206\u7247\uff08Optimizer States &amp; Gradients &amp; Parameters Sharding\uff09</li> </ul> <p>Q\uff1a\u4f18\u5316\u5668\u5e76\u884c\u7684\u4f18\u7f3a\u70b9</p> <p>A\uff1a</p> <p>Q: \u4f18\u5316\u5668\u5e76\u884c\u5982\u4f55\u5b9e\u73b0</p> <p>A\uff1a</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_10","title":"\u5f02\u6784\u7cfb\u7edf\u5e76\u884c","text":"<p>Q\uff1a\u4ec0\u4e48\u662f\u5f02\u6784\u7cfb\u7edf\u5e76\u884c</p> <p>A\uff1a\u5229\u7528CPU\u548c\u786c\u76d8\u6765\u8bad\u7ec3</p> <p>Q:\u5f02\u6784\u7cfb\u7edf\u5e76\u884c\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898</p> <p>A\uff1a\u4f7f\u7528\u5f02\u6784\u7cfb\u7edf\u6709\u53ef\u80fd\u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u5bb9\u7eb3\u4e00\u4e2a\u5de8\u5927\u7684\u6a21\u578b\u3002</p> <p>Q:\u5f02\u6784\u7cfb\u7edf\u5e76\u884c\u7684\u4f18\u7f3a\u70b9</p> <p>A\uff1a</p> <p>Q\uff1a\u5982\u4f55\u5b9e\u73b0\u5f02\u6784\u7cfb\u7edf\u5e76\u884c</p> <p>A\uff1a</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_11","title":"\u591a\u7ef4\u6df7\u5408\u5e76\u884c","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_12","title":"\u4ee3\u7801","text":"<p>llm-action\u9879\u76ee</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_13","title":"\u73af\u5883\u642d\u5efa","text":"<p>\u53c2\u8003 \u5206\u5e03\u5f0f\u8bad\u7ec3\u73af\u5883\u642d\u5efa</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_14","title":"\u9a8c\u8bc1\u4ee3\u7801","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html#_15","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>PyTorch Distributed overview</li> <li>PyTorch Getting started with distributed data parallel</li> <li>\u4f7f\u7528 PyTorch \u7f16\u5199\u5206\u5e03\u5f0f\u5e94\u7528\u7a0b\u5e8f </li> <li>llm-action\u9879\u76ee by liguodongiot</li> <li>deepspeed\u5b89\u88c5\u8e29\u5751\u5b9e\u8df5 by Firefly</li> <li>Pytorch - \u5206\u5e03\u5f0f\u901a\u4fe1\u539f\u8bed\uff08\u9644\u6e90\u7801\uff09 by \u6781\u5e02\u5e73\u53f0</li> <li>\u5206\u5e03\u5f0f\u8bad\u7ec3 \u2013 \u7b2c1\u7bc7 - \u4ec0\u4e48\u662f\u5206\u5e03\u5f0f\u8bad\u7ec3 by \u5e38\u5e73</li> <li>\u5206\u5e03\u5f0f\u8bad\u7ec3 \u2013 \u7b2c3\u7bc7 - \u96c6\u5408\u901a\u4fe1\u53ca\u5176\u901a\u4fe1\u539f\u8bed by \u5e38\u5e73</li> <li>\u5206\u5e03\u5f0f\u8bad\u7ec3 - \u7b2c5\u7bc7 - \u5206\u5e03\u5f0f\u8bad\u7ec3\u670d\u52a1\u6846\u67b6\u57fa\u672c\u539f\u7406\u4e0e\u67b6\u6784\u89e3\u6790 by \u5e38\u5e73</li> <li>horovod: Distributed training framework for TensorFlow, Keras, PyTorch, and Apache MXNet. by horovod</li> <li>Pytorch DDP\u5206\u5e03\u5f0f\u8bad\u7ec3\u4ecb\u7ecd by \u5929\u7a7a\u7684\u57ce</li> <li>\u5206\u5e03\u5f0f\u8bad\u7ec3\u786c\u6838\u6280\u672f\u2014\u2014\u901a\u4fe1\u539f\u8bed by ZOMI\u91a4</li> <li>DeepSpeed\u4ecb\u7ecd by \u83e9\u63d0\u6811</li> <li>\u6df1\u5ea6\u5b66\u4e60\u8d85\u5927\u6a21\u578b\u7684\u5206\u5e03\u5f0f\u8bad\u7ec3\u7684\u63a2\u7d22\uff08\u4e00\uff09 by \u79c3\u9876\u7684\u7801\u519c</li> <li>\u5206\u5e03\u5f0f\u8bad\u7ec3 by \u300a\u673a\u5668\u5b66\u4e60\u7cfb\u7edf\uff1a\u8bbe\u8ba1\u548c\u5b9e\u73b0\u4e66\u7c4d\u300b</li> <li>\u5e38\u89c1\u7684\u5206\u5e03\u5f0f\u5e76\u884c\u7b56\u7565 by OneFlow</li> <li>[\u6e90\u7801\u89e3\u6790] PyTorch \u5206\u5e03\u5f0f(5) ------ DistributedDataParallel \u603b\u8ff0&amp;\u5982\u4f55\u4f7f\u7528</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html","title":"\u5206\u5e03\u5f0f\u8bad\u7ec3\u73af\u5883\u642d\u5efa","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#ssh","title":"SSH\u514d\u5bc6","text":"<pre><code>\u670d\u52a1\u5668\u914d\u7f6e\uff1a\nnode1: A100 40G *2\nnode2: V100S 32G*2\n</code></pre> <p>SSH\u514d\u5bc6\u767b\u5f55\u7684\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <p>\u5728\u672c\u5730\u673a\u5668\u4e0a\u751f\u6210SSH\u5bc6\u94a5\u5bf9\u3002\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u7136\u540e\u6309\u56de\u8f66\u4e09\u6b21\uff0c\u5373\u53ef\u5728 <code>~/.ssh/</code> \u76ee\u5f55\u4e0b\u751f\u6210 <code>id_rsa</code> \uff08\u79c1\u94a5\uff09\u548c <code>id_rsa.pub</code>\uff08\u516c\u94a5\uff09 \u4e24\u4e2a\u6587\u4ef6\u3002</p> <pre><code> ssh-keygen -t rsa\n</code></pre> <p></p> <p>\u5c06\u516c\u94a5\u624b\u52a8\u590d\u5236\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u7684<code>~/.ssh/authorized_keys</code> \u6587\u4ef6\u4e2d\u3002</p> <p>\u6d4b\u8bd5SSH\u514d\u5bc6\u767b\u5f55\u3002\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165 </p> <pre><code>ssh user@remote\n</code></pre> <p>\u5982\u679c\u6ca1\u6709\u63d0\u793a\u8f93\u5165\u5bc6\u7801\uff0c\u90a3\u4e48\u5c31\u8bf4\u660eSSH\u514d\u5bc6\u767b\u5f55\u8bbe\u7f6e\u6210\u529f\u4e86\uff0c<code>user</code>\u548c<code>remote</code>\u8bbe\u7f6e\u6210\u5b9e\u9645\u7684\u503c\u3002</p> <p>\u6ce8\u610f\uff1a</p> <ul> <li>node1\u9700\u8981\u514d\u5bc6\u8bbf\u95eenode2,\u9700\u8981\u5c06node1\u7684\u516c\u94a5\u653e\u5230node2\u7684authorized_keys\u6587\u4ef6\u3002</li> <li><code>.ssh</code>\u76ee\u5f55\u7684\u6743\u9650\u5fc5\u987b\u4e3a700\uff0c<code>authorized_keys</code>\u6587\u4ef6\u7684\u6743\u9650\u5fc5\u987b\u662f600</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#nvidiacuda","title":"\u5b89\u88c5Nvidia\u663e\u5361\u9a71\u52a8\u548cCUDA","text":"<p>\u5177\u4f53\u53c2\u8003\uff1a\u5b89\u88c5Nvida\u663e\u5361\u9a71\u52a8\u548cCUDA</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#conda","title":"\u5b89\u88c5conda","text":"<p>Conda\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u8f6f\u4ef6\u5305\u7ba1\u7406\u7cfb\u7edf\u548c\u73af\u5883\u7ba1\u7406\u7cfb\u7edf\uff0c\u7528\u4e8e\u5b89\u88c5\u548c\u7ba1\u7406\u591a\u4e2a\u8f6f\u4ef6\u5305\u53ca\u5176\u4f9d\u8d56\u3002\u5b83\u7279\u522b\u9002\u7528\u4e8e\u6570\u636e\u79d1\u5b66\u548c\u673a\u5668\u5b66\u4e60\u9886\u57df\uff0c\u56e0\u4e3a\u53ef\u4ee5\u8f7b\u677e\u7ba1\u7406\u4e0d\u540c\u7248\u672c\u7684Python\u4ee5\u53ca\u4e0d\u540c\u7684\u6570\u636e\u5206\u6790\u5de5\u5177\u548c\u5e93\u3002Conda\u5141\u8bb8\u7528\u6237\u521b\u5efa\u3001\u5bfc\u51fa\u3001\u5b89\u88c5\u548c\u66f4\u65b0\u73af\u5883\u3002conda\u662fAnaconda\u53d1\u884c\u7248\u7684\u4e00\u90e8\u5206\uff0cAnaconda\u662f\u4e00\u4e2a\u6d41\u884c\u7684Python\u53d1\u884c\u7248\uff0c\u4e13\u6ce8\u4e8e\u6570\u636e\u79d1\u5b66\u548c\u673a\u5668\u5b66\u4e60\u3002</p> <p>\u5728 Anaconda Installing on Linux \u67e5\u770b\u5b89\u88c5\u5305 URL\u3002</p> <p></p> <p>\u5b89\u88c5\u4f9d\u8d56\uff1a</p> <pre><code>yum install -y libXcomposite libXcursor libXi libXtst libXrandr alsa-lib mesa-libEGL libXdamage mesa-libGL libXScrnSaver pdsh\n</code></pre> <p>\u4e0b\u8f7d\u5b89\u88c5\u5305\uff1a</p> <pre><code>curl -o https://repo.anaconda.com/archive/Anaconda3-2023.09-0-Linux-x86_64.sh\n</code></pre> <p>\u5b89\u88c5 Anaconda\uff1a</p> <pre><code>bash Anaconda3-2023.09-0-Linux-x86_64.sh\n</code></pre> <p>\u6309Enter\u952e\u67e5\u770b\u8bb8\u53ef\u534f\u8bae\u3002\u7136\u540e\u6309\u4f4fEnter\u952e\u6eda\u52a8\u3002</p> <p>\u8f93\u5165yes\u4ee5\u540c\u610f\u8bb8\u53ef\u534f\u8bae\u3002</p> <p>\u4f7f\u7528 Enter \u63a5\u53d7\u9ed8\u8ba4\u5b89\u88c5\u4f4d\u7f6e\uff0c\u4f7f\u7528 CTRL+C \u53d6\u6d88\u5b89\u88c5\uff0c\u6216\u8f93\u5165\u53e6\u4e00\u4e2a\u6587\u4ef6\u8def\u5f84\u6765\u6307\u5b9a\u5907\u7528\u5b89\u88c5\u76ee\u5f55\u3002\u5982\u679c\u60a8\u63a5\u53d7\u9ed8\u8ba4\u5b89\u88c5\u4f4d\u7f6e\uff0c\u5b89\u88c5\u7a0b\u5e8f\u5c06\u663e\u793a <code>PREFIX=/home/&lt;USER&gt;/anaconda3</code> \u5e76\u7ee7\u7eed\u5b89\u88c5\u3002</p> <p>\u8f93\u5165\u201cyes\u201d\uff0c\u901a\u8fc7\u8fd0\u884c <code>conda init</code> \u6765\u521d\u59cb\u5316 Anaconda\u53d1\u884c\u7248\u3002</p> <p>\u5173\u95ed\u5e76\u91cd\u65b0\u6253\u5f00\u7ec8\u7aef\u7a97\u53e3\u4ee5\u4f7f\u5b89\u88c5\u751f\u6548\uff0c\u6216\u8f93\u5165\u547d\u4ee4 <code>source ~/.bashrc</code> \u5237\u65b0\u7ec8\u7aef\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#python","title":"Python\u5f00\u53d1\u73af\u5883\u642d\u5efa","text":"<p>\u63a5\u4e0b\u6765\u521b\u5efa\u4e00\u4e2a <code>conda</code> \u73af\u5883\u7528\u6765\u8fdb\u884c\u5f00\u53d1\u3002</p> <pre><code># \u521b\u5efa\u4e00\u4e2a\u540d\u5b57\u53ebdis\u7684\u73af\u5883\uff0c\u6307\u5b9aPython\u7248\u672c\u4e3a3.10\nconda create -n dis python=3.10\n\n# \u7b49\u5f85\u73af\u5883\u521b\u5efa\u5b8c\u6210 \u5207\u6362\u5230\u5bf9\u5e94\u7684\u73af\u5883\nconda activate dis\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#pytorch","title":"\u5b89\u88c5Pytorch","text":"<p><code>PyTorch</code>\u662f\u4e00\u4e2a\u5f00\u6e90\u7684Python\u673a\u5668\u5b66\u4e60\u5e93\u3002</p> <p><code>PyTorch</code>\u548c <code>cuda</code> \u7248\u672c\u5bf9\u5e94\u5173\u7cfb\u53c2\u8003\u94fe\u63a5\uff1a https://docs.nvidia.com/deploy/cuda-compatibility/ \uff0c\u8fd9\u91cc\u4ee5<code>cuda 12.2</code>,  <code>pytorch 2.1.2</code>\u4e3a\u4f8b\u3002</p> <p>\u6ce8\u610f\uff1a\u4e0b\u6587\u5b89\u88c5Pytorch\u7684\u65f6\u5019\u5bf9\u5e94\u7684cuda\u4f7f\u7528\u7684\u662f12.1\uff0c\u8fd9\u4e2a\u662f\u7531\u4e8ePytorch\u5b98\u7f51\u8fd8\u6ca1\u6709cuda12.2\u7684\u7248\u672c\uff0c\u5b9e\u6d4b\u4e0b\u6765\u4e5f\u6ca1\u6709\u9047\u5230\u95ee\u9898\u3002</p> <p>\u5728\u7ebf\u5b89\u88c5 </p> <p>\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u5728\u7ebf\u5b89\u88c5\uff1a</p> <pre><code># \u9009\u62e9 conda \u6216\u8005 pip \u4e2d\u7684\u4e00\u79cd\u65b9\u5f0f\u5b89\u88c5\uff0c\u63a8\u8350\u4f7f\u7528 conda \u5b89\u88c5\n# \u4f7f\u7528 conda\nconda install pytorch==2.1.2 torchvision==0.16.2 torchaudio==2.1.2 pytorch-cuda=12.1 -c pytorch -c nvidia\n# \u4f7f\u7528 pip\npip install torch==2.1.2 torchvision==0.16.2 torchaudio==2.1.2 --index-url https://download.pytorch.org/whl/cu121\n</code></pre> <p>\u79bb\u7ebf\u5b89\u88c5 </p> <p>\u5982\u679c\u670d\u52a1\u5668\u65e0\u6cd5\u8bbf\u95ee <code>PyTorch</code> \u7684\u7f51\u7ad9\uff0c\u9700\u8981\u4e0b\u8f7d\u7f16\u8bd1\u540e\u7684\u5b89\u88c5\u5305\u5b89\u88c5\u3002</p> <p>\u901a\u8fc7PyTorch Get Started\u67e5\u770b\u5bf9\u5e94\u7684\u7248\u672c</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230 <code>torch</code> \u4e3a<code>2.1.2</code>\u5bf9\u5e94\u7684<code>torchvision</code>\u7248\u672c\u4e3a<code>0.16.2</code>\uff0c<code>torchaudio</code>\u4e3a<code>2.1.2</code></p> <p>\u5148\u53bb<code>index-url</code>\u4e2d\u4e0b\u8f7d<code>PyTorch</code> whl\u5305, \u4e0b\u8f7d\u5730\u5740: https://download.pytorch.org/whl/cu121</p> <p></p> <p>\u4ee5 <code>torch</code>\u4e3a\u4f8b\uff0c\u641c\u7d22\u5bf9\u5e94\u7684\u7248\u672c\uff0c\u7136\u540e\u9009\u62e9\u5bf9\u5e94\u7684<code>cuda</code>\u7248\u672c\uff0cPython\u7248\u672c\u548c\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u5b89\u88c5 <code>PyTorch</code>\uff0c\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u5b89\u88c5\u4e00\u4e9b\u4f9d\u8d56\u5e93\uff0c\u4f7f\u7528\u963f\u91cc\u4e91 pip \u6e90\u8fdb\u884c\u52a0\u901f:</p> <pre><code>pip install torch-2.1.2+cu121-cp310-cp310-linux_x86_64.whl -i https://mirrors.aliyun.com/pypi/simple/\npip install torchaudio-2.1.2+cu121-cp310-cp310-linux_x86_64.whl -i https://mirrors.aliyun.com/pypi/simple/\npip install torchvision-0.16.2+cu121-cp310-cp310-linux_x86_64.whl -i https://mirrors.aliyun.com/pypi/simple/\n</code></pre> <p>\u9a8c\u8bc1 <code>torch</code> \u662f\u5426\u5b89\u88c5\u6210\u529f\uff0c<code>torch.cuda.is_available()</code>\u8fd4\u56de <code>True</code> \u8868\u793a\u5b89\u88c5\u6210\u529f\u3002:</p> <pre><code>$ python\nPython 3.10.13 (main, Sep 11 2023, 13:44:35) [GCC 11.2.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import torch\n&gt;&gt;&gt; torch.__version__\n'2.1.2+cu121'\n&gt;&gt;&gt; torch.cuda.is_\ntorch.cuda.is_available()                 torch.cuda.is_bf16_supported()            torch.cuda.is_current_stream_capturing()  torch.cuda.is_initialized()\n&gt;&gt;&gt; torch.cuda.is_available()\nTrue\n&gt;&gt;&gt; \n</code></pre> <p>\u5982\u679c\u51fa\u73b0\u4e0b\u9762\u9519\u8bef\uff0c\u8bf4\u660e\u73af\u5883\u53d8\u91cf\u6709\u95ee\u9898</p> <pre><code>ImportError: /miniconda3/envs/dis/lib/python3.10/site-packages/torch/lib/libtorch_cuda.so: symbol cublasSetWorkspace_v2, version libcublas.so.11 not defined in file libcublas.so.11 with link time reference\n</code></pre> <p>\u9700\u8981\u8bbe\u7f6e <code>~/.bahsrc</code>\u6587\u4ef6\u4e2d\u7684\u73af\u5883\u53d8\u91cf\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>export PATH=\"/usr/local/cuda-12.2/bin:$PATH\"\nexport LD_LIBRARY_PATH=\"/usr/local/cuda-12.2/lib64:$LD_LIBRARY_PATH\"\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#deepspeed","title":"\u5b89\u88c5DeepSpeed","text":"<p><code>DeepSpeed</code>\u662f\u4e00\u4e2a\u7531\u5fae\u8f6f\u5f00\u53d1\u7684\u5f00\u6e90\u6df1\u5ea6\u5b66\u4e60\u4f18\u5316\u5e93\uff0c\u65e8\u5728\u63d0\u9ad8**\u5927\u89c4\u6a21\u6a21\u578b**\u8bad\u7ec3\u7684\u6548\u7387\u548c\u53ef\u6269\u5c55\u6027\u3002\u5b83\u901a\u8fc7\u591a\u79cd\u6280\u672f\u624b\u6bb5\u6765\u52a0\u901f\u8bad\u7ec3\uff0c\u5305\u62ec\u6a21\u578b\u5e76\u884c\u5316\u3001\u68af\u5ea6\u7d2f\u79ef\u3001\u52a8\u6001\u7cbe\u5ea6\u7f29\u653e\u3001\u672c\u5730\u6a21\u5f0f\u6df7\u5408\u7cbe\u5ea6\u7b49\u3002<code>DeepSpeed</code>\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u8f85\u52a9\u5de5\u5177\uff0c\u5982\u5206\u5e03\u5f0f\u8bad\u7ec3\u7ba1\u7406\u3001\u5185\u5b58\u4f18\u5316\u548c\u6a21\u578b\u538b\u7f29\u7b49\uff0c\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u66f4\u597d\u5730\u7ba1\u7406\u548c\u4f18\u5316\u5927\u89c4\u6a21\u6df1\u5ea6\u5b66\u4e60\u8bad\u7ec3\u4efb\u52a1\u3002\u6b64\u5916\uff0c<code>DeepsSeed</code>\u57fa\u4e8e<code>PyTorch</code>\u6784\u5efa\uff0c\u53ea\u9700\u8981\u7b80\u5355\u4fee\u6539\u5373\u53ef\u8fc1\u79fb\u3002</p> <p>DeepSpeed \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u8fd9\u4e9b\u6269\u5c55/\u64cd\u4f5c\u90fd\u5c06\u4f7f\u7528 torch \u7684 JIT C++ \u6269\u5c55\u52a0\u8f7d\u5668\u5373\u65f6\u6784\u5efa\uff08JIT\uff09\uff0c\u8be5\u52a0\u8f7d\u5668\u4f9d\u8d56 ninja \u5728\u8fd0\u884c\u65f6\u6784\u5efa\u548c\u52a8\u6001\u94fe\u63a5\u5b83\u4eec\u3002\u53ef\u4ee5\u5728\u5b89\u88c5\u65f6\u5c06\u5176\u7f16\u8bd1\uff0c\u53ef\u4ee5\u8282\u7701\u8bad\u7ec3\u7684\u65f6\u95f4\u3002\u5177\u4f53\u6a21\u5757\u8bf4\u660e\u53ef\u67e5\u770b\u6587\u6863 Deepspeed Installation Details</p> <pre><code># \u5207\u6362\u5230GCC 11\nsudo scl enable devtoolset-11 bash\n\n# \u53ea\u7f16\u8bd1 fuse_adam\n# DS_BUILD_FUSED_ADAM=1  pip install deepspeed -i https://mirrors.aliyun.com/pypi/simple/\n# \u7f16\u8bd1 CPU_ADAM \u4f7f\u7528Zero offload\u9700\u8981\u8fd9\u4e2a\u6a21\u5757\n# DS_BUILD_CPU_ADAM=1 pip install deepspeed -i https://mirrors.aliyun.com/pypi/simple/\n# \u7f16\u8bd1\u6240\u6709 \u6a21\u5757 \n# DS_BUILD_OPS=1  pip install deepspeed -i https://mirrors.aliyun.com/pypi/simple/\n# \u52a0\u901f\u6784\u5efa -j\u540e\u9762\u662f\u4efb\u52a1\u6570\u91cf\uff0c\u4e00\u822c\u8bbe\u7f6e\u6210CPU\u6838\u6570\n# DS_BUILD_OPS=1 pip install deepspeed --global-option=\"build_ext\" --global-option=\"-j96\"\n\n# \u7f16\u8bd1 fuse_adam cpu_adam  \n# \u4e00\u822c\u60c5\u51b5\u4e0b\u53ea\u9700\u8981\u7f16\u8bd1\u8fd9\u4e24\u4e2a\u6a21\u5757\uff0c\u5177\u4f53\u6a21\u5757\u8bf4\u660e\u53ef\u67e5\u770b\u5b89\u88c5\u6587\u6863 \nDS_BUILD_FUSED_ADAM=1   DS_BUILD_CPU_ADAM=1 pip install deepspeed  --global-option=\"build_ext\" --global-option=\"-j96\"\n</code></pre> <p>\u9a8c\u8bc1\u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a</p> <pre><code>$ ds_report \n[2024-04-10 19:15:55,039] [INFO] [real_accelerator.py:191:get_accelerator] Setting ds_accelerator to cuda (auto detect)\n--------------------------------------------------\nDeepSpeed C++/CUDA extension op report\n--------------------------------------------------\nNOTE: Ops not installed will be just-in-time (JIT) compiled at\n      runtime if needed. Op compatibility means that your system\n      meet the required dependencies to JIT install the op.\n--------------------------------------------------\nJIT compiled ops requires ninja\nninja .................. [OKAY]\n--------------------------------------------------\nop name ................ installed .. compatible\n--------------------------------------------------\n [WARNING]  async_io requires the dev libaio .so object and headers but these were not found.\n [WARNING]  If libaio is already installed (perhaps from source), try setting the CFLAGS and LDFLAGS environment variables to where it can be found.\nasync_io ............... [NO] ....... [NO]\nfused_adam ............. [YES] ...... [OKAY]\ncpu_adam ............... [YES] ...... [OKAY]\ncpu_adagrad ............ [NO] ....... [OKAY]\ncpu_lion ............... [NO] ....... [OKAY]\n [WARNING]  Please specify the CUTLASS repo directory as environment variable $CUTLASS_PATH\nevoformer_attn ......... [NO] ....... [NO]\nfused_lamb ............. [NO] ....... [OKAY]\nfused_lion ............. [NO] ....... [OKAY]\ninference_core_ops ..... [NO] ....... [OKAY]\ncutlass_ops ............ [NO] ....... [OKAY]\ntransformer_inference .. [NO] ....... [OKAY]\nquantizer .............. [NO] ....... [OKAY]\nragged_device_ops ...... [NO] ....... [OKAY]\nragged_ops ............. [NO] ....... [OKAY]\nrandom_ltd ............. [NO] ....... [OKAY]\n [WARNING]  sparse_attn requires a torch version &gt;= 1.5 and &lt; 2.0 but detected 2.1\n [WARNING]  using untested triton version (2.1.0), only 1.0.0 is known to be compatible\nsparse_attn ............ [NO] ....... [NO]\nspatial_inference ...... [NO] ....... [OKAY]\ntransformer ............ [NO] ....... [OKAY]\nstochastic_transformer . [NO] ....... [OKAY]\n--------------------------------------------------\nDeepSpeed general environment info:\ntorch install path ............... ['/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch']\ntorch version .................... 2.1.2+cu121\ndeepspeed install path ........... ['/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed']\ndeepspeed info ................... 0.14.0, unknown, unknown\ntorch cuda version ............... 12.1\ntorch hip version ................ None\nnvcc version ..................... 12.2\ndeepspeed wheel compiled w. ...... torch 2.1, cuda 12.1\nshared memory (/dev/shm) size .... 125.70 GB\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u82f1\u4f1f\u8fbe\u5b98\u7f51\u5b89\u88c5\u6587\u6863</li> <li>CentOS 7\u5b89\u88c5Nvidia\u9a71\u52a8</li> <li>Anaconda Installing on Linux</li> <li>Deepspeed \u5b89\u88c5\u6587\u6863</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%8D%83%E9%97%AEAgent.html","title":"\u5343\u95eeAgent\u8bb0\u5f55","text":"<p>\u672c\u6587\u8bb0\u5f55\u4e86\u901a\u4e49\u5343\u95eeAgent RAG \u5e94\u7528\u7684\u6e90\u7801\u9605\u8bfb\u7b14\u8bb0\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%8D%83%E9%97%AEAgent.html#_1","title":"\u73af\u5883\u642d\u5efa","text":"<p>\u9996\u5148\u4e0b\u8f7d\u6e90\u7801\uff0c\u521b\u5efaConda\u73af\u5883\uff0c\u7136\u540e\u5b89\u88c5\u4f9d\u8d56\uff1a</p> <pre><code># \u514b\u9686\u4ee3\u7801\ngit clone https://github.com/QwenLM/Qwen-Agent.git\ncd Qwen-Agent\n\n# \u521b\u5efaPython3.10\u7684\u73af\u5883\nconda create -n qwen-agent python=3.10\n# \u5207\u6362\u5230conda\u73af\u5883\nconda activate qwen-agent\n# \u5b89\u88c5\u4f9d\u8d56\npip install -e ./\npip install -U \"gradio&gt;=4.0\" \"modelscope-studio&gt;=0.2.1\"\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%8D%83%E9%97%AEAgent.html#rag_agent","title":"RAG Agent \u6837\u4f8b","text":"<p>\u6837\u4f8b\u4ee3\u7801\u5728<code>Qwen-Agent\\examples\\assistant_rag.py</code>\u6587\u4ef6\u4e2d\u3002</p> <p>\u9996\u5148\u9700\u8981\u5728\u963f\u91cc\u4e91\u83b7\u53d6API KEY\u3002</p> <p>\u7136\u540e\u8fd0\u884c\u811a\u672c\uff1a</p> <p><pre><code>python assistant_rag.py\n</code></pre> \u8fd0\u884c\u4e4b\u540e\u4f7f\u7528 http://127.0.0.1:7860 \u53ef\u4ee5\u8bbf\u95eeWeb\u754c\u9762\u4f7f\u7528\u3002</p> <p></p> <p>\u53ef\u4ee5\u4e0a\u4f20\u6587\u4ef6\u8fdb\u884c\u5bf9\u8bdd\u3002</p> <ul> <li>\u4e0a\u4f20\u6587\u4ef6\u4f1a\u8c03\u7528\u63a5\u53e3\uff1a<code>http://127.0.0.1:7860/upload</code>\u3002</li> <li>\u70b9\u51fb\u63d0\u4ea4\u4f1a\u8c03\u7528\uff1a<code>http://127.0.0.1:7860/run/predict</code>\u548c<code>http://127.0.0.1:7860/queue/join?</code></li> <li>\u56de\u7b54\u63a5\u53e3\u4e3a\uff1a<code>http://127.0.0.1:7860/queue/data?session_hash=con80jiuyqu</code></li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%8D%83%E9%97%AEAgent.html#_2","title":"\u5bf9\u8bdd\u63a5\u53e3","text":"<p>\u70b9\u51fb\u63d0\u4ea4\u4f1a\u8c03\u7528 <code>run/predict</code> \u63a5\u53e3\u548c<code>queue/join</code>\u63a5\u53e3\u3002</p> <p><code>run/predict</code>\u63a5\u53e3\u53c2\u6570\u683c\u5f0f\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>{\n    \"data\": [{\n            \"files\": [{\n                \"path\": \"C:\\\\Users\\\\xxx\\\\AppData\\\\Local\\\\Temp\\\\gradio\\\\d28094e9c193a248e371988b879b7c840d115403\\\\\u63d0\u793a\u8bcd\u5de5\u7a0b.pdf\",\n                \"url\": \"http://127.0.0.1:7860/file=C:\\\\Users\\\\xxx\\\\AppData\\\\Local\\\\Temp\\\\gradio\\\\d28094e9c193a248e371988b879b7c840d115403\\\\\u63d0\u793a\u8bcd\u5de5\u7a0b.pdf\",\n                \"orig_name\": \"\u63d0\u793a\u8bcd\u5de5\u7a0b.pdf\",\n                \"size\": 1616780,\n                \"mime_type\": \"application/pdf\",\n                \"meta\": {\n                    \"_type\": \"gradio.FileData\"\n                }\n            }],\n            \"text\": \"\u4ec0\u4e48\u662f\u63d0\u793a\u8bcd\u5de5\u7a0b\"\n        },\n        [],\n        []\n    ],\n    \"event_data\": null,\n    \"fn_index\": 1,\n    \"trigger_id\": 5,\n    \"session_hash\": \"con80jiuyqu\"\n}\n</code></pre> <p><code>queue/join</code>\u63a5\u53e3\u53c2\u6570\u683c\u5f0f\u793a\u4f8b\u5982\u4e0b\uff1a <pre><code>{\n    \"data\": [\n        [\n            [{\n                \"id\": null,\n                \"elem_id\": null,\n                \"elem_classes\": null,\n                \"name\": null,\n                \"text\": \"\u4ec0\u4e48\u662f\u63d0\u793a\u8bcd\u5de5\u7a0b\",\n                \"flushing\": null,\n                \"avatar\": \"\",\n                \"files\": [{\n                    \"file\": {\n                        \"path\": \"C:\\\\Users\\\\xxx\\\\AppData\\\\Local\\\\Temp\\\\gradio\\\\d28094e9c193a248e371988b879b7c840d115403\\\\\u63d0\u793a\u8bcd\u5de5\u7a0b.pdf\",\n                        \"url\": \"http://127.0.0.1:7860/file=C:\\\\Users\\\\xxx\\\\AppData\\\\Local\\\\Temp\\\\gradio\\\\d28094e9c193a248e371988b879b7c840d115403\\\\\u63d0\u793a\u8bcd\u5de5\u7a0b.pdf\",\n                        \"orig_name\": \"\u63d0\u793a\u8bcd\u5de5\u7a0b.pdf\",\n                        \"size\": 1616780,\n                        \"is_stream\": false,\n                        \"mime_type\": \"application/pdf\",\n                        \"meta\": {\n                            \"_type\": \"gradio.FileData\"\n                        }\n                    },\n                    \"alt_text\": null\n                }]\n            }, null]\n        ], null\n    ],\n    \"event_data\": null,\n    \"fn_index\": 2,\n    \"trigger_id\": 5,\n    \"session_hash\": \"con80jiuyqu\"\n}\n</code></pre></p> <p>\u5bf9\u8bdd\u6700\u7ec8\u4f1a\u8c03\u7528 <code>Assistant</code> \u7684run\u65b9\u6cd5\uff0c<code>Assistant</code>\u7ee7\u627f\u81ea<code>FnCallAgent</code>\uff0c<code>FnCallAgent</code>\u7ee7\u627f\u81ea<code>Agent</code>\u7c7b\u3002</p> <p>\u5728<code>Agent</code>\u7c7b\u4e2d\uff0c<code>run</code>\u65b9\u6cd5\u4f1a\u8c03\u7528<code>_run</code>\u65b9\u6cd5\u3002</p> <pre><code>class Agent(ABC):\n    \"\"\"A base class for Agent.\n\n    An agent can receive messages and provide response by LLM or Tools.\n    Different agents have distinct workflows for processing messages and generating responses in the `_run` method.\n    \"\"\"\n\n    def __init__(self,\n                 function_list: Optional[List[Union[str, Dict, BaseTool]]] = None,\n                 llm: Optional[Union[Dict, BaseChatModel]] = None,\n                 system_message: Optional[str] = DEFAULT_SYSTEM_MESSAGE,\n                 name: Optional[str] = None,\n                 description: Optional[str] = None,\n                 **kwargs):\n        \"\"\"Initialization the agent.\n\n        Args:\n            function_list: One list of tool name, tool configuration or Tool object,\n              such as 'code_interpreter', {'name': 'code_interpreter', 'timeout': 10}, or CodeInterpreter().\n            llm: The LLM model configuration or LLM model object.\n              Set the configuration as {'model': '', 'api_key': '', 'model_server': ''}.\n            system_message: The specified system message for LLM chat.\n            name: The name of this agent.\n            description: The description of this agent, which will be used for multi_agent.\n        \"\"\"\n        if isinstance(llm, dict):\n            self.llm = get_chat_model(llm)\n        else:\n            self.llm = llm\n        self.extra_generate_cfg: dict = {}\n\n        self.function_map = {}\n        if function_list:\n            for tool in function_list:\n                self._init_tool(tool)\n\n        self.system_message = system_message\n        self.name = name\n        self.description = description\n\n    def run(self, messages: List[Union[Dict, Message]],\n            **kwargs) -&gt; Union[Iterator[List[Message]], Iterator[List[Dict]]]:\n        \"\"\"Return one response generator based on the received messages.\n\n        This method performs a uniform type conversion for the inputted messages,\n        and calls the _run method to generate a reply.\n\n        Args:\n            messages: A list of messages.\n\n        Yields:\n            The response generator.\n        \"\"\"\n        messages = copy.deepcopy(messages)\n        _return_message_type = 'dict'\n        new_messages = []\n        # Only return dict when all input messages are dict\n        if not messages:\n            _return_message_type = 'message'\n        for msg in messages:\n            if isinstance(msg, dict):\n                new_messages.append(Message(**msg))\n            else:\n                new_messages.append(msg)\n                _return_message_type = 'message'\n\n        if 'lang' not in kwargs:\n            if has_chinese_messages(new_messages):\n                kwargs['lang'] = 'zh'\n            else:\n                kwargs['lang'] = 'en'\n\n        for rsp in self._run(messages=new_messages, **kwargs):\n            for i in range(len(rsp)):\n                if not rsp[i].name and self.name:\n                    rsp[i].name = self.name\n            if _return_message_type == 'message':\n                yield [Message(**x) if isinstance(x, dict) else x for x in rsp]\n            else:\n                yield [x.model_dump() if not isinstance(x, dict) else x for x in rsp]\n</code></pre> <p><code>Assistant</code>\u7c7b\u7684<code>_run</code>\u65b9\u6cd5\u4f1a\u5148\u8c03\u7528<code>_prepend_knowledge_prompt</code>\u7136\u540e\u8c03\u7528\u7236\u7c7b\u7684<code>_run</code>\u65b9\u6cd5\u3002</p> <pre><code>class Assistant(FnCallAgent):\n    \"\"\"This is a widely applicable agent integrated with RAG capabilities and function call ability.\"\"\"\n\n    def __init__(self,\n                 function_list: Optional[List[Union[str, Dict, BaseTool]]] = None,\n                 llm: Optional[Union[Dict, BaseChatModel]] = None,\n                 system_message: Optional[str] = DEFAULT_SYSTEM_MESSAGE,\n                 name: Optional[str] = None,\n                 description: Optional[str] = None,\n                 files: Optional[List[str]] = None,\n                 rag_cfg: Optional[Dict] = None):\n        super().__init__(function_list=function_list,\n                         llm=llm,\n                         system_message=system_message,\n                         name=name,\n                         description=description,\n                         files=files,\n                         rag_cfg=rag_cfg)\n\n    def _run(self,\n             messages: List[Message],\n             lang: Literal['en', 'zh'] = 'en',\n             knowledge: str = '',\n             **kwargs) -&gt; Iterator[List[Message]]:\n        \"\"\"Q&amp;A with RAG and tool use abilities.\n\n        Args:\n            knowledge: If an external knowledge string is provided,\n              it will be used directly without retrieving information from files in messages.\n\n        \"\"\"\n        logger.debug(f\"{messages=}, {lang=}, {knowledge=}, {kwargs=}\")\n        new_messages = self._prepend_knowledge_prompt(messages=messages, lang=lang, knowledge=knowledge, **kwargs)\n        logger.debug(f\"{new_messages=}\")\n        return super()._run(messages=new_messages, lang=lang, **kwargs)\n\n    def _prepend_knowledge_prompt(self,\n                                  messages: List[Message],\n                                  lang: Literal['en', 'zh'] = 'en',\n                                  knowledge: str = '',\n                                  **kwargs) -&gt; List[Message]:\n        messages = copy.deepcopy(messages)\n        if not knowledge:\n            # Retrieval knowledge from files\n            *_, last = self.mem.run(messages=messages, lang=lang, **kwargs)\n            knowledge = last[-1][CONTENT]\n\n        logger.debug(f'Retrieved knowledge of type `{type(knowledge).__name__}`:\\n{knowledge}')\n        if knowledge:\n            knowledge = format_knowledge_to_source_and_content(knowledge)\n            logger.debug(f'Formatted knowledge into type `{type(knowledge).__name__}`:\\n{knowledge}')\n        else:\n            knowledge = []\n        snippets = []\n        for k in knowledge:\n            snippets.append(KNOWLEDGE_SNIPPET[lang].format(source=k['source'], content=k['content']))\n        knowledge_prompt = ''\n        if snippets:\n            knowledge_prompt = KNOWLEDGE_TEMPLATE[lang].format(knowledge='\\n\\n'.join(snippets))\n\n        if knowledge_prompt:\n            if messages[0][ROLE] == SYSTEM:\n                messages[0][CONTENT] += '\\n\\n' + knowledge_prompt\n            else:\n                messages = [Message(role=SYSTEM, content=knowledge_prompt)] + messages\n        return messages\n</code></pre> <p>\u5728<code>_prepend_knowledge_prompt</code>\u65b9\u6cd5\u4e2d\u4f1a\u8c03\u7528<code>Memory</code>\u7684<code>run</code>\u65b9\u6cd5\u6765\u83b7\u53d6\u77e5\u8bc6\u3002</p> <p>\u5728<code>Memory</code>\u7684<code>_run</code>\u65b9\u6cd5\u4e2d\u4f1a\u8c03\u7528<code>rag_keygen_strategy</code>\u7684<code>run</code>\u65b9\u6cd5\uff0c\u9ed8\u8ba4\u60c5\u51b5\u662f<code>SplitQueryThenGenKeyword</code>\u7c7b\u3002\u7136\u540e\u4f7f\u7528<code>retrieval</code>\u5de5\u5177\u8fdb\u884c\u68c0\u7d22\u3002</p> <pre><code>class Memory(Agent):\n    def _run(self, messages: List[Message], lang: str = 'en', **kwargs) -&gt; Iterator[List[Message]]:\n        \"\"\"This agent is responsible for processing the input files in the message.\n\n         This method stores the files in the knowledge base, and retrievals the relevant parts\n         based on the query and returning them.\n         The currently supported file types include: .pdf, .docx, .pptx, .txt, and html.\n\n         Args:\n             messages: A list of messages.\n             lang: Language.\n\n        Yields:\n            The message of retrieved documents.\n        \"\"\"\n        # process files in messages\n        rag_files = self.get_rag_files(messages)\n\n        if not rag_files:\n            yield [Message(role=ASSISTANT, content='', name='memory')]\n        else:\n            query = ''\n            # Only retrieval content according to the last user query if exists\n            if messages and messages[-1].role == USER:\n                query = extract_text_from_message(messages[-1], add_upload_info=False)\n\n            # Keyword generation\n            if query and self.rag_keygen_strategy.lower() != 'none':\n                module_name = 'qwen_agent.agents.keygen_strategies'\n                module = import_module(module_name)\n                cls = getattr(module, self.rag_keygen_strategy)\n                keygen = cls(llm=self.llm)\n                response = keygen.run([Message(USER, query)], files=rag_files)\n                last = None\n                for last in response:\n                    continue\n                if last:\n                    keyword = last[-1].content.strip()\n                else:\n                    keyword = ''\n\n                if keyword.startswith('```json'):\n                    keyword = keyword[len('```json'):]\n                if keyword.endswith('```'):\n                    keyword = keyword[:-3]\n                try:\n                    keyword_dict = json5.loads(keyword)\n                    if 'text' not in keyword_dict:\n                        keyword_dict['text'] = query\n                    query = json.dumps(keyword_dict, ensure_ascii=False)\n                    logger.info(query)\n                except Exception:\n                    query = query\n\n            content = self._call_tool(\n                'retrieval',\n                {\n                    'query': query,\n                    'files': rag_files\n                },\n                **kwargs,\n            )\n\n            yield [Message(role=ASSISTANT, content=content, name='memory')]\n</code></pre> <p><code>SplitQueryThenGenKeyword</code>\u7684<code>run</code>\u65b9\u6cd5\u4f1a\u5148\u8c03\u7528<code>SplitQuery</code>\u7684<code>run</code>\u65b9\u6cd5\u7136\u540e\u518d\u8c03\u7528<code>GenKeyword</code>\u7684<code>run</code>\u65b9\u6cd5\u3002</p> <pre><code>class SplitQueryThenGenKeyword(Agent):\n\n    def __init__(self,\n                 function_list: Optional[List[Union[str, Dict, BaseTool]]] = None,\n                 llm: Optional[Union[Dict, BaseChatModel]] = None,\n                 system_message: Optional[str] = DEFAULT_SYSTEM_MESSAGE,\n                 **kwargs):\n        super().__init__(function_list, llm, system_message, **kwargs)\n        self.split_query = SplitQuery(llm=self.llm)\n        self.keygen = GenKeyword(llm=llm)\n\n    def _run(self, messages: List[Message], lang: str = 'en', **kwargs) -&gt; Iterator[List[Message]]:\n        query = messages[-1].content\n\n        *_, last = self.split_query.run(messages=messages, lang=lang, **kwargs)\n        information = last[-1].content.strip()\n        if information.startswith('```json'):\n            information = information[len('```json'):]\n        if information.endswith('```'):\n            information = information[:-3]\n        try:\n            information = '\\n'.join(json5.loads(information)['information']).strip()\n            if 0 &lt; len(information) &lt;= len(query):\n                query = information\n        except Exception:\n            query = query\n        rsp = []\n        for rsp in self.keygen.run([Message(USER, query)]):\n            yield rsp\n\n        if rsp:\n            keyword = rsp[-1].content.strip()\n            if keyword.startswith('```json'):\n                keyword = keyword[len('```json'):]\n            if keyword.endswith('```'):\n                keyword = keyword[:-3]\n            try:\n                keyword_dict = json5.loads(keyword)\n                keyword_dict['text'] = query\n                yield [Message(role=ASSISTANT, content=json.dumps(keyword_dict, ensure_ascii=False))]\n            except Exception:\n                pass\n</code></pre> <p><code>SplitQuery</code>\u7684<code>_run</code>\u65b9\u6cd5\u4f1a\u8c03\u7528\u7236\u7c7b<code>GenKeyword</code>\u7684<code>_run</code>\u65b9\u6cd5\u3002</p> <pre><code>class SplitQuery(GenKeyword):\n    \"\"\"This agent split the query into information.\"\"\"\n    PROMPT_TEMPLATE_EN = \"\"\"Please extract the key information fragments that can help retrieval and the task description in the question, and give them in JSON format:\n{{\"information\": [\"information fragment 1\", \"information fragment 2\"], \"instruction\": [\"instruction fragment 1\", \"instruction fragment 2\"]}}.\nIf it is a question, the default task description is: Answer the question\n\nQuestion: What is MMDET.UTILS?\nResult: {{\"information\": [\"What is MMDET.UTILS\"], \"instruction\": [\"Answer the question\"]}}\nObservation: ...\n\nQuestion: Summarize\nResult: {{\"information\": [], \"instruction\": [\"Summarize\"]}}\nObservation: ...\n\nQuestion: Describe in great detail 2.1 DATA, 2.2 TOKENIZATION, 2.3 ARCHITECTURE. Also, can you incorporate the methods from this paper?\nResult: {{\"information\": [\"2.1 DATA, 2.2 TOKENIZATION, 2.3 ARCHITECTURE\"], \"instruction\": [\"Describe in great detail\", \"Also, can you incorporate the methods from this paper?\"]}}\nObservation: ...\n\nQuestion: Help me count the performance of membership levels.\nResult: {{\"information\": [\"the performance of membership levels\"], \"instruction\": [\"Help me count\"]}}\nObservation: ...\n\nQuestion: {user_request}\nResult:\n\"\"\"\n\n    PROMPT_TEMPLATE_ZH = \"\"\"\u8bf7\u63d0\u53d6\u95ee\u9898\u4e2d\u7684\u53ef\u4ee5\u5e2e\u52a9\u68c0\u7d22\u7684\u91cd\u70b9\u4fe1\u606f\u7247\u6bb5\u548c\u4efb\u52a1\u63cf\u8ff0\uff0c\u4ee5JSON\u7684\u683c\u5f0f\u7ed9\u51fa\uff1a{{\"information\": [\"\u91cd\u70b9\u4fe1\u606f\u7247\u6bb51\", \"\u91cd\u70b9\u4fe1\u606f\u7247\u6bb52\"], \"instruction\": [\"\u4efb\u52a1\u63cf\u8ff0\u7247\u6bb51\", \"\u4efb\u52a1\u63cf\u8ff0\u7247\u6bb52\"]}}\u3002\n\u5982\u679c\u662f\u63d0\u95ee\uff0c\u5219\u9ed8\u8ba4\u4efb\u52a1\u63cf\u8ff0\u4e3a\uff1a\u56de\u7b54\u95ee\u9898\n\nQuestion: MMDET.UTILS\u662f\u4ec0\u4e48\nResult: {{\"information\": [\"MMDET.UTILS\u662f\u4ec0\u4e48\"], \"instruction\": [\"\u56de\u7b54\u95ee\u9898\"]}}\nObservation: ...\n\nQuestion: \u603b\u7ed3\nResult: {{\"information\": [], \"instruction\": [\"\u603b\u7ed3\"]}}\nObservation: ...\n\nQuestion: \u8981\u975e\u5e38\u8be6\u7ec6\u63cf\u8ff02.1 DATA\uff0c2.2 TOKENIZATION\uff0c2.3 ARCHITECTURE\u3002\u53e6\u5916\u4f60\u80fd\u628a\u8fd9\u7bc7\u8bba\u6587\u7684\u65b9\u6cd5\u878d\u5408\u8fdb\u53bb\u5417\nResult: {{\"information\": [\"2.1 DATA\uff0c2.2 TOKENIZATION\uff0c2.3 ARCHITECTURE\"], \"instruction\": [\"\u8981\u975e\u5e38\u8be6\u7ec6\u63cf\u8ff0\", \"\u53e6\u5916\u4f60\u80fd\u628a\u8fd9\u7bc7\u8bba\u6587\u7684\u65b9\u6cd5\u878d\u5408\u8fdb\u53bb\u5417\"]}}\nObservation: ...\n\nQuestion: \u5e2e\u6211\u7edf\u8ba1\u4e0d\u540c\u4f1a\u5458\u7b49\u7ea7\u7684\u4e1a\u7ee9\nResult: {{\"information\": [\"\u4f1a\u5458\u7b49\u7ea7\u7684\u4e1a\u7ee9\"], \"instruction\": [\"\u5e2e\u6211\u7edf\u8ba1\"]}}\nObservation: ...\n\nQuestion: {user_request}\nResult:\n\"\"\"\n\n    PROMPT_TEMPLATE = {\n        'zh': PROMPT_TEMPLATE_ZH,\n        'en': PROMPT_TEMPLATE_EN,\n    }\n\n    def __init__(self,\n                 function_list: Optional[List[Union[str, Dict, BaseTool]]] = None,\n                 llm: Optional[Union[Dict, BaseChatModel]] = None,\n                 system_message: Optional[str] = DEFAULT_SYSTEM_MESSAGE,\n                 **kwargs):\n        super().__init__(function_list, llm, system_message, **kwargs)\n        # Currently, instruction is not utilized,\n        # so in order to avoid generating redundant tokens, set 'instruction' as stop words\n        self.extra_generate_cfg = merge_generate_cfgs(\n            base_generate_cfg=self.extra_generate_cfg,\n            new_generate_cfg={'stop': ['\"], \"instruction\":']},\n        )\n\n    def _run(self, messages: List[Message], lang: str = 'en', **kwargs) -&gt; Iterator[List[Message]]:\n        for last in super()._run(messages=messages, lang=lang, **kwargs):\n            continue\n        extracted_content = last[-1].content.strip()\n        logger.info(f'Extracted info from query: {extracted_content}')\n        if extracted_content.endswith('}') or extracted_content.endswith('```'):\n            yield [Message(role=ASSISTANT, content=extracted_content)]\n        else:\n            try:\n                extracted_content += '\"]}'\n                yield [Message(role=ASSISTANT, content=extracted_content)]\n            except Exception:\n                yield [Message(role=ASSISTANT, content='')]\n</code></pre> <p><code>GenKeyword</code>\u7684<code>_run</code>\u65b9\u6cd5\u4f1a\u4f7f\u7528\u6839\u636e\u8bed\u8a00\u662f\u4e2d\u6587\u8fd8\u662f\u82f1\u6587\u4ece<code>PROMPT_TEMPLATE</code>\u83b7\u53d6\u5bf9\u5e94\u7684\u63d0\u793a\u8bcd\uff0c\u7136\u540e\u8c03\u7528\u5927\u6a21\u578b\u751f\u6210\u7ed3\u679c\u3002</p> <p>\u8fd9\u4e2a\u5bf9\u8bdd\u7684\u6d41\u7a0b\u56fe\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%8D%83%E9%97%AEAgent.html#_3","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Qwen-Agent</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86.html","title":"\u5927\u6a21\u578b\u63a8\u7406\u6846\u67b6\u5b66\u4e60\u8bb0\u5f55","text":"<p>\u4e0b\u6587\u4e2d\u5173\u4e8estar\uff0cIssues, PR\u662f\u622a\u6b622024-4-22\u7684\u6570\u636e\u3002</p> <p>Issues\u548cPR\u7684\u683c\u5f0f\u4e3a\uff1aopen\u7684\u6570\u636e/Closed\u7684\u6570\u91cf</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86.html#vllm","title":"vLLM","text":"<p>Github\uff1a https://github.com/vllm-project/vllm </p> <p>Star: 18.1k , Issues: 673/ 1796 , PR: 193/1409</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86.html#_2","title":"\u7b80\u4ecb","text":"<p>vLLM\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5927\u6a21\u578b\u63a8\u7406\u52a0\u901f\u6846\u67b6\uff0c\u901a\u8fc7PagedAttention\u9ad8\u6548\u5730\u7ba1\u7406attention\u4e2d\u7f13\u5b58\u7684\u5f20\u91cf\uff0c\u5b9e\u73b0\u4e86\u6bd4HuggingFace Transformers\u9ad814-24\u500d\u7684\u541e\u5410\u91cf\u3002</p> <p>PagedAttention \u662f vLLM \u7684\u6838\u5fc3\u6280\u672f\uff0c\u5b83\u89e3\u51b3\u4e86LLM\u670d\u52a1\u4e2d\u5185\u5b58\u7684\u74f6\u9888\u95ee\u9898\u3002\u4f20\u7edf\u7684\u6ce8\u610f\u529b\u7b97\u6cd5\u5728\u81ea\u56de\u5f52\u89e3\u7801\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u5c06\u6240\u6709\u8f93\u5165Token\u7684\u6ce8\u610f\u529b\u952e\u548c\u503c\u5f20\u91cf\u5b58\u50a8\u5728GPU\u5185\u5b58\u4e2d\uff0c\u4ee5\u751f\u6210\u4e0b\u4e00\u4e2aToken\u3002\u8fd9\u4e9b\u7f13\u5b58\u7684\u952e\u548c\u503c\u5f20\u91cf\u901a\u5e38\u88ab\u79f0\u4e3aKV\u7f13\u5b58\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86.html#_3","title":"\u4e3b\u8981\u7279\u6027\uff1a","text":"<ul> <li>\u6700\u9ad8\u7684\u670d\u52a1\u541e\u5410\u91cf</li> <li>\u4f7f\u7528 PagedAttention \u9ad8\u6548\u7ba1\u7406\u6ce8\u610f\u529b\u952e\u548c\u503c\u5185\u5b58</li> <li>\u91cf\u5316\uff1aGPTQ\u3001AWQ\u3001SqueezeLLM\u3001FP8 KV \u7f13\u5b58</li> <li>\u652f\u6301\u5f20\u91cf\u5e76\u884c\u63a8\u7406</li> <li>\u652f\u6301\u6d41\u5f0f\u8f93\u51fa</li> <li>\u517c\u5bb9 OpenAI \u7684\u63a5\u53e3\u670d\u52a1</li> <li>\u4e0e HuggingFace \u6a21\u578b\u65e0\u7f1d\u96c6\u6210</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86.html#huggingface_tgi","title":"Huggingface TGI","text":"<p>Github: https://github.com/huggingface/text-generation-inference</p> <p>star: 7.8k  Issues:  129/890   PR: 23/706</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86.html#_4","title":"\u7b80\u4ecb","text":"<p>Text Generation Inference\uff08TGI\uff09\u662f HuggingFace \u63a8\u51fa\u7684\u4e00\u4e2a\u9879\u76ee\uff0c\u4f5c\u4e3a\u652f\u6301 HuggingFace Inference API \u548c Hugging Chat \u4e0a\u7684LLM \u63a8\u7406\u7684\u5de5\u5177\uff0c\u65e8\u5728\u652f\u6301\u5927\u578b\u8bed\u8a00\u6a21\u578b\u7684\u4f18\u5316\u63a8\u7406\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86.html#_5","title":"\u4e3b\u8981\u7279\u6027","text":"<ul> <li>\u652f\u6301\u5f20\u91cf\u5e76\u884c\u63a8\u7406</li> <li> <p>\u652f\u6301\u4f20\u5165\u8bf7\u6c42 Continuous batching \u4ee5\u63d0\u9ad8\u603b\u541e\u5410\u91cf</p> </li> <li> <p>\u4f7f\u7528 flash-attention \u548c Paged Attention \u5728\u4e3b\u6d41\u7684\u6a21\u578b\u67b6\u6784\u4e0a\u4f18\u5316\u7528\u4e8e\u63a8\u7406\u7684 transformers \u4ee3\u7801\u3002\u6ce8\u610f\uff1a\u5e76\u975e\u6240\u6709\u6a21\u578b\u90fd\u5185\u7f6e\u4e86\u5bf9\u8fd9\u4e9b\u4f18\u5316\u7684\u652f\u6301\u3002</p> </li> <li>\u4f7f\u7528bitsandbytes(LLM.int8())\u548cGPT-Q\u8fdb\u884c\u91cf\u5316</li> <li>\u5185\u7f6e\u670d\u52a1\u8bc4\u4f30\uff0c\u53ef\u4ee5\u76d1\u63a7\u670d\u52a1\u5668\u8d1f\u8f7d\u5e76\u6df1\u5165\u4e86\u89e3\u5176\u6027\u80fd</li> <li>\u8f7b\u677e\u8fd0\u884c\u81ea\u5df1\u7684\u6a21\u578b\u6216\u4f7f\u7528\u4efb\u4f55 HuggingFace \u4ed3\u5e93\u7684\u6a21\u578b</li> <li>\u81ea\u5b9a\u4e49\u63d0\u793a\u751f\u6210\uff1a\u901a\u8fc7\u63d0\u4f9b\u81ea\u5b9a\u4e49\u63d0\u793a\u6765\u6307\u5bfc\u6a21\u578b\u7684\u8f93\u51fa\uff0c\u8f7b\u677e\u751f\u6210\u6587\u672c</li> <li>\u4f7f\u7528 Open Telemetry\uff0cPrometheus \u6307\u6807\u8fdb\u884c\u5206\u5e03\u5f0f\u8ddf\u8e2a</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86.html#fastertransformer","title":"FasterTransformer","text":"<p>Github: https://github.com/NVIDIA/FasterTransformer</p> <p>star: 5.4k  Issues: 246/376   PR: 41/128</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86.html#_6","title":"\u7b80\u4ecb","text":"<p>NVIDIA FasterTransformer (FT) \u662f\u4e00\u4e2a\u7528\u4e8e\u5b9e\u73b0\u57fa\u4e8eTransformer\u7684\u795e\u7ecf\u7f51\u7edc\u63a8\u7406\u7684\u52a0\u901f\u5f15\u64ce\u3002\u5b83\u5305\u542bTransformer\u5757\u7684\u9ad8\u5ea6\u4f18\u5316\u7248\u672c\u7684\u5b9e\u73b0\uff0c\u5176\u4e2d\u5305\u542b\u7f16\u7801\u5668\u548c\u89e3\u7801\u5668\u90e8\u5206\u3002\u4f7f\u7528\u6b64\u6a21\u5757\uff0c\u60a8\u53ef\u4ee5\u8fd0\u884c\u7f16\u7801\u5668-\u89e3\u7801\u5668\u67b6\u6784\u6a21\u578b\uff08\u5982\uff1aT5\uff09\u3001\u4ec5\u7f16\u7801\u5668\u67b6\u6784\u6a21\u578b\uff08\u5982\uff1aBERT\uff09\u548c\u4ec5\u89e3\u7801\u5668\u67b6\u6784\u6a21\u578b\uff08\u5982\uff1a GPT\uff09\u7684\u63a8\u7406\u3002</p> <p>FT\u6846\u67b6\u662f\u7528C++/CUDA\u7f16\u5199\u7684\uff0c\u4f9d\u8d56\u4e8e\u9ad8\u5ea6\u4f18\u5316\u7684 cuBLAS\u3001cuBLASLt \u548c cuSPARSELt \u5e93\uff0c\u8fd9\u4f7f\u60a8\u53ef\u4ee5\u5728 GPU \u4e0a\u8fdb\u884c\u5feb\u901f\u7684 Transformer \u63a8\u7406\u3002</p> <p>\u4e0e NVIDIA TensorRT \u7b49\u5176\u4ed6\u7f16\u8bd1\u5668\u76f8\u6bd4\uff0cFT \u7684\u6700\u5927\u7279\u70b9\u662f\u5b83\u652f\u6301\u4ee5\u5206\u5e03\u5f0f\u65b9\u5f0f\u8fdb\u884c Transformer \u5927\u6a21\u578b\u63a8\u7406\u3002</p> <p>\u5728\u5e95\u5c42\uff0c\u8282\u70b9\u95f4\u6216\u8282\u70b9\u5185\u901a\u4fe1\u4f9d\u8d56\u4e8e MPI \u3001 NVIDIA NCCL\u3001Gloo\u7b49\u3002\u56e0\u6b64\uff0c\u4f7f\u7528FasterTransformer\uff0c\u60a8\u53ef\u4ee5\u5728\u591a\u4e2a GPU \u4e0a\u4ee5\u5f20\u91cf\u5e76\u884c\u8fd0\u884c\u5927\u578bTransformer\uff0c\u4ee5\u51cf\u5c11\u8ba1\u7b97\u5ef6\u8fdf\u3002\u540c\u65f6\uff0cTP \u548c PP \u53ef\u4ee5\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u5728\u591a GPU \u8282\u70b9\u73af\u5883\u4e2d\u8fd0\u884c\u5177\u6709\u6570\u5341\u4ebf\u3001\u6570\u4e07\u4ebf\u4e2a\u53c2\u6570\u7684\u5927\u578b Transformer \u6a21\u578b\u3002</p> <p>\u9664\u4e86\u4f7f\u7528 C ++ \u4f5c\u4e3a\u540e\u7aef\u90e8\u7f72\uff0cFasterTransformer \u8fd8\u96c6\u6210\u4e86 TensorFlow\uff08\u4f7f\u7528 TensorFlow op\uff09\u3001PyTorch \uff08\u4f7f\u7528 Pytorch op\uff09\u548c Triton \u4f5c\u4e3a\u540e\u7aef\u6846\u67b6\u8fdb\u884c\u90e8\u7f72\u3002\u5f53\u524d\uff0cTensorFlow op \u4ec5\u652f\u6301\u5355 GPU\uff0c\u800c PyTorch op \u548c Triton \u540e\u7aef\u90fd\u652f\u6301\u591a GPU \u548c\u591a\u8282\u70b9\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86.html#_7","title":"\u5b58\u5728\u7684\u95ee\u9898","text":"<ul> <li>\u82f1\u4f1f\u8fbe\u65b0\u63a8\u51fa\u4e86TensorRT-LLM\uff0c\u76f8\u5bf9\u6765\u8bf4\u66f4\u52a0\u6613\u7528\uff0c\u540e\u7eedFasterTransformer\u5c06\u4e0d\u518d\u4e3a\u7ef4\u62a4\u4e86\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86.html#tensorrt-llm","title":"TensorRT-LLM","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8E%A8%E7%90%86.html#_8","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u77e5\u4e4e\u95ee\u9898\uff1a\u76ee\u524d\u4e1a\u754c\u5927\u6a21\u578b\u63a8\u7406\u6846\u67b6\u5f88\u591a\uff0c\u5404\u6709\u4ec0\u4e48\u4f18\u7f3a\u70b9\uff0c\u5e94\u8be5\u5982\u4f55\u9009\u62e9\uff1f</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html","title":"\u5b89\u88c5Nvidia\u663e\u5361\u9a71\u52a8\u548cCUDA Toolkit","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#nvidia","title":"\u5b89\u88c5Nvidia\u663e\u5361\u9a71\u52a8","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_1","title":"\u67e5\u770b\u7cfb\u7edf\u548c\u663e\u5361\u4fe1\u606f","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_2","title":"\u67e5\u770b\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f","text":"<pre><code>$ uname -m &amp;&amp; cat /etc/*release\nx86_64\nCentOS Linux release 7.9.2009 (Core)\nNAME=\"CentOS Linux\"\nVERSION=\"7 (Core)\"\nID=\"centos\"\nID_LIKE=\"rhel fedora\"\nVERSION_ID=\"7\"\nPRETTY_NAME=\"CentOS Linux 7 (Core)\"\nANSI_COLOR=\"0;31\"\nCPE_NAME=\"cpe:/o:centos:centos:7\"\nHOME_URL=\"https://www.centos.org/\"\nBUG_REPORT_URL=\"https://bugs.centos.org/\"\n\nCENTOS_MANTISBT_PROJECT=\"CentOS-7\"\nCENTOS_MANTISBT_PROJECT_VERSION=\"7\"\nREDHAT_SUPPORT_PRODUCT=\"centos\"\nREDHAT_SUPPORT_PRODUCT_VERSION=\"7\"\n\nCentOS Linux release 7.9.2009 (Core)\nCentOS Linux release 7.9.2009 (Core)\n</code></pre> <p><code>x86_64</code> \u8868\u793a\u5728 64 \u4f4d\u7cfb\u7edf\u4e0a\u8fd0\u884c\u3002\u4e0b\u9762\u662f Linux \u53d1\u884c\u7248\u7684\u4fe1\u606f\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_3","title":"\u67e5\u770b\u5185\u6838\u7248\u672c","text":"<p>CUDA \u9a71\u52a8\u7a0b\u5e8f\u8981\u6c42\u5728\u5b89\u88c5\u9a71\u52a8\u7a0b\u5e8f\u65f6\u4ee5\u53ca\u91cd\u5efa\u9a71\u52a8\u7a0b\u5e8f\u65f6\u5b89\u88c5\u5185\u6838\u8fd0\u884c\u7248\u672c\u7684\u5185\u6838\u5934\u6587\u4ef6\u548c\u5f00\u53d1\u5305\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u7684\u7cfb\u7edf\u8fd0\u884c\u5185\u6838\u7248\u672c 3.17.4-301\uff0c\u5219\u8fd8\u5fc5\u987b\u5b89\u88c5 3.17.4-301 \u5185\u6838\u5934\u6587\u4ef6\u548c\u5f00\u53d1\u5305\u3002</p> <pre><code>$ uname -r\n3.10.0-1160.el7.x86_64\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_4","title":"\u67e5\u770b\u663e\u5361\u578b\u53f7","text":"<pre><code>$ lspci | grep -i nvidia\n3b:00.0 3D controller: NVIDIA Corporation GV100GL [Tesla V100S PCIe 32GB] (rev a1)\n86:00.0 3D controller: NVIDIA Corporation GV100GL [Tesla V100S PCIe 32GB] (rev a1)\n</code></pre> <p>\u5982\u679c\u63d0\u793a <code>lspci: command not found</code>\uff0c\u9700\u8981\u5b89\u88c5<code>pciutils</code>\u5de5\u5177\u5305</p> <pre><code>yum install pciutils -y\n</code></pre> <p>\u5982\u679c\u60a8\u6ca1\u6709\u770b\u5230\u4efb\u4f55\u8bbe\u7f6e\uff0c\u5728\u547d\u4ee4\u884c\u8f93\u5165 <code>update-pciids</code>\uff08\u901a\u5e38\u5728 <code>/sbin</code> \u4e2d\u627e\u5230\uff09\u6765\u66f4\u65b0 Linux \u7ef4\u62a4\u7684 PCI \u786c\u4ef6\u6570\u636e\u5e93\uff0c\u7136\u540e\u91cd\u65b0\u8fd0\u884c\u4e4b\u524d\u7684 <code>lspci</code>\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#nvidia_1","title":"\u4e0b\u8f7dNvidia \u9a71\u52a8\u5b89\u88c5\u6587\u4ef6","text":"<p>\u9996\u5148\u5728 https://www.nvidia.cn/Download/index.aspx?lang=cn \u4e0a\u8f93\u5165\u663e\u5361\u578b\u53f7\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001CUDA Toolkit\u7248\u672c\uff0c\u7136\u540e\u641c\u7d22,\u793a\u4f8b\u5982\u4e0b\uff1a</p> <p></p> <p>\u7136\u540e\u70b9\u51fb\u4e0b\u8f7d</p> <p></p> <p>\u4e0b\u8f7d\u94fe\u63a5\u4e3a\uff1a https://cn.download.nvidia.com/tesla/535.154.05/NVIDIA-Linux-x86_64-535.154.05.run</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_5","title":"\u5b89\u88c5\u4f9d\u8d56","text":"<pre><code>yum install -y gcc gcc-c++ kernel-devel-$(uname -r) kernel-headers-$(uname -r)\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#gpu","title":"\u505c\u6b62GPU\u4e0a\u7684\u4efb\u52a1\u548c\u5378\u8f7d\u65e7\u7684\u9a71\u52a8","text":"<p>\u51c6\u5907\u5de5\u4f5c </p> <pre><code># \u5207\u6362\u5230\u7ba1\u7406\u5458\u677c\u4e0b\nsu root \n\n# \u8fd9\u4e2a\u670d\u52a1\u5982\u679c\u6ca1\u6709\u53ef\u4ee5\u4e0d\u7528\u6267\u884c\nsudo service ligthdm stop\n</code></pre> <p><code>kill</code> \u6240\u6709\u4e0e <code>nvidia</code> \u6709\u5173\u7684\u8fdb\u7a0b\uff0c\u5c06\u4e0b\u9762\u7684\u5185\u5bb9\u5199\u5230\u811a\u672c<code>kill-nvidia-process.sh</code>\u4e2d\uff1a</p> <pre><code>echo \"start\"\n\nfuser -v /dev/nvidia* &gt; a.txt\n\necho \"start kill\"\n\nfor i in `cat a.txt`\ndo\n    echo \"start execute kill -9 \"$i\n    kill -9 $i\n    echo \"end ececute kill -9 \"$i\ndone\n\necho \"end\"\n</code></pre> <p>\u6267\u884c\u811a\u672c\uff1a</p> <pre><code>bash kill-nvidia-process.sh\n</code></pre> <p>\u6267\u884c\u5b8c\u4e0a\u9762\u7684\u811a\u672c\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u770b\u662f\u5426\u8fd8\u6709\u8fdb\u7a0b\uff0c\u8f93\u51fa\u4e3a\u7a7a\u8bf4\u660e\u8fdb\u7a0b\u5df2\u7ecf\u5168\u90e8 kill \u4e86\uff1a</p> <pre><code>fuser -v /dev/nvidia*\n</code></pre> <p>\u5378\u8f7d\u65e7\u7684\u9a71\u52a8</p> <pre><code># \u5378\u8f7d\u65e7\u7684\u9a71\u52a8\n/usr/bin/nvidia-uninstall\n</code></pre> <p>\u5378\u8f7d\u65e7\u7684\u9a71\u52a8\uff0c\u5f39\u51fa\u7684\u63d0\u793a\u6846\u9ed8\u8ba4\u4e3a<code>No</code>\uff0c\u8fd9\u91cc\u4e0d\u9700\u8981\u4fee\u6539\uff0c\u76f4\u63a5\u6309Enter\u5373\u53ef\u3002</p> <p></p> <p>\u63a5\u7740\u56de\u8f66</p> <p></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#nouveau","title":"\u7981\u7528 nouveau \u9a71\u52a8","text":"<p>Nouveau \u662f\u4e00\u4e2a\u5f00\u6e90\u7684 Nvidia \u663e\u5361\u9a71\u52a8\u7a0b\u5e8f\u9879\u76ee\uff0c\u65e8\u5728\u4e3a Linux \u7cfb\u7edf\u63d0\u4f9b\u5bf9 Nvidia \u663e\u5361\u7684\u652f\u6301\u3002\u5728\u5b89\u88c5 Nvidia\u7684\u9a71\u52a8\u4e4b\u524d\u9700\u8981\u5c06 Nouveau \u7684\u9a71\u52a8\u7981\u7528\u6389\u3002</p> <p>\u5982\u679c\u5df2\u7ecf\u7981\u7528\u8fc7 nouveau \u9a71\u52a8\u8fd9\u4e00\u6b65\u4e0d\u9700\u8981\u518d\u6267\u884c\u3002</p> <p>\u7f16\u8f91 <code>/etc/modprobe.d/blacklist.conf</code> \u6587\u4ef6\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>blacklist nouveau\noptions nouveau modeset=0\n</code></pre> <p>\u4f7f\u7528 dracut\u91cd\u65b0\u5efa\u7acb initramfs nouveau \u5e76\u4e14\u5907\u4efd initramfs nouveau image\u955c\u50cf</p> <pre><code>mv /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).img.bak\n</code></pre> <p>\u91cd\u65b0\u5efa\u7acb\u65b0\u7684 the initramfs file:</p> <pre><code>dracut -v /boot/initramfs-$(uname -r).img $(uname -r)\n</code></pre> <p></p> <p>\u7136\u540e\u91cd\u542f\uff1a</p> <pre><code>sudo reboot\n</code></pre> <p>\u91cd\u542f\u540e\uff0c\u6267\u884c\uff1a</p> <pre><code>lsmod | grep nouveau\n</code></pre> <p>\u5982\u679c\u6ca1\u6709\u5c4f\u5e55\u8f93\u51fa\uff0c\u8bf4\u660e\u7981\u7528 <code>nouveau</code> \u6210\u529f\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#nvidia_2","title":"\u5b89\u88c5 Nvidia \u9a71\u52a8","text":"<p>\u6267\u884c\u4e0b\u8f7d\u7684\u9a71\u52a8\u5b89\u88c5\u6587\u4ef6<code>NVIDIA-Linux-x86_64-535.154.05.run</code>\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5982\u679c \u68c0\u6d4b\u5230 <code>X server</code> \u5728\u8fd0\u884c\u4e2d\u505c\u6b62\u5b89\u88c5\uff0c\u9700\u8981\u8bbe\u7f6e  <code>-no-x-check</code> \u53c2\u6570\u662f\u5f53 <code>X server</code> \u8fd0\u884c\u4e2d\u7684\u65f6\u5019\u53ef\u4ee5\u7ee7\u7eed\u5b89\u88c5\u3002</p> <pre><code>sh NVIDIA-Linux-x86_64-535.154.05.run -no-x-check \n</code></pre> <p></p> <p>\u63d0\u793a\u6ca1\u6709<code>cc</code>\u547d\u4ee4\uff0c\u9700\u8981\u5b89\u88c5 gcc ,\u901a\u8fc7<code>devtoolset-11-toolchain</code>\u5b89\u88c5gcc, g++\uff0c\u9996\u5148\u5728<code>/etc/yum.repos.d/CentOS-SCLo-rh.repo</code>\u4e2d\u6dfb\u52a0\u5185\u5bb9\uff1a</p> <pre><code># CentOS-SCLo-rh.repo\n#\n# Please see http://wiki.centos.org/SpecialInterestGroup/SCLo for more\n# information\n\n[centos-sclo-rh]\nname=CentOS-7 - SCLo rh\nbaseurl=http://mirrors.aliyun.com/centos/7/sclo/$basearch/rh/\ngpgcheck=1\nenabled=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo\n\n[centos-sclo-rh-testing]\nname=CentOS-7 - SCLo rh Testing\nbaseurl=http://mirrors.aliyun.com/centos/7/sclo/$basearch/rh/\ngpgcheck=0\nenabled=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo\n\n[centos-sclo-rh-source]\nname=CentOS-7 - SCLo rh Sources\nbaseurl=http://vault.centos.org/centos/7/sclo/Source/rh/\ngpgcheck=1\nenabled=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo\n\n[centos-sclo-rh-debuginfo]\nname=CentOS-7 - SCLo rh Debuginfo\nbaseurl=http://debuginfo.centos.org/centos/7/sclo/$basearch/\ngpgcheck=1\nenabled=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo\n</code></pre> <p>\u7136\u540e\u6267\u884c\uff1a</p> <pre><code>sudo yum install -y devtoolset-11-toolchain\nsudo scl enable devtoolset-11 bash\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u67e5\u8be2\u5b89\u88c5\u7684\u7248\u672c\uff1a</p> <pre><code># \u67e5\u770bcc\u7684\u7248\u672c\ncc -v\n# \u67e5\u770bgcc\u7684\u7248\u672c\ngcc -v\n# \u67e5\u770bg++\u7684\u7248\u672c\ng++ -v\n</code></pre> <p></p> <p>\u518d\u6b21\u6267\u884c\u5b89\u88c5\u547d\u4ee4\uff1a</p> <pre><code>sh NVIDIA-Linux-x86_64-535.154.05.run -no-x-check \n</code></pre> <p>\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u7684\u63d0\u793a\u76f4\u63a5\u4f7f\u7528\u9ed8\u8ba4\u9009\u62e9\u5373\u53ef\uff0c\u4e00\u8def\u56de\u8f66\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u663e\u793a<code>WARNING: nvidia-installer was forced to guess the X library path '/usr/lib64' and X module path '/usr/lib64/xorg/modules'; these paths were not queryable from the system.  If X fails to find        the NVIDIA X driver module, please install the</code>pkg-config<code>utility and the X.Org SDK/development package for your distribution and reinstall the driver.</code>\u76f4\u63a5\u56de\u8f66\u3002</p> <p></p> <p>\u663e\u793a<code>Install NVIDIA's 32-bit compatibility libraries?</code>\u9ed8\u8ba4\u9009\u62e9\u4e3a<code>Yes</code>\uff0c\u76f4\u63a5\u56de\u8f66\u3002</p> <p></p> <p>\u663e\u793a<code>WARNING: This NVIDIA driver package includes Vulkan components, but no Vulkan ICD loader was detected on this system. The NVIDIA Vulkan ICD will not function without the loader. Most    distributions package the Vulkan loader; try installing the \"vulkan-loader\", \"vulkan-icd-loader\", or \"libvulkan1\" package.</code>\u9ed8\u8ba4\u9009\u62e9\u4e3a <code>OK</code>\uff0c\u76f4\u63a5\u56de\u8f66\u3002</p> <p>\u663e\u793a<code>Installation of the NVIDIA Accelerated Graphics Driver for Linux-x86_64 (version: 535.154.05) is now complete.</code>\u9ed8\u8ba4\u9009\u62e9\u4e3a<code>OK</code>\u76f4\u63a5\u56de\u8f66\u3002</p> <p></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_6","title":"\u9a8c\u8bc1\u5b89\u88c5\u7ed3\u679c","text":"<p>\u4f7f\u7528 <code>nvidia-smi</code> \u547d\u4ee4\u9a8c\u8bc1\uff1a</p> <pre><code>nvidia-smi\n</code></pre> <p></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#cuda_toolkit","title":"\u5b89\u88c5CUDA Toolkit\u6587\u6863","text":"<p>CUDA Toolkit\u662f\u7531NVIDIA\u63d0\u4f9b\u7684\u7528\u4e8eGPU\u8ba1\u7b97\u7684\u8f6f\u4ef6\u5f00\u53d1\u5de5\u5177\u5305\u3002\u5b83\u5305\u62ec\u4e86\u4e00\u7cfb\u5217\u7528\u4e8eGPU\u52a0\u901f\u8ba1\u7b97\u7684\u5e93\u3001\u7f16\u8bd1\u5668\u3001\u8c03\u8bd5\u5668\u548c\u5176\u4ed6\u5de5\u5177\uff0c\u4ee5\u4fbf\u5f00\u53d1\u8005\u80fd\u591f\u5229\u7528NVIDIA\u7684GPU\u8fdb\u884c\u5e76\u884c\u8ba1\u7b97\u548c\u9ad8\u6027\u80fd\u8ba1\u7b97\u4efb\u52a1\u3002CUDA Toolkit\u901a\u5e38\u7528\u4e8e\u52a0\u901f\u79d1\u5b66\u8ba1\u7b97\u3001\u6df1\u5ea6\u5b66\u4e60\u3001\u673a\u5668\u5b66\u4e60\u548c\u5176\u4ed6\u9700\u8981\u5927\u89c4\u6a21\u5e76\u884c\u8ba1\u7b97\u7684\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>\u901a\u8fc7 https://developer.nvidia.com/cuda-12-2-2-download-archive \u4e0b\u8f7d\u5bf9\u5e94\u7684\u5b89\u88c5\u5305\uff0c\u6ce8\u610f\u8981\u548cNvidia Driver\u7684\u7248\u672c\u4e00\u81f4\u3002</p> <p></p> <p>\u4e0b\u8f7d\u547d\u4ee4\uff1a</p> <pre><code>wget https://developer.download.nvidia.com/compute/cuda/12.2.2/local_installers/cuda_12.2.2_535.104.05_linux.run\n</code></pre> <p>\u5b89\u88c5\u547d\u4ee4\uff1a</p> <pre><code>sudo sh cuda_12.2.2_535.104.05_linux.run\n</code></pre> <p>\u63a5\u53d7\u534f\u8bae\u8f93\u5165<code>accept</code></p> <p></p> <p>\u5728 Driver \u9009\u9879\u6309\u7a7a\u683c\u53d6\u6d88\u9009\u62e9\uff0c\u7136\u540e\u4f7f\u7528\u65b9\u5411\u952e\u79fb\u52a8\u5230 <code>Install</code>\u9009\u9879\u56de\u8f66\u3002</p> <p></p> <p>\u5b89\u88c5\u5b8c\u6210\u8f93\u51fa\uff1a</p> <p></p> <p>\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u7f16\u8f91 <code>/etc/profile</code>\u6587\u4ef6\uff0c\u8ffd\u52a0\u4e0b\u9762\u7684\u5185\u5bb9\uff1a</p> <pre><code>export PATH=/usr/local/cuda-12.2/bin${PATH:+:${PATH}}\nexport LD_LIBRARY_PATH=/usr/local/cuda-12.2/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_7","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u82f1\u4f1f\u8fbe\u5b98\u7f51\u5b89\u88c5\u6587\u6863</li> <li>CentOS 7\u5b89\u88c5Nvidia\u9a71\u52a8</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html","title":"\u5ea6\u5c0f\u6ee1\u8f69\u8f95\u5927\u6a21\u578b\u8bad\u7ec3\u8bb0\u5f55","text":"<p>\u5ea6\u5c0f\u6ee1\u91d1\u878d\u5927\u6a21\u578b-\u8f69\u8f956B\u590d\u73b0</p> <p>XuanYuan-6B\u91c7\u7528\u7c7bLLaMA\u7684\u6a21\u578b\u67b6\u6784\u3002</p> <p>GitHub\u9879\u76ee\u5730\u5740\uff1a GitHub - Duxiaoman-DI/XuanYuan: \u8f69\u8f95\uff1a\u5ea6\u5c0f\u6ee1\u4e2d\u6587\u91d1\u878d\u5bf9\u8bdd\u5927\u6a21\u578b</p> <p>\u6570\u636e\u96c6\u5730\u5740\uff1a https://huggingface.co/datasets/Duxiaoman-DI/FinCorpus</p> <p>XuanYuan-6B \u6280\u672f\u62a5\u544a\uff1a XuanYuan/xuanyuan_6b_report.md at main \u00b7 Duxiaoman-DI/XuanYuan \u00b7 GitHub</p> <p>\u5ea6\u5c0f\u6ee1\u8f69\u8f95\u5927\u6a21\u578b PT \u4f7f\u7528\u7684\u662f DeepSpeed\u6846\u67b6\uff0c A800 80G GPU \u548c ZeRO-1\u7ea7\u522b\u8fdb\u884c\u8bad\u7ec3\u3002\u5728\u6211\u4eec\u7684\u670d\u52a1\u5668\u4e0a\u53ea\u80fd\u4f7f\u7528\u591a\u673a\u591a\u5361\uff08\u4e00\u53f0\u670d\u52a1\u5668A100 40G * 2\uff0c\u4e00\u53f0\u670d\u52a1\u5668 V100 32G * 2\uff09ZeRO-3-Offload\u624d\u80fd\u8bad\u7ec3\u8d77\u6765\uff0c\u4f46\u662f\u6267\u884c\u65f6\u95f4\u975e\u5e38\u4e45\uff0c\u8bad\u7ec3\u5b8c\u9700\u898111\u5e74\u3002ZeRO-3-offload \u76f8\u5173\u4ee3\u7801\u53c2\u8003\u81eaLlama-Chinese\u9879\u76ee\uff0c\u9879\u76ee\u5730\u5740\u4e3a\uff1aGitHub - LlamaFamily/Llama-Chinese: Llama\u4e2d\u6587\u793e\u533a\uff0c\u6700\u597d\u7684\u4e2d\u6587Llama\u5927\u6a21\u578b\uff0c\u5b8c\u5168\u5f00\u6e90\u53ef\u5546\u7528</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#_2","title":"\u73af\u5883\u642d\u5efa","text":"<p>\u5177\u4f53\u53ef\u67e5\u770b\uff1a\u5206\u5e03\u5f0f\u8bad\u7ec3\u73af\u5883\u642d\u5efa</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#_3","title":"\u8fd0\u884c\u73af\u5883","text":"<p>Nvidia\u663e\u5361\u9a71\u52a8\u7248\u672c: 535.154.05 CUDA\u7248\u672c: 12.2 Python\u7248\u672c:3.10.13 gcc\u7248\u672c:11.2.1</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#_4","title":"\u4e0b\u8f7d\u6a21\u578b\u548c\u6570\u636e\u96c6\u548c\u9879\u76ee","text":"<p>\u8bbe\u7f6e\u4ee3\u7406\uff1a</p> <pre><code>git config --global https.proxy http://127.0.0.1:10809\ngit config --global http.proxy http://127.0.0.1:10809\n</code></pre> <p>\u8bbe\u7f6ehuggingface token:</p> <pre><code># \u5b89\u88c5huggingface_hub\npip install --upgrade huggingface_hub\n# \u767b\u5f55huggingface, \u6253\u5f00 https://huggingface.co/settings/tokens \u751f\u6210token\uff0c\u5c06\u751f\u6210\u7684token\u7c98\u8d34\u5230\u4e0b\u9762\u7684\u547d\u4ee4\u7684\u8f93\u5165\u6846\nhuggingface-cli login\n</code></pre> <p></p> <p>\u4e0b\u8f7d\u6a21\u578b</p> <pre><code>cd /data/models\ngit clone https://huggingface.co/meta-llama/Llama-2-7b-hf.git\n</code></pre> <p>\u4e0b\u8f7d\u6570\u636e\u96c6</p> <pre><code>cd /data/datasets\ngit clone https://huggingface.co/datasets/Duxiaoman-DI/FinCorpus.git\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#_5","title":"\u8bad\u7ec3","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#_6","title":"\u73af\u5883\u642d\u5efa","text":"<p>\u542f\u7528 GCC 11\uff1a</p> <pre><code># \u521b\u5efa\u4e00\u4e2a\u65b0session\u53ebxy  xuanyuan\u7684\u62fc\u97f3\u9996\u5b57\u6bcd\nscreen -S xy\nsudo scl enable devtoolset-11 bash\n</code></pre> <p>\u5c06<code>llm-code</code>\u76ee\u5f55\u4e0b\u7684<code>requirements.txt</code>\u6587\u4ef6\u5148\u5907\u4efd\uff0c\u7136\u540e\u5c06\u5185\u5bb9\u66f4\u65b0\u4e3a\u4e0b\u9762\u7684\u5185\u5bb9</p> <pre><code>argparse==1.4.0\ndatasets==2.16.1\ntransformers==4.37.1\nsentencepiece==0.1.99\n</code></pre> <p>\u5b89\u88c5Python \u4f9d\u8d56</p> <pre><code>pip install -r requirements.txt\n</code></pre> <p>\u5b89\u88c5 deepspeed </p> <pre><code># \u7f16\u8bd1 fuse_adam cpu_adam \u5e76\u4e14\u52a0\u901f\u7f16\u8bd1\nDS_BUILD_FUSED_ADAM=1   DS_BUILD_CPU_ADAM=1 pip install deepspeed==0.14.0 --global-option=\"build_ext\" --global-option=\"-j96\"\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#_7","title":"\u6570\u636e\u9884\u5904\u7406","text":"<p>\u89e3\u538b\u6570\u636e\u96c6</p> <pre><code>cd /data/datasets/FinCorpus\n# \u89e3\u538b\ngzip -d *.gz\n</code></pre> <p>\u4fee\u6539\u9884\u5904\u7406\u811a\u672c</p> <pre><code>cd llm-code\nvim data_preprocess_run.sh\n</code></pre> <p>\u4fee\u6539\u8def\u5f84,\u8c03\u6574\u540e\u7684sh\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code># Pretrain\u6570\u636e\u9884\u5904\u7406\npython3 pretrain_data_process.py \\\n    --model_name_or_path /data/models/Llama-2-7b-hf \\\n    --data_path /data/datasets/FinCorpus/data \\\n    --cache_dir ./cache/datasets \\\n    --save_dir ./data/FinCorpus_tokenized \\\n    --max_length 4096 \\\n    --num_proc 1024\n</code></pre> <p>\u6267\u884c\u6570\u636e\u9884\u5904\u7406</p> <pre><code>sh data_preprocess_run.sh\n</code></pre> <p>\u62a5\u9519<code>OSError: [Errno 24] Too many open files</code></p> <p></p> <p>\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u5c06\u8d44\u6e90\u6216\u8fdb\u7a0b\u6570\u8c03\u5927\u4e00\u70b9\uff0c\u6216\u8005\u5c06<code>data_preprocess_run.sh</code>\u4e2d\u7684<code>num_proc</code>\u8c03\u5c0f\u4e00\u70b9\uff1a</p> <pre><code>ulimit -n 4096\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u51fa\u6570\u636e\u6709\u4e00\u5343\u4e24\u767e\u4e07\u6761\u6570\u636e\u3002</p> <p></p> <p>\u6574\u4e2a\u811a\u672c\u8fd0\u884c\u82b1\u4e86\u5927\u7ea64\u4e2a\u5c0f\u65f6\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#_8","title":"\u9884\u8bad\u7ec3","text":"<p>\u4f7f\u7528\u4e24\u53f0\u670d\u52a1\u5668\u8fdb\u884c\u591a\u673a\u591a\u5361\u8bad\u7ec3\uff0c\u5176\u4e2d\u670d\u52a1\u5668 A \u4e3a A100 \uff0840G\uff09* 2 , \u670d\u52a1\u5668 B \u4e3a V100 (32G) * 2\u3002</p> <p>\u6dfb\u52a0<code>hostfile.txt</code>\u5185\u5bb9\u5982\u4e0b\uff0c<code>slots</code>\u8868\u793a\u670d\u52a1\u5668\u4e0a\u6709\u591a\u5c11\u5f20\u663e\u5361\uff0c\u8fd9\u4e2a\u53c2\u6570\u9700\u8981\u4fdd\u6301\u4e00\u81f4\u3002</p> <pre><code>\u670d\u52a1\u5668A\u7684IP slots=2\n\u670d\u52a1\u5668B\u7684IP slots=2\n</code></pre> <p>\u8c03\u6574\u9884\u8bad\u7ec3\u811a\u672c\uff0c\u5185\u5bb9\u5982\u4e0b\uff0c\u8def\u5f84\u6539\u6210\u5b9e\u9645\u7684\u3002</p> <pre><code># Pretrain\u6a21\u578b\u8bad\u7ec3\n\n# deepspped \u53c2\u6570\u8bf4\u660e\n# --hostfile \u591a\u673a\u591a\u5361\u8bad\u7ec3\u670d\u52a1\u5668IP\u548c\u663e\u5361\u914d\u7f6e\n\n# dxm_llm_main.py\u53c2\u6570\u8bf4\u660e\n# --data_path \u6570\u636e\u6240\u5728\u4f4d\u7f6e\n# --model_name_or_path \u6a21\u578b\u6587\u4ef6\u4f4d\u7f6e\n# --save_name \u6a21\u578b\u4fdd\u5b58\u4f4d\u7f6e\n# --learning_rate \u5b66\u4e60\u7387\uff0c\u9ed8\u8ba4\u4e3a5e-5\n# --weight_decay Weight decay\uff0c\u9ed8\u8ba4\u4e3a0.01\n# --num_warmup_steps lr scheduler\u7684warmup\u6b65\u6570\n# --seed  \u968f\u673a\u79cd\u5b50\n# --train_mode \u8bad\u7ec3\u6a21\u5f0f\uff1apretrain\u8868\u793a\u9884\u8bad\u7ec3\u4efb\u52a1\uff0csft\u8868\u793a\u6307\u4ee4\u5fae\u8c03\u4efb\u52a1\n# --epochs \u6307\u5b9a\u8bad\u7ec3\u8f6e\u6570\n# --total_num_steps \u603b\u8bad\u7ec3\u6b65\u6570\n# --gradient_accumulation_steps \u68af\u5ea6\u7d2f\u79ef\u6b65\u6570\n# --per_device_train_batch_size \u6bcf\u4e2aGPU\u8bad\u7ec3\u7684Batch size\n# --max_length \u6700\u5927\u957f\u5ea6\n# --gradient_checkpointing \u662f\u5426\u5f00\u542f\u68af\u5ea6\u68c0\u67e5\u70b9\uff0c\u9ed8\u8ba4\u4e0d\u5f00\u542f\u3002\u5f00\u542f\u53ef\u8282\u7701GPU\u5185\u5b58\u5360\u7528\n# --log_steps \u6bcf\u9694\u591a\u5c11\u6b65\u8bb0\u5f55\u4e00\u6b21\u65e5\u5fd7\n# --save_steps \u6bcf\u9694\u591a\u5c11\u6b65\u4fdd\u5b58\u4e00\u6b21\u6a21\u578b\n# --ds_offload_cpu  \u662f\u5426\u5f00\u542fcpu offload\n# --ds_zero_stage deepspeed\u7684zero\u914d\u7f6e\n# --ds_steps_per_print \u6bcf\u9694\u591a\u5c11\u6b65\u8f93\u51fa\u4e00\u6b21deepspeed\u65e5\u5fd7\n# --local_rank \u591a\u673a\u591a\u5361\u60c5\u51b5\u4e0b\u7684local_rank\n# --global_rank \u591a\u673a\u591a\u5361\u60c5\u51b5\u4e0b\u7684global_rank\n#\n\ndeepspeed \\\n    --hostfile hostfile.txt \\\n    dxm_llm_main.py \\\n    --data_path data/FinCorpus_tokenized \\\n    --model_name_or_path /data/models/Llama-2-7b-hf \\\n    --save_name model/model-pretrained \\\n    -train_mode pretrain \\\n    --epochs 1 \\\n    --per_device_train_batch_size 4 \\\n    --max_length 4096 \\\n    --ds_zero_stage 3 \\\n    --log_steps 2 \\\n    --save_steps 40 \\\n    --gradient_checkpointing\n</code></pre> <p>\u8c03\u6574<code>llm-code</code>\u76ee\u5f55\u4e0b\u7684<code>config.py</code>\uff0c\u8c03\u6574 ZeRO \u53c2\u6570\u5982\u4e0b\uff1a</p> <pre><code>def get_deepspeed_config(args):\n    ds_config = {\n        \"train_micro_batch_size_per_gpu\":args.per_device_train_batch_size,  # \u6bcf\u4e2aGPU\u7684batch_size\n        \"gradient_accumulation_steps\":args.gradient_accumulation_steps,  # \u68af\u5ea6\u7d2f\u79ef\u6b65\u6570\n        \"steps_per_print\": args.ds_steps_per_print,  # deepspeed\u8f93\u51fa\u4e2d\u95f4log\n        \"zero_optimization\": {\n            \"stage\": args.ds_zero_stage,  # \u6307\u5b9azero stage\uff0c\u53ef\u90090,1,2,3\n        },\n        \"scheduler\": {\n            \"type\": \"WarmupDecayLR\",  # \u5b66\u4e60\u7387\u8870\u51cf\u7b56\u7565\n            \"params\": {\n                \"total_num_steps\": args.total_num_steps,\n                \"warmup_min_lr\": 0,\n                \"warmup_max_lr\": args.learning_rate,\n                \"warmup_num_steps\": args.num_warmup_steps\n            }\n        },\n        \"optimizer\": {\n            \"type\": \"Adam\",  # \u4f18\u5316\u5668\n            \"params\": {\n                \"lr\": args.learning_rate,  # \u5b66\u4e60\u7387\n                \"weight_decay\": args.weight_decay,  # \u6743\u91cd\u8870\u51cf\n            }\n        },\n        \"fp16\": {\n            \"enabled\": True,  # \u5f00\u542ffp16\u534a\u7cbe\u5ea6\u8bad\u7ec3\uff0cV100\u4e0d\u652f\u6301BF16\uff0c\u6240\u4ee5\u4f7f\u7528FP16\n            # \u4e0b\u9762\u7684\u53c2\u6570\u6765\u81ea Lllama2-chinese\n            \"loss_scale\": 0,\n            \"loss_scale_window\": 1000,\n            \"initial_scale_power\": 16,\n            \"hysteresis\": 2,\n            \"min_loss_scale\": 1,\n            \"fp16_opt_level\": \"O2\"\n\n        },\n        \"gradient_clipping\": 1.0,  # \u68af\u5ea6\u88c1\u526a\n        \"prescale_gradients\": False,  # \u662f\u5426\u5728\u68af\u5ea6\u66f4\u65b0\u524d\u7f29\u653e\u68af\u5ea6\n        \"wall_clock_breakdown\": False,  # \u662f\u5426\u8f93\u51fadeepspeed\u65f6\u95f4\u5206\u6790\n    }\n    if args.ds_zero_stage == 3:\n        ds_config[\"zero_optimization\"].update({\n            \"overlap_comm\": True,\n            \"contiguous_gradients\": True,\n            \"sub_group_size\": 1e9,\n            \"reduce_bucket_size\": \"auto\",\n            \"stage3_prefetch_bucket_size\": \"auto\",\n            \"stage3_param_persistence_threshold\": \"auto\",\n            \"stage3_max_live_parameters\": 1e9,\n            \"stage3_max_reuse_distance\": 1e9,\n            \"gather_16bit_weights_on_model_save\": True,\n            # ZeRO ++ \u53c2\u6570\n            \"zero_quantized_weights\": True, # \u662f\u5426\u4f7f\u7528\u91cf\u5316\u96f6\u6743\u91cd\uff08qwZ\uff09\n            \"zero_hpz_partition_size\": 2, # hpZ\uff08\u8f85\u52a9\u5206\u533a\uff09\u7ec4\u4e2d\u7684Rank\u6570\uff0c\u9ed8\u8ba4\u4e3a1\u8868\u793a\u6ca1\u6709hpZ\uff0c\u7406\u60f3\u7684\u662f\u6bcf\u4e2a\u8282\u70b9\u7684Rank\u6570\uff08GPU\uff09\n            \"zero_quantized_gradients\": True, # \u662f\u5426\u4f7f\u7528\u91cf\u5316\u96f6\u68af\u5ea6\uff08qgZ\uff09\n        })\n    return ds_config\n</code></pre> <p>\u5c06\u670d\u52a1\u5668A\u4f5c\u4e3a\u4e3b\u8282\u70b9\uff0c\u8981\u5c06\u6a21\u578b\u548c\u9879\u76ee\u62f7\u8d1d\u5230\u670d\u52a1\u5668B\u8282\u70b9\u3002</p> <p>\u9996\u5148\u5728\u670d\u52a1B\u4e0a\u521b\u5efa\u76ee\u5f55\u5e76\u4fee\u6539\u6743\u9650\uff1a</p> <pre><code>mkdir -p /data/datasets\nmkdir -p /data/models\nchmod -R 766 /data/datasets\nchmod -R 766 /data/models\n</code></pre> <p>\u5728\u670d\u52a1\u5668A\u4e0a\u6267\u884c\u62f7\u8d1d\u6a21\u578b\uff0c\u6267\u884c\u4e4b\u524d\u9700\u8981\u505aSSH\u514d\u5bc6\uff0cSSH\u514d\u5bc6\u5de5\u4f5c\u8fd9\u91cc\u5c31\u4e0d\u518d\u8d58\u8ff0\uff0c\u53ef\u67e5\u770b\u4e92\u8054\u7f51\u4e0a\u7684\u6559\u7a0b\uff0c\u62f7\u8d1d\u547d\u4ee4\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>scp -rf /data/models/Llama-2-7b-hf root@\u670d\u52a1\u5668B\u7684IP:/data/models\n</code></pre> <p>\u4f7f\u7528<code>rsync</code>\u5de5\u5177\u540c\u6b65\u9879\u76ee\u4ee3\u7801\uff0c\u9879\u76ee\u4ee3\u7801\u4e2d\u5305\u542b\u4e86tokenizer\u4e4b\u540e\u7684\u6570\u636e\uff0c<code>rsync</code>\u5de5\u5177\u4f7f\u7528\u6559\u7a0b\u53ef\u53c2\u8003: rsync\u7528\u6cd5</p> <p>\u540c\u6b65\u547d\u4ee4\u793a\u4f8b\u5982\u4e0b\uff0c\u9700\u8981\u5c06\u8def\u5f84\u548cIP\u6362\u6210\u5b9e\u9645\u7684\uff0c\u6ce8\u610f<code>--exclude</code>\u8981\u5199\u76f8\u5bf9\u8def\u5f84\uff0c\u5199\u7edd\u5bf9\u8def\u5f84\u7684\u8bdd\u4e0d\u751f\u6548\u3002</p> <pre><code>rsync -avzh --delete \\\n--exclude 'llm-code/cache/*' \\\n--exclude '*.pyc' \\\n--exclude '.git/*' \\\n/data/workspace/XuanYuan root@\u670d\u52a1\u5668B\u7684IP:/data/workspace/ \\\n</code></pre> <p>\u6211\u5c06\u540c\u6b65\u7684\u811a\u672c\u653e\u5728\u4e86<code>llm-code</code>\u76ee\u5f55\u4e0b\u7684<code>sync.sh</code>\u4e2d\u3002</p> <p>\u6267\u884c\u540c\u6b65\u811a\u672c\uff1a</p> <pre><code>bash sync.sh\n</code></pre> <p>\u6267\u884c\u8bad\u7ec3\u811a\u672c\uff1a</p> <pre><code>sh pretrain_run.sh\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#1_connection_reset_by_peer","title":"\u95ee\u98981 Connection reset by peer.","text":"<p>\u8fd0\u884c\u62a5\u9519<code>RuntimeError: [2] is setting up NCCL communicator and retrieving ncclUniqueId from [0] via c10d key-value store by key '0', but store-&gt;get('0') got error: Connection reset by peer. This may indicate a possible application crash on rank 0 or a network set up issue.</code>\uff1a</p> <pre><code>Loading checkpoint shards: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2/2 [00:18&lt;00:00,  9.08s/it]\nLoading checkpoint shards: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2/2 [00:18&lt;00:00,  9.02s/it]\n10.168.144.5: Traceback (most recent call last):\n10.168.144.5:   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 197, in &lt;module&gt;\n10.168.144.5:     main()\n10.168.144.5:   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 133, in main\n10.168.144.5:     model = get_ds_model(args, dataloader_dict)\n10.168.144.5:   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 57, in get_ds_model\n10.168.144.5:     model, _, _, lr_scheduler = deepspeed.initialize(\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/__init__.py\", line 176, in initialize\n10.168.144.5:     engine = DeepSpeedEngine(args=args,\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/runtime/engine.py\", line 262, in __init__\n10.168.144.5:     self._configure_distributed_model(model)\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/runtime/engine.py\", line 1157, in _configure_distributed_model\n10.168.144.5:     self._broadcast_model()\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/runtime/engine.py\", line 1077, in _broadcast_model\n10.168.144.5:     dist.broadcast(p.data, groups._get_broadcast_src_rank(), group=self.seq_data_parallel_group)\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/comm/comm.py\", line 117, in log_wrapper\n10.168.144.5:     return func(*args, **kwargs)\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/comm/comm.py\", line 224, in broadcast\n10.168.144.5:     return cdb.broadcast(tensor=tensor, src=src, group=group, async_op=async_op)\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/_dynamo/eval_frame.py\", line 328, in _fn\n10.168.144.5:     return fn(*args, **kwargs)\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/comm/torch.py\", line 205, in broadcast\n10.168.144.5:     return torch.distributed.broadcast(tensor=tensor, src=src, group=group, async_op=async_op)\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/c10d_logger.py\", line 47, in wrapper\n10.168.144.5:     return func(*args, **kwargs)\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py\", line 1910, in broadcast\n10.168.144.5:     work = group.broadcast([tensor], opts)\n10.168.144.5: RuntimeError: [2] is setting up NCCL communicator and retrieving ncclUniqueId from [0] via c10d key-value store by key '0', but store-&gt;get('0') got error: Connection reset by peer. This may indicate a possible application crash on rank 0 or a network set up issue.\n</code></pre> <p>\u770b\u62a5\u9519\u53ef\u80fd\u662f\u7531\u4e8e\u4fee\u6539\u4e86 hostname ,  ssh \u514d\u5bc6\u51fa\u73b0\u95ee\u9898\uff0c\u6267\u884c<code>ssh root@your_hostname</code> \u4e4b\u540e\u518d\u6b21\u8bad\u7ec3\u62a5\u9519<code>ncclInvalidArgument: Invalid value for an argument.</code>\uff1a</p> <pre><code>10.x.x.x [2024-04-09 18:31:50,463] [INFO] [logging.py:96:log_dist] [Rank 0] Using quantized gradients\n10.x.x.x Traceback (most recent call last):\n10.x.x.x   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 197, in &lt;module&gt;\n10.x.x.x     main()\n10.x.x.x   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 133, in main\n10.x.x.x     model = get_ds_model(args, dataloader_dict)\n10.x.x.x   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 57, in get_ds_model\n10.x.x.x     model, _, _, lr_scheduler = deepspeed.initialize(\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/__init__.py\", line 176, in initialize\n10.x.x.x     engine = DeepSpeedEngine(args=args,\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/runtime/engine.py\", line 262, in __init__\n10.x.x.x     self._configure_distributed_model(model)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/runtime/engine.py\", line 1157, in _configure_distributed_model\n10.x.x.x     self._broadcast_model()\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/runtime/engine.py\", line 1077, in _broadcast_model\n10.x.x.x     dist.broadcast(p.data, groups._get_broadcast_src_rank(), group=self.seq_data_parallel_group)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/comm/comm.py\", line 117, in log_wrapper\n10.x.x.x     return func(*args, **kwargs)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/comm/comm.py\", line 224, in broadcast\n10.x.x.x     return cdb.broadcast(tensor=tensor, src=src, group=group, async_op=async_op)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/_dynamo/eval_frame.py\", line 328, in _fn\n10.x.x.x     return fn(*args, **kwargs)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/comm/torch.py\", line 205, in broadcast\n10.x.x.x     return torch.distributed.broadcast(tensor=tensor, src=src, group=group, async_op=async_op)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/c10d_logger.py\", line 47, in wrapper\n10.x.x.x     return func(*args, **kwargs)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py\", line 1910, in broadcast\n10.x.x.x     work = group.broadcast([tensor], opts)\n10.x.x.x torch.distributed.DistBackendError: NCCL error in: ../torch/csrc/distributed/c10d/NCCLUtils.hpp:219, invalid argument, NCCL version 2.14.3\n10.x.x.x ncclInvalidArgument: Invalid value for an argument.\n10.x.x.x Last error:\n10.x.x.x Invalid config blocking attribute value -2147483648\n10.x.x.x Traceback (most recent call last):\n10.x.x.x   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 197, in &lt;module&gt;\n10.x.x.x     main()\n10.x.x.x   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 133, in main\n10.x.x.x     model = get_ds_model(args, dataloader_dict)\n10.x.x.x   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 57, in get_ds_model\n10.x.x.x     model, _, _, lr_scheduler = deepspeed.initialize(\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/__init__.py\", line 176, in initialize\n10.x.x.x     engine = DeepSpeedEngine(args=args,\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/runtime/engine.py\", line 262, in __init__\n10.x.x.x     self._configure_distributed_model(model)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/runtime/engine.py\", line 1157, in _configure_distributed_model\n10.x.x.x     self._broadcast_model()\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/runtime/engine.py\", line 1077, in _broadcast_model\n10.x.x.x     dist.broadcast(p.data, groups._get_broadcast_src_rank(), group=self.seq_data_parallel_group)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/comm/comm.py\", line 117, in log_wrapper\n10.x.x.x     return func(*args, **kwargs)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/comm/comm.py\", line 224, in broadcast\n10.x.x.x     return cdb.broadcast(tensor=tensor, src=src, group=group, async_op=async_op)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/_dynamo/eval_frame.py\", line 328, in _fn\n10.x.x.x     return fn(*args, **kwargs)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/comm/torch.py\", line 205, in broadcast\n10.x.x.x     return torch.distributed.broadcast(tensor=tensor, src=src, group=group, async_op=async_op)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/c10d_logger.py\", line 47, in wrapper\n10.x.x.x     return func(*args, **kwargs)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py\", line 1910, in broadcast\n10.x.x.x     work = group.broadcast([tensor], opts)\n10.x.x.x torch.distributed.DistBackendError: NCCL error in: ../torch/csrc/distributed/c10d/NCCLUtils.hpp:219, invalid argument, NCCL version 2.14.3\n10.x.x.x ncclInvalidArgument: Invalid value for an argument.\n10.x.x.x Last error:\n10.x.x.x Invalid config blocking attribute value -2147483648\n10.x.x.x [2024-04-09 18:31:52,113] [INFO] [launch.py:316:sigkill_handler] Killing subprocess 42228\n10.x.x.x [2024-04-09 18:31:52,113] [INFO] [launch.py:316:sigkill_handler] Killing subprocess 42229\n10.x.x.x [2024-04-09 18:31:53,539] [ERROR] [launch.py:322:sigkill_handler] ['/root/miniconda3/envs/dis/bin/python', '-u', 'dxm_llm_main.py', '--local_rank=1', '--data_path', 'data/FinCorpus_tokenized', '--model_name_or_path', '/data/models/Llama-2-7b-hf', '--save_name', 'model/model-pretrained', '--train_mode', 'pretrain', '--epochs', '1', '--per_device_train_batch_size', '4', '--max_length', '4096', '--ds_zero_stage', '3', '--log_steps', '2', '--save_steps', '40', '--gradient_checkpointing'] exits with return code = 1\n</code></pre> <p>\u4e3a\u4e86\u67e5\u770b\u8be6\u7ec6\u7684\u65e5\u5fd7\uff0c\u6dfb\u52a0\u4e0b\u9762\u7684\u73af\u5883\u53d8\u91cf\u5230<code>~/.bashrc</code>\u4e2d\u3002</p> <pre><code># deepspeed \u8bad\u7ec3 \u73af\u5883\u53d8\u91cf\nexport LOGLEVEL=DEBUG  # \u8bbe\u7f6epytorch\u7684\u65e5\u5fd7\u7ea7\u522b\nexport NCCL_DEBUG=INFO # \u8bbe\u7f6enccl\u7684\u65e5\u5fd7\u7ea7\u522b\nexport NCCL_IB_DISABL=1 # \u5173\u95edNCCL\u7684InfiniBand\u901a\u4fe1\nexport NCCL_DESYNC_DEBUG=1  # \u5173\u95edNCCL\u7684InfiniBand\u901a\u4fe1\nexport NCCL_ASYNC_ERROR_HANDLING=1  # \u5173\u95edNCCL\u7684InfiniBand\u901a\u4fe1\nexport TORCH_CPP_LOG_LEVEL=INFO  # \u8bbe\u7f6etorch c++\u7684\u65e5\u5fd7\u7ea7\u522b\nexport TORCH_DISTRIBUTED_DEBUG=DETAIL  # \u8bbe\u7f6etorch distributed\u7684\u65e5\u5fd7\u7ea7\u522b\nexport NCCL_SOCKET_IFNAME=bond0  # \u8bbe\u7f6eNCCL\u9ed8\u8ba4\u7684\u7f51\u5361\u540d\u79f0 \n</code></pre> <p>\u67e5\u770b\u73af\u5883\u4e0a\u7684\u7f51\u5361\u540d\u79f0\u6765\uff0c\u53ef\u4ee5\u901a\u8fc7<code>ip addr</code>\u547d\u4ee4\u67e5\u770b\uff0c\u8981\u9009\u62e9IP\u8ddf\u670d\u52a1\u5668IP\u76f8\u540c\u7684\u7f51\u5361\uff1a</p> <p>\u5728\u4fee\u6539\u4e86\u73af\u5883\u53d8\u91cf\u4e4b\u540e\uff0cScreen \u4e4b\u524d\u5efa\u7acb\u7684session\u65e0\u6cd5\u8bfb\u53d6\u5230\u65b0\u7684\u73af\u5883\u53d8\u91cf\uff0c\u6240\u4ee5\u9700\u8981\u5c06\u4e4b\u524d\u7684session\u5220\u9664\u6389\uff0c\u91cd\u65b0\u5efa\u4e00\u4e2a\u3002\u7136\u540e\u518d\u6b21\u6267\u884c\u8bad\u7ec3\u811a\u672c\u3002</p> <pre><code># \u5220\u9664\u540d\u5b57\u4e3a xy \u7684session\nscreen -X -S xy quit\n# \u65b0\u5efa\u4e00\u4e2a\u540d\u5b57\u53eb xy \u7684session\nscreen -S xy\n# \u4f7f\u73af\u5883\u53d8\u91cf\u751f\u6548\nsource ~/.bashrc\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#2_ncclinvalidargument_invalid_value_for_an_argument","title":"\u95ee\u98982 ncclInvalidArgument: Invalid value for an argument","text":"<p>\u518d\u6b21\u6267\u884c\u8bad\u7ec3\u811a\u672c</p> <pre><code>sh pretrain_run.sh\n</code></pre> <p>\u8fd0\u884c\u62a5\u9519 <code>ncclInvalidArgument: Invalid value for an argument.Invalid config blocking attribute value -2147483648</code></p> <pre><code>10.x.x.x Last error:\n10.x.x.x Invalid config blocking attribute value -2147483648\n10.x.x.x Traceback (most recent call last):\n10.x.x.x   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 197, in &lt;module&gt;\n10.x.x.x     main()\n10.x.x.x   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 133, in main\n10.x.x.x     model = get_ds_model(args, dataloader_dict)\n10.x.x.x   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 57, in get_ds_model\n10.x.x.x     model, _, _, lr_scheduler = deepspeed.initialize(\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/__init__.py\", line 176, in initialize\n10.x.x.x     engine = DeepSpeedEngine(args=args,\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/runtime/engine.py\", line 262, in __init__\n10.x.x.x     self._configure_distributed_model(model)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/runtime/engine.py\", line 1157, in _configure_distributed_model\n10.x.x.x     self._broadcast_model()\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/runtime/engine.py\", line 1077, in _broadcast_model\n10.x.x.x     dist.broadcast(p.data, groups._get_broadcast_src_rank(), group=self.seq_data_parallel_group)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/comm/comm.py\", line 117, in log_wrapper\n10.x.x.x     return func(*args, **kwargs)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/comm/comm.py\", line 224, in broadcast\n10.x.x.x     return cdb.broadcast(tensor=tensor, src=src, group=group, async_op=async_op)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/_dynamo/eval_frame.py\", line 328, in _fn\n10.x.x.x     return fn(*args, **kwargs)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/deepspeed/comm/torch.py\", line 205, in broadcast\n10.x.x.x     return torch.distributed.broadcast(tensor=tensor, src=src, group=group, async_op=async_op)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/c10d_logger.py\", line 47, in wrapper\n10.x.x.x     return func(*args, **kwargs)\n10.x.x.x   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py\", line 1910, in broadcast\n10.x.x.x     work = group.broadcast([tensor], opts)\n10.x.x.x torch.distributed.DistBackendError: NCCL error in: ../torch/csrc/distributed/c10d/NCCLUtils.hpp:219, invalid argument, NCCL version 2.14.3\n10.x.x.x ncclInvalidArgument: Invalid value for an argument.\n10.x.x.x Last error:\n10.x.x.x Invalid config blocking attribute value -2147483648\n</code></pre> <p>\u5728<code>vllm</code>\u9879\u76ee\u4e2d\u53d1\u73b0\u6709\u4eba\u9047\u5230\u4e86\u540c\u6837\u7684\u95ee\u9898Issues 1726: NCCL error\u3002\u8fd9\u4e2a\u56de\u7b54\u4e2d\u63d0\u5230\u53ef\u80fd\u662f\u7531\u4e8e\u670d\u52a1\u5668\u4e0a\u9762\u6709\u4e24\u4e2a\u7248\u672c\u7684<code>nccl</code>\uff0c\u9700\u8981\u5c06\u4e0d\u9700\u8981\u7684\u5378\u8f7d\u6389\u3002\u67e5\u770b\u670d\u52a1\u5668\u4e0a\u53d1\u73b0\u786e\u5b9e\u6709\u4e24\u4e2a\u7248\u672c\u7684 <code>nccl</code>\u3002</p> <pre><code># \u67e5\u770b nccl\npip list |grep nccl\n# \u5378\u8f7d nccl\npip uninstall nvidia-nccl-cu11==2.14.3 -y\n</code></pre> <p></p> <p>\u518d\u6b21\u6267\u884c\u8bad\u7ec3\u811a\u672c\uff1a</p> <pre><code>sh pretrain_run.sh\n</code></pre> <p>\u7ed3\u679c\u8fd0\u884c\u4e86\u51e0\u4e2a\u5c0f\u65f6\u8fd0\u884c\u811a\u672c\u5361\u6b7b\u4e86\uff0c\u800c\u4e14\u670d\u52a1\u5668\u7279\u522b\u5361\uff0c\u91cd\u542f\u4e86\u670d\u52a1\u5668\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#3_nvidia-smi_has_failed_because_it_couldnt_communicate_with_the_nvidia_driver","title":"\u95ee\u98983 NVIDIA-SMI has failed because it couldn't communicate with the NVIDIA driver.","text":"<p>\u91cd\u542f\u540e\u8f93\u5165<code>nvidia-smie</code>\u67e5\u770b\u663e\u5361\u72b6\u6001\u62a5\u9519<code>NVIDIA-SMI has failed because it couldn't communicate with the NVIDIA driver. Make sure that the latest NVIDIA driver is installed and running.</code>\u3002\u53c2\u8003 NVIDIA\u9a71\u52a8\u5931\u6548\u7b80\u5355\u89e3\u51b3\u65b9\u6848\uff1aNVIDIA-SMI has failed because it couldn\u2018t communicate with the NVIDIA driver.  \u5b89\u88c5<code>dkms</code>\u89e3\u51b3\u4e86\u95ee\u9898\u3002</p> <pre><code># \u67e5\u770b\u5df2\u5b89\u88c5\u9a71\u52a8\u7684\u7248\u672c\u4fe1\u606f \u7ed3\u679c\u663e\u793a\u7684\u4e3a nvidia-535.154.05\nls /usr/src | grep nvidia\n\n# \u5b89\u88c5 dkms\nyum install -y dkms\n\n# \u91cd\u65b0\u52a0\u8f7d\u9a71\u52a8\ndkms install -m nvidia -v 535.154.05\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#4_runtimeerror_default_process_group_has_not_been_initialized_please_make_sure_to_call_init_process_group","title":"\u95ee\u98984 RuntimeError: Default process group has not been initialized, please make sure to call init_process_group.","text":"<p>\u518d\u6b21\u8fd0\u884c\u8bad\u7ec3\u811a\u672c\uff0c\u5728\u65e5\u5fd7\u4e2d\u53d1\u73b0V100\u670d\u52a1\u5668\u7684\u8282\u70b9\u6709\u4e00\u4e2a\u62a5\u9519\uff1a</p> <pre><code>10.168.144.5: /root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/libbitsandbytes_cpu.so: undefined symbol: cadam32bit_grad_fp32\n10.168.144.5: /root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/cextension.py:34: UserWarning: The installed version of bitsandbytes was compiled without GPU support. 8-bit optimizers, 8-bit multiplication, and GPU quantization are unavailable.\n10.168.144.5:   warn(\"The installed version of bitsandbytes was compiled without GPU support. \"\n10.168.144.5: /root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/libbitsandbytes_cpu.so: undefined symbol: cadam32bit_grad_fp32\n10.168.144.5: /root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/cextension.py:34: UserWarning: The installed version of bitsandbytes was compiled without GPU support. 8-bit optimizers, 8-bit multiplication, and GPU quantization are unavailable.\n10.168.144.5:   warn(\"The installed version of bitsandbytes was compiled without GPU support. \"\n10.168.144.5: Traceback (most recent call last):\n10.168.144.5:   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 197, in &lt;module&gt;\n10.168.144.5:     main()\n10.168.144.5:   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 130, in main\n10.168.144.5:     dataloader_dict = get_dataloader_common(args)\n10.168.144.5:   File \"/data/litao/workspace/XuanYuan/llm-code/model_hook.py\", line 74, in get_dataloader_common\n10.168.144.5:     sampler = DistributedSampler(train_dataset, shuffle=True, seed=args.seed)\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/utils/data/distributed.py\", line 68, in __init__\n10.168.144.5:     num_replicas = dist.get_world_size()\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py\", line 1492, in get_world_size\n10.168.144.5:     return _get_group_size(group)\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py\", line 785, in _get_group_size\n10.168.144.5:     default_pg = _get_default_group()\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py\", line 940, in _get_default_group\n10.168.144.5:     raise RuntimeError(\n10.168.144.5: RuntimeError: Default process group has not been initialized, please make sure to call init_process_group.\n10.168.144.5: Traceback (most recent call last):\n10.168.144.5:   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 197, in &lt;module&gt;\n10.168.144.5:     main()\n10.168.144.5:   File \"/data/litao/workspace/XuanYuan/llm-code/dxm_llm_main.py\", line 130, in main\n10.168.144.5:     dataloader_dict = get_dataloader_common(args)\n10.168.144.5:   File \"/data/litao/workspace/XuanYuan/llm-code/model_hook.py\", line 74, in get_dataloader_common\n10.168.144.5:     sampler = DistributedSampler(train_dataset, shuffle=True, seed=args.seed)\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/utils/data/distributed.py\", line 68, in __init__\n10.168.144.5:     num_replicas = dist.get_world_size()\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py\", line 1492, in get_world_size\n10.168.144.5:     return _get_group_size(group)\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py\", line 785, in _get_group_size\n10.168.144.5:     default_pg = _get_default_group()\n10.168.144.5:   File \"/root/miniconda3/envs/dis/lib/python3.10/site-packages/torch/distributed/distributed_c10d.py\", line 940, in _get_default_group\n10.168.144.5:     raise RuntimeError(\n10.168.144.5: RuntimeError: Default process group has not been initialized, please make sure to call init_process_group.\n</code></pre> <p>\u548c\u4e00\u4e2a\u8b66\u544a</p> <pre><code>/root/miniconda3/envs/dis/lib/python3.10/site-packages/bitsandbytes/cextension.py:34: UserWarning: The installed version of bitsandbytes was compiled without GPU support. 8-bit optimizers, 8-bit multiplication, and GPU quantization are unavailable.\n10.168.144.5:   warn(\"The installed version of bitsandbytes was compiled without GPU support. \"\n</code></pre> <p>\u63d0\u793a<code>bitsandbytes</code>\u662fCPU\u7248\u672c\uff0c\u4e0d\u652f\u63018\u6bd4\u7279\u4f18\u5316\uff0cGPU\u91cf\u5316\u7b49\u3002</p> <p><code>bitsandbytes</code> \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7 Python \u5305\u88c5\u5668\uff0c\u7528\u6765\u8c03\u7528CUDA \u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u7279\u522b\u662f 8 \u4f4d\u4f18\u5316\u5668\u3001\u77e9\u9635\u4e58\u6cd5 (LLM.int8()) \u4ee5\u53ca 8 \u548c 4 \u4f4d\u91cf\u5316\u51fd\u6570\u3002\u5b89\u88c5\u53ef\u67e5\u770b\uff1abitsandbytes\u5b89\u88c5\u6587\u6863</p> <p>\u91cd\u65b0\u5b89\u88c5<code>bitsandbytes</code>\u4e00\u76f4\u5b89\u88c5\u4e0d\u6210\u529f\uff0c\u63a8\u6d4b\u53ef\u80fd\u662f<code>config.py</code>\u4e2dZeRO++\u53c2\u6570\u4f1a\u4f7f\u7528\u91cf\u5316\uff0c\u5c06ZeRO++\u53c2\u6570\u53bb\u6389\u4e4b\u540e\u91cd\u65b0\u6267\u884c\u8bad\u7ec3\u811a\u672c\u5c31\u6ca1\u6709\u8fd9\u4e2a\u8b66\u544a\u4e86\u3002\u4f46\u662f\u524d\u9762\u8fd9\u4e2a\u62a5\u9519\u4f9d\u7136\u5b58\u5728\u3002</p> <p>\u67e5\u770b\u65e5\u5fd7\u53d1\u73b0\u5728\u8fd0\u884c\u7684\u65f6\u5019 V100\u7684\u8282\u70b9 <code>NCCL_SOCKET_IFNAME</code>\u53c2\u6570\u4e0d\u5bf9\uff0cV100 \u8282\u70b9\u7f51\u5361\u5b9e\u9645\u4e0a\u662f<code>eno1</code>\u3002</p> <p></p> <p>\u5728 v100 \u670d\u52a1\u5668\u4e0a\u4f7f\u7528<code>nvidia-smi</code>\u67e5\u770bGPU\u72b6\u6001\u51fa\u73b0\u4e86 \u95ee\u98983\u540c\u6837\u7684\u95ee\u9898\u3002\u6309\u7167\u95ee\u98983\u7684\u89e3\u51b3\u529e\u6cd5\u89e3\u51b3\u4e0a\u9762\u7684\u95ee\u9898\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#5","title":"\u95ee\u98985 \u8bad\u7ec3\u5361\u6b7b","text":"<p>\u518d\u6b21\u6267\u884c\u8bad\u7ec3\u811a\u672c\uff0c\u5728 <code>Loadding dataset</code> \u548c <code>loading Model</code>\u7684\u65e5\u5fd7\u6253\u5370\u540e\u4e00\u76f4\u5361\u6b7b\u3002</p> <p></p> <p></p> <p>\u901a\u8fc7\u67e5\u9605GitHub Issue\u3002</p> <ul> <li> <p>Fengshenbang-LM 123</p> </li> <li> <p>LLaMA-Factory 1775</p> </li> <li> <p>LLaMA-Factory 1683</p> </li> </ul> <p>\u5176\u4e2d Fengshenbang-LM 123 \u63d0\u5230\u4e0b\u9762\u4e09\u79cd\u65b9\u6cd5\u53ef\u4ee5\u89e3\u51b3</p> <ol> <li>\u542f\u52a8\u547d\u4ee4\u524d\u589e\u52a0\u4e86<code>OMP_NUM_THREADS=1 MKL_NUM_THREADS=1</code>\uff0c\u907f\u514d\u591a\u7ebf\u7a0b\u5bfc\u81f4\u6b7b\u9501\uff1b</li> <li>\u53bb\u6389\u4e86\u52a0\u8f7d\u6570\u636e\u65f6\u7684tqdm\uff1b</li> <li>\u8bb0\u5728\u6570\u636e\u7684DataLoader\u7684drop_last\u8bbe\u7f6e\u4e3aTrue\uff0cpin_memory\u8bbe\u7f6e\u4e3aTrue\uff0cnum_workers\u8bbe\u7f6e\u4e3a0\uff1b</li> </ol> <p><code>DataLoader</code>\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>    train_dataloader = DataLoader(\n        train_dataset,\n        batch_size=args.per_device_train_batch_size,\n        num_workers=0,  # \u6307\u5b9a16\u4e2a\u6838\u5e76\u884c\u5904\u7406   \u8fd9\u4e2a\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8bad\u7ec3\u5361\u6b7b\n        sampler=sampler,\n        pin_memory=True,\n        drop_last=True,\n        collate_fn=collator,\n    )\n</code></pre> <p>\u5b9e\u6d4b\u6ca1\u6709\u7528\uff0c\u8fd8\u662f\u5361\u6b7b\u3002</p> <p>\u5176\u4e2d LLaMA-Factory 1683 \u63d0\u5230\u53ef\u4ee5\u6dfb\u52a0 <code>export NCCL_P2P_LEVEL=NVL</code>\u73af\u5883\u53d8\u91cf\u89e3\u51b3\u5361\u6b7b\u7684\u95ee\u9898\u3002</p> <p>\u5c06\u4e0b\u9762\u7684\u5185\u5bb9\u8ffd\u52a0\u5230<code>~/.bashrc</code>\u4e2d</p> <pre><code>export OMP_NUM_THREADS=1\nexport MKL_NUM_THREADS=1\nexport NCCL_P2P_LEVEL=NVL\n</code></pre> <p>\u518d\u6b21\u6267\u884c\u811a\u672c</p> <pre><code># \u5220\u9664\u540d\u5b57\u4e3a xy \u7684session\nscreen -X -S xy quit\n# \u65b0\u5efa\u4e00\u4e2a\u540d\u5b57\u53eb xy \u7684session\nscreen -S xy\n# \u5207\u6362 GCC 11\nsudo scl enable devtoolset-11 bash\n# \u4f7f\u73af\u5883\u53d8\u91cf\u751f\u6548\nsource ~/.bashrc\n# \u540c\u6b65\u4ee3\u7801\ncd /data/workspace/XuanYuan/llm-code/\nsh sync.sh\n# \u518d\u6b21\u6267\u884c\u8bad\u7ec3\u811a\u672c\nsh pretrain_run.sh\n</code></pre> <p>\u5b9e\u6d4b\u6ca1\u6709\u7528\uff0c\u8fd8\u662f\u5361\u6b7b\u3002</p> <p>\u7136\u540e\u5c31\u5c1d\u8bd5\u4f7f\u7528<code>torchrun</code>\u8fd0\u884c\u624b\u5199\u6570\u5b57\u8bc6\u522b\u7684\u9879\u76ee\u3002\u7ed3\u679c\u8fd8\u662f\u5361\u6b7b\uff0c\u8bf4\u660e\u4e0d\u662f\u9879\u76ee\u7684\u95ee\u9898\uff0c\u662f\u73af\u5883\u7684\u95ee\u9898\u3002</p> <p>\u5728 nccl issues 1092 \u4e2d\u770b\u5230\u53ef\u80fd\u662fnccl\u548cPytorch\u7248\u672c\u51b2\u7a81\u7684\u95ee\u9898\u5bfc\u81f4\u7684\u5361\u6b7b\u3002</p> <p>\u67e5\u770b cuda \u548c nccl \u7684\u7248\u672c\uff1a</p> <pre><code>python\nPython 3.10.13 (main, Sep 11 2023, 13:44:35) [GCC 11.2.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import torch\n[I debug.cpp:49] [c10d] The debug level is set to DETAIL.\nt^H&gt;&gt;&gt; torch.version.cuda\n'12.1'\n&gt;&gt;&gt; torch.cuda.nccl.version()\n(2, 18, 1)\n&gt;&gt;&gt; \n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\u6211\u4eecpytorch\u5bf9\u5e94\u7684cuda\u7248\u672c\u662f12.1\uff0cnccl\u7684\u7248\u672c\u662f2.18.1\u3002\u91cd\u65b0\u5b89\u88c5nccl\u4e4b\u540e\u5c31\u6ca1\u6709\u8bad\u7ec3\u5361\u6b7b\u4e86\u3002:</p> <pre><code># \u5378\u8f7d nccl\nrpm -qa |grep nccl |xargs yum remove -y\n# \u6dfb\u52a0 cuda centos7 yum \u6e90\nsudo yum-config-manager --add-repo https://developer.download.nvidia.com/compute/cuda/repos/rhel7/x86_64/cuda-rhel7.repo\n# \u91cd\u65b0\u5b89\u88c5 nccl\nsudo yum install libnccl-2.18.1-1+cuda12.1 libnccl-devel-2.18.1-1+cuda12.1 libnccl-static-2.18.1-1+cuda12.1 -y\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#6_oom","title":"\u95ee\u98986 \u8bad\u7ec3\u62a5\u9519OOM","text":"<p>\u518d\u6b21\u6267\u884c\u5c31\u53ef\u4ee5\u8bad\u7ec3\u4e86\uff0c\u4f46\u662f\u4f1a\u62a5 <code>CUDA OOM</code>\u5185\u5b58\u4e0d\u8db3\u7684\u9519\u8bef\u3002\u5c06 <code>pretrain_run.sh</code>\u4e2d<code>batch_size</code> \u4fee\u6539\u6210 <code>1</code> \u518d\u8bd5\u3002</p> <pre><code>deepspeed \\\n    --hostfile hostfile.txt \\\n    dxm_llm_main.py \\\n    --data_path data/FinCorpus_tokenized \\\n    --model_name_or_path /data/models/Llama-2-7b-hf \\\n    --save_name model/model-pretrained \\\n    --train_mode pretrain \\\n    --epochs 1 \\\n    --per_device_train_batch_size 1 \\\n    --max_length 4096 \\\n    --ds_zero_stage 3 \\\n    --log_steps 2 \\\n    --save_steps 40 \\\n    --gradient_checkpointing\n</code></pre> <p><code>batch_size</code>\u4fee\u6539\u6210<code>1</code>\u8fd8\u662f\u62a5\u9519OOM\u3002\u5c06<code>config.py</code>\u7684<code>get_deepspeed_config</code>\u51fd\u6570\u6700\u540e\u52a0\u4e0aCPU offload \u7684\u914d\u7f6e\u3002</p> <pre><code>    if args.ds_offload_cpu == True:\n        ds_config[\"zero_optimization\"].update({\n            \"offload_optimizer\": {\n                \"device\": \"cpu\"\n            },\n            \"offload_param\": {\n                \"device\": \"cpu\"\n            }\n        })\n</code></pre> <p>\u4fee\u6539<code>pretrain_run.sh</code>\uff0c\u52a0\u4e0a<code>--ds_offload_cpu</code>\u53c2\u6570\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#7_current_loss_scale_already_at_minimum_-_cannot_decrease_scale_anymore_exiting_run","title":"\u95ee\u9898 7 Current loss scale already at minimum - cannot decrease scale anymore. Exiting run.","text":"<p>\u518d\u6b21\u8fd0\u884c\u5c31\u6ca1\u6709\u62a5\u9519 OOM\u4e86, \u4f46\u662f\u6267\u884c\u8fc7\u7a0b\u4e2d\u4f1a\u65e5\u5fd7\u663e\u793a loss \u4f1a\u53d8\u6210 nan \uff0c\u518d\u6267\u884c\u4e00\u4f1a\u513f\u62a5\u9519<code>Current loss scale already at minimum - cannot decrease scale anymore. Exiting run.</code> </p> <p></p> <p>\u9519\u8bef\u539f\u56e0\u662f\u56e0\u4e3a\u4f18\u5316\u5668\u5b66\u4e60\u7387\u592a\u9ad8\u4e86\uff0c\u5c06\u4f18\u5316\u5668\u6539\u6210\uff1a</p> <pre><code> \"optimizer\": {\n            \"type\": \"Adam\",\n            \"params\": {\n                \"lr\": args.learning_rate,\n                \"weight_decay\": args.weight_decay\n            }\n        }\n</code></pre> <p>\u8dd1\u4e86\u4e00\u4e2a\u665a\u4e0a\u8dd1\u4e86700\u4e2astep.</p> <p></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BA%A6%E5%B0%8F%E6%BB%A1%E8%BD%A9%E8%BE%95%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95.html#_9","title":"\u53c2\u8003\u94fe\u63a5","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BE%AE%E8%B0%83.html","title":"\u5fae\u8c03","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BE%AE%E8%B0%83.html#qwen2-7b_lora","title":"Qwen2-7B lora \u5fae\u8c03","text":"<p>\u6211\u4eec\u7684\u9879\u76ee\u547d\u540d\u4e3a<code>sop</code>\uff0c\u63d0\u524d\u6784\u9020\u597d\u4e86\u5fae\u8c03\u7684\u6570\u636e\u3002</p> <p>\u5fae\u8c03\u7684\u6570\u636e\u683c\u5f0f\u793a\u4f8b\u5982\u4e0b\uff1a <pre><code>[\n  {\n    \"instruction\": \"\u8fd9\u662f\u4e00\u4e2a\u6307\u4ee4\",\n    \"input\": \"\u8fd9\u662f\u8f93\u5165\",\n    \"output\": \"\u8fd9\u662f\u8f93\u51fa\uff0c\u6211\u4eec\u7684\u6570\u636e\u8fd9\u91cc\u662f\u4e00\u4e2aMarkdown\u683c\u5f0f\u7684\u4ee3\u7801\u5757\uff0c\u5176\u4e2d\u5185\u5bb9\u4e3aJSON\u5b57\u7b26\u4e32\"\n  }\n]\n</code></pre></p> <p>\u9996\u5148\u9700\u8981\u4fee\u6539<code>LlamaFactory</code>\u9879\u76ee\u7684<code>data</code>\u76ee\u5f55\u4e0b\u7684<code>dataset_info.json</code>\u6587\u4ef6\uff0c\u5c06\u6211\u4eec\u9700\u8981\u5fae\u8c03\u7684\u6570\u636e\u96c6\u6dfb\u52a0\u8fdb\u53bb\u3002</p> <p>\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p></p> <p>\u7136\u540e\u65b0\u5efa\u4e00\u4e2a<code>sop</code>\u76ee\u5f55\u4e0b\uff0c\u65b0\u5efa\u4e00\u4e2a<code>qwen2_lora_sft.yaml</code>\u6587\u4ef6\u590d\u5236\u8fdb\u53bb\u3002</p> <p>lora sft\u8bad\u7ec3\u914d\u7f6e\u6587\u4ef6<code>qwen2_lora_sft.yaml</code>\u53c2\u6570\u5982\u4e0b\uff1a</p> <pre><code>### model\nmodel_name_or_path: /data/models/Qwen2-7B\n\n### method\nstage: sft\ndo_train: true\nfinetuning_type: lora\nlora_target: all\n\n### dataset\ndataset: sop\ntemplate: qwen\ncutoff_len: 1024\nmax_samples: 10000\noverwrite_cache: true\npreprocessing_num_workers: 16\n\n### output\noutput_dir: ./saves/qwen2-7b/lora/sft\nlogging_steps: 10\nsave_steps: 500\nplot_loss: true\noverwrite_output_dir: true\n\n### train\nper_device_train_batch_size: 1\ngradient_accumulation_steps: 8\nlearning_rate: 1.0e-4\nnum_train_epochs: 3.0\nlr_scheduler_type: cosine\nwarmup_ratio: 0.1\nfp16: true\nddp_timeout: 180000000\n\n### eval\nval_size: 0.1\nper_device_eval_batch_size: 1\neval_strategy: steps\neval_steps: 500\n</code></pre> <p>\u8bad\u7ec3\u811a\u672c<code>train.sh</code>\u5185\u5bb9\uff1a <pre><code>llamafactory-cli train sop/qwen2_lora_sft.yaml\n</code></pre></p> <p>\u6267\u884c\u8bad\u7ec3\u7684\u547d\u4ee4\uff1a <pre><code>screen -S train\n\nbash train.sh\n</code></pre></p> <p>9000\u6761\u6570\u636e\uff0cA100 40G * 2 \uff0c\u6bcf\u4e2a\u8bbe\u5907\u4e0a\u7684batch_size\u4e3a1\uff0c1\u4e2aepoch\uff08500\u4e2aStep\uff09\u8bad\u7ec3\u9700\u8981\u534a\u4e2a\u5c0f\u65f6\uff0c\u603b\u51713\u4e2aepoch\uff0c\u8bad\u7ec3\u7528\u65f6\u4e3a1\u4e2a\u534a\u5c0f\u65f6\u3002 \u8bad\u7ec3\u65f6\u663e\u5b58\u5360\u7528100%\uff0840G\uff09\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E5%BE%AE%E8%B0%83.html#_2","title":"\u5fae\u8c03\u540e\u7684\u95ee\u9898","text":"<ul> <li>\u6a21\u578b\u5fae\u8c03\u540e\uff0c\u6a21\u578b\u8fc7\u62df\u5408\uff0c\u6cdb\u5316\u80fd\u529b\u5dee\uff0c\u5bf9\u672a\u89c1\u8fc7\u7684\u6570\u636e\u9884\u6d4b\u7ed3\u679c\u4e0d\u597d\u3002</li> <li>\u5fae\u8c03\u540e\uff0c\u901a\u7528\u80fd\u529b\u4e0b\u964d\uff0c\u8f93\u5165\u666e\u901a\u7684\u95ee\u9898\uff0c\u5982\u201c\u4e2d\u79cb\u8282\u5403\u4ec0\u4e48\u201d\uff0c\u8f93\u51fa\u7ed3\u679c\u4f1a\u53d8\u6210\u4e00\u4e2aJSON\uff0c\u4e0d\u7b26\u5408\u9884\u671f\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html","title":"RAG\uff08Retrieval-Augmented Generation\uff09\u5b66\u4e60\u7b14\u8bb0","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#retrieval-augmented_generation_for_knowledge-intensive_nlp_tasks","title":"\u8bba\u6587\uff1aRetrieval-Augmented Generation for Knowledge-Intensive NLP Tasks","text":"<p>\u8bba\u6587\u540d\u79f0\uff1a Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks\uff08\u77e5\u8bc6\u5bc6\u96c6\u578b NLP \u4efb\u52a1\u7684\u68c0\u7d22\u589e\u5f3a\u751f\u6210\uff09</p> <p>\u8bba\u6587\u5730\u5740\uff1a https://arxiv.org/abs/2005.11401</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_1","title":"\u63d0\u51fa\u7684\u95ee\u9898\u662f\u4ec0\u4e48","text":"<p>\u5b9e\u9a8c\u8868\u660e\u9884\u8bad\u7ec3\u8bed\u8a00\u6a21\u578b\u80fd\u591f\u4ece\u6d77\u91cf\u6570\u636e\u4e2d\u5b66\u4e60\u5230\u5e7f\u6cdb\u7684\u4e16\u754c\u77e5\u8bc6\uff0c\u8fd9\u4e9b\u77e5\u8bc6\u4ee5\u53c2\u6570\u7684\u5f62\u5f0f\u5b58\u50a8\u5728\u6a21\u578b\u4e2d\uff0c\u7ecf\u8fc7\u9002\u5f53\u7684\u5fae\u8c03\u5c31\u80fd\u5728\u4e0b\u6e38\u4efb\u52a1\u4e2d\u53d6\u5f97SOTA\u8868\u73b0\uff0c\u800c\u4e0d\u9700\u8981\u8bbf\u95ee\u6216\u68c0\u7d22\u989d\u5916\u7684\u5916\u90e8\u77e5\u8bc6\u5e93\u3002\u4f46\u662f\uff0c\u8fd9\u7c7b\u901a\u7528\u8bed\u8a00\u6a21\u578b\u5728\u5904\u7406**\u77e5\u8bc6\u5bc6\u96c6\u578b(knowledge-intensive)** \u4efb\u52a1\u65f6\u4ecd\u65e7\u5b58\u5728\u4e00\u5b9a\u7684\u5c40\u9650\u6027\uff0c\u5e38\u5e38\u843d\u540e\u4e8e\u9762\u5411\u7279\u5b9a\u4efb\u52a1\u7684\u6a21\u578b\u7ed3\u6784\u3002\u9884\u8bad\u7ec3\u6a21\u578b\u5bb9\u91cf\u518d\u5927\u4e5f\u65e0\u6cd5\u8bb0\u4f4f\u6240\u6709\u7684\u77e5\u8bc6\uff0c\u4e00\u65e6\u8bad\u7ec3\u597d\u4e86\u5f88\u96be\u65b9\u4fbf\u7684\u6269\u5c55\u548c\u4fee\u6539\u77e5\u8bc6\u3002</p> <p>\u95ee\u9898\uff1a\u77e5\u8bc6\u5bc6\u96c6\u578b\u4efb\u52a1\u4e2d\uff0c\u5982\u4f55\u63d0\u9ad8\u9884\u8bad\u7ec3\u6a21\u578b\u5728\u77e5\u8bc6\u5bc6\u96c6\u578b\u4efb\u52a1\u4e0a\u7684\u8868\u73b0\uff0c\u5e76\u4e14\u6269\u5c55\u6027\u66f4\u597d\uff1f</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_2","title":"\u7528\u7684\u4ec0\u4e48\u89e3\u51b3\u65b9\u6cd5","text":"<p>\u7ed9\u5927\u6a21\u578b\u6dfb\u52a0\u5916\u90e8\u77e5\u8bc6\u5e93\u3002\u5728\u5f53\u524d\u7684\u77e5\u8bc6\u5bc6\u96c6\u578b\u4efb\u52a1\u7684\u7814\u7a76\u4e2d\uff0c\u5177\u6709\u5b9e\u7528\u4ef7\u503c\u7684\u6a21\u578b\u57fa\u672c\u90fd\u4f9d\u8d56\u4e8e\u5916\u90e8\u77e5\u8bc6\u5e93\uff0c\u5f00\u653e\u57df\u95ee\u7b54\u7cfb\u7edf(Open-domain QA) \u662f\u6700\u7ecf\u5178\u4e5f\u6700\u91cd\u8981\u7684\u77e5\u8bc6\u5bc6\u96c6\u578b\u4efb\u52a1\u4e4b\u4e00\uff0c\u76ee\u524d\u7684SOTA\u6a21\u578b\u57fa\u672c\u90fd\u5305\u542b\u4e24\u4e2a\u6a21\u5757\uff1a\u6587\u6863\u68c0\u7d22\u5668\u548c\u6587\u6863\u751f\u6210\u5668\uff0c\u524d\u8005\u8d1f\u8d23\u68c0\u7d22\u53ec\u56de\u548c\u67e5\u8be2\u76f8\u5173\u7684\u6587\u6863\uff0c\u540e\u8005\u8d1f\u8d23\u4ece\u8fd9\u4e9b\u6587\u6863\u4e2d\u7f16\u8f91\u6216\u62bd\u53d6\u51fa\u7b54\u6848\u7247\u6bb5\u3002\u8fd9\u79cd\u68c0\u7d22-\u62bd\u53d6\u8303\u5f0f\u7c7b\u4f3c\u4e8e\u5f00\u5377\u8003\u8bd5\uff0c\u800c\u5355\u7eaf\u4f9d\u9760\u6a21\u578b\u53c2\u6570\u6765\u4fdd\u5b58\u77e5\u8bc6\u7c7b\u4f3c\u4e8e\u95ed\u5377\u8003\u8bd5\uff0c\u524d\u8005\u5f53\u7136\u8981\u7b80\u5355\u53ef\u9760\u5f97\u591a\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_3","title":"\u6210\u679c\u5982\u4f55","text":"<p>\u5728\u5f00\u653e\u57df\u95ee\u7b54\u4efb\u52a1\u4e2d\uff0c\u4f5c\u8005\u5bf9\u6bd4\u4e86RAG\u548c\u4e00\u4e9b\u6d41\u884c\u7684\u62bd\u53d6\u5f0fQA\u6a21\u578b\uff0c\u5305\u62ec\u4f9d\u8d56\u4e8e\u975e\u53c2\u6570\u77e5\u8bc6(Open Book)\u7684REALM\u548cDPR\uff0c\u4ee5\u53ca\u4ec5\u4f9d\u9760\u53c2\u6570\u77e5\u8bc6(Closed Book)\u7684\u751f\u6210\u5f0f\u6a21\u578bT5\uff0c\u8bc4\u4f30\u6307\u6807\u4e3aEM\u5206\u6570\u3002\u5728\u5176\u4f59\u4e09\u9879\u4efb\u52a1\u4e2d\uff0c\u4f5c\u8005\u8fd8\u5bf9\u6bd4\u6d4b\u8bd5\u4e86BART\u6a21\u578b\u548c\u5229\u7528\u4e86\u6587\u6863\u76d1\u7763\u4fe1\u606f\u7684SOTA\u6a21\u578b\u3002</p> <p></p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u4e3b\u8981\u7ed3\u8bba\uff1a</p> <ul> <li> <p>\u603b\u4f53\u6765\u8bf4\uff0cOpen Book\u8303\u5f0f\u6bd4Closed Book\u8303\u5f0f\u7684\u8868\u73b0\u597d\u4e0d\u5c11\uff0c\u56e0\u6b64\u5f15\u5165\u5916\u90e8\u77e5\u8bc6\u5e93\u5bf9\u5f00\u653e\u57df\u95ee\u7b54\u4efb\u52a1\u6765\u8bf4\u8fd8\u662f\u5f88\u91cd\u8981\u7684\uff0c\u800c**RAG\u5f88\u597d\u5730\u5c06seq2seq\u6a21\u578b\u7684\u7075\u6d3b\u6027\u548c\u68c0\u7d22\u6a21\u578b\u7684\u9ad8\u6548\u6027\u7ed3\u5408\u4e86\u8d77\u6765**\uff0c\u5e76\u4e14\u4e0d\u50cfREALM\uff0cRAG\u7684\u8bad\u7ec3\u6210\u672c\u66f4\u5c0f\uff0c\u53e6\u5916RAG\u7684\u68c0\u7d22\u5668\u867d\u7136\u662f\u7528DPR\u7684\u68c0\u7d22\u5668\u521d\u59cb\u5316\u7684\uff0c\u4f46\u539f\u59cb\u7684DPR\u6a21\u578b\u540e\u7eed\u91c7\u7528\u4e86BERT\u6765\u5bf9\u6587\u6863\u505a\u91cd\u6392\u548c\u7b54\u6848\u62bd\u53d6\uff0c\u800cRAG\u8868\u660e\u8fd9\u4e24\u8005\u662f\u4e0d\u5fc5\u8981\u7684\u3002</p> </li> <li> <p>\u867d\u7136\u53ef\u4ee5\u76f4\u63a5\u4ece\u6587\u6863\u4e2d\u62bd\u53d6\u7b54\u6848\u7247\u6bb5\uff0c\u4f46\u76f4\u63a5\u751f\u6210\u7b54\u6848\u6709\u4e00\u4e9b\u989d\u5916\u7684\u597d\u5904\uff0c\u6bd4\u5982\u6709\u4e9b\u6587\u6863\u5e76\u4e0d\u76f4\u63a5\u5305\u542b\u6574\u4e2a\u7b54\u6848\uff0c\u4f46\u5305\u542b\u7b54\u6848\u7684\u7ebf\u7d22\uff0c\u8fd9\u4e9b\u7ebf\u7d22\u5c31\u80fd\u5e2e\u52a9\u6a21\u578b\u751f\u6210\u66f4\u6b63\u786e\u7684\u7b54\u6848\uff0c\u800c\u8fd9\u5bf9\u62bd\u53d6\u5f0f\u6a21\u578b\u6765\u8bf4\u662f\u505a\u4e0d\u5230\u7684\u3002\u5728\u4e00\u4e9b\u6781\u7aef\u60c5\u51b5\u4e0b\uff0c\u6bd4\u5982\u88ab\u68c0\u7d22\u5230\u7684\u6587\u6863\u5168\u90fd\u4e0d\u5305\u542b\u6b63\u786e\u7b54\u6848\uff0cRAG\u4e5f\u80fd\u751f\u6210\u76f8\u5bf9\u5408\u7406\u7684\u7b54\u6848\uff0c\u6b64\u65f6RAG\u501f\u52a9\u7684\u5c31\u662f\u751f\u6210\u5668\u4e2d\u5b58\u50a8\u7684\u53c2\u6570\u77e5\u8bc6\uff0c\u800cREALM\u8fd9\u7c7b\u62bd\u53d6\u5f0fQA\u6a21\u578b\u5c31\u65e0\u6cd5\u56de\u7b54\u8fd9\u4e9b\u95ee\u9898\u3002\u5728NQ\u6570\u636e\u96c6\u4e2d\uff0cRAG\u5bf9\u4e8e\u8fd9\u7c7b\u95ee\u9898\u7684\u6b63\u786e\u7387\u662f11.8%\uff0c\u800c\u62bd\u53d6\u5f0f\u6a21\u578b\u7684\u6b63\u786e\u7387\u662f0%\u3002</p> </li> <li> <p>\u4f5c\u8005\u5bf9BART\u548cRAG\u6a21\u578b\u5728\u95ee\u9898\u751f\u6210\u4efb\u52a1\u4e0a\u7684\u8868\u73b0\u8fdb\u884c\u4e86\u4eba\u5de5\u8bc4\u4f30\uff0c\u5982\u5de6\u56fe\u6240\u793a\uff0c\u8bc4\u4f30\u7ed3\u679c\u8868\u660eRAG\u751f\u6210\u7684\u95ee\u9898\u66f4\u7b26\u5408\u4e8b\u5b9e(factual)\uff0c\u4e5f\u66f4\u5177\u4f53(specific)\uff0c\u800c\u53f3\u56fe\u8ba1\u7b97\u4e86\u4e0d\u540c\u7684tri-grams\u4e0e\u6240\u6709tri-grams\u7684\u6bd4\u503c\uff0c\u8be5\u6bd4\u503c\u80fd\u591f\u53cd\u6620\u751f\u6210\u7684\u591a\u6837\u6027\uff0c\u8ba1\u7b97\u7ed3\u679c\u548c\u6837\u672c\u89c2\u5bdf\u5747\u8868\u660eRAG\u7684\u751f\u6210\u7ed3\u679c\u662f\u66f4\u591a\u6837\u5316\u7684\u3002</p> <p></p> <p></p> </li> <li> <p>\u53e6\u5916\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u5728\u95ee\u9898\u751f\u6210\u4efb\u52a1\u4e2dRAG-Token\u7684\u8868\u73b0\u6bd4RAG-Sequence\u66f4\u597d\uff0c\u8fd9\u5b9e\u9645\u4e0a\u5f97\u76ca\u4e8e\u524d\u8005\u5728\u751f\u6210\u65f6\u53ef\u4ee5\u5173\u6ce8\u5230\u591a\u4e2a\u6587\u6863\uff0c\u4ece\u800c\u751f\u6210\u4fe1\u606f\u66f4\u4e30\u5bcc\u7684\u95ee\u9898\uff0c\u4e0b\u9762\u7684\u4e00\u4e2a\u4f8b\u5b50\u5c31\u8868\u660e\u4e86RAG-Token\u5728\u751f\u6210\u4e0d\u540c\u7684\u5355\u8bcd\u65f6\uff0c\u4e0d\u540c\u6587\u6863\u7684\u540e\u9a8c\u6982\u7387\u662f\u4e0d\u540c\u7684\u3002\u6709\u8da3\u7684\u662f\uff0c\u5728\u751f\u6210\u67d0\u4e2a\u5b9e\u4f53\u7684\u7b2c\u4e00\u4e2a\u8bcd\u4e4b\u540e\uff0c\u8be5\u5b9e\u4f53\u5bf9\u5e94\u7684\u6587\u6863\u7684\u540e\u9a8c\u6982\u7387\u5c31\u56de\u5f52\u6b63\u5e38\u4e86\uff0c\u8fd9\u8868\u660e**\u751f\u6210\u5668\u4f9d\u9760\u53c2\u6570\u77e5\u8bc6\u5b8c\u5168\u6709\u80fd\u529b\u8865\u5168\u540e\u7eed\u90e8\u5206\uff0c\u6587\u6863\u4fe1\u606f\u4ec5\u4ec5\u8d77\u5230\u4e86\u63d0\u793a\u548c\u5f15\u5bfc\u7684\u4f5c\u7528**\uff0c\u56e0\u6b64\u6574\u4e2aRAG\u6a21\u578b\u4e3b\u8981\u4f9d\u9760\u7684\u8fd8\u662f\u53c2\u6570\u77e5\u8bc6\uff0c\u800c\u5728\u751f\u6210\u5b9e\u4f53\u65f6\u975e\u53c2\u6570\u77e5\u8bc6\u624d\u4f1a\u8d77\u5230\u4f5c\u7528\u3002</p> <p></p> </li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_4","title":"\u539f\u7406\u662f\u5565","text":"<ul> <li> <p>RAG \u7684\u601d\u8def\u5176\u5b9e\u5f88\u7b80\u5355, \u6211\u4eec\u77e5\u9053, \u751f\u6210\u6a21\u578b\u901a\u8fc7\u5efa\u6a21\u6761\u4ef6\u5206\u5e03:</p> \\[ p(y|x) \\] <p>\u5e76\u4ece\u4e2d\u4e0d\u65ad\u5730\u91c7\u6837\u5e8f\u5217.</p> </li> <li> <p>\u4e0d\u4f9d\u8d56\u68c0\u7d22\u7684\u751f\u6210\u6a21\u578b\u53ef\u4ee5\u7406\u89e3\u4e3a $$ x\u2192y $$ \u7684\u8fc7\u7a0b, \u73b0\u5728\u6211\u4eec\u5e0c\u671b\u8d4b\u4e88\u6a21\u578b\u68c0\u7d22\u7684\u80fd\u529b, \u5373\u5e0c\u671b\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u8fdb\u884c\u751f\u6210</p> \\[ x\u2192(x,z)\u2192y \\] <p>\u5373\u6a21\u578b\u9700\u8981\u5148\u901a\u8fc7 \\(\\(x\\)\\) \u68c0\u7d22\u5f97\u5230 \\(\\(z\\)\\) \u5e76\u4e00\u8d77\u751f\u6210\u6700\u540e\u7684 \\(\\(y\\)\\).</p> </li> <li> <p>\u5b9e\u9645\u4e0a, \u5c31\u662f (\u6b64\u5904\u7684\u79ef\u5206\u662f\u52d2\u8d1d\u683c\u79ef\u5206)</p> \\[ \\boldsymbol{y} \\sim  p(\\boldsymbol{y}|\\boldsymbol{x}) = \\int p_{\\theta}(\\boldsymbol{y}|\\boldsymbol{z}, \\boldsymbol{x}) p_{\\eta}(\\boldsymbol{z}|\\boldsymbol{x}) \\mathrm{d} \\boldsymbol{z}, \\] </li> <li> <p>\u5176\u4e2d \\(p_{\\theta}, p_{\\eta}\\) \u662f\u6211\u4eec\u6784\u5efa\u7684\u4e24\u4e2a\u6761\u4ef6\u6a21\u578b:</p> <p></p> </li> </ul> <p>\u89e3\u91ca\u4e00\u4e0b\u4e0a\u56fe\uff1a \u8fd9\u4e2a\u56fe\u6709\u4e24\u4e2a\u90e8\u5206\uff0c\u4e00\u4e2a\u662f Retriever\uff0c\u4e00\u4e2a\u662fGenerator\u3002Retriever\u6709Query Encodeer\u548cDocument Index\u7ec4\u6210\u3002</p> <p>\u8054\u5408\u4e00\u4e2a\u9884\u8bad\u7ec3\u7684 retriever (Query Encoder + Document Index) \u548c\u4e00\u4e2a\u9884\u8bad\u7ec3\u7684 seq2seq \u6a21\u578b (Generator) \u5e76\u4e14\u8fdb\u884c\u4e86\u7aef\u5230\u7aef\u7684\u5fae\u8c03\u3002\u5bf9\u5e94\u67e5\u8be2 \\(x\\)\uff0c\u4f7f\u7528MIPS \u7b97\u6cd5\u627e\u5230 top-K \u4e2a\u6587\u6863  \\(z_i\\) \uff0c\u4e3a\u4e86\u9884\u6d4b\u6700\u7ec8\u7ed3\u679c\\(y\\)\uff0c\u5c06 \\(z\\) \u5f53\u4f5c\u81ea\u53d8\u91cf\uff0c\u5e76\u4e14\u5bf9\u4e0e\u4e0d\u540c\u7684\u6587\u6863</p> <p>\u5176\u4e2d\u6709\u4e24\u79cd\u5b9e\u9645\u7684\u6a21\u578b\uff1a</p> <ul> <li> <p>RAG-Sequence: \u5373\u901a\u8fc7\u68c0\u7d22\u540e\u7684\u6587\u6863\u751f\u6210\u5b8c\u6574\u7684\u5e8f\u5217, \u5047\u8bbe\u6211\u4eec\u68c0\u7d22\u51fa (\u76f8\u540c\u7684) Tok-k \u6700\u76f8\u5173\u7684\u6587\u6863 (\u6ce8\u610f\u8fd9\u4e9b\u6587\u6863), \u6211\u4eec\u53ef\u4ee5\u7528\u5982\u4e0b\u65b9\u5f0f\u8fd1\u4f3c </p> \\[ p(\\boldsymbol{y} \\mid \\boldsymbol{x}) \\approx \\sum_{\\boldsymbol{z} \\in \\operatorname{top}-k(p(\\cdot \\mid \\boldsymbol{x}))} p_{\\eta}(\\boldsymbol{z} \\mid \\boldsymbol{x}) p_{\\theta}(\\boldsymbol{y} \\mid \\boldsymbol{x}, \\boldsymbol{z})=\\sum_{\\boldsymbol{z} \\in \\operatorname{top}-k(p(\\cdot \\mid \\boldsymbol{x}))} p_{\\eta}(\\boldsymbol{z} \\mid \\boldsymbol{x}) \\prod_{i=1}^{N} p_{\\theta}\\left(y_{i} \\mid \\boldsymbol{x}, \\boldsymbol{z}, y_{1: i-1}\\right) \\] </li> <li> <p>RAG-Token: \u91c7\u7528\u7684\u662f\u4e00\u79cd\u8fed\u4ee3\u7684\u65b9\u5f0f, \u5bf9\u4e8e\u7b2c \\(\\(i\\)\\) \u4e2a\u9700\u8981\u9884\u6d4b\u7684 Token, \u5b83</p> \\[ p(y_i|\\boldsymbol{x}; \\boldsymbol{y}_{1:i-1})  \\approx \\sum_{\\boldsymbol{z} \\in \\text{top-}k (p(\\cdot|\\boldsymbol{x}, \\boldsymbol{y}_{1:i-1}))} p_{\\eta}(\\boldsymbol{z}|\\boldsymbol{x},  \\boldsymbol{y}_{1:i-1}) p_{\\theta}(y_i|\\boldsymbol{x}, \\boldsymbol{z}, \\boldsymbol{y}_{1:i-1}) \\] <p>\u4e8e\u662f</p> \\[ p(\\boldsymbol{y}|\\boldsymbol{x})  \\approx \\prod_{i=1}^N \\sum_{\\boldsymbol{z} \\in \\text{top-}k (p(\\cdot|\\boldsymbol{x}, \\boldsymbol{y}_{1:i-1}))} p_{\\eta}(\\boldsymbol{z}|\\boldsymbol{x},  \\boldsymbol{y}_{1:i-1}) p_{\\theta}(y_i|\\boldsymbol{x}, \\boldsymbol{z}, \\boldsymbol{y}_{1:i-1}) \\] </li> </ul> <p>\u8fd9\u76f8\u5f53\u4e8e, \u6bcf\u4e00\u4e2a Token \u7684\u751f\u6210\u6211\u4eec\u8fdb\u884c\u4e00\u6b21\u6587\u6863\u7684\u68c0\u7d22 (\u800c RAG-Sequence: \u5219\u662f\u53ea\u68c0\u7d22\u4e00\u6b21).</p> <p>\u4ece\u516c\u5f0f\u5bf9\u8fd9\u4e24\u79cd\u6a21\u578b\u8fdb\u884c\u7406\u89e3\uff0cRAG-Sequence\u6a21\u578b\u5148\u8ba1\u7b97\u6bcf\u4e2a\u6587\u6863\u6761\u4ef6\u4e0b\u56de\u7b54\u8bcd\u5143\u7684\u6982\u7387\u5206\u5e03\uff0c\u518d\u8fde\u4e58\u5f97\u5230\u6bcf\u4e2a\u6587\u6863\u6761\u4ef6\u4e0b\u56de\u7b54\u7684\u6982\u7387\u5206\u5e03\uff0c\u6700\u540e\u518d\u6c42\u548c\u5f97\u5230\u6240\u6709\u6700\u76f8\u5173\u6587\u6863\u6761\u4ef6\u4e0b\u56de\u7b54\u7684\u6982\u7387\u5206\u5e03\uff0c\u800cRAG-Token\u6a21\u578b\u5148\u8ba1\u7b97\u6bcf\u4e2a\u6587\u6863\u6761\u4ef6\u4e0b\u56de\u7b54\u8bcd\u5143\u7684\u6982\u7387\u5206\u5e03\uff0c\u518d\u6c42\u548c\u5f97\u5230\u6240\u6709\u6700\u76f8\u5173\u6587\u6863\u6761\u4ef6\u4e0b\u56de\u7b54\u8bcd\u5143\u7684\u6982\u7387\u5206\u5e03\uff0c\u6700\u540e\u518d\u8fde\u4e58\u5f97\u5230\u6240\u6709\u6700\u76f8\u5173\u6587\u6863\u6761\u4ef6\u4e0b\u56de\u7b54\u7684\u6982\u7387\u5206\u5e03\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_5","title":"\u6837\u4f8b","text":"<p>\u57fa\u4e8e\u4e0a\u9762\u7684\u8bba\u6587\uff0c\u6709\u4e24\u4e2a\u5df2\u7ecf\u6bd4\u8f83\u6d41\u884c\u7684\u6837\u4f8b\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#langchain-chatchat","title":"Langchain-Chatchat","text":"<p>\u4e00\u79cd\u5229\u7528 langchain \u601d\u60f3\u5b9e\u73b0\u7684\u57fa\u4e8e\u672c\u5730\u77e5\u8bc6\u5e93\u7684\u95ee\u7b54\u5e94\u7528\uff0c\u76ee\u6807\u671f\u671b\u5efa\u7acb\u4e00\u5957\u5bf9\u4e2d\u6587\u573a\u666f\u4e0e\u5f00\u6e90\u6a21\u578b\u652f\u6301\u53cb\u597d\u3001\u53ef\u79bb\u7ebf\u8fd0\u884c\u7684\u77e5\u8bc6\u5e93\u95ee\u7b54\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u9879\u76ee\u5730\u5740\uff1a https://github.com/chatchat-space/Langchain-Chatchat</p> <p>\u539f\u7406\u5982\u4e0b\uff1a</p> <p></p> <p>\u4ece\u6587\u6863\u5904\u7406\u89d2\u5ea6\uff1a</p> <p></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#dify","title":"dify","text":"<p>Dify \u662f\u4e00\u4e2a LLM \u5e94\u7528\u5f00\u53d1\u5e73\u53f0\uff0c\u5df2\u7ecf\u6709\u8d85\u8fc7 10 \u4e07\u4e2a\u5e94\u7528\u57fa\u4e8e Dify.AI \u6784\u5efa\u3002\u5b83\u878d\u5408\u4e86 Backend as Service \u548c LLMOps \u7684\u7406\u5ff5\uff0c\u6db5\u76d6\u4e86\u6784\u5efa\u751f\u6210\u5f0f AI \u539f\u751f\u5e94\u7528\u6240\u9700\u7684\u6838\u5fc3\u6280\u672f\u6808\uff0c\u5305\u62ec\u4e00\u4e2a\u5185\u7f6e RAG \u5f15\u64ce\u3002\u4f7f\u7528 Dify\uff0c\u4f60\u53ef\u4ee5\u57fa\u4e8e\u4efb\u4f55\u6a21\u578b\u81ea\u90e8\u7f72\u7c7b\u4f3c Assistants API \u548c GPTs \u7684\u80fd\u529b\u3002</p> <p>\u9879\u76ee\u5730\u5740\uff1a https://github.com/langgenius/dify</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_6","title":"\u6df7\u5408\u68c0\u7d22","text":"<p>dify\u4e2d\u4f7f\u7528\u4e86\u6df7\u5408\u68c0\u7d22\u6765\u63d0\u9ad8\u68c0\u7d22\u7684\u51c6\u786e\u5ea6\u3002</p> <p>RAG \u68c0\u7d22\u73af\u8282\u4e2d\u7684\u4e3b\u6d41\u65b9\u6cd5\u662f\u5411\u91cf\u68c0\u7d22\uff0c\u5373\u8bed\u4e49\u76f8\u5173\u5ea6\u5339\u914d\u7684\u65b9\u5f0f\u3002\u6280\u672f\u539f\u7406\u662f\u901a\u8fc7\u5c06\u5916\u90e8\u77e5\u8bc6\u5e93\u7684\u6587\u6863\u5148\u62c6\u5206\u4e3a\u8bed\u4e49\u5b8c\u6574\u7684\u6bb5\u843d\u6216\u53e5\u5b50\uff0c\u5e76\u5c06\u5176\u8f6c\u6362\uff08Embedding\uff09\u4e3a\u8ba1\u7b97\u673a\u80fd\u591f\u7406\u89e3\u7684\u4e00\u4e32\u6570\u5b57\u8868\u8fbe\uff08\u591a\u7ef4\u5411\u91cf\uff09\uff0c\u540c\u65f6\u5bf9\u7528\u6237\u95ee\u9898\u8fdb\u884c\u540c\u6837\u7684\u8f6c\u6362\u64cd\u4f5c\u3002</p> <p>\u8ba1\u7b97\u673a\u80fd\u591f\u53d1\u73b0\u7528\u6237\u95ee\u9898\u4e0e\u53e5\u5b50\u4e4b\u95f4\u7ec6\u5fae\u7684\u8bed\u4e49\u76f8\u5173\u6027\uff0c\u6bd4\u5982 \u201c\u732b\u8ffd\u9010\u8001\u9f20\u201d \u548c \u201c\u5c0f\u732b\u6355\u730e\u8001\u9f20\u201d \u7684\u8bed\u4e49\u76f8\u5173\u5ea6\u4f1a\u9ad8\u4e8e \u201c\u732b\u8ffd\u9010\u8001\u9f20\u201d \u548c \u201c\u6211\u559c\u6b22\u5403\u706b\u817f\u201d \u4e4b\u95f4\u7684\u76f8\u5173\u5ea6\u3002\u5728\u5c06\u76f8\u5173\u5ea6\u6700\u9ad8\u7684\u6587\u672c\u5185\u5bb9\u67e5\u627e\u5230\u540e\uff0cRAG \u7cfb\u7edf\u4f1a\u5c06\u5176\u4f5c\u4e3a\u7528\u6237\u95ee\u9898\u7684\u4e0a\u4e0b\u6587\u4e00\u8d77\u63d0\u4f9b\u7ed9\u5927\u6a21\u578b\uff0c\u5e2e\u52a9\u5927\u6a21\u578b\u56de\u7b54\u95ee\u9898\u3002</p> <p>\u9664\u4e86\u80fd\u591f\u5b9e\u73b0\u590d\u6742\u8bed\u4e49\u7684\u6587\u672c\u67e5\u627e\uff0c\u5411\u91cf\u68c0\u7d22\u8fd8\u6709\u5176\u4ed6\u7684\u4f18\u52bf\uff1a</p> <ul> <li>\u76f8\u8fd1\u8bed\u4e49\u7406\u89e3\uff08\u5982\u8001\u9f20/\u6355\u9f20\u5668/\u5976\u916a\uff0c\u8c37\u6b4c/\u5fc5\u5e94/\u641c\u7d22\u5f15\u64ce\uff09</li> <li>\u591a\u8bed\u8a00\u7406\u89e3\uff08\u8de8\u8bed\u8a00\u7406\u89e3\uff0c\u5982\u8f93\u5165\u4e2d\u6587\u5339\u914d\u82f1\u6587\uff09</li> <li>\u591a\u6a21\u6001\u7406\u89e3\uff08\u652f\u6301\u6587\u672c\u3001\u56fe\u50cf\u3001\u97f3\u89c6\u9891\u7b49\u7684\u76f8\u4f3c\u5339\u914d\uff09</li> <li>\u5bb9\u9519\u6027\uff08\u5904\u7406\u62fc\u5199\u9519\u8bef\u3001\u6a21\u7cca\u7684\u63cf\u8ff0\uff09</li> </ul> <p>\u867d\u7136\u5411\u91cf\u68c0\u7d22\u5728\u4ee5\u4e0a\u60c5\u666f\u4e2d\u5177\u6709\u660e\u663e\u4f18\u52bf\uff0c\u4f46\u6709\u67d0\u4e9b\u60c5\u51b5\u6548\u679c\u4e0d\u4f73\u3002\u6bd4\u5982\uff1a</p> <ul> <li>\u641c\u7d22\u4e00\u4e2a\u4eba\u6216\u7269\u4f53\u7684\u540d\u5b57\uff08\u4f8b\u5982\uff0c\u4f0a\u9686\u00b7\u9a6c\u65af\u514b\uff0ciPhone 15\uff09</li> <li>\u641c\u7d22\u7f29\u5199\u8bcd\u6216\u77ed\u8bed\uff08\u4f8b\u5982\uff0cRAG\uff0cRLHF\uff09</li> <li>\u641c\u7d22 ID\uff08\u4f8b\u5982\uff0c <code>gpt-3.5-turbo</code> \uff0c <code>titan-xlarge-v1.01</code> \uff09</li> </ul> <p>\u800c\u4e0a\u9762\u8fd9\u4e9b\u7684\u7f3a\u70b9\u6070\u6070\u90fd\u662f\u4f20\u7edf\u5173\u952e\u8bcd\u641c\u7d22\u7684\u4f18\u52bf\u6240\u5728\uff0c\u4f20\u7edf\u5173\u952e\u8bcd\u641c\u7d22\u64c5\u957f\uff1a</p> <ul> <li>\u7cbe\u786e\u5339\u914d\uff08\u5982\u4ea7\u54c1\u540d\u79f0\u3001\u59d3\u540d\u3001\u4ea7\u54c1\u7f16\u53f7\uff09</li> <li>\u5c11\u91cf\u5b57\u7b26\u7684\u5339\u914d\uff08\u901a\u8fc7\u5c11\u91cf\u5b57\u7b26\u8fdb\u884c\u5411\u91cf\u68c0\u7d22\u65f6\u6548\u679c\u975e\u5e38\u4e0d\u597d\uff0c\u4f46\u5f88\u591a\u7528\u6237\u6070\u6070\u4e60\u60ef\u53ea\u8f93\u5165\u51e0\u4e2a\u5173\u952e\u8bcd\uff09</li> <li>\u503e\u5411\u4f4e\u9891\u8bcd\u6c47\u7684\u5339\u914d\uff08\u4f4e\u9891\u8bcd\u6c47\u5f80\u5f80\u627f\u8f7d\u4e86\u8bed\u8a00\u4e2d\u7684\u91cd\u8981\u610f\u4e49\uff0c\u6bd4\u5982\u201c\u4f60\u60f3\u8ddf\u6211\u53bb\u559d\u5496\u5561\u5417\uff1f\u201d\u8fd9\u53e5\u8bdd\u4e2d\u7684\u5206\u8bcd\uff0c\u201c\u559d\u201d\u201c\u5496\u5561\u201d\u4f1a\u6bd4\u201c\u4f60\u201d\u201c\u60f3\u201d\u201c\u5417\u201d\u5728\u53e5\u5b50\u4e2d\u627f\u8f7d\u66f4\u91cd\u8981\u7684\u542b\u4e49\uff09</li> </ul> <p>\u5bf9\u4e8e\u5927\u591a\u6570\u6587\u672c\u641c\u7d22\u7684\u60c5\u666f\uff0c\u9996\u8981\u7684\u662f\u786e\u4fdd\u6f5c\u5728\u6700\u76f8\u5173\u7ed3\u679c\u80fd\u591f\u51fa\u73b0\u5728\u5019\u9009\u7ed3\u679c\u4e2d\u3002\u5411\u91cf\u68c0\u7d22\u548c\u5173\u952e\u8bcd\u68c0\u7d22\u5728\u68c0\u7d22\u9886\u57df\u5404\u6709\u5176\u4f18\u52bf\u3002\u6df7\u5408\u641c\u7d22\u6b63\u662f\u7ed3\u5408\u4e86\u8fd9\u4e24\u79cd\u641c\u7d22\u6280\u672f\u7684\u4f18\u70b9\uff0c\u540c\u65f6\u5f25\u8865\u4e86\u4e24\u65b9\u7684\u7f3a\u70b9\u3002</p> <p>\u5728\u6df7\u5408\u68c0\u7d22\u4e2d\uff0c\u4f60\u9700\u8981\u5728\u6570\u636e\u5e93\u4e2d\u63d0\u524d\u5efa\u7acb\u5411\u91cf\u7d22\u5f15\u548c\u5173\u952e\u8bcd\u7d22\u5f15\uff0c\u5728\u7528\u6237\u95ee\u9898\u8f93\u5165\u65f6\uff0c\u5206\u522b\u901a\u8fc7\u4e24\u79cd\u68c0\u7d22\u5668\u5728\u6587\u6863\u4e2d\u68c0\u7d22\u51fa\u6700\u76f8\u5173\u7684\u6587\u672c\u3002</p> <p></p> <p>\u201c\u6df7\u5408\u68c0\u7d22\u201d\u5b9e\u9645\u4e0a\u5e76\u6ca1\u6709\u660e\u786e\u7684\u5b9a\u4e49\uff0c\u672c\u6587\u4ee5\u5411\u91cf\u68c0\u7d22\u548c\u5173\u952e\u8bcd\u68c0\u7d22\u7684\u7ec4\u5408\u4e3a\u793a\u4f8b\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u5176\u4ed6\u641c\u7d22\u7b97\u6cd5\u7684\u7ec4\u5408\uff0c\u4e5f\u53ef\u4ee5\u88ab\u79f0\u4e3a\u201c\u6df7\u5408\u68c0\u7d22\u201d\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u7528\u4e8e\u68c0\u7d22\u5b9e\u4f53\u5173\u7cfb\u7684\u77e5\u8bc6\u56fe\u8c31\u6280\u672f\u4e0e\u5411\u91cf\u68c0\u7d22\u6280\u672f\u7ed3\u5408\u3002</p> <p>\u4e0d\u540c\u7684\u68c0\u7d22\u7cfb\u7edf\u5404\u81ea\u64c5\u957f\u5bfb\u627e\u6587\u672c\uff08\u6bb5\u843d\u3001\u8bed\u53e5\u3001\u8bcd\u6c47\uff09\u4e4b\u95f4\u4e0d\u540c\u7684\u7ec6\u5fae\u8054\u7cfb\uff0c\u8fd9\u5305\u62ec\u4e86\u7cbe\u786e\u5173\u7cfb\u3001\u8bed\u4e49\u5173\u7cfb\u3001\u4e3b\u9898\u5173\u7cfb\u3001\u7ed3\u6784\u5173\u7cfb\u3001\u5b9e\u4f53\u5173\u7cfb\u3001\u65f6\u95f4\u5173\u7cfb\u3001\u4e8b\u4ef6\u5173\u7cfb\u7b49\u3002\u53ef\u4ee5\u8bf4\u6ca1\u6709\u4efb\u4f55\u4e00\u79cd\u68c0\u7d22\u6a21\u5f0f\u80fd\u591f\u9002\u7528\u5168\u90e8\u7684\u60c5\u666f\u3002\u6df7\u5408\u68c0\u7d22\u901a\u8fc7\u591a\u4e2a\u68c0\u7d22\u7cfb\u7edf\u7684\u7ec4\u5408\uff0c\u5b9e\u73b0\u4e86\u591a\u4e2a\u68c0\u7d22\u6280\u672f\u4e4b\u95f4\u7684\u4e92\u8865\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_7","title":"\u9762\u5411\u5927\u8bed\u8a00\u6a21\u578b\u7684\u68c0\u7d22\u589e\u5f3a\u751f\u6210\u6280\u672f\uff1a\u8c03\u67e5","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_8","title":"\u6458\u8981","text":"<p>\u5927\u578b\u8bed\u8a00\u6a21\u578b (\u5927\u8bed\u8a00\u6a21\u578b\uff0cLLMs) \u867d\u5c55\u73b0\u51fa\u5f3a\u5927\u80fd\u529b\uff0c\u4f46\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u4f8b\u5982\u5728\u51c6\u786e\u6027\u3001\u77e5\u8bc6\u66f4\u65b0\u901f\u5ea6\u548c\u7b54\u6848\u900f\u660e\u5ea6\u65b9\u9762\uff0c\u4ecd\u5b58\u5728\u6311\u6218\u3002\u68c0\u7d22\u589e\u5f3a\u751f\u6210 (Retrieval-Augmented Generation, RAG) \u662f\u6307\u5728\u5229\u7528\u5927\u578b\u8bed\u8a00\u6a21\u578b\u56de\u7b54\u95ee\u9898\u4e4b\u524d\uff0c\u5148\u4ece\u5916\u90e8\u77e5\u8bc6\u5e93\u68c0\u7d22\u76f8\u5173\u4fe1\u606f\u3002</p> <p>RAG \u88ab\u8bc1\u660e\u80fd\u663e\u8457\u63d0\u5347\u7b54\u6848\u7684\u51c6\u786e\u6027\uff0c\u5e76\u7279\u522b\u662f\u5728\u77e5\u8bc6\u5bc6\u96c6\u578b\u4efb\u52a1\u4e0a\u51cf\u5c11\u6a21\u578b\u7684\u9519\u8bef\u8f93\u51fa\u3002\u901a\u8fc7\u5f15\u7528\u4fe1\u606f\u6765\u6e90\uff0c\u7528\u6237\u53ef\u4ee5\u6838\u5b9e\u7b54\u6848\u7684\u51c6\u786e\u6027\uff0c\u4ece\u800c\u589e\u5f3a\u5bf9\u6a21\u578b\u8f93\u51fa\u7684\u4fe1\u4efb\u3002</p> <p>RAG \u5728\u5927\u578b\u8bed\u8a00\u6a21\u578b\u65f6\u4ee3\u7684\u53d1\u5c55\u6a21\u5f0f\uff0c\u603b\u7ed3\u4e86\u4e09\u79cd\u6a21\u5f0f\uff1a\u521d\u7ea7 RAG\u3001\u9ad8\u7ea7 RAG \u548c\u6a21\u5757\u5316 RAG\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u7eaf\u53c2\u6570\u5316\u6a21\u578b\u7684\u5c40\u9650\uff0c\u8bed\u8a00\u6a21\u578b\u53ef\u4ee5\u91c7\u53d6\u534a\u53c2\u6570\u5316\u65b9\u6cd5\uff0c\u5c06\u975e\u53c2\u6570\u5316\u7684\u8bed\u6599\u5e93\u6570\u636e\u5e93\u4e0e\u53c2\u6570\u5316\u6a21\u578b\u76f8\u7ed3\u5408\u3002\u8fd9\u79cd\u65b9\u6cd5\u88ab\u79f0\u4e3a\u68c0\u7d22\u589e\u5f3a\u751f\u6210\uff08Retrieval-Augmented Generation, RAG\uff09</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_9","title":"\u5f15\u8a00","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#llm","title":"LLM\u7684\u4e0d\u8db3","text":"<ul> <li>\u53ef\u80fd\u4ea7\u751f\u4e0d\u51c6\u786e\u7684\u4fe1\u606f\uff0c\u5e76\u5728\u5904\u7406\u7279\u5b9a\u9886\u57df\u6216\u9ad8\u5ea6\u4e13\u4e1a\u5316\u7684\u67e5\u8be2\u65f6\u8868\u73b0\u51fa\u77e5\u8bc6\u7f3a\u5931</li> <li>\u5f53\u6240\u9700\u4fe1\u606f\u8d85\u51fa\u6a21\u578b\u8bad\u7ec3\u6570\u636e\u8303\u56f4\u6216\u9700\u8981\u6700\u65b0\u6570\u636e\u65f6\uff0c\u5927\u578b\u8bed\u8a00\u6a21\u578b\u53ef\u80fd\u65e0\u6cd5\u63d0\u4f9b\u51c6\u786e\u7b54\u6848</li> <li>\u901a\u5e38\u5bf9\u6a21\u578b\u8fdb\u884c\u5fae\u8c03\u6765\u9002\u5e94\u7279\u5b9a\u9886\u57df\u6216\u4e13\u6709\u4fe1\u606f\uff0c\u4ece\u800c\u5c06\u77e5\u8bc6\u53c2\u6570\u5316\uff0c\u4f46\u5b83\u9700\u8981\u6d88\u8017\u5927\u91cf\u8ba1\u7b97\u8d44\u6e90\uff0c\u6210\u672c\u9ad8\u6602\uff0c\u4e14\u9700\u8981\u4e13\u4e1a\u6280\u672f\u77e5\u8bc6\uff0c\u96be\u4ee5\u9002\u5e94\u4e0d\u65ad\u53d8\u5316\u7684\u4fe1\u606f\u73af\u5883</li> <li>LLM\u5c06\u5927\u91cf\u8bed\u6599\u5e93\u4e2d\u5b66\u4e60\u5230\u77e5\u8bc6\u50a8\u5b58\u5728\u6a21\u578b\u53c2\u6570\u4e2d\uff0c\u5b83\u96be\u4ee5\u4fdd\u7559\u8bad\u7ec3\u8bed\u6599\u5e93\u4e2d\u7684\u6240\u6709\u77e5\u8bc6\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u90a3\u4e9b\u4e0d\u592a\u5e38\u89c1\u4e14\u5177\u4f53\u7684\u77e5\u8bc6</li> <li>LLM\u6a21\u578b\u53c2\u6570\u65e0\u6cd5\u52a8\u6001\u66f4\u65b0\uff0c\u53c2\u6570\u5316\u77e5\u8bc6\u53ef\u80fd\u4f1a\u8fc7\u65f6</li> <li>\u53c2\u6570\u7684\u589e\u52a0\u4f1a\u5bfc\u81f4\u8bad\u7ec3\u548c\u63a8\u7406\u7684\u8ba1\u7b97\u6210\u672c\u589e\u52a0</li> <li>LLM\u4f1a\u51fa\u73b0\u5e7b\u89c9</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_10","title":"\u89e3\u51b3\u529e\u6cd5","text":"<p>\u5c06 RAG \u5f15\u5165\u5927\u6a21\u578b\u7684\u4e0a\u4e0b\u6587\u5b66\u4e60 (In-Context Learning, ICL) \u4e2d\uff0c\u53ef\u4ee5\u6709\u6548\u51cf\u8f7b\u4e0a\u8ff0\u95ee\u9898\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5177\u6709\u660e\u663e\u4e14\u6613\u4e8e\u5b9e\u65bd\u7684\u6548\u679c\u3002\u5728\u63a8\u7406\u8fc7\u7a0b\u4e2d\uff0cRAG \u52a8\u6001\u5730\u4ece\u5916\u90e8\u77e5\u8bc6\u6e90\u4e2d\u68c0\u7d22\u4fe1\u606f\uff0c\u5e76\u5229\u7528\u8fd9\u4e9b\u68c0\u7d22\u5230\u7684\u6570\u636e\u4f5c\u4e3a\u7ec4\u7ec7\u7b54\u6848\u7684\u53c2\u8003\u3002\u8fd9\u6781\u5927\u5730\u63d0\u9ad8\u4e86\u7b54\u6848\u7684\u51c6\u786e\u6027\u548c\u76f8\u5173\u6027\uff0c\u6709\u6548\u5730\u89e3\u51b3\u4e86\u5927\u8bed\u8a00\u6a21\u578b\u4e2d\u7684\u5e7b\u89c9\u5f0f\u9519\u8bef\u95ee\u9898\u3002\u8fd9\u9879\u6280\u672f\u81ea\u5927\u8bed\u8a00\u6a21\u578b\u51fa\u73b0\u4ee5\u6765\u8fc5\u901f\u53d7\u5230\u5173\u6ce8\uff0c\u5df2\u6210\u4e3a\u63d0\u5347\u804a\u5929\u673a\u5668\u4eba\u6548\u80fd\u548c\u589e\u5f3a\u5927\u8bed\u8a00\u6a21\u578b\u5b9e\u7528\u6027\u7684\u524d\u6cbf\u6280\u672f\u4e4b\u4e00\u3002RAG \u901a\u8fc7\u5c06\u4e8b\u5b9e\u77e5\u8bc6\u4e0e\u5927\u8bed\u8a00\u6a21\u578b\u7684\u8bad\u7ec3\u53c2\u6570\u5206\u79bb\uff0c\u5de7\u5999\u5730\u7ed3\u5408\u4e86\u751f\u6210\u6a21\u578b\u7684\u5f3a\u5927\u529f\u80fd\u548c\u68c0\u7d22\u6a21\u5757\u7684\u7075\u6d3b\u6027\uff0c\u4e3a\u7eaf\u53c2\u6570\u5316\u6a21\u578b\u4e2d\u56fa\u6709\u7684\u77e5\u8bc6\u4e0d\u5b8c\u6574\u548c\u4e0d\u5145\u5206\u95ee\u9898\u63d0\u4f9b\u4e86\u6709\u6548\u7684\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#rag","title":"RAG\u7b97\u6cd5\u548c\u6a21\u578b\u7684\u53d1\u5c55","text":"<p>\u5c06 RAG \u5f15\u5165\u5927\u6a21\u578b\u7684\u4e0a\u4e0b\u6587\u5b66\u4e60 (In-Context Learning, ICL) \u4e2d\uff0c\u53ef\u4ee5\u6709\u6548\u51cf\u8f7b\u4e0a\u8ff0\u95ee\u9898\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5177\u6709\u660e\u663e\u4e14\u6613\u4e8e\u5b9e\u65bd\u7684\u6548\u679c\u3002\u5728\u63a8\u7406\u8fc7\u7a0b\u4e2d\uff0cRAG \u52a8\u6001\u5730\u4ece\u5916\u90e8\u77e5\u8bc6\u6e90\u4e2d\u68c0\u7d22\u4fe1\u606f\uff0c\u5e76\u5229\u7528\u8fd9\u4e9b\u68c0\u7d22\u5230\u7684\u6570\u636e\u4f5c\u4e3a\u7ec4\u7ec7\u7b54\u6848\u7684\u53c2\u8003\u3002\u8fd9\u6781\u5927\u5730\u63d0\u9ad8\u4e86\u7b54\u6848\u7684\u51c6\u786e\u6027\u548c\u76f8\u5173\u6027\uff0c\u6709\u6548\u5730\u89e3\u51b3\u4e86\u5927\u8bed\u8a00\u6a21\u578b\u4e2d\u7684\u5e7b\u89c9\u5f0f\u9519\u8bef\u95ee\u9898\u3002\u8fd9\u9879\u6280\u672f\u81ea\u5927\u8bed\u8a00\u6a21\u578b\u51fa\u73b0\u4ee5\u6765\u8fc5\u901f\u53d7\u5230\u5173\u6ce8\uff0c\u5df2\u6210\u4e3a\u63d0\u5347\u804a\u5929\u673a\u5668\u4eba\u6548\u80fd\u548c\u589e\u5f3a\u5927\u8bed\u8a00\u6a21\u578b\u5b9e\u7528\u6027\u7684\u524d\u6cbf\u6280\u672f\u4e4b\u4e00\u3002RAG \u901a\u8fc7\u5c06\u4e8b\u5b9e\u77e5\u8bc6\u4e0e\u5927\u8bed\u8a00\u6a21\u578b\u7684\u8bad\u7ec3\u53c2\u6570\u5206\u79bb\uff0c\u5de7\u5999\u5730\u7ed3\u5408\u4e86\u751f\u6210\u6a21\u578b\u7684\u5f3a\u5927\u529f\u80fd\u548c\u68c0\u7d22\u6a21\u5757\u7684\u7075\u6d3b\u6027\uff0c\u4e3a\u7eaf\u53c2\u6570\u5316\u6a21\u578b\u4e2d\u56fa\u6709\u7684\u77e5\u8bc6\u4e0d\u5b8c\u6574\u548c\u4e0d\u5145\u5206\u95ee\u9898\u63d0\u4f9b\u4e86\u6709\u6548\u7684\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#rag_1","title":"RAG\u80cc\u666f","text":"<p>\u5728\u5927\u8bed\u8a00\u6a21\u578b (Large Language Models) \u7684\u9886\u57df\u4e2d\uff0cRAG \u7279\u6307\u4e00\u79cd\u6a21\u5f0f\uff1a\u6a21\u578b\u5728\u56de\u7b54\u95ee\u9898\u6216\u751f\u6210\u6587\u672c\u65f6\uff0c\u9996\u5148\u4ece\u5e7f\u9614\u7684\u6587\u6863\u5e93\u4e2d\u5bfb\u627e\u76f8\u5173\u4fe1\u606f\u3002\u7136\u540e\uff0c\u6a21\u578b\u4f7f\u7528\u8fd9\u4e9b\u627e\u5230\u7684\u4fe1\u606f\u6765\u751f\u6210\u56de\u7b54\u6216\u6587\u672c\uff0c\u4ece\u800c\u63d0\u9ad8\u5176\u9884\u6d4b\u7684\u51c6\u786e\u5ea6\u3002RAG \u7684\u65b9\u6cd5\u4f7f\u5f97\u5f00\u53d1\u4eba\u5458\u65e0\u9700\u4e3a\u6bcf\u4e00\u4e2a\u7279\u5b9a\u4efb\u52a1\u91cd\u65b0\u8bad\u7ec3\u6574\u4e2a\u5e9e\u5927\u7684\u6a21\u578b\u3002\u4ed6\u4eec\u53ef\u4ee5\u7b80\u5355\u5730\u7ed9\u6a21\u578b\u52a0\u4e0a\u4e00\u4e2a\u77e5\u8bc6\u5e93\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u589e\u52a0\u6a21\u578b\u7684\u4fe1\u606f\u8f93\u5165\uff0c\u4ece\u800c\u63d0\u9ad8\u56de\u7b54\u7684\u7cbe\u786e\u6027\u3002</p> <p>RAG\u7684\u4e24\u4e2a\u9636\u6bb5</p> <ol> <li>\u4f7f\u7528\u7f16\u7801\u6a21\u578b\u6839\u636e\u95ee\u9898\u627e\u5230\u76f8\u5173\u7684\u6587\u6863</li> <li>\u751f\u6210\u9636\u6bb5\uff1a\u4ee5\u627e\u5230\u7684\u4e0a\u4e0b\u6587\u4e3a\u57fa\u7840\uff0c\u751f\u6210\u6587\u672c</li> </ol>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#rag_2","title":"RAG\u548c\u5fae\u8c03\u7684\u5bf9\u6bd4","text":"<p>RAG \u548c\u5fae\u8c03\u53ef\u4ee5\u76f8\u4e92\u8865\u5145\uff0c\u800c\u975e\u76f8\u4e92\u6392\u65a5\uff0c\u4ece\u800c\u5728\u4e0d\u540c\u5c42\u6b21\u4e0a\u589e\u5f3a\u6a21\u578b\u7684\u80fd\u529b\u3002</p> <p>\u8868 1: RAG \u4e0e\u5fae\u8c03\u4e4b\u95f4\u7684\u5bf9\u6bd4</p> \u7279\u5f81\u6bd4\u8f83 RAG \u5fae\u8c03 (Fine-tuning) \u77e5\u8bc6\u66f4\u65b0 \u76f4\u63a5\u66f4\u65b0\u68c0\u7d22\u77e5\u8bc6\u5e93\uff0c\u786e\u4fdd\u4fe1\u606f\u6301\u7eed\u66f4\u65b0\uff0c\u65e0\u9700\u9891\u7e41\u91cd\u65b0\u8bad\u7ec3\uff0c\u975e\u5e38\u9002\u5408\u52a8\u6001\u53d8\u5316\u7684\u6570\u636e\u73af\u5883\u3002 \u5b58\u50a8\u9759\u6001\u6570\u636e\uff0c\u5bf9\u4e8e\u77e5\u8bc6\u548c\u6570\u636e\u7684\u66f4\u65b0\u9700\u8981\u91cd\u65b0\u8bad\u7ec3\u3002 \u5916\u90e8\u77e5\u8bc6 \u64c5\u957f\u5229\u7528\u5916\u90e8\u8d44\u6e90\uff0c\u7279\u522b\u9002\u5408\u5904\u7406\u6587\u6863\u6216\u5176\u4ed6\u7ed3\u6784\u5316/\u975e\u7ed3\u6784\u5316\u6570\u636e\u5e93\u3002 \u53ef\u7528\u4e8e\u5c06\u9884\u8bad\u7ec3\u4e2d\u5916\u90e8\u5b66\u4e60\u5230\u7684\u77e5\u8bc6\u4e0e\u5927\u578b\u8bed\u8a00\u6a21\u578b\u4fdd\u6301\u4e00\u81f4\uff0c\u4f46\u5bf9\u4e8e\u9891\u7e41\u53d8\u5316\u7684\u6570\u636e\u6e90\u53ef\u80fd\u4e0d\u592a\u5b9e\u7528\u3002 \u6570\u636e\u5904\u7406 \u5bf9\u6570\u636e\u7684\u5904\u7406\u548c\u64cd\u4f5c\u8981\u6c42\u6781\u4f4e\u3002 \u4f9d\u8d56\u4e8e\u6784\u5efa\u9ad8\u8d28\u91cf\u7684\u6570\u636e\u96c6\uff0c\u6709\u9650\u7684\u6570\u636e\u96c6\u53ef\u80fd\u65e0\u6cd5\u663e\u8457\u63d0\u9ad8\u6027\u80fd\u3002 \u6a21\u578b\u5b9a\u5236 \u4fa7\u91cd\u4e8e\u4fe1\u606f\u68c0\u7d22\u548c\u878d\u5408\u5916\u90e8\u77e5\u8bc6\uff0c\u4f46\u53ef\u80fd\u65e0\u6cd5\u5145\u5206\u5b9a\u5236\u6a21\u578b\u884c\u4e3a\u6216\u5199\u4f5c\u98ce\u683c\u3002 \u5141\u8bb8\u6839\u636e\u7279\u5b9a\u98ce\u683c\u6216\u672f\u8bed\u8c03\u6574 LLM \u884c\u4e3a\u3001\u5199\u4f5c\u98ce\u683c\u6216\u7279\u5b9a\u9886\u57df\u77e5\u8bc6\u3002 \u53ef\u89e3\u91ca\u6027 \u7b54\u6848\u80fd\u591f\u8ffd\u6eaf\u5230\u5177\u4f53\u7684\u6570\u636e\u6765\u6e90\uff0c\u63d0\u4f9b\u66f4\u9ad8\u7684\u53ef\u89e3\u91ca\u6027\u548c\u53ef\u8ffd\u8e2a\u6027\u3002 \u5c31\u50cf\u4e00\u4e2a\u9ed1\u76d2\u5b50\uff0c\u5e76\u4e0d\u603b\u662f\u6e05\u695a\u6a21\u578b\u4e3a\u4ec0\u4e48\u4f1a\u505a\u51fa\u67d0\u79cd\u53cd\u5e94\uff0c\u53ef\u89e3\u91ca\u6027\u76f8\u5bf9\u8f83\u4f4e\u3002 \u8ba1\u7b97\u8d44\u6e90 \u9700\u8981\u8ba1\u7b97\u8d44\u6e90\u6765\u652f\u6301\u68c0\u7d22\u7b56\u7565\u548c\u6570\u636e\u5e93\u76f8\u5173\u6280\u672f\u3002\u5916\u90e8\u6570\u636e\u6e90\u7684\u6574\u5408\u548c\u66f4\u65b0\u9700\u4fdd\u6301\u7ef4\u62a4\u3002 \u6709\u5fc5\u8981\u51c6\u5907\u548c\u6574\u7406\u9ad8\u8d28\u91cf\u7684\u8bad\u7ec3\u6570\u636e\u96c6\uff0c\u786e\u5b9a\u5fae\u8c03\u76ee\u6807\uff0c\u5e76\u63d0\u4f9b\u76f8\u5e94\u7684\u8ba1\u7b97\u8d44\u6e90\u3002 \u5ef6\u8fdf\u8981\u6c42 \u56e0\u6d89\u53ca\u6570\u636e\u68c0\u7d22\uff0c\u53ef\u80fd\u5e26\u6765\u8f83\u9ad8\u7684\u5ef6\u8fdf\u3002 \u7ecf\u8fc7\u5fae\u8c03\u7684\u5927\u8bed\u8a00\u6a21\u578b (LLM) \u53ef\u4ee5\u4e0d\u901a\u8fc7\u68c0\u7d22\u76f4\u63a5\u56de\u5e94\uff0c\u964d\u4f4e\u5ef6\u8fdf\u3002 \u964d\u4f4e\u5e7b\u89c9 \u7531\u4e8e\u6bcf\u4e2a\u56de\u7b54\u90fd\u57fa\u4e8e\u68c0\u7d22\u5230\u7684\u5b9e\u9645\u8bc1\u636e\uff0c\u56e0\u6b64\u672c\u8d28\u4e0a\u66f4\u4e0d\u5bb9\u6613\u4ea7\u751f\u9519\u8bef\u6216\u865a\u6784\u7684\u56de\u7b54\u3002 \u6839\u636e\u7279\u5b9a\u9886\u57df\u7684\u6570\u636e\u8bad\u7ec3\u6a21\u578b\uff0c\u6709\u52a9\u4e8e\u51cf\u5c11\u5e7b\u89c9\uff0c\u4f46\u9762\u5bf9\u672a\u8bad\u7ec3\u8fc7\u7684\u8f93\u5165\u65f6\u4ecd\u53ef\u80fd\u51fa\u73b0\u5e7b\u89c9\u3002 \u4f26\u7406\u548c\u9690\u79c1\u95ee\u9898 \u4ece\u5916\u90e8\u6570\u636e\u5e93\u5b58\u50a8\u548c\u68c0\u7d22\u6587\u672c\u53ef\u80fd\u5f15\u8d77\u4f26\u7406\u548c\u9690\u79c1\u65b9\u9762\u7684\u62c5\u5fe7 \u8bad\u7ec3\u6570\u636e\u4e2d\u7684\u654f\u611f\u5185\u5bb9\u53ef\u80fd\u4f1a\u5f15\u8d77\u4f26\u7406\u548c\u9690\u79c1\u65b9\u9762\u7684\u95ee\u9898\u3002"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#rag_3","title":"RAG\u6846\u67b6","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#naive_rag","title":"Naive RAG","text":"<p>\u539f\u59cb RAG \u7684\u6d41\u7a0b\u5305\u62ec\u4f20\u7edf\u7684\u7d22\u5f15\u3001\u68c0\u7d22\u548c\u751f\u6210\u6b65\u9aa4\u3002\u539f\u59cb RAG \u4e5f\u88ab\u6982\u62ec\u4e3a\u4e00\u4e2a\u201c\u68c0\u7d22\u201d - \u201c\u9605\u8bfb\u201d\u6846\u67b6 \u3002</p> <p>\u7d22\u5f15</p> <p>\u6307\u7684\u662f\u5728\u79bb\u7ebf\u72b6\u6001\u4e0b\uff0c\u4ece\u6570\u636e\u6765\u6e90\u5904\u83b7\u53d6\u6570\u636e\u5e76\u5efa\u7acb\u7d22\u5f15\u7684\u8fc7\u7a0b\u3002\u5177\u4f53\u800c\u8a00\uff0c\u6784\u5efa\u6570\u636e\u7d22\u5f15\u5305\u62ec\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u6570\u636e\u7d22\u5f15\uff1a \u5305\u62ec\u6e05\u7406\u548c\u63d0\u53d6\u539f\u59cb\u6570\u636e\uff0c\u5c06 PDF\u3001HTML\u3001Word\u3001Markdown \u7b49\u4e0d\u540c\u683c\u5f0f\u7684\u6587\u4ef6\u8f6c\u6362\u6210\u7eaf\u6587\u672c\u3002</li> <li>\u5206\u5757\uff1a \u5c06\u52a0\u8f7d\u7684\u6587\u672c\u5206\u5272\u6210\u66f4\u5c0f\u7684\u7247\u6bb5\u3002\u7531\u4e8e\u8bed\u8a00\u6a21\u578b\u5904\u7406\u4e0a\u4e0b\u6587\u7684\u80fd\u529b\u6709\u9650\uff0c\u56e0\u6b64\u9700\u8981\u5c06\u6587\u672c\u5212\u5206\u4e3a\u5c3d\u53ef\u80fd\u5c0f\u7684\u5757\u3002</li> <li>\u5d4c\u5165\u548c\u521b\u5efa\u7d22\u5f15\uff1a \u8fd9\u4e00\u9636\u6bb5\u6d89\u53ca\u901a\u8fc7\u8bed\u8a00\u6a21\u578b\u5c06\u6587\u672c\u7f16\u7801\u4e3a\u5411\u91cf\u7684\u8fc7\u7a0b\u3002\u6240\u4ea7\u751f\u7684\u5411\u91cf\u5c06\u5728\u540e\u7eed\u7684\u68c0\u7d22\u8fc7\u7a0b\u4e2d\u7528\u6765\u8ba1\u7b97\u5176\u4e0e\u95ee\u9898\u5411\u91cf\u4e4b\u95f4\u7684\u76f8\u4f3c\u5ea6\u3002\u7531\u4e8e\u9700\u8981\u5bf9\u5927\u91cf\u6587\u672c\u8fdb\u884c\u7f16\u7801\uff0c\u5e76\u5728\u7528\u6237\u63d0\u95ee\u65f6\u5b9e\u65f6\u7f16\u7801\u95ee\u9898\uff0c\u56e0\u6b64\u5d4c\u5165\u6a21\u578b\u8981\u6c42\u5177\u6709\u9ad8\u901f\u7684\u63a8\u7406\u80fd\u529b\uff0c\u540c\u65f6\u6a21\u578b\u7684\u53c2\u6570\u89c4\u6a21\u4e0d\u5b9c\u8fc7\u5927\u3002\u5b8c\u6210\u5d4c\u5165\u4e4b\u540e\uff0c\u4e0b\u4e00\u6b65\u662f\u521b\u5efa\u7d22\u5f15\uff0c\u5c06\u539f\u59cb\u8bed\u6599\u5757\u548c\u5d4c\u5165\u4ee5\u952e\u503c\u5bf9\u5f62\u5f0f\u5b58\u50a8\uff0c\u4ee5\u4fbf\u4e8e\u672a\u6765\u8fdb\u884c\u5feb\u901f\u4e14\u9891\u7e41\u7684\u641c\u7d22\u3002</li> </ol> <p>\u68c0\u7d22\uff1a</p> <p>\u6839\u636e\u7528\u6237\u7684\u8f93\u5165\uff0c\u91c7\u7528\u4e0e\u7b2c\u4e00\u9636\u6bb5\u76f8\u540c\u7684\u7f16\u7801\u6a21\u578b\u5c06\u67e5\u8be2\u5185\u5bb9\u8f6c\u6362\u4e3a\u5411\u91cf\u3002\u7cfb\u7edf\u4f1a\u8ba1\u7b97\u95ee\u9898\u5411\u91cf\u4e0e\u8bed\u6599\u5e93\u4e2d\u6587\u6863\u5757\u5411\u91cf\u4e4b\u95f4\u7684\u76f8\u4f3c\u6027\uff0c\u5e76\u6839\u636e\u76f8\u4f3c\u5ea6\u6c34\u5e73\u9009\u51fa\u6700\u76f8\u5173\u7684\u524d K \u4e2a\u6587\u6863\u5757\u4f5c\u4e3a\u5f53\u524d\u95ee\u9898\u7684\u8865\u5145\u80cc\u666f\u4fe1\u606f\u3002</p> <p>\u751f\u6210\uff1a</p> <p>\u5c06\u7ed9\u5b9a\u7684\u95ee\u9898\u4e0e\u76f8\u5173\u6587\u6863\u5408\u5e76\u4e3a\u4e00\u4e2a\u65b0\u7684\u63d0\u793a\u4fe1\u606f\u3002\u968f\u540e\uff0c\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u88ab\u8d4b\u4e88\u6839\u636e\u63d0\u4f9b\u7684\u4fe1\u606f\u6765\u56de\u7b54\u95ee\u9898\u7684\u4efb\u52a1\u3002\u6839\u636e\u4e0d\u540c\u4efb\u52a1\u7684\u9700\u6c42\uff0c\u53ef\u4ee5\u9009\u62e9\u8ba9\u6a21\u578b\u4f9d\u8d56\u81ea\u8eab\u7684\u77e5\u8bc6\u5e93\u6216\u4ec5\u57fa\u4e8e\u7ed9\u5b9a\u4fe1\u606f\u6765\u56de\u7b54\u95ee\u9898\u3002\u5982\u679c\u5b58\u5728\u5386\u53f2\u5bf9\u8bdd\u4fe1\u606f\uff0c\u4e5f\u53ef\u4ee5\u5c06\u5176\u878d\u5165\u63d0\u793a\u4fe1\u606f\u4e2d\uff0c\u4ee5\u652f\u6301\u591a\u8f6e\u5bf9\u8bdd\u3002</p> <p>Naive RAG \u7684\u6311\u6218\uff1a</p> <p>Naive RAG \u4e3b\u8981\u5728\u4e09\u4e2a\u65b9\u9762\u9762\u4e34\u6311\u6218\uff1a\u68c0\u7d22\u8d28\u91cf\u3001\u56de\u5e94\u751f\u6210\u8d28\u91cf\u548c\u589e\u5f3a\u8fc7\u7a0b\u3002</p> <ul> <li>\u68c0\u7d22\u8d28\u91cf\uff1a <ul> <li>\u6700\u4e3b\u8981\u7684\u95ee\u9898\u662f\u4f4e\u7cbe\u5ea6\uff0c\u5373\u68c0\u7d22\u96c6\u4e2d\u7684\u6587\u6863\u5757\u5e76\u4e0d\u90fd\u4e0e\u67e5\u8be2\u5185\u5bb9\u76f8\u5173\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u4fe1\u606f\u9519\u8bef\u6216\u4e0d\u8fde\u8d2f\u3002</li> <li>\u5176\u6b21\u662f\u4f4e\u53ec\u56de\u7387\u95ee\u9898\uff0c\u5373\u672a\u80fd\u68c0\u7d22\u5230\u6240\u6709\u76f8\u5173\u7684\u6587\u6863\u5757\uff0c\u4f7f\u5f97\u5927\u8bed\u8a00\u6a21\u578b\u65e0\u6cd5\u83b7\u53d6\u8db3\u591f\u7684\u80cc\u666f\u4fe1\u606f\u6765\u5408\u6210\u7b54\u6848\u3002</li> <li>\u6b64\u5916\uff0c\u6570\u636e\u5197\u4f59\u6216\u8fc7\u65f6\u53ef\u80fd\u5bfc\u81f4\u68c0\u7d22\u7ed3\u679c\u4e0d\u51c6\u786e\u3002</li> </ul> </li> <li>\u56de\u5e94\u751f\u6210\u8d28\u91cf\uff1a <ul> <li>\u5236\u9020\u9519\u8bef\u4fe1\u606f\uff0c\u5373\u6a21\u578b\u5728\u7f3a\u4e4f\u8db3\u591f\u4e0a\u4e0b\u6587\u7684\u60c5\u51b5\u4e0b\u865a\u6784\u7b54\u6848\u3002</li> <li>\u56de\u7b54\u4e0d\u76f8\u5173\uff0c\u5373\u6a21\u578b\u751f\u6210\u7684\u7b54\u6848\u672a\u80fd\u9488\u5bf9\u67e5\u8be2\u95ee\u9898\u3002</li> <li>\u751f\u6210\u6709\u5bb3\u6216\u504f\u89c1\u6027\u56de\u5e94\u3002</li> </ul> </li> <li>\u589e\u5f3a\u8fc7\u7a0b\uff1a <ul> <li>\u5982\u4f55\u5c06\u68c0\u7d22\u5230\u7684\u6587\u6bb5\u7684\u4e0a\u4e0b\u6587\u6709\u6548\u878d\u5165\u5f53\u524d\u7684\u751f\u6210\u4efb\u52a1\u3002\u5982\u679c\u5904\u7406\u4e0d\u5f97\u5f53\uff0c\u751f\u6210\u7684\u5185\u5bb9\u53ef\u80fd\u663e\u5f97\u6742\u4e71\u65e0\u7ae0\u3002</li> <li>\u5f53\u591a\u4e2a\u68c0\u7d22\u5230\u7684\u6587\u6bb5\u5305\u542b\u76f8\u4f3c\u4fe1\u606f\u65f6\uff0c\u5197\u4f59\u548c\u91cd\u590d\u6210\u4e3a\u95ee\u9898\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u751f\u6210\u5185\u5bb9\u7684\u91cd\u590d\u3002</li> <li>\u5982\u4f55\u5224\u65ad\u591a\u4e2a\u68c0\u7d22\u5230\u7684\u6587\u6bb5\u5bf9\u751f\u6210\u4efb\u52a1\u7684\u91cd\u8981\u6027\u6216\u76f8\u5173\u6027\uff0c\u589e\u5f3a\u8fc7\u7a0b\u9700\u8981\u6070\u5f53\u5730\u8bc4\u4f30\u6bcf\u4e2a\u6587\u6bb5\u7684\u4ef7\u503c\u3002</li> <li>\u68c0\u7d22\u5230\u7684\u5185\u5bb9\u53ef\u80fd\u5177\u6709\u4e0d\u540c\u7684\u5199\u4f5c\u98ce\u683c\u6216\u8bed\u8c03\uff0c\u589e\u5f3a\u8fc7\u7a0b\u9700\u8c03\u548c\u8fd9\u4e9b\u5dee\u5f02\uff0c\u4ee5\u786e\u4fdd\u6700\u7ec8\u8f93\u51fa\u7684\u4e00\u81f4\u6027\u3002</li> <li>\u751f\u6210\u6a21\u578b\u53ef\u80fd\u4f1a\u8fc7\u5ea6\u4f9d\u8d56\u4e8e\u589e\u5f3a\u4fe1\u606f\uff0c\u5bfc\u81f4\u751f\u6210\u7684\u5185\u5bb9\u4ec5\u662f\u91cd\u590d\u68c0\u7d22\u5230\u7684\u4fe1\u606f\uff0c\u800c\u7f3a\u4e4f\u65b0\u7684\u4ef7\u503c\u6216\u7efc\u5408\u4fe1\u606f\u3002</li> </ul> </li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#rag_4","title":"\u9ad8\u7ea7 RAG","text":"<p>\u4e3a\u4e86\u514b\u670d Naive RAG \u7684\u5c40\u9650\u6027\uff0c\u9ad8\u7ea7 RAG \u8fdb\u884c\u4e86\u9488\u5bf9\u6027\u7684\u6539\u8fdb\u3002\u5728\u68c0\u7d22\u751f\u6210\u8d28\u91cf\u65b9\u9762\uff0c\u9ad8\u7ea7 RAG \u5f15\u5165\u4e86\u9884\u68c0\u7d22\u548c\u540e\u68c0\u7d22\u7684\u65b9\u6cd5\u3002\u5b83\u8fd8\u901a\u8fc7\u6ed1\u52a8\u7a97\u53e3\u3001\u7ec6\u7c92\u5ea6\u5206\u5272\u548c\u5143\u6570\u636e\u7b49\u624b\u6bb5\u4f18\u5316\u4e86\u7d22\u5f15\uff0c\u4ee5\u89e3\u51b3 Naive RAG \u6240\u9047\u5230\u7684\u7d22\u5f15\u95ee\u9898\u3002\u540c\u65f6\uff0c\u9ad8\u7ea7 RAG \u4e5f\u63d0\u51fa\u4e86\u591a\u79cd\u4f18\u5316\u68c0\u7d22\u6d41\u7a0b\u7684\u65b9\u6cd5\u3002\u5728\u5177\u4f53\u5b9e\u65bd\u4e0a\uff0c\u9ad8\u7ea7 RAG \u53ef\u4ee5\u901a\u8fc7\u6d41\u6c34\u7ebf\u65b9\u5f0f\u6216\u7aef\u5230\u7aef\u7684\u65b9\u5f0f\u8fdb\u884c\u8c03\u6574\u3002</p> <p>\u9884\u68c0\u7d22\u5904\u7406</p> <ul> <li>\u4f18\u5316\u6570\u636e\u7d22\u5f15 \u4f18\u5316\u6570\u636e\u7d22\u5f15\u65e8\u5728\u63d0\u9ad8\u7d22\u5f15\u5185\u5bb9\u7684\u8d28\u91cf\u3002\u76ee\u524d\u4e3b\u8981\u91c7\u7528\u4e94\u79cd\u7b56\u7565\uff1a\u63d0\u5347\u7d22\u5f15\u6570\u636e\u7c92\u5ea6\u3001\u4f18\u5316\u7d22\u5f15\u7ed3\u6784\u3001\u589e\u52a0\u5143\u6570\u636e\u3001\u5bf9\u9f50\u4f18\u5316\u4ee5\u53ca\u6df7\u5408\u68c0\u7d22\u3002<ol> <li>\u63d0\u5347\u6570\u636e\u7c92\u5ea6\uff1a \u5728\u7d22\u5f15\u524d\u7684\u4f18\u5316\u662f\u4e3a\u4e86\u6539\u8fdb\u6587\u672c\u7684\u6807\u51c6\u5316\u548c\u4e00\u81f4\u6027\uff0c\u786e\u4fdd\u4e8b\u5b9e\u51c6\u786e\u548c\u4e0a\u4e0b\u6587\u4e30\u5bcc\uff0c\u4ece\u800c\u4fdd\u969c RAG \u7cfb\u7edf\u7684\u8868\u73b0\u3002<ul> <li>\u6587\u672c\u6807\u51c6\u5316\u610f\u5728\u5254\u9664\u65e0\u5173\u4fe1\u606f\u548c\u7279\u6b8a\u5b57\u7b26\uff0c\u63d0\u5347\u68c0\u7d22\u6548\u7387\u3002</li> <li>\u5728\u786e\u4fdd\u4e00\u81f4\u6027\u65b9\u9762\uff0c\u4e3b\u8981\u662f\u6d88\u9664\u672f\u8bed\u548c\u5b9e\u4f53\u7684\u6b67\u4e49\uff0c\u5254\u9664\u91cd\u590d\u6216\u5197\u4f59\u4fe1\u606f\uff0c\u7b80\u5316\u68c0\u7d22\u8fc7\u7a0b\u3002</li> <li>\u4e8b\u5b9e\u7684\u51c6\u786e\u6027\u81f3\u5173\u91cd\u8981\uff0c\u5e94\u5c3d\u53ef\u80fd\u9a8c\u8bc1\u6bcf\u9879\u6570\u636e\u3002</li> <li>\u5728\u4fdd\u6301\u4e0a\u4e0b\u6587\u65b9\u9762\uff0c\u901a\u8fc7\u6dfb\u52a0\u7279\u5b9a\u9886\u57df\u7684\u6ce8\u91ca\u548c\u7528\u6237\u53cd\u9988\u5faa\u73af\u4e0d\u65ad\u66f4\u65b0\uff0c\u4f7f\u7cfb\u7edf\u9002\u5e94\u73b0\u5b9e\u4e16\u754c\u7684\u4ea4\u4e92\u4e0a\u4e0b\u6587\u3002</li> <li>\u8003\u8651\u65f6\u95f4\u654f\u611f\u6027\uff0c\u5e94\u66f4\u65b0\u8fc7\u65f6\u6587\u6863\u3002</li> </ul> </li> <li>\u4f18\u5316\u7d22\u5f15\u7ed3\u6784\uff1a \u901a\u8fc7\u8c03\u6574\u6570\u636e\u5757\u5927\u5c0f\u3001\u6539\u53d8\u7d22\u5f15\u8def\u5f84\u548c\u52a0\u5165\u56fe\u7ed3\u6784\u4fe1\u606f\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e00\u76ee\u6807\u3002\u8c03\u6574\u6570\u636e\u5757\u5927\u5c0f\u7684\u65b9\u6cd5\u662f\u5c3d\u53ef\u80fd\u591a\u5730\u6536\u96c6\u76f8\u5173\u4e0a\u4e0b\u6587\uff0c\u540c\u65f6\u5c3d\u91cf\u51cf\u5c11\u5e72\u6270\u3002\u5728\u6784\u5efa RAG \u7cfb\u7edf\u65f6\uff0c\u5757\u5927\u5c0f\u662f\u5173\u952e\u53c2\u6570\u3002\u4e0d\u540c\u7684\u8bc4\u4f30\u6846\u67b6\u7528\u4e8e\u6bd4\u8f83\u4e0d\u540c\u5757\u7684\u5927\u5c0f\u3002LlamaIndex \u5229\u7528 GPT4 \u8bc4\u4f30\u6570\u636e\u7684\u4fdd\u771f\u5ea6\u548c\u76f8\u5173\u6027\uff0cLLaMA[Touvron et al., 2023] \u7d22\u5f15\u80fd\u81ea\u52a8\u8bc4\u4f30\u4e0d\u540c\u5757\u5316\u65b9\u6cd5\u7684\u6548\u679c\u3002\u8de8\u591a\u4e2a\u7d22\u5f15\u8def\u5f84\u67e5\u8be2\u4e0e\u4e4b\u524d\u7684\u5143\u6570\u636e\u8fc7\u6ee4\u548c\u5757\u5316\u65b9\u6cd5\u7d27\u5bc6\u76f8\u5173\uff0c\u53ef\u80fd\u6d89\u53ca\u540c\u65f6\u5728\u4e0d\u540c\u7d22\u5f15\u4e2d\u8fdb\u884c\u67e5\u8be2\u3002\u6807\u51c6\u7d22\u5f15\u53ef\u7528\u4e8e\u7279\u5b9a\u67e5\u8be2\uff0c\u6216\u4f7f\u7528\u72ec\u7acb\u7d22\u5f15\u57fa\u4e8e\u5143\u6570\u636e\u5173\u952e\u8bcd\uff08\u5982\u201c\u65e5\u671f\u201d\u7d22\u5f15\uff09\u8fdb\u884c\u641c\u7d22\u6216\u8fc7\u6ee4\u3002\u5f15\u5165\u56fe\u7ed3\u6784\u662f\u5c06\u5b9e\u4f53\u8f6c\u5316\u4e3a\u8282\u70b9\uff0c\u5c06\u5b83\u4eec\u4e4b\u95f4\u7684\u5173\u7cfb\u8f6c\u5316\u4e3a\u5173\u8054\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u5229\u7528\u8282\u70b9\u95f4\u7684\u5173\u7cfb\u6765\u63d0\u9ad8\u5bf9\u591a\u8df3\u95ee\u9898\u7684\u51c6\u786e\u6027\u3002\u4f7f\u7528\u56fe\u6570\u636e\u7d22\u5f15\u80fd\u63d0\u9ad8\u68c0\u7d22\u7684\u76f8\u5173\u6027\u3002</li> <li>\u6dfb\u52a0\u5143\u6570\u636e\u4fe1\u606f\uff1a \u8fd9\u4e00\u7b56\u7565\u7684\u6838\u5fc3\u662f\u5c06\u5f15\u7528\u7684\u5143\u6570\u636e\uff0c\u5982\u65e5\u671f\u548c\u7528\u9014\uff08\u7528\u4e8e\u7b5b\u9009\uff09\u7b49\uff0c\u5d4c\u5165\u5230\u6570\u636e\u5757\u4e2d\u3002\u6dfb\u52a0\u5982\u7ae0\u8282\u548c\u5f15\u7528\u5c0f\u8282\u7b49\u5143\u6570\u636e\uff0c\u5bf9\u4e8e\u63d0\u5347\u68c0\u7d22\u6548\u7387\u662f\u6709\u76ca\u7684\u3002\u5f53\u7d22\u5f15\u88ab\u5206\u5272\u6210\u591a\u4e2a\u5757\u65f6\uff0c\u5982\u4f55\u9ad8\u6548\u68c0\u7d22\u4fbf\u6210\u4e3a\u5173\u952e\u3002\u901a\u8fc7\u5143\u6570\u636e\u8fdb\u884c\u521d\u6b65\u7b5b\u9009\u53ef\u4ee5\u63d0\u9ad8\u68c0\u7d22\u7684\u6548\u7387\u548c\u51c6\u786e\u6027\u3002</li> <li>\u5bf9\u9f50\u4f18\u5316\uff1a \u8be5\u7b56\u7565\u4e3b\u8981\u9488\u5bf9\u4e0d\u540c\u6587\u6863\u4e4b\u95f4\u7684\u5bf9\u9f50\u95ee\u9898\u548c\u5dee\u5f02\u3002\u5bf9\u9f50\u7684\u6838\u5fc3\u601d\u60f3\u662f\u5f15\u5165\u201c\u5047\u8bbe\u6027\u95ee\u9898\u201d\uff0c\u5373\u521b\u5efa\u9002\u5408\u7528\u6bcf\u7bc7\u6587\u6863\u56de\u7b54\u7684\u95ee\u9898\uff0c\u5e76\u5c06\u8fd9\u4e9b\u95ee\u9898\u4e0e\u6587\u6863\u7ed3\u5408\u8d77\u6765\u3002\u8fd9\u79cd\u505a\u6cd5\u6709\u52a9\u4e8e\u89e3\u51b3\u6587\u6863\u95f4\u7684\u5bf9\u9f50\u95ee\u9898\u548c\u4e0d\u4e00\u81f4\u6027\u3002</li> <li>\u6df7\u5408\u68c0\u7d22\uff1a \u6df7\u5408\u68c0\u7d22\u7684\u4f18\u52bf\u5728\u4e8e\u5b83\u7ed3\u5408\u4e86\u4e0d\u540c\u68c0\u7d22\u6280\u672f\u7684\u957f\u5904\u3002\u5b83\u667a\u80fd\u5730\u878d\u5408\u4e86\u5173\u952e\u8bcd\u641c\u7d22\u3001\u8bed\u4e49\u641c\u7d22\u548c\u5411\u91cf\u641c\u7d22\u7b49\u591a\u79cd\u6280\u672f\uff0c\u9002\u5e94\u4e0d\u540c\u7c7b\u578b\u7684\u67e5\u8be2\u9700\u6c42\uff0c\u786e\u4fdd\u80fd\u591f\u4e00\u81f4\u5730\u68c0\u7d22\u5230\u6700\u76f8\u5173\u548c\u5185\u5bb9\u4e30\u5bcc\u7684\u4fe1\u606f\u3002\u6df7\u5408\u68c0\u7d22\u4f5c\u4e3a\u68c0\u7d22\u7b56\u7565\u7684\u91cd\u8981\u8865\u5145\uff0c\u80fd\u591f\u663e\u8457\u63d0\u5347 RAG \u6d41\u7a0b\u7684\u6574\u4f53\u6027\u80fd\u3002</li> </ol> </li> </ul> <p>\u5d4c\u5165 (Embedding)</p> <ul> <li>\u5fae\u8c03\u5d4c\u5165\uff1a \u5fae\u8c03\u5d4c\u5165\u6a21\u578b\u7684\u8c03\u6574\u76f4\u63a5\u5f71\u54cd\u5230 RAG \u7684\u6709\u6548\u6027\u3002\u5fae\u8c03\u7684\u76ee\u7684\u662f\u8ba9\u68c0\u7d22\u5230\u7684\u5185\u5bb9\u4e0e\u67e5\u8be2\u4e4b\u95f4\u7684\u76f8\u5173\u6027\u66f4\u52a0\u7d27\u5bc6\u3002\u5fae\u8c03\u5d4c\u5165\u7684\u4f5c\u7528\u53ef\u4ee5\u6bd4\u4f5c\u5728\u8bed\u97f3\u751f\u6210\u524d\u5bf9\u201c\u542c\u89c9\u201d\u8fdb\u884c\u8c03\u6574\uff0c\u4f18\u5316\u68c0\u7d22\u5185\u5bb9\u5bf9\u6700\u7ec8\u8f93\u51fa\u7684\u5f71\u54cd\u3002\u901a\u5e38\uff0c\u5fae\u8c03\u5d4c\u5165\u7684\u65b9\u6cd5\u53ef\u4ee5\u5206\u4e3a\u9488\u5bf9\u7279\u5b9a\u9886\u57df\u4e0a\u4e0b\u6587\u7684\u5d4c\u5165\u8c03\u6574\u548c\u68c0\u7d22\u6b65\u9aa4\u7684\u4f18\u5316\u3002\u7279\u522b\u662f\u5728\u5904\u7406\u4e0d\u65ad\u53d8\u5316\u6216\u7f55\u89c1\u672f\u8bed\u7684\u4e13\u4e1a\u9886\u57df\uff0c\u8fd9\u4e9b\u5b9a\u5236\u5316\u7684\u5d4c\u5165\u65b9\u6cd5\u80fd\u591f\u663e\u8457\u63d0\u9ad8\u68c0\u7d22\u7684\u76f8\u5173\u6027\u3002BGE[BAAI, 2023]\u5d4c\u5165\u6a21\u578b\u662f\u4e00\u4e2a\u7ecf\u8fc7\u5fae\u8c03\u7684\u9ad8\u6027\u80fd\u5d4c\u5165\u6a21\u578b\uff0c\u4f8b\u5982\u7531 BAAI 3 \u5f00\u53d1\u7684 BGE-large-EN\u3002\u4e3a\u4e86\u5bf9 BGE \u6a21\u578b\u8fdb\u884c\u5fae\u8c03\uff0c\u9996\u5148\u4f7f\u7528\u8bf8\u5982 gpt-3.5-turbo \u8fd9\u6837\u7684\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u6839\u636e\u6587\u6863\u5757\u5236\u5b9a\u95ee\u9898\uff0c\u5176\u4e2d\u95ee\u9898\u548c\u7b54\u6848\uff08\u6587\u6863\u5757\uff09\u6784\u6210\u4e86\u5fae\u8c03\u8fc7\u7a0b\u4e2d\u7684\u8bad\u7ec3\u5bf9\u3002</li> <li>\u52a8\u6001\u5d4c\u5165\uff08Dynamic Embedding\uff09\uff1a\u4e0d\u540c\u4e8e\u9759\u6001\u5d4c\u5165\uff08static embedding\uff09\uff0c\u52a8\u6001\u5d4c\u5165\u6839\u636e\u5355\u8bcd\u51fa\u73b0\u7684\u4e0a\u4e0b\u6587\u8fdb\u884c\u8c03\u6574\uff0c\u4e3a\u6bcf\u4e2a\u5355\u8bcd\u63d0\u4f9b\u4e0d\u540c\u7684\u5411\u91cf\u8868\u793a\u3002\u4f8b\u5982\uff0c\u5728 Transformer \u6a21\u578b\uff08\u5982 BERT\uff09\u4e2d\uff0c\u540c\u4e00\u5355\u8bcd\u6839\u636e\u5468\u56f4\u8bcd\u6c47\u7684\u4e0d\u540c\uff0c\u5176\u5d4c\u5165\u4e5f\u4f1a\u6709\u6240\u53d8\u5316\u3002\u7814\u7a76\u53d1\u73b0\uff0c\u5728 OpenAI \u7684 text-embeddingada-002 \u6a21\u578b\u4e2d\uff0c\u6587\u672c\u957f\u5ea6\u5c0f\u4e8e 5 \u4e2a Token \u65f6\uff0c\u5e38\u51fa\u73b0\u610f\u5916\u9ad8\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\u3002\u7406\u60f3\u7684\u5d4c\u5165\u5e94\u8be5\u5305\u542b\u8db3\u591f\u7684\u4e0a\u4e0b\u6587\uff0c\u4ee5\u4fdd\u8bc1\u826f\u597d\u7684\u7ed3\u679c\u3002OpenAI \u7684 embeddings-ada-02 \u662f\u57fa\u4e8e\u5927\u8bed\u8a00\u6a21\u578b\uff08\u5982 GPT\uff09\u539f\u7406\u5f00\u53d1\u7684\uff0c\u6bd4\u4f20\u7edf\u9759\u6001\u5d4c\u5165\u6a21\u578b\u66f4\u590d\u6742\uff0c\u80fd\u591f\u6355\u6349\u4e00\u5b9a\u7a0b\u5ea6\u7684\u4e0a\u4e0b\u6587\u3002\u5c3d\u7ba1\u5b83\u5728\u4e0a\u4e0b\u6587\u7406\u89e3\u65b9\u9762\u8868\u73b0\u51fa\u8272\uff0c\u4f46\u53ef\u80fd\u4e0d\u5982\u6700\u65b0\u7684\u5927\u578b\u8bed\u8a00\u6a21\u578b\uff08\u5982 GPT-4\uff09\u90a3\u6837\u5bf9\u4e0a\u4e0b\u6587\u654f\u611f\u3002</li> </ul> <p>\u68c0\u7d22\u540e\u5904\u7406\u6d41\u7a0b</p> <p>\u5728\u4ece\u6570\u636e\u5e93\u4e2d\u68c0\u7d22\u51fa\u6709\u4ef7\u503c\u7684\u4e0a\u4e0b\u6587\u540e\uff0c\u5c06\u5176\u4e0e\u67e5\u8be2\u5185\u5bb9\u5408\u5e76\u8f93\u5165\u5230\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u4f1a\u9047\u5230\u6311\u6218\u3002\u4e00\u6b21\u6027\u5411\u5927\u8bed\u8a00\u6a21\u578b\u5c55\u793a\u6240\u6709\u76f8\u5173\u6587\u6863\u53ef\u80fd\u4f1a\u8d85\u51fa\u5176\u5904\u7406\u7684\u4e0a\u4e0b\u6587\u7a97\u53e3\u9650\u5236\u3002\u5c06\u591a\u4e2a\u6587\u6863\u62fc\u63a5\u6210\u4e00\u4e2a\u5197\u957f\u7684\u68c0\u7d22\u63d0\u793a\u4e0d\u4ec5\u6548\u7387\u4f4e\uff0c\u8fd8\u4f1a\u5f15\u5165\u566a\u58f0\uff0c\u5f71\u54cd\u5927\u8bed\u8a00\u6a21\u578b\u805a\u7126\u5173\u952e\u4fe1\u606f\u3002\u56e0\u6b64\uff0c\u9700\u8981\u5bf9\u68c0\u7d22\u5230\u7684\u5185\u5bb9\u8fdb\u884c\u989d\u5916\u5904\u7406\uff0c\u4ee5\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002</p> <ul> <li> <p>ReRank\uff08\u91cd\u65b0\u6392\u5e8f\uff09\uff1a\u91cd\u65b0\u6392\u5e8f\uff0c\u5c06\u6700\u76f8\u5173\u7684\u4fe1\u606f\u7f6e\u4e8e\u63d0\u793a\u7684\u524d\u540e\u8fb9\u7f18\uff0c\u662f\u4e00\u4e2a\u7b80\u5355\u76f4\u63a5\u7684\u65b9\u6cd5\u3002</p> </li> <li> <p>Prompt \u538b\u7f29\uff1a\u7814\u7a76\u663e\u793a\uff0c\u68c0\u7d22\u6587\u6863\u4e2d\u7684\u566a\u97f3\u4f1a\u5bf9 RAG \u6027\u80fd\u4ea7\u751f\u4e0d\u5229\u5f71\u54cd\u3002\u5728\u5904\u7406\u7684\u540e\u671f\u9636\u6bb5\uff0c\u6211\u4eec\u4e3b\u8981\u5173\u6ce8\u4e8e\u538b\u7f29\u65e0\u5173\u7d27\u8981\u7684\u4e0a\u4e0b\u6587\uff0c\u51f8\u663e\u5173\u952e\u6bb5\u843d\uff0c\u5e76\u7f29\u77ed\u6574\u4f53\u7684\u4e0a\u4e0b\u6587\u957f\u5ea6\u3002</p> <p>\u4e0d\u8fc7\uff0c\u5728 RAG \u6216\u8005\u957f\u7bc7\u4e0a\u4e0b\u6587\u7684\u60c5\u5883\u4e2d\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u53ef\u80fd\u4f1a\u9057\u5931\u5173\u952e\u4fe1\u606f\u3002</p> </li> <li> <p>RAG \u7ba1\u9053\u4f18\u5316\uff1a \u68c0\u7d22\u8fc7\u7a0b\u7684\u4f18\u5316\u65e8\u5728\u63d0\u5347 RAG \u7cfb\u7edf\u7684\u6548\u7387\u548c\u4fe1\u606f\u8d28\u91cf\u3002\u5f53\u524d\u7684\u7814\u7a76\u4e3b\u8981\u96c6\u4e2d\u5728\u667a\u80fd\u7ed3\u5408\u4e0d\u540c\u7684\u641c\u7d22\u6280\u672f\uff0c\u4f18\u5316\u68c0\u7d22\u6b65\u9aa4\uff0c\u5f15\u5165\u8ba4\u77e5\u56de\u6eaf\u6982\u5ff5\uff0c\u7075\u6d3b\u8fd0\u7528\u591a\u6837\u5316\u7684\u67e5\u8be2\u7b56\u7565\uff0c\u5e76\u5229\u7528\u5d4c\u5165\u5f0f\u76f8\u4f3c\u5ea6\u3002\u8fd9\u4e9b\u52aa\u529b\u5171\u540c\u8ffd\u6c42\u5728 RAG \u68c0\u7d22\u4e2d\u8fbe\u5230\u6548\u7387\u4e0e\u4e0a\u4e0b\u6587\u4fe1\u606f\u4e30\u5bcc\u5ea6\u7684\u5e73\u8861\u3002</p> </li> <li> <p>\u6df7\u5408\u641c\u7d22\u7684\u63a2\u7d22\uff1a RAG \u7cfb\u7edf\u5de7\u5999\u7ed3\u5408\u4e86\u57fa\u4e8e\u5173\u952e\u8bcd\u3001\u8bed\u4e49\u4ee5\u53ca\u5411\u91cf\u7684\u591a\u79cd\u641c\u7d22\u6280\u672f\u3002\u8fd9\u79cd\u7efc\u5408\u65b9\u6cd5\u8ba9 RAG \u7cfb\u7edf\u80fd\u591f\u5e94\u5bf9\u4e0d\u540c\u7684\u67e5\u8be2\u7c7b\u578b\u548c\u4fe1\u606f\u9700\u6c42\uff0c\u6709\u6548\u5730\u83b7\u53d6\u6700\u76f8\u5173\u4e14\u5185\u5bb9\u4e30\u5bcc\u7684\u4fe1\u606f\u3002\u6df7\u5408\u641c\u7d22\u4f5c\u4e3a\u4e00\u79cd\u5f3a\u5927\u7684\u8865\u5145\u624b\u6bb5\uff0c\u663e\u8457\u63d0\u5347\u4e86 RAG \u6d41\u7a0b\u7684\u6574\u4f53\u8868\u73b0\u3002</p> </li> <li> <p>\u9012\u5f52\u68c0\u7d22\u4e0e\u67e5\u8be2\u5f15\u64ce\uff1a \u5728 RAG \u7cfb\u7edf\u4e2d\uff0c\u91c7\u7528\u9012\u5f52\u68c0\u7d22\u548c\u9ad8\u7ea7\u67e5\u8be2\u5f15\u64ce\u662f\u63d0\u9ad8\u68c0\u7d22\u6548\u679c\u7684\u53e6\u4e00\u6709\u6548\u624b\u6bb5\u3002\u9012\u5f52\u68c0\u7d22\u7684\u9996\u8981\u6b65\u9aa4\u662f\u5728\u521d\u59cb\u9636\u6bb5\u83b7\u53d6\u5c0f\u578b\u6587\u6863\u5757\uff0c\u4ee5\u4fbf\u6293\u4f4f\u5173\u952e\u8bed\u4e49\u3002\u968f\u540e\uff0c\u8be5\u8fc7\u7a0b\u4f1a\u63d0\u4f9b\u66f4\u5927\u7684\u6587\u6863\u5757\uff0c\u4e3a\u5927\u8bed\u8a00\u6a21\u578b (LM) \u63d0\u4f9b\u66f4\u4e30\u5bcc\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002\u8fd9\u79cd\u53cc\u91cd\u68c0\u7d22\u7b56\u7565\u65e2\u4fdd\u8bc1\u4e86\u6548\u7387\uff0c\u53c8\u80fd\u63d0\u4f9b\u6df1\u5165\u7684\u4e0a\u4e0b\u6587\u56de\u5e94\u3002</p> </li> <li> <p>StepBack-prompt \u65b9\u6cd5\uff1a \u96c6\u6210\u5230 RAG \u6d41\u7a0b\u4e2d\u7684 StepBack-prompt \u65b9\u6cd5[Zheng et al., 2023] \u4fc3\u4f7f\u5927\u8bed\u8a00\u6a21\u578b (LLM) \u5728\u5904\u7406\u5177\u4f53\u6848\u4f8b\u65f6\u80fd\u591f\u9000\u4e00\u6b65\uff0c\u8f6c\u800c\u601d\u8003\u80cc\u540e\u7684\u666e\u904d\u6982\u5ff5\u6216\u539f\u5219\u3002\u7814\u7a76\u53d1\u73b0\uff0c\u8fd9\u79cd\u7ed3\u5408\u540e\u5411\u63d0\u793a\u7684\u65b9\u6cd5\u5728\u5904\u7406\u5404\u79cd\u590d\u6742\u3001\u63a8\u7406\u5bc6\u96c6\u7684\u4efb\u52a1\u65f6\u8868\u73b0\u5353\u8d8a\uff0c\u5145\u5206\u5c55\u73b0\u4e86\u5176\u4e0e RAG \u7684\u826f\u597d\u517c\u5bb9\u6027\u3002\u8fd9\u79cd\u65b9\u6cd5\u65e2\u80fd\u7528\u4e8e\u540e\u5411\u63d0\u793a\u7684\u7b54\u6848\u751f\u6210\uff0c\u4e5f\u80fd\u7528\u4e8e\u6700\u7ec8\u7684\u95ee\u7b54\u73af\u8282\u3002</p> </li> <li> <p>\u5b50\u67e5\u8be2\uff1a \u6839\u636e\u4e0d\u540c\u573a\u666f\uff0c\u6211\u4eec\u53ef\u4ee5\u91c7\u53d6\u591a\u79cd\u67e5\u8be2\u7b56\u7565\uff0c\u5982\u4f7f\u7528 LlamaIndex \u7b49\u6846\u67b6\u63d0\u4f9b\u7684\u67e5\u8be2\u5f15\u64ce\u3001\u6811\u72b6\u67e5\u8be2\u3001\u5411\u91cf\u67e5\u8be2\u6216\u57fa\u672c\u7684\u5757\u5e8f\u5217\u67e5\u8be2\u3002</p> </li> <li> <p>HyDE \u65b9\u6cd5\uff1a \u8fd9\u79cd\u65b9\u6cd5\u57fa\u4e8e\u4e00\u4e2a\u5047\u8bbe\uff1a\u76f8\u8f83\u4e8e\u76f4\u63a5\u67e5\u8be2\uff0c\u901a\u8fc7\u5927\u8bed\u8a00\u6a21\u578b (LLM) \u751f\u6210\u7684\u7b54\u6848\u5728\u5d4c\u5165\u7a7a\u95f4\u4e2d\u53ef\u80fd\u66f4\u4e3a\u63a5\u8fd1\u3002HyDE \u9996\u5148\u54cd\u5e94\u67e5\u8be2\u751f\u6210\u4e00\u4e2a\u5047\u8bbe\u6027\u6587\u6863\uff08\u7b54\u6848\uff09\uff0c\u7136\u540e\u5c06\u5176\u5d4c\u5165\uff0c\u5e76\u5229\u7528\u6b64\u5d4c\u5165\u53bb\u68c0\u7d22\u4e0e\u5047\u8bbe\u6587\u6863\u7c7b\u4f3c\u7684\u771f\u5b9e\u6587\u6863\u3002\u8fd9\u79cd\u65b9\u6cd5\u5f3a\u8c03\u7b54\u6848\u4e4b\u95f4\u7684\u5d4c\u5165\u76f8\u4f3c\u6027\uff0c\u800c\u975e\u5355\u7eaf\u4f9d\u8d56\u4e8e\u67e5\u8be2\u7684\u5d4c\u5165\u76f8\u4f3c\u6027\u3002\u4f46\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7279\u522b\u662f\u5f53\u8bed\u8a00\u6a21\u578b\u5bf9\u8bdd\u9898\u4e0d\u591f\u719f\u6089\u65f6\uff0c\u5b83\u53ef\u80fd\u5bfc\u81f4\u9519\u8bef\u5b9e\u4f8b\u7684\u589e\u52a0\u3002</p> </li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#rag_5","title":"\u6a21\u5757\u5316 RAG","text":"<p>\u6a21\u5757\u5316 RAG \u7ed3\u6784\u6253\u7834\u4e86\u4f20\u7edf\u7684 RAG\u201d\u6846\u67b6\uff0c\u8fd9\u4e2a\u6846\u67b6\u539f\u672c\u6d89\u53ca\u7d22\u5f15\u3001\u68c0\u7d22\u548c\u751f\u6210\uff0c\u73b0\u5728\u63d0\u4f9b\u4e86\u66f4\u5e7f\u6cdb\u7684\u591a\u6837\u6027\u548c\u66f4\u9ad8\u7684\u7075\u6d3b\u6027\u3002\u5b83\u4e0d\u4ec5\u96c6\u6210\u4e86\u5404\u79cd\u65b9\u6cd5\u6765\u4e30\u5bcc\u529f\u80fd\u6a21\u5757\uff0c\u6bd4\u5982\u5728\u76f8\u4f3c\u6027\u68c0\u7d22\u4e2d\u52a0\u5165\u4e86\u641c\u7d22\u6a21\u5757\uff0c\u5e76\u4e14\u5728\u68c0\u7d22\u5668\u4e2d\u91c7\u7528\u4e86\u5fae\u8c03 (fine-tuning) \u7b56\u7565\u3002\u7279\u522b\u7684\u95ee\u9898\u4e5f\u50ac\u751f\u4e86\u91cd\u6784\u540e\u7684 RAG \u6a21\u5757\uff0c\u4ee5\u53ca\u7c7b\u4f3c\u7684\u8fed\u4ee3\u65b9\u6cd5\u3002\u8fd9\u79cd\u6a21\u5757\u5316\u7684 RAG \u8303\u5f0f\u6b63\u9010\u6e10\u6210\u4e3a RAG \u9886\u57df\u7684\u8d8b\u52bf\uff0c\u5b83\u652f\u6301\u4ece\u5e8f\u5217\u5316\u6d41\u7a0b\u5230\u8de8\u591a\u4e2a\u6a21\u5757\u7684\u7aef\u5230\u7aef\u8bad\u7ec3\u65b9\u6cd5\u3002\u4e09\u79cd RAG \u8303\u5f0f\u7684\u5bf9\u6bd4\u5728\u56fe 3 \u4e2d\u8fdb\u884c\u4e86\u8be6\u7ec6\u5c55\u793a\u3002</p> <p></p> <p>\u56fe 3\uff1a\u4e09\u79cd RAG \u8303\u5f0f\u7684\u6bd4\u8f83</p> <p>\u65b0\u6a21\u5757\uff08NEW Modules\uff09</p> <ul> <li> <p>\u641c\u7d22\u6a21\u5757(Search)\uff1a \u4e0e\u7b80\u5355/\u9ad8\u7ea7 RAG \u7684\u67e5\u8be2\u548c\u8bed\u6599\u95f4\u7684\u5e38\u89c4\u76f8\u4f3c\u6027\u68c0\u7d22\u4e0d\u540c\uff0c\u8fd9\u4e2a\u7279\u5b9a\u573a\u666f\u4e0b\u7684\u641c\u7d22\u6a21\u5757\u878d\u5408\u4e86\u76f4\u63a5\u5728\uff08\u9644\u52a0\u7684\uff09\u8bed\u6599\u5e93\u4e2d\u8fdb\u884c\u641c\u7d22\u7684\u65b9\u6cd5\u3002\u8fd9\u4e9b\u65b9\u6cd5\u5305\u62ec\u5229\u7528\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u751f\u6210\u7684\u4ee3\u7801\u3001SQL\u3001Cypher \u7b49\u67e5\u8be2\u8bed\u8a00\uff0c\u6216\u662f\u5176\u4ed6\u5b9a\u5236\u5de5\u5177\u3002\u5176\u641c\u7d22\u6570\u636e\u6e90\u591a\u6837\uff0c\u6db5\u76d6\u641c\u7d22\u5f15\u64ce\u3001\u6587\u672c\u6570\u636e\u3001\u8868\u683c\u6570\u636e\u6216\u77e5\u8bc6\u56fe\u7b49\u3002</p> </li> <li> <p>\u8bb0\u5fc6\u6a21\u5757\uff1a \u672c\u6a21\u5757\u5145\u5206\u5229\u7528\u5927\u8bed\u8a00\u6a21\u578b\u672c\u8eab\u7684\u8bb0\u5fc6\u529f\u80fd\u6765\u5f15\u5bfc\u4fe1\u606f\u68c0\u7d22\u3002\u5176\u6838\u5fc3\u539f\u5219\u662f\u5bfb\u627e\u4e0e\u5f53\u524d\u8f93\u5165\u6700\u4e3a\u5339\u914d\u7684\u8bb0\u5fc6\u3002</p> </li> <li> <p>\u989d\u5916\u751f\u6210\u6a21\u5757\uff1a \u9762\u5bf9\u68c0\u7d22\u5185\u5bb9\u4e2d\u7684\u5197\u4f59\u548c\u566a\u58f0\u95ee\u9898\uff0c\u8fd9\u4e2a\u6a21\u5757\u901a\u8fc7\u5927\u8bed\u8a00\u6a21\u578b\u751f\u6210\u5fc5\u8981\u7684\u4e0a\u4e0b\u6587\uff0c\u800c\u975e\u76f4\u63a5\u4ece\u6570\u636e\u6e90\u8fdb\u884c\u68c0\u7d22\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u7531\u5927\u8bed\u8a00\u6a21\u578b\u751f\u6210\u7684\u5185\u5bb9\u66f4\u53ef\u80fd\u5305\u542b\u4e0e\u68c0\u7d22\u4efb\u52a1\u76f8\u5173\u7684\u4fe1\u606f\u3002</p> </li> <li> <p>\u4efb\u52a1\u9002\u5e94\u6a21\u5757\uff1a \u8be5\u6a21\u5757\u81f4\u529b\u4e8e\u5c06 RAG \u8c03\u6574\u4ee5\u9002\u5e94\u5404\u79cd\u4e0b\u6e38\u4efb\u52a1\u3002</p> </li> <li> <p>\u5bf9\u9f50\u6a21\u5757\uff1a \u5728 RAG \u7684\u5e94\u7528\u4e2d\uff0c\u67e5\u8be2\u4e0e\u6587\u672c\u4e4b\u95f4\u7684\u5bf9\u9f50\u4e00\u76f4\u662f\u5f71\u54cd\u6548\u679c\u7684\u5173\u952e\u56e0\u7d20\u3002\u5728\u6a21\u5757\u5316 RAG \u7684\u53d1\u5c55\u4e2d\uff0c\u7814\u7a76\u8005\u4eec\u53d1\u73b0\uff0c\u5728\u68c0\u7d22\u5668\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u53ef\u8bad\u7ec3\u7684 Adapter \u6a21\u5757\u80fd\u6709\u6548\u89e3\u51b3\u5bf9\u9f50\u95ee\u9898\u3002</p> </li> <li> <p>\u9a8c\u8bc1\u6a21\u5757\uff1a \u5728\u73b0\u5b9e\u4e16\u754c\u4e2d\uff0c\u6211\u4eec\u65e0\u6cd5\u603b\u662f\u4fdd\u8bc1\u68c0\u7d22\u5230\u7684\u4fe1\u606f\u7684\u53ef\u9760\u6027\u3002\u68c0\u7d22\u5230\u4e0d\u76f8\u5173\u7684\u6570\u636e\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5927\u8bed\u8a00\u6a21\u578b\u4ea7\u751f\u9519\u8bef\u4fe1\u606f\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u5728\u68c0\u7d22\u6587\u6863\u540e\u52a0\u5165\u4e00\u4e2a\u989d\u5916\u7684\u9a8c\u8bc1\u6a21\u5757\uff0c\u4ee5\u8bc4\u4f30\u68c0\u7d22\u5230\u7684\u6587\u6863\u4e0e\u67e5\u8be2\u4e4b\u95f4\u7684\u76f8\u5173\u6027\uff0c\u8fd9\u6837\u505a\u53ef\u4ee5\u63d0\u5347 RAG\u7684\u9c81\u68d2\u6027\u3002</p> </li> </ul> <p>\u65b0\u6a21\u5f0f\uff08New Patterns\uff09</p> <p>RAG \u7684\u7ec4\u7ec7\u65b9\u6cd5\u5177\u6709\u9ad8\u5ea6\u7075\u6d3b\u6027\uff0c\u80fd\u591f\u6839\u636e\u7279\u5b9a\u95ee\u9898\u7684\u4e0a\u4e0b\u6587\uff0c\u5bf9 RAG \u6d41\u7a0b\u4e2d\u7684\u6a21\u5757\u8fdb\u884c\u66ff\u6362\u6216\u91cd\u65b0\u914d\u7f6e\u3002\u5728\u57fa\u7840\u7684 Naive RAG \u4e2d\uff0c\u5305\u542b\u4e86\u68c0\u7d22\u548c\u751f\u6210\u8fd9\u4e24\u4e2a\u6838\u5fc3\u6a21\u5757\uff08\u6709\u4e9b\u6587\u732e\u4e2d\u79f0\u4e4b\u4e3a\u9605\u8bfb\u6216\u5408\u6210\u6a21\u5757\uff09\uff0c\u8fd9\u4e2a\u6846\u67b6\u56e0\u800c\u5177\u5907\u4e86\u9ad8\u5ea6\u7684\u9002\u5e94\u6027\u548c\u591a\u6837\u6027\u3002\u76ee\u524d\u7684\u7814\u7a76\u4e3b\u8981\u56f4\u7ed5\u4e24\u79cd\u7ec4\u7ec7\u6a21\u5f0f\uff1a\u4e00\u662f\u589e\u52a0\u6216\u66ff\u6362\u6a21\u5757\uff0c\u4e8c\u662f\u8c03\u6574\u6a21\u5757\u95f4\u7684\u5de5\u4f5c\u6d41\u7a0b\u3002</p> <ul> <li>\u589e\u52a0\u6216\u66ff\u6362\u6a21\u5757 \u5728\u589e\u52a0\u6216\u66ff\u6362\u6a21\u5757\u7684\u7b56\u7565\u4e2d\uff0c\u6211\u4eec\u4fdd\u7559\u4e86\u539f\u6709\u7684\u68c0\u7d22\u5668 - \u9605\u8bfb\u5668\u7ed3\u6784\uff0c\u540c\u65f6\u52a0\u5165\u65b0\u6a21\u5757\u4ee5\u589e\u5f3a\u7279\u5b9a\u529f\u80fd\u3002 </li> <li>\u8c03\u6574\u6a21\u5757\u95f4\u7684\u5de5\u4f5c\u6d41\u7a0b \u5728\u8c03\u6574\u6a21\u5757\u95f4\u6d41\u7a0b\u7684\u9886\u57df\uff0c\u91cd\u70b9\u5728\u4e8e\u52a0\u5f3a\u8bed\u8a00\u6a21\u578b\u4e0e\u68c0\u7d22\u6a21\u578b\u4e4b\u95f4\u7684\u4e92\u52a8\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#retriever","title":"\u68c0\u7d22\u5668\uff08Retriever\uff09","text":"<p>\u5728 RAG\uff08\u68c0\u7d22\u589e\u5f3a\u751f\u6210\uff09\u6280\u672f\u4e2d\uff0c\u201cR\u201d\u4ee3\u8868\u68c0\u7d22\uff0c\u5176\u4f5c\u7528\u662f\u4ece\u5927\u91cf\u77e5\u8bc6\u5e93\u4e2d\u68c0\u7d22\u51fa\u6700\u76f8\u5173\u7684\u524d k \u4e2a\u6587\u6863\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_11","title":"\u5982\u4f55\u83b7\u5f97\u51c6\u786e\u7684\u8bed\u4e49\u8868\u793a\uff1f","text":"<p>\u5728 RAG \u4e2d\uff0c\u8bed\u4e49\u7a7a\u95f4\u6307\u7684\u662f\u67e5\u8be2\u548c\u6587\u6863\u88ab\u6620\u5c04\u7684\u591a\u7ef4\u7a7a\u95f4\u3002</p> <p>\u8fdb\u884c\u68c0\u7d22\u65f6\uff0c\u6211\u4eec\u662f\u5728\u8fd9\u4e2a\u8bed\u4e49\u7a7a\u95f4\u5185\u8fdb\u884c\u8bc4\u4f30\u7684\u3002\u5982\u679c\u8bed\u4e49\u8868\u8fbe\u4e0d\u51c6\u786e\uff0c\u5bf9 RAG \u7684\u5f71\u54cd\u5c06\u662f\u707e\u96be\u6027\u7684\u3002\u4e0b\u9762\u662f\u4e24\u79cd\u6784\u5efa\u51c6\u786e\u8bed\u4e49\u7a7a\u95f4\u7684\u65b9\u6cd5\u3002</p> <p>\u5757\u4f18\u5316</p> <p>\u5904\u7406\u5916\u90e8\u6587\u6863\u7684\u7b2c\u4e00\u6b65\u662f\u5206\u5757(chunk)\uff0c\u4ee5\u83b7\u5f97\u66f4\u7ec6\u81f4\u7684\u7279\u5f81\u3002\u63a5\u7740\uff0c\u8fd9\u4e9b\u6587\u6863\u5757\u88ab\u5d4c\u5165\uff08Embedded\uff09\u3002</p> <p>Embedding  \u592a\u5927\u6216\u592a\u5c0f\u7684\u6587\u672c\u5757\u53ef\u80fd\u65e0\u6cd5\u53d6\u5f97\u6700\u4f73\u6548\u679c\u3002\u56e0\u6b64\uff0c\u627e\u5230\u9002\u5408\u8bed\u6599\u5e93\u6587\u6863\u7684\u6700\u4f73\u5757\u5927\u5c0f\u81f3\u5173\u91cd\u8981\uff0c\u4ee5\u786e\u4fdd\u641c\u7d22\u7ed3\u679c\u7684\u51c6\u786e\u6027\u548c\u76f8\u5173\u6027\u3002</p> <p>\u9009\u62e9\u5206\u5757\u7b56\u7565\u65f6\uff0c\u9700\u8981\u8003\u8651\u7684\u8981\u7d20\u5305\u62ec\uff1a\u88ab\u7d22\u5f15\u5185\u5bb9\u7684\u7279\u70b9\u3001\u4f7f\u7528\u7684\u5d4c\u5165\u6a21\u578b\u53ca\u5176\u6700\u9002\u5757\u5927\u5c0f\u3001\u7528\u6237\u67e5\u8be2\u7684\u9884\u671f\u957f\u5ea6\u548c\u590d\u6742\u5ea6\u3001\u4ee5\u53ca\u68c0\u7d22\u7ed3\u679c\u5728\u7279\u5b9a\u5e94\u7528\u4e2d\u7684\u4f7f\u7528\u65b9\u5f0f\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4e0d\u540c\u957f\u5ea6\u7684\u5185\u5bb9\uff0c\u5e94\u9009\u7528\u4e0d\u540c\u7684\u5206\u5757\u6a21\u578b\u3002\u4e0d\u540c\u7684\u5d4c\u5165\u6a21\u578b\uff0c\u5982 Sentence-Transformer \u548c text-embedding-ada-002\uff0c\u5728\u5904\u7406\u4e0d\u540c\u5927\u5c0f\u7684\u6587\u672c\u5757\u65f6\u6548\u679c\u5404\u5f02\uff1b\u4f8b\u5982\uff0cSentence-Transformer \u66f4\u9002\u5408\u5355\u53e5\u5904\u7406\uff0c\u800c text-embedding-ada-002 \u66f4\u9002\u5408\u5904\u7406\u5305\u542b 256 \u6216 512 Token \u7684\u6587\u672c\u5757\u3002\u7528\u6237\u95ee\u9898\u6587\u672c\u7684\u957f\u5ea6\u548c\u590d\u6742\u6027\uff0c\u4ee5\u53ca\u5e94\u7528\u7a0b\u5e8f\u7684\u7279\u5b9a\u9700\u6c42\uff08\u5982\u8bed\u4e49\u641c\u7d22\u6216\u95ee\u7b54\uff09\uff0c\u4e5f\u4f1a\u5f71\u54cd\u5206\u5757\u7b56\u7565\u7684\u9009\u62e9\u3002\u8fd9\u53ef\u80fd\u4e0e\u9009\u7528\u7684\u5927\u8bed\u8a00\u6a21\u578b\u7684 Token \u9650\u5236\u76f4\u63a5\u76f8\u5173\uff0c\u56e0\u6b64\u53ef\u80fd\u9700\u8981\u8c03\u6574\u5757\u5927\u5c0f\u3002\u5b9e\u9645\u4e0a\uff0c\u51c6\u786e\u7684\u67e5\u8be2\u7ed3\u679c\u662f\u901a\u8fc7\u7075\u6d3b\u5e94\u7528\u591a\u79cd\u5206\u5757\u7b56\u7565\u6765\u5b9e\u73b0\u7684\uff0c\u5e76\u6ca1\u6709\u6700\u4f73\u7b56\u7565\uff0c\u53ea\u6709\u6700\u9002\u5408\u7684\u7b56\u7565\u3002</p> <p>\u5f53\u524d\u7684 RAG \u7814\u7a76\u91c7\u7528\u4e86\u591a\u79cd\u5757\u4f18\u5316\u65b9\u6cd5\uff0c\u4ee5\u63d0\u9ad8\u68c0\u7d22\u7684\u6548\u7387\u548c\u51c6\u786e\u6027\u3002\u5176\u4e2d\uff0c\u6280\u672f\u5982\u6ed1\u52a8\u7a97\u53e3\u6280\u672f\u901a\u8fc7\u591a\u6b21\u68c0\u7d22\uff0c\u805a\u5408\u5168\u5c40\u76f8\u5173\u4fe1\u606f\uff0c\u5b9e\u73b0\u5206\u5c42\u68c0\u7d22\u3002</p> <p>Small2big \u6280\u672f\u5728\u641c\u7d22\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u5c0f\u6587\u672c\u5757\uff0c\u5e76\u4e3a\u8bed\u8a00\u6a21\u578b\u63d0\u4f9b\u66f4\u5927\u7684\u76f8\u5173\u6587\u672c\u5757\u8fdb\u884c\u5904\u7406\u3002\u6458\u8981\u5d4c\u5165\uff08Abstract embedding\uff09\u6280\u672f\u5bf9\u6587\u6863\u6458\u8981\u6267\u884c Top K \u68c0\u7d22\uff0c\u4ee5\u63d0\u4f9b\u5b8c\u6574\u7684\u6587\u6863\u4e0a\u4e0b\u6587\u3002\u5143\u6570\u636e\u8fc7\u6ee4\uff08Metadata Filtering\uff09\u6280\u672f\u901a\u8fc7\u6587\u6863\u7684\u5143\u6570\u636e\u8fdb\u884c\u8fc7\u6ee4\u3002\u56fe\u7d22\u5f15\uff08Graph Indexing\uff09\u6280\u672f\u628a\u5b9e\u4f53\u548c\u5173\u7cfb\u8f6c\u5316\u4e3a\u8282\u70b9\u548c\u8fde\u63a5\uff0c\u8fd9\u5728\u5904\u7406\u591a\u8df3\u95ee\u9898\u65f6\u663e\u8457\u63d0\u5347\u4e86\u76f8\u5173\u6027\u3002\u8fd9\u4e9b\u65b9\u6cd5\u7684\u7ed3\u5408\u663e\u8457\u63d0\u5347\u4e86 RAG \u7684\u68c0\u7d22\u6548\u679c\u548c\u6027\u80fd\u3002</p> <p>\u5fae\u8c03\u5d4c\u5165\u6a21\u578b(Fine-tuning Embedding Models)</p> <p>\u5728\u786e\u5b9a\u4e86 Chunk \u7684\u9002\u5f53\u5927\u5c0f\u4e4b\u540e\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u4e00\u4e2a\u5d4c\u5165\u6a21\u578b\uff08Embedding model\uff09\u5c06 Chunk \u548c\u67e5\u8be2\u5d4c\u5165(Embedding )\u5230\u8bed\u4e49\u7a7a\u95f4\u4e2d\u3002\u56e0\u6b64\uff0c\u5d4c\u5165\u6a21\u578b\u662f\u5426\u80fd\u6709\u6548\u4ee3\u8868\u6574\u4e2a\u8bed\u6599\u5e93\u53d8\u5f97\u6781\u5176\u91cd\u8981\u3002\u5982\u4eca\uff0c\u4e00\u4e9b\u51fa\u8272\u7684\u5d4c\u5165\u6a21\u578b\u5df2\u7ecf\u95ee\u4e16\uff0c\u4f8b\u5982 UAE\u3001Voyage\u3001BGE \u7b49\uff0c\u5b83\u4eec\u5728\u5927\u89c4\u6a21\u8bed\u6599\u5e93\u4e0a\u9884\u8bad\u7ec3\u8fc7\u3002\u4f46\u5728\u7279\u5b9a\u9886\u57df\u4e2d\u5e94\u7528\u65f6\uff0c\u8fd9\u4e9b\u6a21\u578b\u53ef\u80fd\u65e0\u6cd5\u51c6\u786e\u5730\u53cd\u6620\u9886\u57df\u7279\u5b9a\u7684\u8bed\u6599\u4fe1\u606f\u3002\u6b64\u5916\uff0c\u4e3a\u4e86\u786e\u4fdd\u6a21\u578b\u80fd\u591f\u7406\u89e3\u7528\u6237\u67e5\u8be2\u4e0e\u5185\u5bb9\u7684\u76f8\u5173\u6027\uff0c\u5bf9\u5d4c\u5165\u6a21\u578b\u8fdb\u884c\u4efb\u52a1\u7279\u5b9a\u7684\u5fae\u8c03\u81f3\u5173\u91cd\u8981\uff0c\u5426\u5219\u672a\u7ecf\u5fae\u8c03\u7684\u6a21\u578b\u53ef\u80fd\u65e0\u6cd5\u6ee1\u8db3\u7279\u5b9a\u4efb\u52a1\u7684\u9700\u6c42\u3002\u56e0\u6b64\uff0c\u5bf9\u5d4c\u5165\u6a21\u578b\u8fdb\u884c\u5fae\u8c03\u5bf9\u4e8e\u5176\u4e0b\u6e38\u5e94\u7528\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002</p> <ul> <li>\u9886\u57df\u77e5\u8bc6\u5fae\u8c03\uff1a\u5fae\u8c03\u5d4c\u5165\u6a21\u578b\u7684\u4e3b\u6d41\u65b9\u6cd5\u4f7f\u7528\u7684\u6570\u636e\u96c6\u5305\u62ec\u67e5\u8be2\uff08Queries\uff09\u3001\u8bed\u6599\u5e93\uff08Corpus\uff09\u548c\u76f8\u5173\u6587\u6863\uff08Relevant Docs\uff09\u3002\u5d4c\u5165\u6a21\u578b\u57fa\u4e8e\u67e5\u8be2\u5728\u8bed\u6599\u5e93\u4e2d\u68c0\u7d22\u76f8\u5173\u6587\u6863\uff0c\u7136\u540e\u6839\u636e\u67e5\u8be2\u7684\u76f8\u5173\u6587\u6863\u662f\u5426\u547d\u4e2d\u4f5c\u4e3a\u8861\u91cf\u6a21\u578b\u7684\u6807\u51c6\u3002</li> <li>\u5bf9\u4e0b\u6e38\u4efb\u52a1\u7684\u5fae\u8c03 \uff1a</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_12","title":"\u5982\u4f55\u534f\u8c03\u67e5\u8be2\u548c\u6587\u6863\u7684\u8bed\u4e49\u7a7a\u95f4","text":"<p>\u5728 RAG \u5e94\u7528\u4e2d\uff0c\u6709\u4e9b\u68c0\u7d22\u5668\u7528\u540c\u4e00\u4e2a\u5d4c\u5165\u6a21\u578b\u6765\u5904\u7406\u67e5\u8be2\u548c\u6587\u6863\uff0c\u800c\u6709\u4e9b\u5219\u4f7f\u7528\u4e24\u4e2a\u4e0d\u540c\u7684\u6a21\u578b\u3002\u6b64\u5916\uff0c\u7528\u6237\u7684\u539f\u59cb\u67e5\u8be2\u53ef\u80fd\u8868\u8fbe\u4e0d\u6e05\u6670\u6216\u7f3a\u5c11\u5fc5\u8981\u7684\u8bed\u4e49\u4fe1\u606f\u3002\u56e0\u6b64\uff0c\u534f\u8c03\u7528\u6237\u7684\u67e5\u8be2\u4e0e\u6587\u6863\u7684\u8bed\u4e49\u7a7a\u95f4\u663e\u5f97\u5c24\u4e3a\u91cd\u8981\u3002\u4e0b\u9762\u4ecb\u7ecd\u4e24\u79cd\u5173\u952e\u6280\u672f\uff0c\u5e2e\u52a9\u5b9e\u73b0\u8fd9\u4e00\u76ee\u6807\u3002</p> <ul> <li>\u67e5\u8be2\u91cd\u5199\uff08Query Rewrite\uff09\uff1a\u4e00\u79cd\u76f4\u63a5\u7684\u65b9\u5f0f\u662f\u5bf9\u67e5\u8be2\u8fdb\u884c\u91cd\u5199\u3002\u5229\u7528\u5927\u8bed\u8a00\u6a21\u578b\u7684\u80fd\u529b\u751f\u6210\u4e00\u4e2a\u6307\u5bfc\u6027\u7684\u4f2a\u6587\u6863\uff0c\u7136\u540e\u5c06\u539f\u59cb\u67e5\u8be2\u4e0e\u8fd9\u4e2a\u4f2a\u6587\u6863\u7ed3\u5408\uff0c\u5f62\u6210\u4e00\u4e2a\u65b0\u7684\u67e5\u8be2\u3002</li> <li>\u5d4c\u5165\u53d8\u6362\uff08Embedding Transformation\uff09\uff1a\u8fc7\u5728\u67e5\u8be2\u7f16\u7801\u5668\u540e\u52a0\u5165\u4e00\u4e2a\u7279\u6b8a\u7684\u9002\u914d\u5668\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u5fae\u8c03\uff0c\u4ece\u800c\u4f18\u5316\u67e5\u8be2\u7684\u5d4c\u5165\u8868\u793a\uff0c\u4f7f\u4e4b\u66f4\u9002\u5408\u7279\u5b9a\u7684\u4efb\u52a1</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_13","title":"\u8c03\u6574\u68c0\u7d22\u5668\u7ed3\u679c\u4ee5\u9002\u5e94\u5927\u8bed\u8a00\u6a21\u578b\u7684\u9700\u6c42","text":"<p>\u5728 RAG\uff08Retrieval-Augmented Generation\uff09\u6d41\u7a0b\u4e2d\uff0c\u5373\u4fbf\u6211\u4eec\u91c7\u7528\u5404\u79cd\u6280\u672f\u63d0\u5347\u68c0\u7d22\u6548\u679c\uff0c\u6700\u7ec8\u5bf9 RAG \u7684\u6574\u4f53\u6027\u80fd\u53ef\u80fd\u4ecd\u65e0\u660e\u663e\u63d0\u5347\u3002\u539f\u56e0\u5728\u4e8e\u68c0\u7d22\u5230\u7684\u6587\u6863\u53ef\u80fd\u5e76\u4e0d\u7b26\u5408\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u7684\u9700\u6c42\u3002\u4e0b\u9762\u4ecb\u7ecd\u4e24\u79cd\u65b9\u6cd5\uff0c\u4ee5\u4f7f\u68c0\u7d22\u5668\u7684\u8f93\u51fa\u66f4\u597d\u5730\u7b26\u5408 LLM \u7684\u504f\u597d\u3002</p> <ul> <li>LLM \u76d1\u7763\u4e0b\u7684\u8bad\u7ec3\uff1a\u4ece\u5927\u8bed\u8a00\u6a21\u578b\u83b7\u53d6\u7684\u53cd\u9988\u4fe1\u53f7\u6765\u8c03\u6574\u5d4c\u5165\uff08embedding\uff09\u6a21\u578b\u3002</li> <li>\u63d2\u5165\u9002\u914d\u5668\uff1a\u9009\u62e9\u5916\u63a5\u9002\u914d\u5668\u6765\u8fdb\u884c\u6a21\u578b\u5bf9\u9f50\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#generator","title":"\u751f\u6210\u5668\uff08Generator\uff09","text":"<p>**\u5728 RAG \u7cfb\u7edf\u4e2d\uff0c\u751f\u6210\u5668\u662f\u6838\u5fc3\u90e8\u5206\u4e4b\u4e00\uff0c\u5b83\u7684\u804c\u8d23\u662f\u5c06\u68c0\u7d22\u5230\u7684\u4fe1\u606f\u8f6c\u5316\u4e3a\u81ea\u7136\u6d41\u7545\u7684\u6587\u672c\u3002**\u8fd9\u4e00\u8bbe\u8ba1\u7075\u611f\u6e90\u81ea\u4e8e\u4f20\u7edf\u8bed\u8a00\u6a21\u578b\uff0c\u4f46\u4e0d\u540c\u4e8e\u4e00\u822c\u7684\u751f\u6210\u5f0f\u6a21\u578b\uff0cRAG \u7684\u751f\u6210\u5668\u901a\u8fc7\u5229\u7528\u68c0\u7d22\u5230\u7684\u4fe1\u606f\u6765\u63d0\u9ad8\u6587\u672c\u7684\u51c6\u786e\u6027\u548c\u76f8\u5173\u6027\u3002\u5728 RAG \u4e2d\uff0c\u751f\u6210\u5668\u7684\u8f93\u5165\u4e0d\u4ec5\u5305\u62ec\u4f20\u7edf\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u8fd8\u6709\u901a\u8fc7\u68c0\u7d22\u5668\u5f97\u5230\u7684\u76f8\u5173\u6587\u672c\u7247\u6bb5\u3002\u8fd9\u4f7f\u5f97\u751f\u6210\u5668\u80fd\u591f\u66f4\u6df1\u5165\u5730\u7406\u89e3\u95ee\u9898\u80cc\u540e\u7684\u4e0a\u4e0b\u6587\uff0c\u5e76\u4ea7\u751f\u66f4\u52a0\u4fe1\u606f\u4e30\u5bcc\u7684\u56de\u7b54\u3002\u6b64\u5916\uff0c\u751f\u6210\u5668\u8fd8\u4f1a\u6839\u636e\u68c0\u7d22\u5230\u7684\u6587\u672c\u6765\u6307\u5bfc\u5185\u5bb9\u7684\u751f\u6210\uff0c\u786e\u4fdd\u751f\u6210\u7684\u5185\u5bb9\u4e0e\u68c0\u7d22\u5230\u7684\u4fe1\u606f\u4fdd\u6301\u4e00\u81f4\u3002\u6b63\u662f\u56e0\u4e3a\u8f93\u5165\u6570\u636e\u7684\u591a\u6837\u6027\uff0c\u6211\u4eec\u9488\u5bf9\u751f\u6210\u9636\u6bb5\u8fdb\u884c\u4e86\u4e00\u7cfb\u5217\u7684\u6709\u9488\u5bf9\u6027\u5de5\u4f5c\uff0c\u4ee5\u4fbf\u66f4\u597d\u5730\u9002\u5e94\u6765\u81ea\u67e5\u8be2\u548c\u6587\u6863\u7684\u8f93\u5165\u6570\u636e\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_14","title":"\u5982\u4f55\u901a\u8fc7\u540e\u68c0\u7d22\u5904\u7406\u63d0\u5347\u68c0\u7d22\u7ed3\u679c","text":"<p>\u5bf9\u4e8e\u672a\u7ecf\u5fae\u8c03\u7684\u5927\u578b\u8bed\u8a00\u6a21\u578b\uff0c\u591a\u6570\u7814\u7a76\u4f9d\u9760\u50cf GPT-4 \u8fd9\u6837\u7684\u77e5\u540d\u5927\u578b\u8bed\u8a00\u6a21\u578b\uff0c\u501f\u52a9\u5b83\u4eec\u5f3a\u5927\u7684\u5185\u90e8\u77e5\u8bc6\u5e93\u6765\u5168\u9762\u68c0\u7d22\u6587\u6863\u4fe1\u606f\u3002\u7136\u800c\uff0c\u8fd9\u4e9b\u5927\u578b\u6a21\u578b\u4ecd\u7136\u5b58\u5728\u4e00\u4e9b\u56fa\u6709\u95ee\u9898\uff0c\u6bd4\u5982\u4e0a\u4e0b\u6587\u957f\u5ea6\u9650\u5236\u548c\u5bf9\u5197\u4f59\u4fe1\u606f\u7684\u654f\u611f\u6027\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u4e00\u4e9b\u7814\u7a76\u5f00\u59cb\u5173\u6ce8\u540e\u68c0\u7d22\u5904\u7406\u3002\u540e\u68c0\u7d22\u5904\u7406\u6307\u7684\u662f\uff0c\u5728\u901a\u8fc7\u68c0\u7d22\u5668\u4ece\u5927\u578b\u6587\u6863\u6570\u636e\u5e93\u4e2d\u68c0\u7d22\u5230\u76f8\u5173\u4fe1\u606f\u540e\uff0c\u5bf9\u8fd9\u4e9b\u4fe1\u606f\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u5904\u7406\u3001\u8fc7\u6ee4\u6216\u4f18\u5316\u3002\u5176\u4e3b\u8981\u76ee\u7684\u662f\u63d0\u9ad8\u68c0\u7d22\u7ed3\u679c\u7684\u8d28\u91cf\uff0c\u66f4\u597d\u5730\u6ee1\u8db3\u7528\u6237\u9700\u6c42\u6216\u4e3a\u540e\u7eed\u4efb\u52a1\u505a\u51c6\u5907\u3002**\u53ef\u4ee5\u5c06\u5176\u7406\u89e3\u4e3a\u5bf9\u68c0\u7d22\u9636\u6bb5\u83b7\u5f97\u7684\u6587\u6863\u8fdb\u884c\u4e8c\u6b21\u5904\u7406\u3002**\u540e\u68c0\u7d22\u5904\u7406\u901a\u5e38\u5305\u62ec\u4fe1\u606f\u538b\u7f29\u548c\u7ed3\u679c\u7684\u91cd\u65b0\u6392\u5e8f\u3002</p> <ul> <li> <p>\u4fe1\u606f\u538b\u7f29\uff08Information Compression\uff09\uff1a\u4fe1\u606f\u538b\u7f29\u65b9\u9762\uff0c\u5373\u4f7f\u68c0\u7d22\u5668\u80fd\u591f\u4ece\u5e9e\u5927\u7684\u77e5\u8bc6\u5e93\u4e2d\u63d0\u53d6\u76f8\u5173\u4fe1\u606f\uff0c\u6211\u4eec\u4ecd\u7136\u9762\u4e34\u5904\u7406\u5927\u91cf\u68c0\u7d22\u6587\u6863\u4fe1\u606f\u7684\u6311\u6218\u3002\u4e00\u4e9b\u7814\u7a76\u8bd5\u56fe\u901a\u8fc7\u6269\u5927\u5927\u578b\u8bed\u8a00\u6a21\u578b\u7684\u4e0a\u4e0b\u6587\u957f\u5ea6\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u5f53\u524d\u7684\u5927\u6a21\u578b\u8fd8\u662f\u53d7\u5230\u4e0a\u4e0b\u6587\u9650\u5236\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8fdb\u884c\u4fe1\u606f\u6d53\u7f29\u53d8\u5f97\u5fc5\u8981\u3002\u603b\u4f53\u6765\u8bf4\uff0c\u4fe1\u606f\u6d53\u7f29\u7684\u91cd\u8981\u6027\u4e3b\u8981\u4f53\u73b0\u5728\u51cf\u5c11\u4fe1\u606f\u566a\u97f3\u3001\u89e3\u51b3\u4e0a\u4e0b\u6587\u957f\u5ea6\u9650\u5236\u548c\u63d0\u5347\u751f\u6210\u6548\u679c\u7b49\u65b9\u9762\u3002</p> </li> <li> <p>\u91cd\u65b0\u6392\u5e8f\uff08Rerank\uff09\uff1a\u5728\u6587\u6863\u91cd\u6392\u8fc7\u7a0b\u4e2d\uff0c\u91cd\u6392\u6a21\u578b\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u4f18\u5316\u7531\u68c0\u7d22\u5668\u68c0\u7d22\u51fa\u7684\u6587\u6863\u96c6\u5408\u3002</p> <p>\u5f53\u5927\u8bed\u8a00\u6a21\u578b (LLM) \u9762\u4e34\u989d\u5916\u4e0a\u4e0b\u6587\u7684\u6dfb\u52a0\u65f6\uff0c\u5176\u6027\u80fd\u5f80\u5f80\u4f1a\u4e0b\u964d\u3002\u4e3a\u4e86\u5e94\u5bf9\u8fd9\u4e00\u6311\u6218\uff0c\u91cd\u6392\u5e8f\u88ab\u63d0\u51fa\u4f5c\u4e3a\u4e00\u79cd\u884c\u4e4b\u6709\u6548\u7684\u7b56\u7565\u3002**\u5176\u6838\u5fc3\u5728\u4e8e\u5bf9\u6587\u6863\u8bb0\u5f55\u8fdb\u884c\u91cd\u65b0\u7ec4\u7ec7\uff0c\u4f18\u5148\u5b89\u6392\u6700\u76f8\u5173\u7684\u5185\u5bb9\u4f4d\u4e8e\u524d\u5217\uff0c\u540c\u65f6\u5c06\u6587\u6863\u603b\u91cf\u63a7\u5236\u5728\u4e00\u5b9a\u6570\u91cf\u4e4b\u5185\u3002**\u8fd9\u79cd\u505a\u6cd5\u4e0d\u4ec5\u6709\u6548\u7f13\u89e3\u4e86\u68c0\u7d22\u65f6\u53ef\u80fd\u51fa\u73b0\u7684\u4e0a\u4e0b\u6587\u7a97\u53e3\u6269\u5927\u95ee\u9898\uff0c\u4e5f\u663e\u8457\u63d0\u5347\u4e86\u68c0\u7d22\u7684\u6548\u7387\u548c\u54cd\u5e94\u901f\u5ea6\u3002\u91cd\u6392\u5e8f\u8fc7\u7a0b\u4e2d\u5f15\u5165\u7684\u4e0a\u4e0b\u6587\u538b\u7f29\u529f\u80fd\uff0c\u76ee\u7684\u662f\u57fa\u4e8e\u7279\u5b9a\u67e5\u8be2\u4e0a\u4e0b\u6587\u76f4\u63a5\u7b5b\u9009\u51fa\u76f8\u5173\u4fe1\u606f\u3002\u8fd9\u4e00\u7b56\u7565\u7684\u72ec\u7279\u4e4b\u5904\u5728\u4e8e\uff0c\u901a\u8fc7\u51cf\u5c11\u6bcf\u4e2a\u6587\u6863\u7684\u5185\u5bb9\u91cf\u548c\u7b5b\u9009\u6389\u4e0d\u76f8\u5173\u7684\u6587\u6863\uff0c\u5b83\u80fd\u66f4\u52a0\u96c6\u4e2d\u5730\u5c55\u793a\u68c0\u7d22\u7ed3\u679c\u4e2d\u7684\u5173\u952e\u4fe1\u606f\u3002\u56e0\u6b64\uff0c\u91cd\u6392\u5e8f\u6a21\u578b\u5728\u6574\u4e2a\u4fe1\u606f\u68c0\u7d22\u8fc7\u7a0b\u4e2d\u8d77\u5230\u4e86\u4f18\u5316\u548c\u7cbe\u5316\u7684\u4f5c\u7528\uff0c\u4e3a\u540e\u7eed\u5927\u8bed\u8a00\u6a21\u578b\u7684\u5904\u7406\u63d0\u4f9b\u4e86\u66f4\u52a0\u6709\u6548\u548c\u7cbe\u51c6\u7684\u8f93\u5165\u3002</p> </li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_15","title":"\u5982\u4f55\u4f18\u5316\u751f\u6210\u5668\u5e94\u5bf9\u8f93\u5165\u6570\u636e\uff1f","text":"<p>\u5728 RAG \u6a21\u578b\u4e2d\uff0c\u4f18\u5316\u751f\u6210\u5668\u662f\u81f3\u5173\u91cd\u8981\u7684\u3002\u751f\u6210\u5668\u8d1f\u8d23\u5c06\u68c0\u7d22\u5230\u7684\u4fe1\u606f\u8f6c\u5316\u4e3a\u76f8\u5173\u6587\u672c\uff0c\u5f62\u6210\u6a21\u578b\u7684\u6700\u7ec8\u8f93\u51fa\u3002\u5176\u4f18\u5316\u76ee\u7684\u5728\u4e8e\u786e\u4fdd\u751f\u6210\u6587\u672c\u65e2\u6d41\u7545\u53c8\u80fd\u6709\u6548\u5229\u7528\u68c0\u7d22\u6587\u6863\uff0c\u66f4\u597d\u5730\u56de\u5e94\u7528\u6237\u7684\u67e5\u8be2\u3002</p> <p>\u5728\u4e00\u822c\u7684\u5927\u8bed\u8a00\u6a21\u578b (LLM) \u751f\u6210\u4efb\u52a1\u4e2d\uff0c\u8f93\u5165\u901a\u5e38\u662f\u4e2a\u67e5\u8be2\u3002\u800c RAG \u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u8f93\u5165\u4e0d\u4ec5\u5305\u62ec\u67e5\u8be2\uff0c\u8fd8\u6db5\u76d6\u4e86\u68c0\u7d22\u5668\u627e\u5230\u7684\u591a\u79cd\u6587\u6863\uff08\u65e0\u8bba\u662f\u7ed3\u6784\u5316\u8fd8\u662f\u975e\u7ed3\u6784\u5316\uff09\u3002\u989d\u5916\u4fe1\u606f\u7684\u52a0\u5165\u5bf9\u6a21\u578b\u7406\u89e3\u5c24\u5176\u662f\u5c0f\u578b\u6a21\u578b\u9020\u6210\u663e\u8457\u5f71\u54cd\uff0c\u56e0\u6b64\uff0c\u9488\u5bf9\u67e5\u8be2\u548c\u68c0\u7d22\u6587\u6863\u7684\u8f93\u5165\u8fdb\u884c\u6a21\u578b\u5fae\u8c03\u53d8\u5f97\u5c24\u4e3a\u91cd\u8981\u3002\u4e00\u822c\u5728\u5c06\u8f93\u5165\u63d0\u4f9b\u7ed9\u5fae\u8c03\u8fc7\u7684\u6a21\u578b\u4e4b\u524d\uff0c\u9700\u8981\u5bf9\u68c0\u7d22\u5668\u627e\u5230\u7684\u6587\u6863\u8fdb\u884c\u540e\u7eed\u5904\u7406\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0cRAG \u4e2d\u5bf9\u751f\u6210\u5668\u7684\u5fae\u8c03\u65b9\u5f0f\u4e0e\u5927\u8bed\u8a00\u6a21\u578b\u7684\u666e\u901a\u5fae\u8c03\u65b9\u6cd5\u5927\u4f53\u76f8\u540c\u3002</p> <ul> <li>\u901a\u7528\u4f18\u5316\u8fc7\u7a0b\uff1a\u901a\u7528\u4f18\u5316\u8fc7\u7a0b\u6d89\u53ca\u8bad\u7ec3\u6570\u636e\u4e2d\u7684\u8f93\u5165\u8f93\u51fa\u5bf9\uff0c\u76ee\u7684\u662f\u8ba9\u6a21\u578b\u5b66\u4f1a\u6839\u636e\u8f93\u5165 x \u751f\u6210\u8f93\u51fa y\u3002</li> <li>\u8fd0\u7528\u5bf9\u6bd4\u5b66\u4e60\uff1a\u5728\u8bad\u7ec3\u6570\u636e\u51c6\u5907\u9636\u6bb5\uff0c\u901a\u5e38\u4f1a\u751f\u6210\u8f93\u5165\u548c\u8f93\u51fa\u4e4b\u95f4\u7684\u4ea4\u4e92\u5bf9\uff0c\u4ee5\u6b64\u8fdb\u884c\u5bf9\u6bd4\u5b66\u4e60\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#augmentation_in_rag","title":"Augmentation in RAG","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_16","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks \u8bba\u6587\u539f\u6587</li> <li>Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks \u8bba\u6587\u9605\u8bfb\u7b14\u8bb0</li> <li>Retrieval-Augmented Generation for Open-Domain QA</li> <li>\u68c0\u7d22\u3001\u63d0\u793a\uff1a\u68c0\u7d22\u589e\u5f3a\u7684\uff08Retrieval Augmented\uff09\u81ea\u7136\u8bed\u8a00\u5904\u7406</li> <li>Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks \u7b14\u8bb0</li> <li>\u4e3e\u4e00\u53cd\u4e09\uff1a\u793a\u4f8b\u589e\u5f3a\u7684\uff08example augmented\uff09\u81ea\u7136\u8bed\u8a00\u5904\u7406</li> <li>Langchain-Chatchat\u9879\u76ee\u5730\u5740</li> <li>Dify\u9879\u76ee\u5730\u5740</li> <li>Devv AI \u662f\u5982\u4f55\u6784\u5efa\u9ad8\u6548\u7684 RAG \u7cfb\u7edf\u7684</li> <li>Devv AI \u662f\u5982\u4f55\u6784\u5efa\u9ad8\u6548\u7684 RAG \u7cfb\u7edf\u7684 Part 2</li> <li> <p>\u9762\u5411\u5927\u8bed\u8a00\u6a21\u578b\u7684\u68c0\u7d22\u589e\u5f3a\u751f\u6210\u6280\u672f\uff1a\u8c03\u67e5 [\u8bd1]</p> </li> <li> <p>\u5927\u6a21\u578b\u4e3b\u6d41\u5e94\u7528RAG\u7684\u4ecb\u7ecd\u2014\u2014\u4ece\u67b6\u6784\u5230\u6280\u672f\u7ec6\u8282</p> </li> <li>RAG\u77e5\u8bc6\u76ee\u5f55</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E6%9E%B6%E6%9E%84%E5%9B%BE.html","title":"RAG \u67b6\u6784\u56fe","text":"<p>RAG\u67b6\u6784\u56fe</p> <p></p> <p>Llama-index RAG \u6d41\u7a0b\u56fe</p> <p></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9B%B8%E5%85%B3%E7%94%BB%E5%9B%BE.html","title":"RAG \u76f8\u5173\u753b\u56fe","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9B%B8%E5%85%B3%E7%94%BB%E5%9B%BE.html#rag_1","title":"RAG\u67b6\u6784\u56fe","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9B%B8%E5%85%B3%E7%94%BB%E5%9B%BE.html#rag_2","title":"RAG\u529f\u80fd\u70b9","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9B%B8%E5%85%B3%E7%94%BB%E5%9B%BE.html#langchain-chatchat","title":"Langchain-Chatchat\u5de5\u4f5c\u539f\u7406","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html","title":"RAG\u77e5\u8bc6\u5e93\u9879\u76ee\u91c7\u5751\u8bb0\u5f55","text":"<p>RAG\u7cfb\u7edf\u67b6\u6784\u56fe</p> <p></p> <p>\u4e0b\u9762\u7684Langchain\u6846\u67b6\u7248\u672c\u4e3a0.2.7\uff0cLlamaIndex\u6846\u67b6\u7248\u672c\u4e3a0.10.45\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_1","title":"\u52a0\u8f7d","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#langchain","title":"Langchain\u6846\u67b6","text":"<p>Langchain\u6846\u67b6\u7684\u6587\u6863\u52a0\u8f7d\u5728<code>langchain_community</code>\u5305\u7684<code>document_loaders</code> \u6a21\u5757\u4e2d\uff0c\u5176\u4e2d\u6709\u5f88\u591aloader\u90fd\u662f\u7528\u7684\u4e00\u4e2a\u6bd4\u8f83\u6d41\u884c\u7684\u5e93<code>unstructured</code>\u3002</p> <p>\u5e38\u7528\u7684loader\u6709\uff1a</p> <ul> <li>BaseLoader\uff1a\u6240\u6709loader\u7684\u57fa\u7c7b\uff0c<code>load</code>\u65b9\u6cd5\u5c06\u6587\u4ef6\u8bfb\u53d6\u4e4b\u540e\u8fd4\u56de\u4e00\u4e2aDocument\u5bf9\u8c61\u5217\u8868\u3002</li> <li>TextLoader\uff1a\u52a0\u8f7dtxt\u6587\u4ef6\u3002</li> <li>CSVLoader\uff1a\u52a0\u8f7dCSV\u6587\u4ef6\uff0ccsv\u4e2d\u7684\u7b2c\u4e00\u884c\u662f\u8868\u683c\u4e2d\uff0c\u5c06\u6bcf\u4e00\u884c\u6570\u636e\u7684\u6bcf\u4e00\u5217\u548c\u6807\u9898\u62fc\u63a5\u8d77\u6765\u62fc\u63a5\u6210\u4e00\u4e2aDocument\u5bf9\u8c61\u3002\u8001\u7248\u672c\u4f7f\u7528UTF-8\u7f16\u7801\u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u5728windows\u4e0a\u81ea\u52a8\u8bc6\u522b\u7f16\u7801\u6709\u95ee\u9898\u3002</li> <li>UnstructuredExcelLoader\uff1a \u4f7f\u7528<code>unstructured</code>\u5e93\u52a0\u8f7dExcel\u6587\u4ef6\u3002</li> <li>UnstructuredPDFLoader\uff1a \u4f7f\u7528<code>unstructured</code>\u5e93\u52a0\u8f7dPDF\u6587\u4ef6\u3002</li> <li>PyPDFLoader\uff1a\u4f7f\u7528<code>pypdf</code>\u5e93\u52a0\u8f7dPDF\u6587\u4ef6\u3002\u5c06page\u4e2d\u7684text\u63d0\u53d6\u51fa\u6765\uff0c\u56fe\u7247\u90fd\u4f7f\u7528<code>rapidocr_onnxruntime</code>\u5e93\u63d0\u53d6\u51fatext\uff0c\u4e0b\u9762\u7684<code>PDFLoader</code>\u7684\u56fe\u7247\u4e5f\u662f\u4e00\u6837\u7684\u5904\u7406\u3002</li> <li>PyPDFium2Loader: \u4f7f\u7528<code>pypdfium2</code>\u5e93\u52a0\u8f7dPDF\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528HTTP URL\u52a0\u8f7dPDF\u3002</li> <li>PyPDFDirectoryLoader\uff1a\u4f7f\u7528<code>PyPDFLoader</code>\u52a0\u8f7d\u4e00\u4e2a\u76ee\u5f55\u548c\u5b50\u76ee\u5f55\u4e0b\u9762\u7684\u6240\u6709PDF\u3002</li> <li>PDFMinerLoader\uff1a\u4f7f\u7528<code>pdfminer</code>\u5e93\u52a0\u8f7dPDF\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528HTTP URL\u52a0\u8f7dPDF\u3002</li> <li>WebBaseLoader\uff1a\u52a0\u8f7d\u7f51\u9875\uff0c\u4f7f\u7528<code>bs4</code>\u5e93\u89e3\u6790\u3002</li> <li>UnstructuredMarkdownLoader: \u4f7f\u7528<code>unstructured</code>\u5e93\u52a0\u8f7dMarkdown\u6587\u4ef6\uff0c\u9996\u5148\u4f1a\u4f7f\u7528markdown\u5e93\u5c06markdown\u6587\u4ef6\u89e3\u6790\u6210html\uff0c\u7136\u540ehtml\u7684\u89e3\u6790\u65b9\u6cd5\u3002\u5b9e\u6d4b\u4f1a\u5c06\u6587\u4ef6\u4e2d\u7684\u6807\u9898\u4fe1\u606f\uff0c\u94fe\u63a5\u4fe1\u606f\uff0c\u56fe\u7247\u4fe1\u606f\u4e22\u5f03\u6389\u3002\u4e0d\u8981\u4f7f\u7528\u3002\u3002</li> <li>Docx2txtLoader: \u4f7f\u7528<code>docx2txt</code>\u5e93\u52a0\u8f7d<code>docx</code>\u548c<code>doc</code>\u6587\u4ef6\uff0c\u4f1a\u76f4\u63a5\u628a\u6587\u4ef6\u4e2d\u7684\u6587\u672c\u63d0\u53d6\u51fa\u6765\uff0c\u8868\u683c\u4f1a\u76f4\u63a5\u53d8\u6210\u6587\u672c\uff0c\u4e22\u5931\u884c\u548c\u5217\u7684\u4fe1\u606f\uff0c\u56fe\u7247\u4f1a\u76f4\u63a5\u4e22\u5f03\u6389\u3002\u614e\u7528\u3002</li> <li>UnstructuredImageLoader\uff1a\u4f7f\u7528<code>unstructured</code>\u5e93\u52a0\u8f7d\u56fe\u7247\u6587\u4ef6\u3002</li> <li>UnstructuredHTMLLoader: \u4f7f\u7528<code>unstructured</code>\u5e93\u52a0\u8f7dHTML\u6587\u4ef6\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#llamaindex","title":"LlamaIndex\u6846\u67b6","text":"<p>\u5728 LlamaIndex \u6846\u67b6\u4e2d\uff0c\u4f7f\u7528<code>reader</code>\u6765\u52a0\u8f7d\u6587\u4ef6\uff0c\u52a0\u8f7d\u6587\u4ef6\u5728<code>llma_index.core.readers.file</code> \u6a21\u5757\u4e2d\uff0c\u9700\u8981\u5b89\u88c5<code>llama-index-readers-file</code>\u5e93\u3002</p> <p>LlamaIndex \u6846\u67b6\u7684\u6587\u6863\u52a0\u8f7d\u4f7f\u7528\u4e4b\u540e\u6548\u679c\u4e0d\u662f\u7279\u522b\u597d\uff0c\u6240\u4ee5LlamaIndex \u53c8\u5f00\u53d1\u4e86\u4e00\u4e2aLlamaParse\u5e93\u5728\u7ebf\u89e3\u6790\uff0c\u4f7f\u7528APIKEY \u8bbf\u95ee\u3002</p> <p>\u7531\u4e8e\u9700\u8981\u52a0\u8f7d\u7684\u6587\u4ef6\u662f\u516c\u53f8\u5185\u90e8\u4f7f\u7528\uff0c\u5728\u7ebf\u89e3\u6790\u4f1a\u5bfc\u81f4\u6cc4\u5bc6\u3002\u6240\u4ee5\u8fd9\u79cd\u65b9\u6848\u4e0d\u9002\u7528\u3002\u672a\u9a8c\u8bc1\u5728\u7ebf\u89e3\u6790\u7684\u6548\u679c\u3002</p> <pre><code>pip install llama-index-readers-file\n</code></pre> <p>\u5e38\u89c1\u7684reader:</p> <ul> <li>BaseReader: \u6240\u6709reader\u7684\u7236\u7c7b\uff0c<code>load_data</code>\u65b9\u6cd5\u5c06\u6587\u6863\u8bfb\u53d6\u4e4b\u540e\u8fd4\u56de\u4e00\u4e2a<code>Document</code>\u5bf9\u8c61\u7684\u5217\u8868\u3002</li> <li>SimpleDirectoryReader\uff1a\u8bfb\u53d6\u4e00\u4e2a\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\uff0c\u6839\u636e\u6587\u4ef6\u540e\u7f00\u5339\u914d\u5bf9\u5e94\u7684reader\uff0c\u53ef\u4ee5\u901a\u8fc7<code>input_files</code>\u53c2\u6570\u6307\u5b9a\u8981\u8bfb\u53d6\u7684\u6587\u4ef6\u540d\u3002</li> <li>PDFReader: \u4f7f\u7528<code>pypdf</code>\u5e93\u52a0\u8f7dPDF\u6587\u4ef6\u3002\u4ecepage\u4e2d\u63d0\u53d6text\uff0c\u56fe\u7247\u76f4\u63a5\u4e22\u5f03\u6389\u3002</li> <li>DocxReader\uff1a\u4f7f\u7528<code>docx2txt</code>\u5e93\u52a0\u8f7dword\u6587\u4ef6\uff0c\u56fe\u7247\u76f4\u63a5\u4e22\u5f03\u6389\uff0c\u8868\u683c\u4fe1\u606f\u76f4\u63a5\u53d8\u6210\u6587\u672c\uff0c\u4e22\u5931\u884c\u548c\u5217\u7684\u4fe1\u606f\uff0c\u614e\u7528\u3002</li> <li>MarkdownReader\uff1a\u5c06\u6240\u6709\u884c\u8bfb\u53d6\u51fa\u6765\uff0c\u7136\u540e\u6309\u7167<code>#</code>\u5206\u5272\uff0c\u5c06header\u548ccontent\u62fc\u63a5\u6210\u4e00\u4e2aDocument\uff0c\u62fc\u63a5\u65f6\u4f1a\u5c06<code>#</code>\u53bb\u6389\uff0c\u8fd9\u4e2a\u95ee\u9898\u8fd8\u6ca1\u4eba\u53cd\u9988\u3002\u7b2c\u4e00\u4e2a<code>#</code>\u524d\u9762\u6709\u5185\u5bb9\u7684\u8bdd\uff0c\u4f1a\u5c06\u7b2c\u4e00\u4e2a<code>#</code>\u524d\u9762\u7684\u5185\u5bb9\u4e22\u5931\u3002\u6211\u7ed9LlamaIndex\u63d0\u4e86\u8fd9\u4e2aBUG\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#unstructured","title":"Unstructured\u5e93","text":"<p><code>Unstructured</code>\u5e93\u4e3aRAG\u5e94\u7528\u548c\u5fae\u8c03\u63d0\u4f9b\u4e86\u5f88\u591a\u5904\u7406\u975e\u7ed3\u6784\u5316\u6587\u6863\u7684\u5de5\u5177\u3002\u662f\u4e00\u4e2a\u975e\u5e38\u5f3a\u5927\u7684\u6587\u6863\u89e3\u6790\u5e93\u3002</p> <p>\u67093\u4e2d\u4f7f\u7528\u65b9\u5f0f\u3002</p> <ul> <li>api\uff1a\u4f7f\u7528api key\u8c03\u7528Unstructured\u7684\u63a5\u53e3\u89e3\u6790\u6587\u4ef6\u3002\u7531 Unstructured \u6258\u7ba1\uff0c\u6570\u636e\u5904\u7406\u4e0a\u9650\u4e3a 1000 \u9875\uff0c\u63d0\u4ea4\u7ed9\u514d\u8d39 API \u7684\u6587\u6863\u4f1a\u88ab<code>Unstructured</code>\u7684\u6a21\u578b\u8bad\u7ec3\u548c\u8bc4\u4f30\u3002</li> <li>Sass \u5e73\u53f0\uff1a\u00b7Unstructured`\u6258\u7ba1\u7684Sass API\uff0c\u53ef\u6269\u5c55\u548c\u5b89\u5168\u3002\u6570\u636e\u4fdd\u6301\u79c1\u5bc6\u3002</li> <li>\u5f00\u6e90\u6846\u67b6<code>Unstructured</code>\u5e93\uff1a\u9002\u5408\u539f\u578b\u8bbe\u8ba1\u3002 <code>unstructured</code> \u5e93\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5f00\u6e90\u5de5\u5177\u5305\uff0c\u65e8\u5728\u7b80\u5316\u5404\u79cd\u6570\u636e\u683c\u5f0f\u7684\u6444\u53d6\u548c\u9884\u5904\u7406\uff0c\u5305\u62ec\u56fe\u50cf\u548c\u57fa\u4e8e\u6587\u672c\u7684\u6587\u6863\uff0c\u5982 PDF\u3001HTML \u6587\u4ef6\u3001Word \u6587\u6863\u3002</li> </ul> <p>\u5f00\u6e90\u6846\u67b6<code>Unstructured</code>\u53ef\u4ee5\u4f7f\u7528Docker\u8fd0\u884c\u6216pip\u5b89\u88c5\u3002 </p> <p>\u5b89\u88c5<code>Unstructured</code>\u5f00\u6e90\u5e93 <pre><code># \u5b89\u88c5\u6240\u6709\u683c\u5f0f\u7684\u6587\u6863\u89e3\u6790\npip install \"unstructured[all-docs]\"\n# \u5b89\u88c5\u6307\u5b9a\u683c\u5f0f\u7684\u6587\u4ef6\u89e3\u6790\npip install \"unstructured[docx,md,pdf,csv,docx]\"\n</code></pre></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_2","title":"\u603b\u7ed3","text":"<ul> <li>Docx2txtLoader\uff1a \u4f1a\u76f4\u63a5\u628a\u6587\u4ef6\u4e2d\u7684\u6587\u672c\u63d0\u53d6\u51fa\u6765\uff0c\u8868\u683c\u4f1a\u76f4\u63a5\u53d8\u6210\u6587\u672c\uff0c\u4e22\u5931\u884c\u548c\u5217\u7684\u4fe1\u606f\uff0c\u56fe\u7247\u4f1a\u76f4\u63a5\u4e22\u5f03\u6389\u3002\u614e\u7528\u3002</li> <li>UnstructuredMarkdownLoader\uff1a**\u5b9e\u6d4b\u4f1a\u5c06\u6587\u4ef6\u4e2d\u7684\u6807\u9898\u4fe1\u606f\uff0c\u94fe\u63a5\u4fe1\u606f\uff0c\u56fe\u7247\u4fe1\u606f\u4e22\u5f03\u6389\u3002\u4e0d\u8981\u4f7f\u7528\u3002**Markdow\u6587\u4ef6\u7684\u52a0\u8f7d\u57fa\u4e8eLlamaIndex\u6846\u67b6\u4e2d\u7684MarkdownReader\u5b9e\u73b0\u3002markdown\u683c\u5f0f\u7684\u6587\u4ef6\u5728\u52a0\u8f7d\u7684\u65f6\u5019\u6309\u7167<code>#</code>\u8fdb\u884c\u5206\u9694\u6210\u591a\u4e2aDocument\u3002\u5728\u5206\u7247\u7684\u65f6\u5019\u5c31\u4e0d\u518d\u8fdb\u884c\u5206\u7247\u4e86\u3002\u00b7</li> <li>CSVLoader\uff1a\u4f7f\u7528UTF-8\u7f16\u7801\u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u5728windows\u4e0a\u81ea\u52a8\u8bc6\u522b\u7f16\u7801\u6709\u95ee\u9898\u3002\u9700\u8981\u624b\u52a8\u6307\u5b9a\u7f16\u7801\u683c\u5f0f\u3002</li> <li>docx2\uff0cpdf\u683c\u5f0f\u53ef\u4ee5\u8f6c\u6362\u6210markdown\u683c\u5f0f\u518d\u4f7f\u7528markdown\u683c\u5f0f\u6765\u89e3\u6790\u3002\u53c2\u8003maxkb\u9879\u76ee\u3002</li> </ul> <p>markdown\u52a0\u8f7d\u5b9e\u73b0\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_3","title":"\u5206\u7247","text":"<p>\u6587\u6863\u52a0\u8f7d\u5b8c\u4e4b\u540eDocument\u5bf9\u8c61\u7684\u957f\u5ea6\u53ef\u80fd\u6bd4\u8f83\u957f\uff0c\u6709\u53ef\u80fd\u8d85\u8fc7LLM\u7684\u4e0a\u4e0b\u6587\u7a97\u53e3\u3002\u6240\u4ee5\u9700\u8981\u5c06Document\u5bf9\u8c61\u8fdb\u884c\u5206\u7247\uff0c\u62c6\u5206\u6210\u5c0f\u7684\u6587\u672c\u5757(chunk)\u3002</p> <p>Langchain\u548cLlamaIndex\u5e38\u89c1\u7684splitter\u5bf9\u6bd4\u5982\u4e0b\uff1a</p> <p></p> <p>LangChain\u6846\u67b6\u4e2d\u7684\u5206\u7247\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u5305\uff0c<code>langchain-text-splitters</code></p> <p>\u5b89\u88c5\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>pip install langchain-text-splitters\n</code></pre> <p>\u6ce8\u610f\u70b9\uff1a</p> <ul> <li>\u5bf9\u4e8eCSV\uff0cEXCEL\u6587\u4ef6\u5e38\u89c1\u7684\u65b9\u6848\u662f\u5c06\u4e00\u884c\u5f53\u4f5c\u4e00\u4e2achunk\u3002</li> <li>\u5bf9\u4e8emarkdown\u683c\u5f0f\uff0c\u5728\u52a0\u8f7d\u7684\u65f6\u5019\u5904\u7406\u597d,\u901a\u8fc7<code>#</code>\u53f7\uff0c\u5c06\u6807\u9898\u548c\u4e0b\u9762\u7684\u5185\u5bb9\u5206\u6210\u4e00\u4e2achunk\uff0c\u4e0d\u8fdb\u884c\u5206\u7247\u3002</li> <li>SentenceSplitter\u548cRecursiveCharacterTextSplitter\u539f\u7406\u4e00\u6837\uff0c\u5148\u62c6\u6210\u6700\u5c0f\u7684\u53e5\u5b50\uff0c\u7136\u540e\u5408\u5e76\u5230chunk_size\u5927\u5c0f\u3002</li> <li>RecursiveCharacterTextSplitter\u662f\u9012\u5f52\u7684\u8fdb\u884c\u5206\u7247\uff0c\u5148\u901a\u8fc7\u4e24\u4e2a\u6216\u4e09\u4e2a\u6362\u884c\u7b26\u62c6\u5206\u6210\u6bd4\u8f83\u5927\u7684chunk\uff0c\u7136\u540e\u5728\u901a\u8fc7\u4e00\u4e2a\u6362\u884c\u7b26\u5206\u6210\u6bd4\u8f83\u5c0f\u7684chunk\uff0c\u7136\u540e\u901a\u8fc7\u53e5\u53f7\u3001\u611f\u53f9\u53f7\u3001\u95ee\u9898\uff0c\u9017\u53f7\uff0c\u7a7a\u683c\u7b49\u62c6\u6210\u66f4\u5c0f\u7684\u53e5\u5b50\u3002\u7136\u540e\u5728\u6309\u7167chunk_size\u548coverlap\u5408\u5e76\u6210\u4e00\u4e2a\u5927\u5c0f\u4e0d\u8d85\u8fc7chunk_size\u7684\u4e00\u4e2a\u5927\u7684\u6587\u672c\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_4","title":"\u6784\u5efa\u7d22\u5f15","text":"<p>\u5c06Document\u5206\u7247\u4e4b\u540e\u5c31\u9700\u8981\u5bf9\u5206\u7247\u4e4b\u540e\u7684chunk\u8fdb\u884c\u7d22\u5f15\uff0c\u5b58\u50a8\u5230\u5411\u91cf\u6570\u636e\u5e93\u6216\u6587\u6863\u6570\u636e\u5e93\u4e2d\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_5","title":"\u5411\u91cf\u6570\u636e\u5e93\u9009\u62e9","text":"<p>\u5e38\u89c1\u7684\u5411\u91cf\u6570\u636e\u5e93\u4e13\u95e8\u7684\u5411\u91cf\u6570\u636e\u5e93\u5982\uff1a</p> <ul> <li>Chroma</li> <li>Milvus</li> <li>Faiss</li> <li>Weaviate</li> <li>Qdrant</li> </ul> <p>\u4f20\u7edf\u7684\u6570\u636e\u5e93\uff0c\u6dfb\u52a0\u4e86\u5411\u91cf\u7c7b\u578b\u7684\u5b57\u6bb5\uff0c\u5982\uff1a</p> <ul> <li>Elasticsearch</li> <li>PostgreSQL</li> <li>MongDB</li> </ul> <p>\u4f20\u7edf\u7684\u6570\u636e\u5e93\uff0c\u6dfb\u52a0\u4e86\u5411\u91cf\u7c7b\u578b\u7684\u5b57\u6bb5\uff0c\u5728\u5411\u91cf\u68c0\u7d22\u7684\u7684\u65f6\u5019\uff0c\u6027\u80fd\u6ca1\u6709\u4e13\u95e8\u7684\u5411\u91cf\u6570\u636e\u5e93\u6027\u80fd\u597d\u3002\u6240\u4ee5\u5c31\u6392\u9664\u4e86\u4f20\u7edf\u7684\u6570\u636e\u5e93\u3002</p> <p>\u5728\u5f00\u6e90\u7684\u5411\u91cf\u6570\u636e\u5e93\u4e2d\uff0c\u6700\u5f00\u59cb\u6211\u9009\u62e9\u7684\u662fMilvus 2.3\u7248\u672c\uff0cMilvus\u652f\u6301metadata filter\uff08\u5143\u6570\u636e\u8fc7\u6ee4\uff09\uff0c\u4f46\u662fMilvus 2.3 \u7248\u672c\u4e0d\u652f\u6301\u5f02\u6b65\uff0c\u4e5f\u4e0d\u652f\u6301Hybrid Search\uff08\u6df7\u5408\u68c0\u7d22\uff09\u3002</p> <p>\u540e\u6765\u8c03\u7814\u53d1\u73b0qdrant\u7684\u6027\u80fd\u975e\u5e38\u9ad8\uff0cQdrant\u91c7\u7528Rust\u8bed\u8a00\u7f16\u5199\uff0c\u652f\u6301Metadata filter\uff08\u5143\u6570\u636e\u8fc7\u6ee4\uff09\u548cHybrid Search\uff08\u6df7\u5408\u68c0\u7d22\uff09\uff0c\u540c\u65f6\u652f\u6301\u5f02\u6b65\uff0cqdrant\u7684\u90e8\u7f72\u975e\u5e38\u8f7b\u677e\uff0c\u76f4\u63a5\u4f7f\u7528Docker-compose\u90e8\u7f72\u4e00\u4e2aservice\u5c31\u53ef\u4ee5\uff0cMilvus\u8fd8\u9700\u8981\u4f9d\u8d56etcd\u548cMinIO\u3002\u6240\u4ee5\u6700\u7ec8\u9009\u62e9\u4e86qdrant\u3002</p> <p>\u5176\u5b9eMilvus\u5411\u91cf\u6570\u636e\u5e93\u7684\u529f\u80fd\u975e\u5e38\u5f3a\u5927\uff0c\u5b83\u76f8\u6bd4\u5176\u4ed6\u5411\u91cf\u6570\u636e\u5e93\u652f\u6301\u66f4\u591a\u7684\u76f8\u4f3c\u5ea6\u68c0\u7d22\u7b97\u6cd5\u548c\u6307\u6807\u3002\u57282024\u5e744\u6708\u4efd\u53d1\u5e03\u76842.4\u7248\u672c\u4e5f\u652f\u6301\u4e86Hybrid Search\uff0c\u4f46\u662f\u8fd8\u662f\u4e0d\u652f\u6301\u5f02\u6b65\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_6","title":"\u76f8\u4f3c\u5ea6\u7b97\u6cd5\u548c\u6307\u6807\u9009\u62e9","text":"<p>\u5e38\u89c1\u7684\u6709\u76f8\u4f3c\u5ea6\u7b97\u6cd5\u4e3aHNSW\u7b97\u6cd5\u3001IDF\u7b97\u6cd5\u3002</p> <p>HNSW\uff08Hierarchical Navigable Small World\uff09\u7b97\u6cd5\u662f\u4e00\u79cd\u9ad8\u6548\u7684\u8fd1\u4f3c\u6700\u8fd1\u90bb\u641c\u7d22\uff08Approximate Nearest Neighbor Search\uff09\u7b97\u6cd5\u3002\u5b83\u57fa\u4e8e\u5c0f\u4e16\u754c\u56fe\uff08Small World Graph\uff09\u7684\u6982\u5ff5\uff0c\u80fd\u591f\u5728\u5927\u89c4\u6a21\u9ad8\u7ef4\u6570\u636e\u96c6\u4e2d\u5feb\u901f\u627e\u5230\u8fd1\u4f3c\u7684\u6700\u8fd1\u90bb\u3002HNSW\u5728\u5b9e\u8df5\u4e2d\u88ab\u8bc1\u660e\u5177\u6709\u5f88\u9ad8\u7684\u6027\u80fd\uff0c\u5c24\u5176\u9002\u7528\u4e8e\u641c\u7d22\u95ee\u9898\u4e2d\u7684\u9ad8\u7ef4\u7a7a\u95f4\uff0c\u5982\u56fe\u50cf\u68c0\u7d22\u3001\u63a8\u8350\u7cfb\u7edf\u7b49</p> <p>IVF\uff08Inverted File\uff09\u7b97\u6cd5\u662f\u4e00\u79cd\u7528\u4e8e\u9ad8\u6548\u8fd1\u4f3c\u6700\u8fd1\u90bb\u641c\u7d22\uff08Approximate Nearest Neighbor Search\uff0cANN\uff09\u7684\u7d22\u5f15\u65b9\u6cd5\uff0c\u7279\u522b\u9002\u7528\u4e8e\u5927\u89c4\u6a21\u9ad8\u7ef4\u6570\u636e\u96c6\u3002IVF\u901a\u8fc7\u5c06\u6570\u636e\u5206\u5272\u6210\u591a\u4e2a\u7c07\uff08clusters\uff09\uff0c\u5e76\u4f7f\u7528\u5012\u6392\u6587\u4ef6\uff08Inverted File\uff09\u8fdb\u884c\u7d22\u5f15\uff0c\u4ee5\u4fbf\u5feb\u901f\u67e5\u627e\u8fd1\u4f3c\u90bb\u5c45\u3002</p> <p>\u5e38\u89c1\u7684\u76f8\u4f3c\u5ea6\u6307\u6807\u6709\uff1a</p> <ul> <li>cosine\uff1a\u4f59\u5f26\u76f8\u4f3c\u5ea6\uff0c\u8d8a\u63a5\u8fd11\u8868\u793a\u8d8a\u76f8\u4f3c\uff0c\u4f59\u5f26\u76f8\u4f3c\u5ea6\u7684\u53d6\u503c\u8303\u56f4\u4e3a -1 \u5230 1\uff0c-1\u8868\u793a\u4e24\u4e2a\u5411\u91cf\u5b8c\u5168\u76f8\u53cd\uff0c1\u8868\u793a\u4e24\u4e2a\u5411\u91cf\u5b8c\u5168\u76f8\u540c\uff0c0\u8868\u793a\u4e24\u4e2a\u5411\u91cf\u6b63\u4ea4\uff0c\u5373\u5b83\u4eec\u4e4b\u95f4\u7684\u5939\u89d2\u4e3a90\u5ea6\uff0c\u6ca1\u6709\u76f8\u4f3c\u6027\u3002</li> <li>dot\uff1a\u70b9\u79ef\u5728\u51e0\u4f55\u4e0a\u7684\u610f\u4e49\u662f\u4e24\u4e2a\u5411\u91cf\u7684\u957f\u5ea6\u548c\u5b83\u4eec\u4e4b\u95f4\u5939\u89d2\u4f59\u5f26\u503c\u7684\u4e58\u79ef\u3002</li> <li>euclidean\uff1aL2\u8ddd\u79bb\uff0c\u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb\uff08Euclidean Distance\uff09\u662f\u4e24\u70b9\u4e4b\u95f4\u6700\u76f4\u89c2\u7684\u76f4\u7ebf\u8ddd\u79bb\uff0c\u9002\u7528\u4e8e\u4efb\u610f\u7ef4\u5ea6\u7684\u7a7a\u95f4\u3002\u4e5f\u662f\u6211\u4eec\u5e73\u65f6\u6700\u5e38\u7528\u7684\uff0c\u4e24\u70b9\u4e4b\u95f4\u7684\u76f4\u7ebf\u8ddd\u79bb\u3002</li> <li>manhattan\uff1aL1\u8ddd\u79bb\uff0c\u66fc\u54c8\u987f\u8ddd\u79bb\uff08Manhattan Distance\uff09\uff0c\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u53ea\u80fd\u6a2a\u7740\u8d70\u6216\u7ad6\u7740\u8d70\uff0c\u662f\u4e24\u70b9\u4e4b\u95f4\u6cbf\u8f74\u7ebf\u65b9\u5411\u7684\u8ddd\u79bb\u4e4b\u548c\u3002</li> <li>hamming\uff1a\u6c49\u660e\u8ddd\u79bb\uff08Hamming Distance\uff09\u662f\u7528\u4e8e\u8861\u91cf\u4e24\u4e2a\u7b49\u957f\u5b57\u7b26\u4e32\u6216\u5411\u91cf\u4e4b\u95f4\u4e0d\u540c\u4f4d\u7f6e\u7684\u6570\u91cf\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#embeding","title":"embeding\u6a21\u578b","text":"<p>\u53c2\u8003\u94fe\u63a5\uff1a \u5982\u4f55\u9009\u62e9RAG\u7684Embedding\u6a21\u578b\uff1f</p> <p>\u5f00\u59cb\u6211\u4eec\u4f7f\u7528\u7684\u662fm3e-base\u6a21\u578b\uff0c\u6211\u4eec\u5b9e\u9645\u7684\u6d4b\u8bd5\u4e2d\uff0c\u6211\u4eec\u4e3b\u89c2\u4e0a\u5224\u65ad\u6709\u4e00\u4e9b\u5206\u7247\u8ddf\u95ee\u9898\u662f\u4e0d\u76f8\u5173\u7684\u3002\u4f46\u662f\u4f7f\u7528\u5411\u91cf\u6570\u636e\u5e93\u68c0\u7d22\u51fa\u6765\u662f\u6bd4\u8f83\u76f8\u4f3c\u7684\uff0c\u5bfc\u81f4\u56de\u7b54\u6548\u679c\u4e0d\u597d\uff0c\u5c06Embeding\u6a21\u578b\u5207\u6362\u5230beg-base-zh-v1.5\u4e4b\u540e\uff0c\u4e0a\u8ff0\u7684\u95ee\u9898\u6548\u679c\u5c31\u597d\u4e86\u5f88\u591a\u3002</p> <p>\u540e\u9762\u53d1\u73b0\u5207\u6362\u5230beg-base-zh-v1.5\u4e86\u8fd8\u662f\u6709\u4e00\u4e9b\u95ee\u9898\u76f8\u4f3c\u5ea6\u6bd4\u8f83\u7684\u4e0d\u597d\uff0c\u4f8b\u5982dev\u73af\u5883\u548c\u5f00\u53d1\u73af\u5883\uff0ctest\u73af\u5883\u548c\u6d4b\u8bd5\u73af\u5883\uff0c\u8fd9\u4e2a\u7528\u76f8\u4f3c\u5ea6\u7b97\u6cd5\u7b97\u51fa\u6765\u4e0d\u76f8\u4f3c\uff0c\u4f46\u662f\u7528\u6237\u9700\u8981\u8fd9\u7c7b\u95ee\u9898\u8981\u76f8\u4f3c\u6027\u8f83\u597d\u3002\u5c31\u5bf9bge-base-zh-v1.5\u6a21\u578b\u505a\u4e86\u5fae\u8c03\uff0c\u5fae\u8c03\u4e4b\u540e\u5c31\u89e3\u51b3\u4e86\u524d\u9762\u7684\u7684\u95ee\u9898\uff0c\u4f46\u662f\u6211\u4eec\u5fae\u8c03\u7684\u65f6\u5019\u53ea\u4f7f\u7528\u4e86\u9886\u57df\u5185\u7684\u6570\u636e\uff0c\u6ca1\u6709\u52a0\u5165\u901a\u7528\u6570\u636e\uff0c\u5fae\u8c03\u4e4b\u540e\u7684\u6a21\u578b\u5bf9\u901a\u7528\u7684\u67e5\u8be2\u8ba1\u7b97\u76f8\u4f3c\u5ea6\u7684\u6548\u679c\u66f4\u5dee\u4e86\u3002</p> <p>\u57282024\u5e741\u6708\u4efd\uff0cbge\u53d1\u5e03\u4e86bge-m3\u6a21\u578b\uff0c\u8fd9\u4e2a\u6a21\u578b\u652f\u6301input\u957f\u5ea6\u6700\u5927\u4e3a8192\u4e2atoken\uff0cbge-base\u548cm3e-base\u90fd\u662f512\u4e2atoken\u3002bge-m3\u67091024\u7ef4\uff0cbge-base\u548cm3e-base\u90fd\u53ea\u6709768\u7ef4\u3002\u5e76\u4e14bge-m3\u8fd9\u4e00\u4e2a\u6a21\u578bencode\u4e4b\u540e\u53ef\u4ee5\u8f93\u51fa\u7a20\u5bc6\u7684\u5411\u91cf\u548c\u7a00\u758f\u7684\u5411\u91cf\uff0c\u53ef\u4ee5\u548c\u5411\u91cf\u6570\u636e\u5e93\u7684Hybrid Search\u7ed3\u5408\u8d77\u6765\u4f7f\u7528\u3002</p> <p>\u540e\u9762\u6211\u4eec\u66f4\u6362\u5230\u4e86\u8fd9\u4e2a\u6a21\u578b\uff0c\u5e76\u4e14\u914d\u5957\u7684Rerank\u6a21\u578b\u4e5f\u5207\u6362\u5230\u4e86bge-reranker-v2-m3\u3002 \u5207\u6362\u5230bge-m3\u4e4b\u540e\uff0c\u9488\u5bf9dev\u73af\u5883\u548c\u5f00\u53d1\u73af\u5883\u4e0d\u76f8\u4f3c\u7684\u95ee\u9898\u4e5f\u6ca1\u6709\u9047\u5230\uff0c\u5c31\u6ca1\u6709\u7ee7\u7eed\u8fdb\u884c\u5fae\u8c03Embedding\u6a21\u578b\u4e86\u3002</p> <p>\u6ce8\u610f\uff1a</p> <ul> <li>bg3-base\u548cm3e-bae\u7684input max length\u90fd\u4e3a512 token\uff0c\u5982\u679c\u5206\u7247\u7684\u957f\u5ea6\u5927\u4e8e\u8fd9\u4e2a\uff0c\u540e\u9762\u7684\u5185\u5bb9\u4f1a\u88ab\u622a\u65ad\u3002\u5bfc\u81f4\u5411\u91cf\u68c0\u7d22\u7684\u6548\u679c\u4e0d\u597d\u3002</li> <li>\u5207\u6362\u6a21\u578b\u4e4b\u540e\uff0c\u5411\u91cf\u6570\u636e\u5e93\u4e2d\u7684Embedding\u6570\u636e\u9700\u8981\u91cd\u65b0\u7528\u65b0\u7684\u6a21\u578b\u91cd\u65b0\u751f\u6210\uff0c\u5982\u679c\u6a21\u578b\u7684\u7ef4\u5ea6\u53d1\u751f\u53d8\u5316\u4e4b\u540e\uff0c\u9700\u8981\u5c06\u5411\u91cf\u6570\u636e\u5e93\u5e93\u4e2d\u5bf9\u5e94\u7684collection\u5148\u5220\u9664\u518d\u91cd\u65b0\u751f\u6210\u3002</li> <li>\u6211\u4eec\u9879\u76ee\u4e2d\u662f\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684reset-dataset\u547d\u4ee4\u91cd\u65b0\u751f\u6210\u7684\uff0c\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5148\u53bb\u5220\u9664\u5411\u91cf\u6570\u636e\u5e93\u548cMongoDB\u4e2d\u7684\u65e7\u6570\u636e\uff0c\u8fd9\u4e2a\u65f6\u5019\u5411\u91cf\u6570\u636e\u5e93\u4e2d\u7684collection\u5df2\u7ecf\u88ab\u5220\u9664\u4e86\uff0c\u518d\u5220\u9664\u6570\u636e\u7684\u65f6\u5019\u4f1a\u62a5\u9519\uff0c\u81ea\u5b9a\u4e49\u547d\u4ee4\u9700\u8981\u8003\u8651\u8fd9\u79cd\u5f02\u5e38\u60c5\u51b5\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_7","title":"\u5b58\u50a8","text":"<p>\u5728LlamaIndex\u4e2d\uff0c\u5b58\u50a8\u76f8\u5173\u7684\u7c7b\u578b\u4e3b\u8981\u5206\u4e3a</p> <ul> <li>Document store: \u7528\u6765\u5b58\u50a8node(Document<code>\u7ee7\u627f\u81ea</code>TextNode<code>\uff0c</code>TextNode<code>\u7ee7\u627f\u81ea</code>BaseNode)\uff0c\u4e00\u822c\u662f\u7528\u6765\u5b58\u50a8\u5206\u7247\u540e\u7684text\u548c\u5143\u6570\u636e\u3002</li> <li>Index Store\uff1a\u7528\u6765\u5b58\u50a8\u7d22\u5f15\uff0c\u7d22\u5f15\u662f\u6784\u9020\u4e86\u4e00\u4e2a\u7ed3\u6784\u5c06Document store\u548cVector Store\u4e2d\u7684\u6570\u636e\u7684\u4e00\u4e2a\u5173\u8054\u5173\u7cfb\u3002\u4e00\u822c\u91c7\u7528Redis\u5b58\u50a8\u7d22\u5f15\u3002</li> <li>Vector Store\uff1a\u7528\u6765\u5b58\u50a8\u5411\u91cf\u6570\u636e\uff0c\u6709\u7684\u5411\u91cf\u6570\u636e\u5e93\u652f\u6301\u5b58\u50a8\u5143\u6570\u636e\uff08\u53ef\u4ee5\u628a\u5206\u7247\u540e\u7684text\u5b58\u8fdb\u53bb\uff09\uff0c\u6bd4\u5982pgvector,Milvus\uff0cqdrant\u90fd\u53ef\u4ee5\u3002</li> <li>Key Value Store\uff1a\u4e00\u822c\u4e0d\u4f1a\u76f4\u63a5\u4f7f\u7528\uff0c\u662fIndexStore\u6216DocumentStore\u7684\u7236\u7c7b\u3002</li> </ul> <p></p> <p>\u6700\u5f00\u59cb\u6211\u4eec\u53ea\u4f7f\u7528\u4e86milvus\u5411\u91cf\u6570\u636e\u5e93\uff0c\u7528Milvus\u540c\u65f6\u5b58\u50a8\u5411\u91cf\u548c\u6587\u6863\u6570\u636e\uff0c\u540e\u9762\u5207\u6362\u5230\u4e86Qdrant\u5411\u91cf\u6570\u636e\u5e93\u3002</p> <p>\u5728\u6dfb\u52a0Bm25\u68c0\u7d22\u7684\u65f6\u5019\u53d1\u73b0\uff0cBM25\u68c0\u7d22\u9700\u8981\u5c06\u6240\u6709\u7684text\u5148\u67e5\u8be2\u51fa\u6765\uff0c\u7136\u540e\u4f7f\u7528BM25\u7b97\u6cd5\u8ba1\u7b97\u5206\u6570\u3002LlamaIndex\u4e2d\u7684VectorRetriever\u5728\u68c0\u7d22\u7684\u65f6\u5019\u5fc5\u987b\u901a\u8fc7\u5411\u91cf\u5b57\u6bb5+metadata\u5b57\u6bb5\uff08\u4e00\u822c\u662fJSON\u683c\u5f0f\uff09\u624d\u80fd\u8fc7\u6ee4\uff0c\u5982\u679c\u8981\u53bb\u6389\u5411\u91cf\u5b57\u6bb5\uff0c\u9700\u8981\u6839\u636e\u5411\u91cf\u6570\u636e\u5e93\u7684\u63a5\u53e3\u53bb\u5f00\u53d1\u8fc7\u6ee4\u7684\u65b9\u6cd5\uff0c\u6bd4\u8f83\u9ebb\u70e6\u3002\u540c\u65f6\uff0c\u5411\u91cf\u6570\u636e\u5e93\u5728\u5bf9metadata\u5b57\u6bb5\u8fc7\u6ee4\u7684\u65f6\u5019\uff0c\u6027\u80fd\u6ca1\u6709\u4f20\u7edf\u7684\u6570\u636e\u5e93\u6027\u80fd\u597d\u3002</p> <p>\u7136\u540e\u6211\u5c06Document Store\u52a0\u4e0a\u4e86\uff0c\u5e76\u4e14\u4f7f\u7528postgreSQL\u6570\u636e\u5e93\u5145\u5f53Document Store\uff0c\u7528Redis\u4f5c\u4e3aIndex Store\u3002\u7136\u540e\u53d1\u73b0\u5728\u67e5\u8be2\u6587\u6863\u7684\u65f6\u5019\uff0cnode\u7684\u683c\u5f0f\u662f\u4e00\u4e2a\u5c42\u6570\u8f83\u591a\u7684JSON\uff0c\u4f7f\u7528postgreSQL\u67e5\u8be2\u6027\u80fd\u6162\uff0c\u67e5\u8be2SQL\u7f16\u5199\u590d\u6742\u3002\u4e8e\u662f\u5c06postgreSQL\u6570\u636e\u5e93\u66f4\u6362\u6210\u5bf9JSON\u683c\u5f0f\u66f4\u53cb\u597d\u7684MongoDB\u6570\u636e\u5e93\u3002\u4f7f\u7528MongoDB\u5b58\u50a8\u5206\u7247\u7684node\u6570\u636e\uff08MongoDB\u4e2d\u4e0d\u5305\u542bEmbedding\uff0cQdrant\u4e2d\u5305\u542b\u4e86Embedding\uff09\uff0c\u5e76\u4e14MongoDB\u53ef\u4ee5\u9488\u5bf9JSON\u4e2d\u7684\u67d0\u4e9b\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15\u6765\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6\u3002</p> <p>\u5728\u6211\u4eec\u7684\u9879\u76ee\u4e2d\uff0c\u7528\u6237\u9700\u8981\u65b0\u5efa\u4e00\u4e2a\u6570\u636e\u96c6\uff0c\u7136\u540e\u5bf9\u8fd9\u4e2a\u6570\u636e\u96c6\u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6\u3002\u7528\u6237\u5728\u5bf9\u8bdd\u7684\u65f6\u5019\u5fc5\u987b\u9009\u62e9\u67d0\u4e00\u4e2a\u6570\u636e\u96c6\u8fdb\u884c\u5bf9\u8bdd\u3002</p> <p>\u5728\u67e5\u8be2\u76f8\u5173\u6587\u6863\u7684\u65f6\u5019\u9996\u5148\u9700\u8981\u5148\u6839\u636e\u6570\u636e\u96c6\u7684ID\u67e5\u8be2\u5230\u5bf9\u5e94\u7684\u6587\u4ef6ID\uff0c\u7136\u540e\u901a\u8fc7\u6587\u4ef6ID\u67e5\u8be2\u5230\u5bf9\u5e94\u7684IndexId,\u7136\u540e\u53bbRedis\u4e2d\u5c06\u6240\u6709\u7684node_id\u67e5\u8be2\u5230\uff0c\u7136\u540e\u901a\u8fc7\u5411\u91cf\u6570\u636e\u5e93\u4f7f\u7528\u76f8\u4f3c\u5ea6\u7b97\u6cd5\u67e5\u8be2\u5bf9\u5e94\u7684node_id\u5217\u8868\u7684\u6570\u636e\uff0c\u7136\u540e\u8fd4\u56detopK\u4e2a\u6570\u636e\u3002</p> <p>\u67e5\u8be2\u7684\u94fe\u8def\u592a\u957f\uff0c\u5982\u679c\u6570\u636e\u91cf\u5927\u7684\u8bdd\uff0cnode_ids\u7684\u5217\u8868\u4f1a\u5f88\u5927\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67e5\u8be2\u65f6\u95f4\u5f88\u957f\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u5c06\u6570\u636e\u96c6ID\uff0c\u6587\u4ef6ID\uff0c\u6587\u4ef6\u540d\u7b49\u653e\u5230node\u5bf9\u8c61\u7684metadata\u5c5e\u6027\u4e2d\uff0c\u7136\u540e\u5b58\u50a8\u5230MongoDB\u548c\u5411\u91cf\u6570\u636e\u5e93\u7684\u65f6\u5019\u90fd\u4f1a\u5b58\u50a8\u5230\u3002\u5728\u68c0\u7d22\u7684\u65f6\u5019\u6dfb\u52a0\u6839\u636e\u6570\u636e\u96c6ID\u8fc7\u6ee4\u7684\u6761\u4ef6\u3002</p> <p>\u5411\u91cf\u6570\u636e\u5e93\u6dfb\u52a0dataset_id\u8fc7\u6ee4\u7684\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff0c\u91cd\u70b9\u662f\u91cd\u5199\u4e86<code>_retrieve</code>\u65b9\u6cd5\uff0c\u6dfb\u52a0\u4e86<code>dataset_id</code>\u53c2\u6570\u3002\u5176\u4e2d\u8c03\u7528\u4e86<code>_get_nodes_with_embeddings</code>\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4e5f\u6dfb\u52a0\u4e86<code>dataset_id</code>\u53c2\u6570\u3002\u7136\u540e\u5728<code>_build_vector_store_query</code>\u65b9\u6cd5\u4e2d\u901a\u8fc7\u6dfb\u52a0\u4e86<code>dataset_id</code>\u76f8\u5173\u7684<code>MetadataFilter</code>\u3002</p> <pre><code>class VectorStoreRetriever(KaBaseRetriever):\n\n\n    def _retrieve(\n            self,\n            query_bundle: QueryBundle,\n            dataset_id: str = None\n    ) -&gt; List[NodeWithScore]:\n        logger.debug(f\"Vector _retrieve: {dataset_id=}, {query_bundle.query_str=}, {query_bundle.embedding_strs=}\")\n        logger.debug(f\"is_embedding_query: {self._vector_store.is_embedding_query}\")\n        res = []\n        if self._vector_store.is_embedding_query:\n            if query_bundle.embedding is None and len(query_bundle.embedding_strs) &gt; 0:\n                for embedding_str in query_bundle.embedding_strs:\n                    new_query_bundle = QueryBundle(query_str=embedding_str)\n                    new_query_bundle.embedding = self._embed_model.get_text_embedding(\n                        embedding_str\n                    )\n                    one_query_res = self._get_nodes_with_embeddings(\n                        new_query_bundle, dataset_id=dataset_id\n                    )\n                    res.extend(one_query_res)\n            else:\n                res = self._get_nodes_with_embeddings(query_bundle, dataset_id=dataset_id)\n        else:\n            res = self._get_nodes_with_embeddings(query_bundle, dataset_id=dataset_id)\n        logger.debug(f\"Vector _retrieve before filter: {len(res)=}\")\n        return res\n\n    def _get_nodes_with_embeddings(\n            self, query_bundle_with_embeddings: QueryBundle,\n            dataset_id: str = None\n    ) -&gt; List[NodeWithScore]:\n        query = self._build_vector_store_query(query_bundle_with_embeddings, dataset_id=dataset_id)\n        query_result = self._vector_store.query(query, **self._kwargs)\n        return self._build_node_list_from_query_result(query_result)\n\n    def _build_vector_store_query(\n            self, query_bundle_with_embeddings: QueryBundle,\n            dataset_id: str = None\n    ) -&gt; VectorStoreQuery:\n        query = VectorStoreQuery(\n            query_embedding=query_bundle_with_embeddings.embedding,\n            similarity_top_k=self._similarity_top_k,\n            node_ids=self._node_ids,\n            doc_ids=self._doc_ids,\n            query_str=query_bundle_with_embeddings.query_str,\n            mode=self._vector_store_query_mode,\n            alpha=self._alpha,\n            filters=self._filters,\n            sparse_top_k=self._sparse_top_k,\n        )\n\n        if dataset_id:\n            dataset_filter = MetadataFilter(key=\"dataset_id\", value=dataset_id, operator=FilterOperator.EQ)\n            if query.filters is None:\n                query.filters = MetadataFilters(\n                    filters=[dataset_filter], condition=FilterCondition.AND\n                )\n            else:\n                q_filters = query.filters.filters\n                q_filters.append(dataset_filter)\n                query.filters = MetadataFilters(filters=[q_filters], condition=FilterCondition.AND)\n        return query        \n</code></pre> <p>BM25Retrievar\u4ee3\u7801\u793a\u4f8b\u5982\u4e0b\uff0c\u4e5f\u662f\u5728<code>_retrieve</code>\u65b9\u6cd5\u4e2d\u6dfb\u52a0\u4e86<code>dataset_id</code>\u53c2\u6570\uff0c<code>_retrieve</code>\u65b9\u6cd5\u4e2d\u8c03\u7528\u4e86<code>get_nodes</code>\u65b9\u6cd5\uff0c<code>get_nodes</code>\u65b9\u6cd5\u4e2d\u8c03\u7528\u4e86<code>doc_store</code>\u7684<code>get_docs</code>\u65b9\u6cd5\uff1a <pre><code>class BM25Retriever(KaBaseRetriever):\n    \"\"\"\n    \u5b9e\u4f8b\u5316\u65f6\u9700\u8981\u4f20 dataset_id \u83b7\u53d6\u5bf9\u5e94\u7684nodes\n    \"\"\"\n\n    def get_nodes(self, dataset_id: str) -&gt; List[TextNode]:\n        nodes = self.doc_store.get_docs(dataset_id=dataset_id)\n        return nodes\n\n\n    def _retrieve(self, query_bundle: QueryBundle, dataset_id: str = None) -&gt; List[NodeWithScore]:\n        logger.debug(f\"BM25 _retrieve: {dataset_id=}, {query_bundle.query_str=}, {query_bundle.embedding_strs=}\")\n        nodes = self.get_nodes(dataset_id=dataset_id)\n        logger.debug(f\"BM25 _retrieve nodes length: {len(nodes)}\")\n        if nodes:\n            scred_nodes = bm25_utils.get_scored_nodes(query=query_bundle.query_str, nodes=nodes)\n            # \u53bb\u9664\u5206\u6570\u4e3a0.0\u7684\u6570\u636e\n            remoeve_nodes = [node for node in scred_nodes if node.score &gt; 0.0]\n            top_k_nodes = remoeve_nodes[: self._similarity_top_k]\n            logger.debug(f\"BM25 _retrieve before mean filter: {len(top_k_nodes)=}\")\n            return top_k_nodes\n        else:\n            logger.warning(\"BM25 _retrieve nodes is empty list\")\n            return []\n</code></pre></p> <p>\u5176\u4e2dMongoDB\u5bf9\u5e94\u7684doc_sotre\u7684\u5b9e\u73b0\u5982\u4e0b\uff1a <pre><code>class KaMongoDocumentStore(MongoDocumentStore):\n\n    def get_docs(self, dataset_id: str = None, file_id: str = None) -&gt; t.List[Document]:\n        \"\"\"\u83b7\u53d6documents\n\n        Args:\n            dataset_id(str): \u6570\u636e\u96c6ID\n            file_id(str): \u6587\u4ef6ID\n\n        Returns:\n\n        \"\"\"\n        db: Database = self._kvstore._db\n        collection: Collection = db[self._node_collection]\n        find_filter = {}\n        if dataset_id:\n            find_filter.update({\"__data__.metadata.dataset_id\": dataset_id})\n        if file_id:\n            find_filter.update({\"__data__.metadata.file_id\": file_id})\n        results = collection.find(find_filter)\n        res = []\n        for result in results:\n            _ = result.pop(\"_id\")\n            doc = json_to_doc(result)\n            res.append(doc)\n        return res\n</code></pre></p> <p>\u5176\u4e2dPostgreSQL\u5bf9\u5e94\u7684doc_store\u5b9e\u73b0\u5982\u4e0b\uff1a</p> <pre><code>class KaPostgresDocumentStore(PostgresDocumentStore):\n\n    def get_docs(self, dataset_id: str = None, file_id: str = None):\n        \"\"\"\u83b7\u53d6documents\n\n        Args:\n            dataset_id: \u6570\u636e\u96c6ID\n            file_id: \u6587\u4ef6ID\n\n        Returns:\n\n        \"\"\"\n        # \u901a\u8fc7sql\u67e5\u8be2\u51fa\u5bf9\u5e94\u7684\u6570\u636e\n        # SELECT *\n        # FROM data_docstore\n        # WHERE value-&gt;'__data__'-&gt;'metadata'-&gt;&gt;'dataset_id' = '39c2f32e-eb6f-437d-9cfc-557287554219';\n        # TODO postgreSQL \u8fd9\u91cc\u4f1a\u6709\u6027\u80fd\u95ee\u9898\uff0c\u9700\u8981\u4f18\u5316\uff0c\u5177\u4f53\u53ef\u53c2\u8003 KaMongoDocumentStore\n        docs = self.docs\n        nodes = []\n        for i, doc in docs.items():\n            d_id = doc.metadata.get(\"dataset_id\", None)\n            f_id = doc.metadata.get(\"file_id\", None)\n            if dataset_id and file_id:\n                if d_id == dataset_id and f_id == file_id:\n                    nodes.append(doc)\n            elif dataset_id and not file_id:\n                if d_id == dataset_id:\n                    nodes.append(doc)\n            elif not dataset_id and file_id:\n                if f_id == file_id:\n                    nodes.append(doc)\n            else:\n                nodes.append(doc)\n\n        return nodes\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_8","title":"\u68c0\u7d22\u524d\u5904\u7406","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_9","title":"\u610f\u56fe\u8bc6\u522b","text":"<p>\u5728\u5b9e\u9645\u6d4b\u8bd5\u4e2d\uff0c\u6709\u4e00\u4e9b\u573a\u666f\uff0c\u7528\u6237\u95ee\u7684\u95ee\u9898\u4e0d\u591f\u660e\u786e\uff0c\u6211\u4eec\u9700\u8981\u8bc6\u522b\u7528\u6237\u7684\u610f\u56fe\uff0c\u5e76\u4e14\u9700\u8981\u7528\u6237\u8865\u5145\u4e00\u4e9b\u4fe1\u606f\uff0c\u7b49\u6240\u9700\u610f\u56fe\u9700\u8981\u7684\u4fe1\u606f\u8865\u5168\u4e4b\u540e\u518d\u8fdb\u884c\u68c0\u7d22\u548c\u56de\u7b54\u3002</p> <p>\u4f8b\u5982\uff1a</p> <p>\u5f53\u7528\u6237\u8be2\u95ee\u201c\u6570\u636e\u5e93\u8d26\u53f7\u548c\u5bc6\u7801\u662f\u591a\u5c11\u65f6\u201d\uff0c\u9700\u8981\u5148\u8bc6\u522b\u5904\u7528\u6237\u662f\u5728\u8be2\u95ee\u4e2d\u95f4\u4ef6\u7684\u914d\u7f6e\uff0c\u7136\u540e\u9700\u8981\u8ba9\u7528\u6237\u8865\u5145\u662f\u54ea\u4e2a\u73af\u5883\u5982\u5f00\u53d1\u73af\u5883\u3001\u8bd5\u73af\u5883\u3001\u751f\u6210\u73af\u5883\u7b49\uff0c\u54ea\u4e2a\u5e73\u53f0\u6216\u7cfb\u7edf\u5982AI\u5e73\u53f0\u3001ASS\u5e73\u53f0\u3001IOT\u5e73\u53f0\u7b49\uff0c\u54ea\u4e2a\u670d\u52a1\u6216\u5e94\u7528\u5982\u7528\u6237\u670d\u52a1\u3001\u6807\u6ce8\u670d\u52a1\u3001\u8bad\u7ec3\u670d\u52a1\u7b49\u3002</p> <p>\u7b49\u7528\u6237\u5bf9\u5e94\u610f\u56fe\u7684\u6240\u6709\u4fe1\u606f\u8865\u5168\u4e4b\u540e\u518d\u8fdb\u884c\u68c0\u7d22\u548c\u56de\u7b54\u3002</p> <p>\u6d41\u7a0b\u56fe\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#query","title":"\u91cd\u5199query","text":"<p>\u5728\u6211\u4eec\u5b9e\u9645\u7684\u6d4b\u8bd5\u4e2d\uff0c\u6211\u4eec\u53d1\u73b0RAG\u7cfb\u7edf\u5728\u591a\u8f6e\u5bf9\u8bdd\u4e2d\u4f1a\u9047\u5230\u4e00\u4e9b\u95ee\u9898\u3002</p> <p>\u6bd4\u5982\uff1a \u7528\u6237\u9996\u5148\u8be2\u95ee\u4e86\u5317\u4eac\u6709\u4ec0\u4e48\u597d\u5403\uff0c\u7136\u540e\u53c8\u95ee\u4e86\u4e0a\u6d77\u6709\u4ec0\u4e48\u597d\u5403\u7684\uff0c\u63a5\u7740\u95ee\"\u5b83\u6bd4\u5317\u4eac\u591a\u90a3\u4e9b\u597d\u5403\u7684\u201d\uff0c\u8fd9\u7c7b\u7684\u4ee3\u8bcd\u5728\u524d\u9762\u7684\u95ee\u7b54\u4e2d\u7684\u4f8b\u5b50\u3002</p> <p>\u5728\u5b9e\u9645\u68c0\u7d22\u7684\u7684\u65f6\u5019\u6700\u65b0\u7684\u8fd9\u4e2aquery\u4e2d\u6ca1\u6709\u51fa\u73b0\u5317\u4eac\u8fd9\u4e2a\u5173\u952e\u5b57\uff0c\u4f1a\u5bfc\u81f4\u68c0\u7d22\u4e0d\u597d\u76f8\u5173\u7684\u6587\u6863\uff0c\u4ece\u800c\u5bfc\u81f4\u56de\u7b54\u7684\u4e0d\u597d\u3002\u9488\u5bf9\u8fd9\u79cd\u60c5\u51b5\u9700\u8981\u7ed3\u5408\u5386\u53f2\u95ee\u7b54\u548c\u5f53\u524dquery\u91cd\u5199query\uff0c\u5c06\u5176\u4e2d\u7684\u4e00\u4e9b\u4ee3\u8bcd\u66ff\u6362\u6389\u3002</p> <p>\u6838\u5fc3\u601d\u60f3\u662f\u4f7f\u7528\u5927\u6a21\u578b\u6839\u636e\u5386\u53f2\u4fe1\u606f\u548c\u65e7\u7684query\u8fdb\u884c\u91cd\u5199\u6210\u529f\u65b0\u7684query\uff0c\u7136\u540e\u62ff\u65b0\u7684query\u53bb\u68c0\u7d22\u3002</p> <p>\u6ce8\u610f\u70b9\uff1a</p> <ul> <li>\u5982\u679c\u5386\u53f2\u4fe1\u606f\u548c\u5f53\u524dquery\u4e0d\u76f8\u5173\u65f6\uff0c\u8ba9\u5927\u6a21\u578b\u53bb\u9664\u7684\u6548\u679c\u4e0d\u597d\u3002\u53ef\u4ee5\u5148\u8c03\u7528rerank model\u5c06\u8ddfquery\u76f8\u5173\u7684\u5386\u53f2\u4fe1\u606f\u627e\u51fa\u6765\u3002\u518d\u6539\u5199\u3002</li> <li>\u63d0\u793a\u8bcd\u6a21\u677f\u4e2d\u6709JSON\u8f93\u51fa\u7684\u65f6\u5019\u53ea\u80fd\u7528LangChain\u6846\u67b6\uff0c\u5e76\u4e14\u9700\u8981\u6307\u5b9a\u4f7f\u7528jinja2\u683c\u5f0f\u5316\u3002</li> </ul> <p>\u63d0\u793a\u8bcd\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code># Role\nquery\u6539\u5199\u5668\n## Skills\n- \u7cbe\u901a\u4e2d\u82f1\u6587\n- \u7cbe\u901a\u5206\u6790\u603b\u7ed3\uff1b\u4f18\u79c0\u7684\u5199\u4f5c\u80fd\u529b\uff1b\n- \u80fd\u591f\u7406\u89e3\u6587\u672c\n- \u7cbe\u901aJSON\u6570\u636e\u683c\u5f0f\n## Action\n- \u6839\u636e\u63d0\u4f9b\u7684\u5386\u53f2\u95ee\u7b54\u5217\u8868\u548c\u4e00\u4e2a\u65e7\u7684query\uff0c\u6539\u5199\u65b0\u7684query\uff0c\u5e76\u4ee5JSON\u683c\u5f0f\u8f93\u51fa\n## Constrains\n- \u5386\u53f2\u95ee\u7b54\u4e2d\u6709\u53ef\u80fd\u8ddf\u5f53\u524dquery\u4e0d\u76f8\u5173\uff0c\u4f60\u9700\u8981\u5148\u5c06\u4e0d\u76f8\u5173\u7684\u95ee\u7b54\u53bb\u6389\uff0c\u7136\u540e\u518d\u6539\u5199\u3002\u5982\u679c\u5386\u53f2\u95ee\u7b54\u90fd\u4e0d\u76f8\u5173\u5219\u4e0d\u8fdb\u884c\u6539\u5199\u3002\n- \u5728\u6539\u5199\u8fc7\u7a0b\u4e2d\uff0c\u786e\u4fdd\u8bed\u8a00\u98ce\u683c\u4e00\u81f4\u3002\n- \u5c06\u65e7query\u4e2d\u7684\u4ee3\u8bcd\u6839\u636e\u5386\u53f2\u95ee\u7b54\u7684\u5185\u5bb9\u66ff\u6362\u6210\u76f8\u5e94\u7684\u8bcd\u8bed\uff0c\u540c\u65f6\u4e0d\u6539\u53d8\u65e7query\u7684\u539f\u610f\u3002\n- \u5fc5\u987b\u4fdd\u8bc1\u4f60\u7684\u7ed3\u679c\u53ea\u5305\u542b\u4e00\u4e2a\u5408\u6cd5\u7684JSON\u683c\u5f0f\n## Format\n- \u5bf9\u5e94JSON\u7684key\u4e3a\uff1aold_query, new_query\n## Example\n--------------------------------------------------------------------------------------------\n\u5386\u53f2\u95ee\u7b54\u5217\u8868\uff1a\n1. \u95ee\u9898\uff1a\u54ea\u4e00\u5e74\u662f\u6cd5\u56fd\u5927\u9769\u547d\u5f00\u59cb\u7684\uff1f\u56de\u7b54\uff1a1789\u5e74\u662f\u6cd5\u56fd\u5927\u9769\u547d\u7684\u5f00\u59cb\u3002\n2. \u95ee\u9898\uff1a\u827e\u83f2\u5c14\u94c1\u5854\u5efa\u4e8e\u54ea\u4e00\u5e74\uff1f\u56de\u7b54\uff1a\u827e\u83f2\u5c14\u94c1\u5854\u5efa\u4e8e1889\u5e74\u3002\n3. \u95ee\u9898\uff1adev\u73af\u5883\u7684RabbitMQ\u5730\u5740\u662f\u4ec0\u4e48\uff1f\u56de\u7b54\uff1adev\u73af\u5883\u7684RabbitMQ\u5730\u5740\u662f dev.example.com:5672\u3002\nold_query\uff1a\u7528\u6237\u540d\u5bc6\u7801\u662f\u591a\u5c11\uff1f\nAnswer\uff1a\n\u200b```json\n{\n  \"old_query\": \"\u7528\u6237\u540d\u5bc6\u7801\u662f\u591a\u5c11\uff1f\",\n  \"new_query\": \"dev\u73af\u5883\u7684RabbitMQ\u7684\u7528\u6237\u540d\u5bc6\u7801\u662f\u591a\u5c11\uff1f\"\n}\n\u200b```--------------------------------------------------------------------------------------------\n\u5386\u53f2\u95ee\u7b54\u5217\u8868\uff1a\n1. \u95ee\u9898\uff1a\u54ea\u4e00\u5e74\u662f\u6cd5\u56fd\u5927\u9769\u547d\u5f00\u59cb\u7684\uff1f\u56de\u7b54\uff1a1789\u5e74\u662f\u6cd5\u56fd\u5927\u9769\u547d\u7684\u5f00\u59cb\u3002\n2. \u95ee\u9898\uff1a\u827e\u83f2\u5c14\u94c1\u5854\u5efa\u4e8e\u54ea\u4e00\u5e74\uff1f\u56de\u7b54\uff1a\u827e\u83f2\u5c14\u94c1\u5854\u5efa\u4e8e1889\u5e74\u3002\n3. \u95ee\u9898\uff1a\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u662f\u54ea\u4e00\u5e74\u6210\u7acb\u7684\uff1f\u56de\u7b54\uff1a\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u6210\u7acb\u4e8e1949\u5e74\u3002\nold_query\uff1aRedis\u7684\u7528\u6237\u540d\u5bc6\u7801\u662f\u591a\u5c11\uff1f\nAnswer\uff1a\n\u200b```json\n{\n  \"old_query\": \"Redis\u7684\u7528\u6237\u540d\u5bc6\u7801\u662f\u591a\u5c11\uff1f\",\n  \"new_query\": \"Redis\u7684\u7528\u6237\u540d\u5bc6\u7801\u662f\u591a\u5c11\uff1f\"\n}\n\u200b```--------------------------------------------------------------------------------------------\n## History and old query\n\u5386\u53f2\u95ee\u7b54\u5217\u8868\uff1a\n{{ historys }}\nold_query\uff1a{{ old_query }}\nAnswer\uff1a\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_10","title":"\u68c0\u7d22\u7b56\u7565","text":"<p>\u5728\u6211\u4eec\u7684\u9879\u76ee\u4e2d\u68c0\u7d22\u7b56\u7565\u53eb\u505a\u67e5\u8be2\u5f15\u64ce\uff08queryEngine)\uff0c\u53c2\u8003LlamaIndex\u4e2d\u7684QueryEngine\u7684\u539f\u7406\uff0c\u4f46\u662f\u4e0d\u505a\u5927\u6a21\u578b\u751f\u6210\uff0c\u53ea\u505a\u68c0\u7d22\u3002</p> <p>\u68c0\u7d22\u7b56\u7565\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\uff0c\u5355\u4e2a\u67e5\u8be2\u67e5\u8be2\u5f15\u64ce\uff0c\u591a\u4e2a\u67e5\u8be2\u5f15\u64ce\uff08\u8fd9\u4e2a\u6211\u4eec\u53eb\u505a\u7ec4\u5408\u7d22\u5f15\uff09\u3002</p> <p>\u67e5\u8be2\u5f15\u64ce\u7684\u6d41\u7a0b\u56fe\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#singlequeryengine","title":"\u5355\u4e2a\u67e5\u8be2\u67e5\u8be2\u5f15\u64ce\uff08SingleQueryEngine\uff09","text":"<p>\u4e09\u4e2a\u67e5\u8be2\u5f15\u64ce\u4e3b\u8981\u5206\u4e3a3\u4e2a\u6b65\u9aa4:</p> <ul> <li>\u7b2c\u4e00\u6b65\uff1a\u67e5\u8be2\u8f6c\u6362\uff08QueryTransform\uff09</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u4f7f\u7528retriever\uff08VectorRetriever\u6216\u8005BM25Retriever)\u8fdb\u884c\u68c0\u7d22</li> <li>\u7b2c\u4e09\u6b65\uff1a\u5bf9node\u5217\u8868\u6267\u884cpostprocess\u64cd\u4f5c\uff0cpostprocess\u64cd\u4f5c\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u94fe\u5f0f\u7684\u6267\u884cpostprocess\u64cd\u4f5c\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_11","title":"\u67e5\u8be2\u8f6c\u6362","text":"<p>\u4e3b\u8981\u5b9e\u73b0\u4e86\u4e24\u79cd\u65b9\u6cd5\uff1a</p> <ul> <li>HyDE\uff1a\u4f7f\u7528\u5927\u6a21\u578b\u9488\u5bf9query\u751f\u6210\u4e00\u4e2a\u5047\u8bbe\u6027\u7684\u56de\u7b54\u3002\u7136\u540e\u6839\u636e\u56de\u7b54\u53bb\u68c0\u7d22\u76f8\u5173\u7684\u6587\u6863\u3002\u5b9e\u6d4b\u4e0b\u6765\u8fd9\u4e2a\u65b9\u6cd5\u6548\u679c\u5f88\u5dee\uff0c\u4e0d\u5efa\u8bae\u4f7f\u7528\u3002</li> <li>MultiQuestion\uff1a\u4f7f\u7528\u5927\u6a21\u578b\u9488\u5bf9query\u751f\u6210\u591a\u4e2a\u76f8\u4f3c\u7684\u95ee\u9898\uff0c\u7136\u540e\u6839\u636e\u539f\u95ee\u9898\u548c\u76f8\u4f3c\u7684\u95ee\u9898\u53bb\u68c0\u7d22\u3002\u5b9e\u6d4b\u8fd9\u79cd\u65b9\u6cd5\u80fd\u63d0\u9ad8\u4e00\u4e9b\u68c0\u7d22\u7684\u7cbe\u5ea6\uff0c\u4f46\u662f\u8fd9\u79cd\u65b9\u6cd5\u591a\u4e86\u4e00\u6b21\u5927\u6a21\u578b\u63a5\u53e3\u8c03\u7528\uff0c\u4f1a\u5bfc\u81f4\u63a5\u53e3\u7684\u54cd\u5e94\u65f6\u95f4\u53d8\u957f\uff0c\u9700\u8981\u5b9e\u9645\u65f6\u95f4\u60c5\u51b5\u9009\u62e9\u3002\u5728\u6211\u4eec\u7684\u9879\u76ee\u4e2d\u6ca1\u6709\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\u3002</li> </ul> <p>\u53ef\u4ee5\u53c2\u8003 https://github.com/langchain-ai/rag-from-scratch/blob/main/rag_from_scratch_5_to_9.ipynb \u67e5\u770b\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u3002</p> <p>\u6ce8\u610f\uff1a\u5728\u4f7f\u7528\u591a\u4e2aQuery\u8fdb\u884c\u68c0\u7d22\u7684\u65f6\u5019\uff0cLlamaIndex\u6846\u67b6\u4e2d\u7684VectorRetriever\u9ed8\u8ba4\u4f1a\u5c06\u591a\u4e2aQuery\u8fdb\u884cEmbedding\u7136\u540e\u6c42\u5e73\u5747\u503c\uff0c\u7136\u540e\u62ff\u7740\u6c42\u5e73\u5747\u503c\u4e4b\u540e\u7684Embedding\u53bb\u5411\u91cf\u6570\u636e\u5e93\u4e2d\u68c0\u7d22\u3002\u8fd9\u91cc\u6211\u4eec\u505a\u4e86\u4f18\u5316\uff0c\u6211\u4eec\u662f\u6839\u636e\u6bcf\u4e2aQuery\u8fdb\u884c\u68c0\u7d22\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u52a0\u5230\u5230\u4e00\u4e2a\u96c6\u5408\u4e2d\u3002</p> <p>\u6ce8\u610f\uff0c\u8fd9\u4e2a\u5730\u65b9\u6ca1\u6709\u8fdb\u884c\u53bb\u91cd\uff0c\u4e3b\u8981\u67092\u4e2a\u539f\u56e0\uff1a 1. \u6709MRR\u7684\u540e\u5904\u7406\uff0c\u5982\u679c\u8fd9\u91cc\u53bb\u91cd\u4e86\u5c31\u4f1a\u5bfc\u81f4MRR\u7684\u540e\u5904\u7406\u65e0\u6cd5\u751f\u6548\u3002 2. \u6709\u5355\u72ec\u7684\u53bb\u91cd\u540e\u5904\u7406\u64cd\u4f5c\u3002</p> <pre><code>    def _retrieve(\n            self,\n            query_bundle: QueryBundle,\n            dataset_id: str = None\n    ) -&gt; List[NodeWithScore]:\n        logger.debug(f\"Vector _retrieve: {dataset_id=}, {query_bundle.query_str=}, {query_bundle.embedding_strs=}\")\n        logger.debug(f\"is_embedding_query: {self._vector_store.is_embedding_query}\")\n        res = []\n        if self._vector_store.is_embedding_query:\n            if query_bundle.embedding is None and len(query_bundle.embedding_strs) &gt; 0:\n                for embedding_str in query_bundle.embedding_strs:\n                    new_query_bundle = QueryBundle(query_str=embedding_str)\n                    new_query_bundle.embedding = self._embed_model.get_text_embedding(\n                        embedding_str\n                    )\n                    one_query_res = self._get_nodes_with_embeddings(\n                        new_query_bundle, dataset_id=dataset_id\n                    )\n                    res.extend(one_query_res)\n            else:\n                res = self._get_nodes_with_embeddings(query_bundle, dataset_id=dataset_id)\n        else:\n            res = self._get_nodes_with_embeddings(query_bundle, dataset_id=dataset_id)\n        logger.debug(f\"Vector _retrieve before filter: {len(res)=}\")\n        return res\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_12","title":"\u5411\u91cf\u68c0\u7d22","text":"<p>\u4e00\u822c\u7684RAG\u7cfb\u7edf\u7684\u8fdb\u884c\u5411\u91cf\u68c0\u7d22\u7684\u65f6\u5019\u662f\u9488\u5bf9\u6574\u4e2a\u5411\u91cf\u6570\u636e\u5e93\u8fdb\u884c\u76f8\u4f3c\u5ea6\u8ba1\u7b97\uff0c\u7136\u540e\u8fd4\u56deTopK\u6761\u7ed3\u679c\u3002</p> <p>\u5f53\u6570\u636e\u91cf\u8f83\u5c11\u6216\u8981\u6c42\u68c0\u7d22\u5230\u7684\u4e0d\u76f8\u5173node\u8f83\u5c11\u65f6\uff0c\u4f7f\u7528topK\u5f88\u5927\u6982\u7387\u4f1a\u8fd4\u56de\u65e0\u5173\u7684node\u3002**\u6240\u4ee5\u4f7f\u7528\u5411\u91cf\u68c0\u7d22\u4e00\u5b9a\u8981\u52a0\u540e\u5904\u7406\u53bb\u8fc7\u6ee4\u65e0\u5173\u7684node\u3002**\u6211\u4eec\u76ee\u524d\u4f7f\u7528\u7684\u662f\u6309\u7167\u5206\u6570\u7684\u5e73\u5747\u503c\u8fc7\u6ee4\u3002</p> <p>\u540c\u65f6\u4e3a\u4e86\u52a0\u5feb\u68c0\u7d22\u6548\u7387\u6dfb\u52a0\u4e86metadata filter\uff0c\u9700\u8981\u91cd\u5199<code>Retriever</code>\u7684<code>_build_vector_store_query</code>\u65b9\u6cd5\u3002</p> <p>\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>  def _build_vector_store_query(\n            self, query_bundle_with_embeddings: QueryBundle,\n            dataset_id: str = None\n    ) -&gt; VectorStoreQuery:\n        query = VectorStoreQuery(\n            query_embedding=query_bundle_with_embeddings.embedding,\n            similarity_top_k=self._similarity_top_k,\n            node_ids=self._node_ids,\n            doc_ids=self._doc_ids,\n            query_str=query_bundle_with_embeddings.query_str,\n            mode=self._vector_store_query_mode,\n            alpha=self._alpha,\n            filters=self._filters,\n            sparse_top_k=self._sparse_top_k,\n        )\n\n        # dataset_id \u53c2\u6570\u662f\u5fc5\u4f20\u7684\n        if dataset_id:\n            dataset_filter = MetadataFilter(key=\"dataset_id\", value=dataset_id, operator=FilterOperator.EQ)\n            if query.filters is None:\n                # \u6ca1\u6709\u5176\u4ed6\u7684filter\uff0c\u90a3\u5c31\u53ea\u4f7f\u7528dataset_id\u8fc7\u6ee4\n                query.filters = MetadataFilters(\n                    filters=[dataset_filter], condition=FilterCondition.AND\n                )\n            else:\n                # \u6709\u5176\u4ed6\u7684filter\uff0c\u6dfb\u52a0dataset_id\u8fc7\u6ee4\u7684\u6761\u4ef6\n                q_filters = query.filters.filters\n                q_filters.append(dataset_filter)\n                query.filters = MetadataFilters(filters=[q_filters], condition=FilterCondition.AND)\n        return query\n</code></pre> <p>\u53e6\u5916\u5728\u4f7f\u7528MultiQuestion\u7684QueryTransform\u65f6\uff0cLlamaIndex\u6846\u67b6\u7684VectorRetriever\u9ed8\u8ba4\u4f1a\u5148\u5bf9embedding_strs\u8fdb\u884cembeding\u7136\u540e\u6c42\u5747\u503c\uff0c\u6700\u540e\u62ff\u7740\u6c42\u5b8c\u5747\u503c\u4e4b\u540e\u7684embeding\u68c0\u7d22\u3002\u6211\u8ba4\u4e3a\u5e94\u8be5\u5bf9\u6bcf\u4e00\u4e2aquery\u90fd\u53bb\u68c0\u7d22\uff0c\u5c06\u6240\u6709\u7684query\u67e5\u8be2\u5408\u5e76\u8d77\u6765\u518d\u53bb\u91cd\u3002\u8981\u5b9e\u73b0\u8fd9\u4e2a\u6548\u679c\uff0c\u9700\u8981\u91cd\u5199<code>_retrieve</code>\u65b9\u6cd5\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>    def _retrieve(\n            self,\n            query_bundle: QueryBundle,\n            dataset_id: str = None\n    ) -&gt; List[NodeWithScore]:\n        logger.debug(f\"Vector _retrieve: {dataset_id=}, {query_bundle.query_str=}, {query_bundle.embedding_strs=}\")\n        logger.debug(f\"is_embedding_query: {self._vector_store.is_embedding_query}\")\n        res = []\n        if self._vector_store.is_embedding_query:\n            if query_bundle.embedding is None and len(query_bundle.embedding_strs) &gt; 0:\n                for embedding_str in query_bundle.embedding_strs:\n                    new_query_bundle = QueryBundle(query_str=embedding_str)\n                    new_query_bundle.embedding = self._embed_model.get_text_embedding(\n                        embedding_str\n                    )\n                    one_query_res = self._get_nodes_with_embeddings(\n                        new_query_bundle, dataset_id=dataset_id\n                    )\n                    res.extend(one_query_res)\n            else:\n                res = self._get_nodes_with_embeddings(query_bundle, dataset_id=dataset_id)\n        else:\n            res = self._get_nodes_with_embeddings(query_bundle, dataset_id=dataset_id)\n        logger.debug(f\"Vector _retrieve before filter: {len(res)=}\")\n        return res\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#bm25","title":"BM25\u68c0\u7d22","text":"<p>Bm25\u68c0\u7d22\u7684\u65f6\u5019\u53d1\u73b0\uff0c\u9700\u8981\u5c06\u6240\u6709\u7684text\u5148\u67e5\u8be2\u51fa\u6765\uff0c\u7136\u540e\u4f7f\u7528BM25\u7b97\u6cd5\u8ba1\u7b97\u5206\u6570\u3002</p> <p>\u5f53query\u4e2d\u6709\u4e2d\u6587\u7684\u65f6\u5019\uff0c\u9700\u8981\u624b\u52a8\u6307\u5b9a\u505c\u7528\u8bcd\uff0c\u505c\u7528\u8bcd\u53ef\u4ee5\u9488\u5bf9\u6240\u6709\u7684text\u4f7f\u7528jieba\u5206\u8bcd\u5f97\u5230\u3002</p> <p>rank_bm25 \u5e93\uff0c\u5f53<code>keyword</code>\u5360\u6bd4<code>corpus</code>\u768450%\u65f6\uff0c\u4f1a\u5bfc\u81f4\u5206\u6570\u4e3a0,\u8fd9\u4e2a\u95ee\u9898\u622a\u6b622024-6-17 22:34:52\u8fd8\u6ca1\u6709\u4fee\u590d\u3002\u6211\u7ed9\u5b83\u63d0\u4e86PR\uff0c\u4f5c\u8005\u8fd8\u6ca1\u5408\u5e76\u3002BUG\u94fe\u63a5\u89c1\u8fd9\u91cc, PR \u94fe\u63a5\u89c1\u8fd9\u91cc</p> <p>\u4fee\u590d\u540e\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>def tokenize_remove_stopwords(text: str) -&gt; List[str]:\n    # \u6587\u672c\u5206\u8bcd\n    seg_list_exact = jieba.lcut(text)\n    result_list = []\n    # \u8bfb\u53d6\u505c\u7528\u8bcd\u5e93 current_path / \"xx.txt\"\n    stopwords_hit_path = current_path.joinpath('stopwords_hit.txt')\n    with open(stopwords_hit_path, encoding='utf-8') as f:  # \u53ef\u6839\u636e\u9700\u8981\u6253\u5f00\u505c\u7528\u8bcd\u5e93\uff0c\u7136\u540e\u52a0\u4e0a\u4e0d\u60f3\u663e\u793a\u7684\u8bcd\u8bed\n        con = f.readlines()\n        stop_words = set()\n        for i in con:\n            i = i.replace(\"\\n\", \"\")  # \u53bb\u6389\u8bfb\u53d6\u6bcf\u4e00\u884c\u6570\u636e\u7684\\n\n            stop_words.add(i)\n    # \u53bb\u9664\u505c\u7528\u8bcd\u5e76\u4e14\u53bb\u9664\u5355\u5b57\n    for word in seg_list_exact:\n        if word not in stop_words and len(word) &gt; 1:\n            result_list.append(word)\n    return result_list\n\n\nclass MyBM25Okapi(BM25Okapi):\n    def _calc_idf(self, nd):\n        \"\"\"\n        BM25Okapi \u5f00\u6e90\u9879\u76ee\u4e2d\u5f53token\u5360\u6587\u6863\u6bd4\u4f8b\u768450%\u65f6\uff0cidf\u8ba1\u7b97\u51fa\u6765\u4f1a\u53d8\u62100\uff0c\u5bfc\u81f4\u5206\u6570\u4e3a0\uff0c\n        Issues \u89c1\uff1a https://github.com/dorianbrown/rank_bm25/issues/39\n        \u6211\u63d0\u4ea4\u4e86PR \u4f5c\u8005\u8fd8\u6ca1\u6709\u5408\u5e76\uff0c\u6240\u4ee5\u5148\u7ee7\u627f\u8fd9\u4e2a\u7c7b\uff0c\u91cd\u5199\u5b83\u7684\u65b9\u6cd5\n        \u5c06\u8ba1\u7b97\u516c\u5f0f\u4fee\u6539\u6210\u4e0b\u9762\u7684\u516c\u5f0f\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\n        \"\"\"\n        # collect idf sum to calculate an average idf for epsilon value\n        idf_sum = 0\n        # collect words with negative idf to set them a special epsilon value.\n        # idf can be negative if word is contained in more than half of documents\n        negative_idfs = []\n        for word, freq in nd.items():\n            idf = math.log(self.corpus_size + 1) - math.log(freq + 0.5)\n            self.idf[word] = idf\n            idf_sum += idf\n            if idf &lt; 0:\n                negative_idfs.append(word)\n        self.average_idf = idf_sum / len(self.idf)\n\n        eps = self.epsilon * self.average_idf\n        for word in negative_idfs:\n            self.idf[word] = eps\n\n\nclass Bm25Utils(object):\n    def __init__(self, tokenizer=None):\n        self.tokenizer = tokenizer or tokenize_remove_stopwords\n\n    def get_scored_nodes(self, query: str = \"\", nodes: List[TextNode] = None) -&gt; List[NodeWithScore]:\n        \"\"\"\n        \u6839\u636eBM25\u7b97\u6cd5\u8ba1\u7b97\u8282\u70b9\u4e0e\u67e5\u8be2\u7684\u76f8\u4f3c\u5ea6\u5206\u6570\n        :param query: \u67e5\u8be2\n        :param nodes: \u8282\u70b9\u5217\u8868\n        :return: \u8282\u70b9\u5217\u8868\uff0c\u6bcf\u4e2a\u8282\u70b9\u5305\u542b\u76f8\u4f3c\u5ea6\u5206\u6570\n        \"\"\"\n        if not nodes:\n            return []\n\n        # filter empty text node\n        corpus = []\n        have_value_nodes = []\n        for node in nodes:\n            content = node.get_content()\n            if content:\n                have_value_nodes.append(node)\n                token = self.tokenizer(content)\n                corpus.append(token)\n        if not corpus:\n            return []\n\n        bm25_api = MyBM25Okapi(corpus)\n        tokenized_query = self.tokenizer(query)\n        doc_scores = bm25_api.get_scores(tokenized_query)\n\n        scored_nodes = []\n        for i, node in enumerate(have_value_nodes):\n            scored_nodes.append(NodeWithScore(node=node, score=float(doc_scores[i])))\n\n        result = sorted(scored_nodes, key=lambda x: x.score or 0.0, reverse=True)\n        return result\n\n\nbm25_utils = Bm25Utils()\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_13","title":"\u68c0\u7d22\u540e\u5904\u7406","text":"<p>\u5f53\u4f7f\u7528\u5411\u91cf\u68c0\u7d22\u6216BM25\u68c0\u7d22\u5230nodes\u4e4b\u540e\uff0c\u9700\u8981\u5bf9\u68c0\u7d22\u7684\u7684\u6570\u636e\u505a\u4e00\u4e9b\u5904\u7406\uff0c\u8ba9\u6570\u636e\u66f4\u51c6\u786e\u3002</p> <p>\u4e3b\u8981\u5b9e\u73b0\u4e86\u4e0b\u9762\u7684\u51e0\u79cd\u65b9\u6cd5\uff1a</p> <ul> <li>\u53bb\u91cd\uff0c\u6839\u636enode\u7684text\u7684hash\u503c\u53bb\u91cd\u3002</li> <li>\u91cd\u6392\uff0c\u5411\u91cf\u76f8\u4f3c\u5ea6\u68c0\u7d22\u5230\u7684\u6570\u636e\u662f\u6bd4\u8f83\u76f8\u4f3c\u7684\uff0c\u4f46\u662f\u8fd9\u4e2a\u6570\u636e\u8ddfquery\u4e0d\u4e00\u5b9a\u662f\u76f8\u5173\u7684\uff0c\u6240\u4ee5\u9700\u8981\u901a\u8fc7rerank model\u8fdb\u884c\u91cd\u6392\uff0c\u91cd\u6392\u4e4b\u540e\u4f1a\u8ba1\u7b97\u51fa\u4e00\u4e2a\u5206\u6570\uff0c\u8303\u56f4\u4e3a0\u52301\uff0c\u8d8a\u63a5\u8fd11\u8bf4\u660e\u8d8a\u76f8\u5173\u3002\u91cd\u6392\u4e4b\u540e\u4e00\u822c\u4f1a\u901a\u8fc7\u4e00\u4e2a\u9608\u503c\u8fc7\u6ee4\u6389\u4e0d\u76f8\u5173\u7684\u6570\u636e\uff0c\u9608\u503c\u4e00\u822c\u8bbe\u7f6e\u76840.1.</li> <li>\u6839\u636e\u5e73\u5747\u503c\u8fc7\u6ee4\uff0c\u6839\u636enodes\u8ba1\u7b97\u51fa\u5206\u6570\u7684\u5e73\u5747\u6570\uff0c\u7136\u540e\u5c06\u5927\u4e8e\u7b49\u4e8e\u5e73\u5747\u6570\u7684node\u8fd4\u56de\u3002\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u4f7f\u68c0\u7d22\u5230\u7684\u6570\u636e\u4e2d\u65e0\u5173\u4fe1\u606f\u66f4\u5c11\uff0c\u4f46\u662f\u540c\u65f6\u53ef\u80fd\u4f1a\u7b5b\u9664\u6389\u4e00\u4e9b\u53ef\u80fd\u76f8\u5173\u7684\u6570\u636e\u3002</li> <li>\u4f7f\u7528Kmeans\u805a\u7c7b\u7b97\u6cd5\u8fc7\u6ee4\u3002\u5b9e\u6d4b\u8fd9\u79cd\u65b9\u6cd5\u6548\u679c\u4e0d\u597d\uff0c\u4f1a\u5c06\u5f88\u591a\u76f8\u5173\u7684\u6570\u636e\u53bb\u6389\u3002</li> <li>\u4f7f\u7528RRF\u7b97\u6cd5\u6392\u5e8f\uff0c\u8fd9\u79cd\u7b97\u6cd5\u8ddf\u53bb\u91cd\u7684\u6548\u679c\u5dee\u4e0d\u591a\u3002</li> <li>\u4f7f\u7528BM25\u7b97\u6cd5\u8fc7\u6ee4\uff0c\u8fd9\u79cd\u7b56\u7565\u662f\u5148\u8fdb\u884c\u5411\u91cf\u6570\u636e\u5e93\u68c0\u7d22\u7136\u540e\u4f7f\u7528BM25\u7b97\u6cd5\u8fc7\u6ee4\u3002\u5b9e\u6d4b\u6548\u679c\uff0c\u5f88\u591a\u60c5\u51b5\u4e0b\u6570\u636e\u5168\u90e8\u90fd\u88ab\u8fc7\u6ee4\u4e86\u3002</li> </ul> <p>\u5c06\u4e0a\u8ff0\u7684\u6240\u6709\u65b9\u6cd5\u6392\u5217\u7ec4\u5408\u80fd\u7ec4\u540810+\u79cd\u7ec4\u5408\u3002\u5176\u4e2d\u4f7f\u7528MultiQuestion+\u5411\u91cf\u6570\u636e\u5e93+\u91cd\u6392\u7684\u6548\u679c\u6700\u597d\u3002</p> <p>\u5355\u4e00\u7684\u67e5\u8be2\u5f15\u64ce\u7684\u6548\u679c\u90fd\u53ea\u80fd\u8fbe\u523070%\u7684\u51c6\u786e\u5ea6\u3002\u518d\u60f3\u63d0\u9ad8\u5c31\u9700\u8981\u4f7f\u7528\u7ec4\u5408\u68c0\u7d22\u4e86\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#multiqueryengine","title":"\u591a\u4e2a\u67e5\u8be2\u5f15\u64ce\uff08MultiQueryEngine \u7ec4\u5408\u7d22\u5f15\uff09","text":"<p>\u7ec4\u5408\u7d22\u5f15\u5c31\u662f\u5c06\u591a\u4e2a\u5355\u4e2a\u67e5\u8be2\u5f15\u64ce\u7684\u7ed3\u679c\u7ec4\u5408\u8d77\u6765\u4e86\u3002\u6bd4\u5982\u5411\u91cf\u6570\u636e\u5e93\uff0cES\uff0c\u6570\u636e\u5e93\uff0cBM25\u68c0\u7d22\u7b49\u7b49\u3002\u4ece\u4e0d\u540c\u7684\u6570\u636e\u6e90\u83b7\u53d6\u6570\u636e\uff0c\u7136\u540e\u5408\u5e76\u8d77\u6765\u3002\u5728\u8fdb\u884c\u5408\u5e76\u540e\u5904\u7406\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_14","title":"\u5408\u5e76\u7b56\u7565","text":"<p>\u5408\u5e76\u7b56\u7565\u4e3b\u8981\u5b9e\u73b0\u4e863\u79cd\u3002</p> <ul> <li>Extend\u5408\u5e76\uff0c\u5c06\u591a\u4e2aSingleQueryEngine\u7684\u7ed3\u679c\u653e\u5230\u4e00\u4e2a\u5217\u8868\u4e2d\uff08\u8fd9\u91cc\u4f1a\u505a\u53bb\u91cd\u64cd\u4f5c\uff09</li> <li>\u6c42\u4ea4\u96c6\uff0c\u5bf9\u591a\u4e2aSingleQueryEngine\u7684\u7ed3\u679c\u6c42\u4ea4\u96c6\uff08\u5b9e\u6d4b\u6548\u679c\u5f88\u5dee\uff0c\u7ecf\u5e38\u6c42\u4ea4\u96c6\u4e4b\u540e\u5c31\u662f\u7a7a\u96c6\u4e86\uff0c\u5bb9\u6613\u6f0f\u6389\u76f8\u5173\u6587\u6863\u3002\u4e0d\u5efa\u8bae\u4f7f\u7528\uff09</li> <li>RRF\u7b97\u6cd5\uff0c\u8ddfExtend\u6548\u679c\u5dee\u4e0d\u591a\uff0c\u4e3b\u8981\u533a\u522b\u5728\u4e8enode\u7684\u987a\u5e8f\u4e0d\u4e00\u6837\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_15","title":"\u5408\u5e76\u540e\u5904\u7406","text":"<p>\u5408\u5e76\u540e\u7684\u5904\u7406\u8ddfSingleQueryEngine\u4e2d\u7684\u540e\u5904\u7406\u662f\u901a\u7528\u7684\u3002</p> <p>\u591a\u4e2a\u67e5\u8be2\u5f15\u64ce\u7ec4\u5408\u8d77\u6765\u4e5f\u670910+\u79cd\u3002\u5b9e\u6d4b\uff0c\u5411\u91cf+BM25\u68c0\u7d22+Extend\u5408\u5e76\uff0c\u7136\u540e\u4f7f\u7528Rerank\u548cmean_filter\u7684\u540e\u5904\u7406\u6548\u679c\u6700\u597d\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_16","title":"\u63d0\u793a\u8bcd\u6a21\u677f","text":"<p>Langchain\u548cllamaIndex\u7684prompt\u6a21\u677f\u4e2d\u9ed8\u8ba4\u90fd\u662f\u4f7f\u7528f-string\u53bb\u683c\u5f0f\u5316\u7684\u3002\u5982\u679c\u63d0\u793a\u8bcd\u6a21\u677f\u4e2d\u51fa\u73b0\u4e86\u5927\u62ec\u53f7\u5982<code>{xxx}</code>\uff0c\u5c31\u4f1a\u683c\u5f0f\u5316\u62a5\u9519\u3002Langchain\u6846\u67b6\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\u8bbe\u7f6e\u6210jinja2\u6765\u683c\u5f0f\u5316\u3002LlamaIndex\u6846\u67b6\u6682\u65f6\u6ca1\u6709\u4fee\u590d\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u63d0\u793a\u8bcd\u6a21\u677f\u4f18\u5316\u6280\u5de7</p> <ul> <li>\u5206\u7247\u4e4b\u95f4\u6dfb\u52a0\u5206\u9694\u7b26\uff0cHTML\u6807\u7b7e\u7b49</li> <li>\u6dfb\u52a0\u89d2\u8272\u548c\u4efb\u52a1\u63cf\u8ff0</li> <li>few-shot \u6dfb\u52a0\u76f8\u4f3c\u6837\u4f8b\uff0c\u53ef\u4ee5\u5c31\u9759\u6001\u4e5f\u53ef\u4ee5\u662f\u52a8\u6001</li> <li>Chain-of-thought</li> <li>\u6dfb\u52a0\u9650\u5236\uff0c\u5fc5\u987b\u600e\u4e48\u600e\u4e48\u6837\u3001\u4e0d\u8981\u600e\u4e48\u600e\u4e48\u6837\u3001\u7981\u6b62\u600e\u4e48\u600e\u4e48\u6837</li> <li>\u6dfb\u52a0\u8f93\u5165\u8f93\u51fa\u683c\u5f0f\u7684\u63cf\u8ff0</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_17","title":"\u5927\u6a21\u578b\u76f8\u5173","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_18","title":"\u6a21\u578b\u9009\u62e9","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_19","title":"\u5927\u6a21\u578b","text":"<p>\u6700\u5f00\u59cb\u6211\u4eec\u4f7f\u7528\u7684Chatglm3-6B\u7684\u6a21\u578b\uff0c\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5f88\u591a\u95ee\u9898\u4e0a\u4e0b\u6587\u5df2\u7ecf\u5f88\u6b63\u786e\u4e86\u8fd8\u662f\u56de\u7b54\u4e0d\u597d\u3002\u540e\u9762\u6709\u5207\u6362\u5230qwen1.5-7B\uff0c\u6548\u679c\u4e5f\u5dee\u4e0d\u591a\u3002\u7136\u540e\u5c06\u6a21\u578b\u6362\u6210qwen1.5-14B-int8\u7684\u6a21\u578b\uff0c\u6548\u679c\u6709\u4e86\u5f88\u660e\u663e\u7684\u63d0\u5347\u3002\u4f46\u662f\u9488\u5bf9\u6bd4\u8f83\u590d\u6742\u7684\u63d0\u793a\u8bcd\uff0c\u5982\u6839\u636e\u5386\u53f2\u4fe1\u606f\u91cd\u5199\uff0c\u6216\u8005RAG\u8bc4\u4f30\u4e2d\u6839\u636etext\u751f\u6210query\u7684\u6548\u679c\u4e5f\u4e0d\u597d\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#embedding","title":"Embedding\u6a21\u578b","text":"<p>Embeding\u6a21\u578b\u4ecem3e-base\uff0c\u5230bge-base-zh-v1.5\u5230\u5fae\u8c03beg-base-zh\u518d\u5230bge-m3\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#rerank","title":"Rerank\u6a21\u578b","text":"<p>Rerank\u6a21\u578b\u5f00\u59cb\u4f7f\u7528\u7684\u662fbge-reranker-base\uff0c\u540e\u9762\u4f7f\u7528\u7684\u662fbge-reranker-v2-m3\uff0c\u8fd9\u4e2a\u6a21\u578b\u6ca1\u6709\u66f4\u6362\u8fc7\u5176\u4ed6\u7684\uff0c\u4e5f\u6ca1\u8fdb\u884c\u5fae\u8c03\u3002\u5b9e\u6d4b\u4e0b\u6765\u5728\u91cd\u6392\u7684\u65f6\u5019\uff0c\u6709\u4e9b\u6587\u6863\u8ddfquery\u5176\u5b9e\u4e0d\u662f\u7279\u522b\u7684\u76f8\u5173\uff0c\u4f46\u662frerank\u7684\u5206\u6570\u6bd4\u8f83\u9ad8\u3002\u8fd8\u9047\u5230\u8fc7\u6700\u76f8\u5173\u7684\u6587\u6863\u5206\u6570\u4e0d\u662f\u6700\u9ad8\u7684\uff0c\u5728\u5012\u6570\u7b2c3\u7684\u95ee\u9898\u3002\u4e3a\u4e86\u5728\u5782\u76f4\u9886\u57df\u6548\u679c\u66f4\u597d\uff0c\u53ef\u80fd\u9700\u8981\u5bf9rerank\u6a21\u578b\u8fdb\u884c\u5fae\u8c03\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_20","title":"\u6a21\u578b\u63a8\u7406\u6846\u67b6","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#embeding_1","title":"Embeding\u6a21\u578b\u63a8\u7406","text":"<p>Embeding\u6a21\u578b\u4f7f\u7528bge\u6a21\u578b\u4f7f\u7528\u7684\u662fFastchat\u6846\u67b6\u90e8\u7f72\u7684\u3002\u5728\u4f7f\u7528m3e-base\u7684\u65f6\u5019Fastchat\u5bf9m3e-base\u7684\u652f\u6301\u4e0d\u662f\u5f88\u597d\uff0c\u76f4\u63a5\u4f7f\u7528FastAPI\u548c<code>SentenceTransformers</code>\u5c01\u88c5\u4e86\u4e00\u4e0b\u7136\u540e\u63d0\u4f9bembeding\u7684\u63a5\u53e3\u3002</p> <p>huggingface\u5b98\u65b9\u4f7f\u7528Rust\u8bed\u8a00\u5199\u7684text-embeddings-inference\u6846\u67b6\u6027\u80fd\u975e\u5e38\u597d\uff0c\u6bd4\u4f7f\u7528onnx\u6027\u80fd\u8fd8\u8981\u597d\u4e00\u4e22\u4e22\u3002\u540e\u7eed\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528\u8fd9\u4e2a\u90e8\u7f72Embeding\u6a21\u578b\u3002</p> <p>\u6ce8\u610f\uff1a\u8fd9\u91cc\u5f00\u59cb\u4f7f\u7528\u4e86Flask\u6846\u67b6\u548cGunicorn\u5e93\u5c01\u88c5\u63a5\u53e3\uff0c\u4f46\u662f\u5f53worker\u6570\u91cf\u5927\u4e8e1\u7684\u65f6\u5019\uff0c\u4f7f\u7528Gunicorn\u6846\u67b6\u4f1a\u62a5<code>RuntimeError: Cannot re-initialize CUDA in forked subprocess. To use CUDA with multiprocessing, you must use the 'spawn' start method</code>\u3002</p> <p>\u539f\u56e0\u662fGunicorn\u7684\u542f\u52a8Web\u670d\u52a1\u7684\u65f6\u5019\uff0cGunicorn \u9ed8\u8ba4\u4f1a\u4f7f\u7528 <code>fork</code> \u7684\u65b9\u5f0f\u521b\u5efa\u8fdb\u7a0b\u3002\u5728\u8c03\u7528\u63a5\u53e3\u7684\u65f6\u5019\u4f1a\u62a5\u9519<code>RuntimeError: Cannot re-initialize CUDA in forked subprocess. To use CUDA with multiprocessing, you must use the 'spawn' start method</code>\u3002</p> <p>\u89e3\u51b3\u529e\u6cd5\uff1a</p> <ul> <li>\u4f7f\u7528uvicorn\u6846\u67b6\u548cfastapi\u6846\u67b6\u542f\u52a8\uff0c\u542f\u52a8\u7684\u65f6\u5019\u53ef\u4ee5\u5236\u5b9a\u591a\u4e2a\u8fdb\u7a0b\uff0c\u5982\u679c\u6307\u5b9a\u591a\u4e2a\u8fdb\u7a0b\uff0cGPU\u4e0a\u4f1a\u52a0\u8f7d\u591a\u6b21\u6a21\u578b\uff0c\u5bf9\u663e\u5b58\u4f1a\u6709\u5f71\u54cd\u3002\u53c2\u6570\u683c\u5f0f\u5982\uff1a<code>uvicorn main:app --host 0.0.0.0 --port 5000 --loop uvloop --workers 4</code></li> <li>\u6216\u8005\u4f7f\u7528Gunicorn\u6846\u67b6\u542f\u52a8\u7684\u65f6\u5019\u6307\u5b9a\u53ea\u542f\u52a8\u4e00\u4e2a\u8fdb\u7a0b\uff0cGunicorn\u542f\u52a8\u591a\u4e2a\u8fdb\u7a0b\u8fd8\u662f\u4f1a\u51fa\u73b0\u4e0a\u9762\u7684\u9519\u8bef\uff0c\u53ea\u80fd\u6307\u5b9a\u4e00\u4e2a\u8fdb\u7a0b\u3002\u53c2\u6570\u683c\u5f0f\u5982\uff1a<code>gunicorn -w 1 -b 0.0.0.0:5000 main:app</code></li> <li>\u4f7f\u7528uwsgi\u6846\u67b6\u542f\u52a8\uff0c\u5728\u6307\u5b9a\u4e86\u53ea\u542f\u52a8\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u5e76\u4e14\u4e0d\u80fd\u52a0\u4e0a<code>--master\u53c2\u6570</code>\u3002uwsgi\u6846\u67b6\u6307\u5b9a<code>--master</code>\u53c2\u6570\u4e5f\u4f1a\u51fa\u73b0\u4e0a\u9762\u7684\u9519\u8bef\uff0c\u6307\u5b9a\u591a\u4e2a\u8fdb\u7a0b\u4e5f\u4f1a\u51fa\u73b0\u4e0a\u9762\u7684\u9519\u8bef\u3002\u53c2\u6570\u683c\u5f0f\u5982\uff1a<code>uwsgi --http 0.0.0.0:5000 -p 1 -w main:app --enable-threads</code></li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#llm","title":"LLM\u63a8\u7406","text":"<p>chatglm3-6b\u548cqwen1.5-7B\u90fd\u662f\u4f7f\u7528\u7684fastchat\u6846\u67b6\u90e8\u7f72\u7684\u3002\u5176\u4e2dFastchat\u5bf9Chatglm3-6B\u7684\u652f\u6301\u4e0d\u662f\u5f88\u597d\uff0c\u6709\u7684\u65f6\u5019\u56de\u7b54\u4f1a\u51fa\u73b0\u4e2d\u82f1\u6587\u6df7\u6742\u7684\u60c5\u51b5\u3002</p> <p>\u540e\u9762\u5207\u6362\u5230qwen1.5-14B-int8\u4e4b\u540e\u4f7f\u7528\u7684vllm\u6846\u67b6\u90e8\u7f72\u3002</p> <p>\u8fd8\u8c03\u7814\u8fc7ollam\u6846\u67b6\uff0c\u7c7b\u4f3c\u4e0eDocker\u7684\u6982\u5ff5\u3002\u670d\u52a1\u542f\u52a8\u4e4b\u540e\u4e0d\u80fd\u505c\u6b62\uff0c\u53ea\u80fd\u5220\u9664\uff0c\u5220\u9664\u4e4b\u540e\u6a21\u578b\u6587\u4ef6\u5c31\u6ca1\u6709\u4e86\uff0c\u4e0b\u4e00\u6b21\u542f\u52a8\u53c8\u8981\u91cd\u65b0\u4e0b\u8f7d\u6a21\u578b\u3002\u4f53\u9a8c\u4e0d\u597d\u5c31\u6ca1\u7528\u4e86\u3002</p> <p>\u8fd8\u4e86\u89e3\u8fc7llama.cpp\u6846\u67b6\uff0c\u53ef\u4ee5\u652f\u6301CPU\u548cGPU\u6df7\u5408\u63a8\u7406\uff0c\u636e\u8bf4\u6027\u80fd\u5f88\u597d\uff0c\u6ca1\u6709\u5b9e\u9645\u7528\u8fc7\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#rerank_1","title":"Rerank\u6a21\u578b\u63a8\u7406","text":"<p>Rerank\u6a21\u578b\u662f\u4f7f\u7528FastAPI\u6846\u67b6\u5c06<code>SentenceTransformers</code>\u505a\u4e86\u4e00\u4e0b\u5c01\u88c5\u5b9e\u73b0\u7684\u91cd\u6392\u63a5\u53e3\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_21","title":"\u6a21\u578b\u663e\u5b58\u5360\u7528","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_22","title":"\u8bad\u7ec3","text":"<p>\u5927\u6a21\u578b\u8bad\u7ec3\u4e00\u822c\u90fd\u662f\u4f7f\u7528\u7684\u6df7\u5408\u7cbe\u5ea6\u548cAdam\u4f18\u5316\u5668\u3002</p> <p>\u5047\u8bbe\u6a21\u578b\u7684\u53c2\u6570W\u5927\u5c0f\u662f $ \\Phi $ \uff0c\u4ee5byte\u4e3a\u5355\u4f4d\uff0c\u5b58\u50a8\u5982\u4e0b\uff1a</p> <p></p> <p>\u56e0\u4e3a\u91c7\u7528\u4e86Adam\u4f18\u5316\uff0c\u6240\u4ee5\u624d\u4f1a\u51fa\u73b0momentum\u548cvariance\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\u522b\u7684\u4f18\u5316\u529e\u6cd5\u3002\u56e0\u6b64\u8fd9\u91cc\u4e3a\u4e86\u66f4\u901a\u7528\u4e9b\uff0c\u8bb0\u6a21\u578b\u5fc5\u5b58\u7684\u6570\u636e\u5927\u5c0f\u4e3a $ \\Phi $ \u3002\u56e0\u6b64\u6700\u7ec8\u5185\u5b58\u5f00\u9500\u4e3a\uff1a $$ 2\\Phi + 2\\Phi + K\\Phi $$ \u53e6\u5916\uff0c\u8fd9\u91cc\u6682\u4e0d\u5c06activation\u7eb3\u5165\u7edf\u8ba1\u8303\u56f4\uff0c\u539f\u56e0\u662f\uff1a</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#-_activationbatch_size","title":"- activation\u4e0d\u4ec5\u4e0e\u6a21\u578b\u53c2\u6570\u76f8\u5173\uff0c\u8fd8\u4e0ebatch size\u76f8\u5173","text":"<p>activation\u7684\u5b58\u50a8\u4e0d\u662f\u5fc5\u987b\u7684\u3002\u5b58\u50a8activation\u53ea\u662f\u4e3a\u4e86\u5728\u7528\u94fe\u5f0f\u6cd5\u5219\u505abackward\u7684\u8fc7\u7a0b\u4e2d\uff0c\u8ba1\u7b97\u68af\u5ea6\u66f4\u5feb\u4e00\u4e9b\u3002\u4f46\u4f60\u6c38\u8fdc\u53ef\u4ee5\u901a\u8fc7\u53ea\u4fdd\u7559\u6700\u521d\u7684\u8f93\u5165X\uff0c\u91cd\u65b0\u505aforward\u6765\u5f97\u5230\u6bcf\u4e00\u5c42\u7684activation\uff08\u867d\u7136\u5b9e\u9645\u4e2d\u5e76\u4e0d\u4f1a\u8fd9\u4e48\u6781\u7aef\uff09\u3002</p> <ul> <li>\u56e0\u4e3aactivation\u7684\u8fd9\u79cd\u7075\u6d3b\u6027\uff0c\u7eb3\u5165\u5b83\u540e\u4e0d\u65b9\u4fbf\u8861\u91cf\u7cfb\u7edf\u6027\u80fd\u968f\u6a21\u578b\u589e\u5927\u7684\u771f\u5b9e\u53d8\u52a8\u60c5\u51b5\u3002\u56e0\u6b64\u5728\u8fd9\u91cc\u4e0d\u8003\u8651\u5b83\uff0c\u5728\u540e\u9762\u4f1a\u5355\u5f00\u4e00\u5757\u8bf4\u660e\u5bf9activation\u7684\u4f18\u5316\u3002</li> </ul> <p>\u5728\u8bad\u7ec3\u7684\u65f6\u5019\u4e00\u822c\u4f1a\u91c7\u7528\u591a\u673a\u591a\u5361\uff0c\u4f7f\u7528DeepSpeed\u6846\u67b6\u7684\u8bdd\uff0c\u4f1a\u4f7f\u7528Zero\u6280\u672f\u3002</p> <ul> <li>ZeRO-1 : \u5bf9\u4f18\u5316\u5668\u72b6\u6001\u5206\u7247\uff08Optimizer States Sharding\uff09</li> <li>ZeRO-2 : \u5bf9\u4f18\u5316\u5668\u72b6\u6001\u548c\u68af\u5ea6\u5206\u7247\uff08Optimizer States &amp; Gradients Sharding\uff09</li> <li>ZeRO-3 : \u5bf9\u4f18\u5316\u5668\u72b6\u6001\u3001\u68af\u5ea6\u5206\u7247\u4ee5\u53ca\u6a21\u578b\u6743\u91cd\u53c2\u6570\u5206\u7247\uff08Optimizer States &amp; Gradients &amp; Parameters Sharding\uff09</li> </ul> <p></p> <p>\u793a\u4f8b\uff0c\u4ee5\u5168\u91cf\u9884\u8bad\u7ec3Atom-7B\u7684\u6a21\u578b\u4e3a\u4f8b\u3002\u6211\u4eec\u6709\u4e24\u53f0\u670d\u52a1\u5668\uff0c\u5176\u4e2d\u4e00\u53f0\u6709 2 \u5f20A100\uff0840GB\uff09\uff0c\u53e6\u4e00\u53f0\u4e3a 2 \u5f20 V100\uff0832GB\uff09\u3002</p> <p>Atom-7B\u7684\u53c2\u6570\u91cf\u5927\u5c0f\u4e3a $ 7 * 10 ^ 9 $ \u5b57\u8282\uff0c\u7b49\u4e8e 7GB \u6216\u8005 6.5 GiB\u3002$ n_d $\u8868\u793a\u6709\u591a\u5c11\u5f20\u5361\u8fdb\u884c\u5206\u5e03\u5f0f\u8bad\u7ec3\uff0c\u5728\u8fd9\u91cc\u7b49\u4e8e $ 4 $\u3002</p> <p>\u5c06 $ \\Psi = 7 $ GB\uff0c$ K = 12 $ \uff0c$ N_d = 4 $ \u5e26\u5165\u4e0a\u9762\u7684\u516c\u5f0f\u3002</p> <ul> <li>baseline\u5185\u5b58\u5360\u7528\uff1a $ (2 + 2 + 12) * 7 = 112 $ GB\uff0c\u6bcf\u5f20\u5361\u9700\u8981 112GB \u663e\u5b58\uff0c\u8d85\u51fa\u4e86\u663e\u5361\u7684\u663e\u5b58\uff0c\u65e0\u6cd5\u8bad\u7ec3\u3002</li> <li>ZeRO-1 \u5185\u5b58\u5360\u7528\uff1a $ 2*7 + 2*7 + \\frac{12*7}{4} = 49 $ GB\uff0c\u6bcf\u5f20\u5361\u9700\u8981 49GB \u663e\u5b58\uff0c\u8d85\u51fa\u4e86\u663e\u5361\u7684\u663e\u5b58\uff0c\u65e0\u6cd5\u8bad\u7ec3\u3002</li> <li>ZeRO-2 \u5185\u5b58\u5360\u7528\uff1a $ 2*7 + \\frac{(2+12)*7}{4} = 38.5 $ GB\uff0c\u6bcf\u5f20\u5361\u9700\u8981 38.5GB \u663e\u5b58\uff0cA100\u80fd\u591f\u8bad\u7ec3\uff0c\u8d85\u51fa\u4e86V100\u7684\u663e\u5b58\uff0c\u65e0\u6cd5\u8bad\u7ec3\u3002</li> <li>ZeRO-3 \u5185\u5b58\u5360\u7528\uff1a $ \\frac{(2+2+12)*7}{4} = 28 $ GB\uff0c\u6bcf\u5f20\u5361\u9700\u8981 28 GB \u663e\u5b58\uff0c\u80fd\u591f\u8bad\u7ec3\u3002</li> </ul> <p>\u6ce8\u610f\uff1a\u8fd9\u91cc\u8ba1\u7b97\u7684\u663e\u5b58\u5360\u7528\u53ea\u8003\u8651\u4e86\u6a21\u578b\u72b6\u6001\uff0c\u5b9e\u9645\u4e0a\u8fd8\u6709\u5269\u4f59\u72b6\u6001\uff08\u5305\u62ec\u6fc0\u6d3b\u503c\uff08activation\uff09\u3001\u5404\u79cd\u4e34\u65f6\u7f13\u51b2\u533a\uff08buffer\uff09\u4ee5\u53ca\u65e0\u6cd5\u4f7f\u7528\u7684\u663e\u5b58\u788e\u7247\uff08fragmentation\uff09\uff09\uff0c\u4ee5ZeRO-3 \u8bad\u7ec3\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u663e\u5b58\u4f1a\u5927\u4e8e 28 GB\uff0c\u8bad\u7ec3\u53ef\u80fd\u4f1a\u62a5OOM\u7684\u9519\u8bef\u3002\u5982\u679c\u60f3\u8981\u5728ZeRO-1\u548cZeRO-2\u80fd\u591f\u8bad\u7ec3\u9700\u8981\u4f7f\u7528offload\u6280\u672f\u3002</p> <p>\u5b9e\u6d4b XuanYuan-6B \u5168\u91cf\u4e8c\u6b21\u9884\u8bad\u7ec3\uff0c\u4f7f\u75282\u673a4\u5361\uff08\u4e00\u53f0\u670d\u52a1\u5668A100 40G * 2\uff0c\u4e00\u53f0\u670d\u52a1\u5668 V100 *2\uff09ZeRO-3-Offload\u624d\u80fd\u8bad\u7ec3\u8d77\u6765\uff0c\u800c\u4e14\u8fd8\u8981\u5c06batch_size\u8bbe\u7f6e\u62101\u624d\u884c\u3002\u6267\u884c\u65f6\u95f4\u975e\u5e38\u4e45\uff0c\u8dd1\u4e00\u665a\u4e0a\u624d\u8bad\u7ec3700\u4e2asetps\uff0c1000\u4e07\u8c03\u6570\u636e\uff0c\u8bad\u7ec3\u4e00\u4e2aepoch\u5b8c\u9700\u898111\u5e74\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_23","title":"\u5fae\u8c03","text":"<p>\u91c7\u7528LORA\u5fae\u8c03\u663e\u5b58\u8d44\u6e90\u5360\u7528\u4e0d\u5927\uff0c\u4e00\u5f20A100\uff0840G\uff09\u5c31\u53ef\u4ee5\u5fae\u8c037B\u5927\u5c0f\u7684\u6a21\u578b\uff0c\u51e0\u767e\u6761\u6570\u636e\u5927\u6982\u9700\u8981\u8bad\u7ec35\u4e2a\u5c0f\u65f6\u3002</p> <p>LoRA\u7684\u539f\u7406\u662f\u5728\u539f\u6765\u7684\u6a21\u578b\u4e2d\u7684Linner\u3001Embedding\u3001Cov2d\u3001Cov1d\u5c42\uff0c\u5c06\u8fd9\u4e9b\u5c42\u6539\u6210LoRALayter\u3002LoRALayer\u4e2d\u4f1a\u5c06\u539f\u6765\u7684\u53c2\u6570\u51bb\u7ed3\uff0c\u7136\u540e\u6dfb\u52a0\u4e24\u4e2a\u4f4e\u79e9\u7684\u77e9\u9635A\uff0cB\uff0c\u5728\u8bad\u7ec3\u7684\u65f6\u5019\u4f1a\u66f4\u65b0\u4e24\u4e2a\u5c0f\u77e9\u9635\uff0c\u7136\u540e\u63a8\u7406\u7684\u65f6\u5019\u4f1a\u901a\u8fc7\u539f\u6765\u7684\u6743\u91cd\u548c\u5c0f\u77e9\u9635\u7684\u7ed3\u679c\u4e00\u8d77\u8ba1\u7b97\u3002</p> <p>\u5728LlamaFactory\u6846\u67b6\u4e2d\u8c03\u7528\u4e86<code>peft</code>\u8fd9\u4e2a\u6846\u67b6\u505aLoRA\u7684\u5fae\u8c03\uff0cLlamaFactory\u4e2d\u5236\u4f5c\u4e86LoRAConfig\u7684\u7684\u5c01\u88c5\uff0c\u7136\u540e\u901a\u8fc7<code>get_peft_model</code>\u83b7\u53d6\u4fee\u6539\u6a21\u578b\u7ed3\u6784\u4e4b\u540e\u7684model\u3002</p> <p>\u4f7f\u7528LlamaFactory\u6846\u67b6\u5fae\u8c03\uff0c\u5c06\u6570\u636e\u6574\u7406\u597d\u6267\u884cllama-factory-cli\u542f\u52a8\u5c31\u884c\u3002</p> <p>Qwen14B\u7684\u6a21\u578bLora\u5fae\u8c03\uff0c\u5355\u673a\u591a\u5361\uff08A100 40G * 2\uff09\u8bad\u7ec3\u7684\u65f6\u5019\u663e\u5b58\u5360\u7528\u5927\u6982\u572830\u4e2aG\u3002\u5728\u52a0\u8f7d\u5b8c\u6a21\u578b\u7684\u65f6\u5019\u4f1a\u6709\u4e00\u77ac\u95f4\u663e\u5b58\u8fbe\u523038G\u5de6\u53f3\u7136\u540e\u5c31\u4fdd\u6301\u572830G\u5de6\u53f3\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e0b\u4f7f\u7528\u7684\u662ftorchrun\u547d\u4ee4\u542f\u52a8\u7684\uff0c\u4f20\u9012deepseed JSON\u914d\u7f6e\u53ef\u4ee5\u652f\u6301deepspeed Zero\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_24","title":"\u63a8\u7406","text":"<p>\u53c2\u6570\u7c7b\u578b:</p> <ul> <li>float 32\u4f4d \u6d6e\u70b9\u6570 4 \u5b57\u8282</li> <li>FP16 / BF16 16\u4f4d \u6d6e\u70b9\u6570 2 \u5b57\u8282</li> <li>int8 8\u4f4d \u6574\u6570 1 \u5b57\u8282</li> <li>int4 4\u4f4d \u6574\u6570 0.5 \u5b57\u8282</li> </ul> <p>\u663e\u5b58 = \u6570\u91cf * \u7c7b\u578b\u5927\u5c0f</p> <p>\u4e0b\u9762\u7684\u8ba1\u7b97\u662f\u4f30\u7b97\uff0c 1B Int8\u7c7b\u578b\u7684\u6a21\u578b\uff0c\u663e\u5b58\u5360\u75281GB\uff0c\u5982\u679c\u662ffloat32\u7684\u8bdd\u5c31\u4e58\u4ee54\uff0cFP16/FP16\u5c31\u4e58\u4ee52\uff0cInt4\u5c31\u4e58\u4ee50.5\u3002</p> <p>\u4ee5 7B \u5927\u5c0f\u7684\u6a21\u578b\u4e3a\u4f8b\u3002 float32\uff1a 7 * 4 = 28 GB FP16 / BF16 7 * 2 = 14 GB int8 7 * 1 = 7 GB int4 7 * 0.5 = 3.5 GB</p> <p>\u53ef\u4ee5\u901a\u8fc7huggingface model-memory-usage \u5de5\u5177\u4f30\u7b97 \uff0c\u5b9e\u9645\u663e\u5b58\u4f1a\u6bd4\u4f30\u7b97\u51fa\u6765\u7684\u59272\u52303G\u5de6\u53f3\u3002</p> <p>\u5b9e\u6d4b\uff1a</p> <ul> <li> <p>chatglm3-6B \u4f7f\u7528fastchat\u6846\u67b6\u663e\u5b58\u5360\u752814GB\u5de6\u53f3\u3002</p> </li> <li> <p>Qwen1.5-7B \u4f7f\u7528fastchat\u6846\u67b6\u663e\u5b58\u5360\u752816GB\u5de6\u53f3\u3002</p> </li> <li>embeding \u6a21\u578b(beg-base-zh)\u5927\u6982\u5360\u75281G\u663e\u5b58\u3001rerank\u6a21\u578b(bge-rerank-base)\u5360\u75286G\u663e\u5b58\u3002</li> <li>Qwen1.5-14B-int8\uff0c\u4f7f\u7528vllm\u6846\u67b6\u63a8\u7406\u663e\u5b58\u5360\u752830G\u5de6\u53f3\uff08\u4f7f\u7528\u7684kv-cache)\u5360\u7528\u7684\u7a7a\u95f4\u4f1a\u5927\u4e00\u4e9b\uff0c\u4f7f\u7528Fastchat\u6846\u67b6\u7684model_worker\u542f\u52a8\u5927\u6982\u5360\u752822G\u663e\u5b58</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_25","title":"\u5176\u4ed6","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#pip","title":"pip\u4f9d\u8d56","text":"<p>\u4f7f\u7528Docker\u6784\u5efa\u955c\u50cf\u7684\u65f6\u5019<code>llama-index</code>\u4f1a\u81ea\u52a8\u5b89\u88c5<code>llama-index-core</code>\uff0c\u5728<code>llama-index</code>\u7248\u672c\u4e3a<code>0.10.30</code> \u7684\u65f6\u5019\uff0c\u5176\u4f9d\u8d56\u7684<code>llama-index-core</code>\u7248\u672c\u9650\u5b9a\u7684\u4e3a<code>^0.10.30</code>\uff0c\u8868\u793a<code>llama-index-core</code>\u7684\u7248\u672c\u5927\u4e8e\u7b49\u4e8e<code>0.10.30</code>\u5c0f\u4e8e<code>1.0.0</code> \u3002\u4e5f\u5c31\u662f\u5f53<code>llama-index-core</code>\u7248\u672c\u66f4\u65b0\u4e4b\u540e\uff0c\u5b89\u88c5<code>llama-index</code>\u7684<code>0.10.30</code>\u7248\u672c\u4f1a\u5c06<code>llama-index-core</code>\u7684\u7248\u672c\u66f4\u65b0\u5230\u6700\u65b0\u3002\u5728\u505aRAG evaluate \u7684\u65f6\u5019\u7531\u4e8e<code>llama-index-core</code>\u5728<code>0.10.34</code> \u7248\u672c\u5728\u8ba1\u7b97\u6307\u6807\u7684\u65f6\u5019\u6dfb\u52a0\u4e86\u629b\u9519\u7684\u903b\u8f91\uff0c\u5177\u4f53\u89c1Retrieval Metrics: Updating HitRate and MRR for Evaluation@K document\u2026 \uff0c\u5bfc\u81f4\u8bc4\u4f30\u5728\u672c\u5730\u6d4b\u8bd5\u8fd0\u884c\u6b63\u5e38\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u4f7f\u7528Docker\u8fd0\u884c\u4e00\u76f4\u62a5\u9519\u3002</p> <p>\u6211\u7ed9\u5b98\u65b9\u63d0\u4ea4\u4e86bug [Bug]: retrieval evaluation hit rate error , \u622a\u6b622024-7-30\uff0c\u8fd9\u4e2aBUG\u8fd8\u6ca1\u6709\u4fee\u590d\u3002</p> <p>\u5176<code>pyproject.toml</code>\u6587\u4ef6\u5982\u4e0b</p> <pre><code>[tool.poetry.dependencies]\npython = \"&gt;=3.8.1,&lt;4.0\"\nllama-index-legacy = \"^0.9.48\"\nllama-index-llms-openai = \"^0.1.13\"\nllama-index-embeddings-openai = \"^0.1.5\"\nllama-index-program-openai = \"^0.1.3\"\nllama-index-question-gen-openai = \"^0.1.2\"\nllama-index-agent-openai = \"&gt;=0.1.4,&lt;0.3.0\"\nllama-index-readers-file = \"^0.1.4\"\nllama-index-readers-llama-parse = \"^0.1.2\"\nllama-index-indices-managed-llama-cloud = \"^0.1.2\"\nllama-index-core = \"^0.10.30\"\nllama-index-multi-modal-llms-openai = \"^0.1.3\"\nllama-index-cli = \"^0.1.2\"\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#docker","title":"Docker\u6784\u5efa\u76f8\u5173","text":"<p>\u4f7f\u7528\u5206\u9636\u6bb5\u6784\u5efa\u53ef\u4ee5\u51cf\u5c0f\u6700\u7ec8\u6784\u5efa\u51fa\u6765\u7684\u955c\u50cf\u5927\u5c0f\u3002</p> <p>\u53ef\u4ee5\u6dfb\u52a0apt\u6e90\uff0c\u53ef\u4ee5\u52a0\u901fapt\u5b89\u88c5\u901f\u5ea6\uff0c\u548cmount cache\u52a0\u5febpip\u4f9d\u8d56\u7684\u5b89\u88c5\u3002</p> <pre><code>RUN --mount=type=cache,target=/root/.cache/pip \\\n    cd /build \\\n    &amp;&amp; ${PIP_INSTALL} --prefix=/pkg -r requirements.txt\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/RAG%E7%9F%A5%E8%AF%86%E5%BA%93%E9%87%87%E5%9D%91%E8%AE%B0%E5%BD%95.html#_26","title":"\u53c2\u8003\u8d44\u6599\uff1a","text":"<ul> <li>\u5982\u4f55\u9009\u62e9\u5411\u91cf\u6570\u636e\u5e93</li> <li>\u4e00\u6587\u901a\u900fText Embedding\u6a21\u578b\uff1a\u4ecetext2vec\u3001openai-text embedding\u5230m3e\u3001bge</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/fastchat.html","title":"FastChat","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/fastchat.html#fastchat_1","title":"FastChat \u4ecb\u7ecd","text":"<p>FastChat\u662f\u4e00\u4e2a\u7528\u4e8e\u8bad\u7ec3\u3001\u90e8\u7f72\u548c\u8bc4\u4f30\u57fa\u4e8e\u5927\u578b\u8bed\u8a00\u6a21\u578b\u7684\u804a\u5929\u673a\u5668\u4eba\u7684\u5f00\u653e\u5e73\u53f0\u3002\u5176\u6838\u5fc3\u529f\u80fd\u5305\u62ec\uff1a</p> <p>\u6700\u5148\u8fdb LLM \u6a21\u578b\u7684\u6743\u91cd\u3001\u8bad\u7ec3\u4ee3\u7801\u548c\u8bc4\u4f30\u4ee3\u7801\u3002 \u5e26\u6709 WebUI \u548c\u4e0e OpenAI \u517c\u5bb9\u7684 RESTful API \u7684\u5206\u5e03\u5f0f\u591a\u6a21\u578b\u670d\u52a1\u7cfb\u7edf\u3002 FastChat \u5b89\u88c5 FastChat \u7684\u5b89\u88c5\u65b9\u5f0f\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u901a\u8fc7 Pip \u8fdb\u884c\u5b89\u88c5\uff0c\u4e00\u79cd\u662f\u901a\u8fc7\u6e90\u7801\u5b89\u88c5\uff0c\u7531\u4e8e\u6e90\u7801\u7684\u65b9\u5f0f\u6bd4\u8f83\u590d\u6742\uff0c\u8fd9\u91cc\u5c31\u4e0d\u4ecb\u7ecd\u4e86\uff0c\u6211\u4eec\u4f7f\u7528 Pip \u7684\u65b9\u5f0f\u6765\u5b89\u88c5\u3002</p> <pre><code>pip install fschat\n</code></pre> <p>\u6709\u4e9b\u73af\u5883\u5728\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u8fd0\u884c FastChat \u7684\u547d\u4ee4\u4f1a\u62a5\u7f3a\u5c11accelerate\u8fd9\u4e2a\u4f9d\u8d56\u5e93\u7684\u9519\u8bef\uff0c\u6240\u4ee5\u4e3a\u4e86\u5b89\u5168\u8d77\u89c1\uff0c\u6211\u4eec\u4e5f\u4e00\u5e76\u5b89\u88c5accelerate\u8fd9\u4e2a\u5e93\u3002</p> <pre><code>pip install accelerate\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/fastchat.html#fastchat_2","title":"FastChat \u547d\u4ee4\u884c\u90e8\u7f72","text":"<p>\u51c6\u5907\u5de5\u4f5c\u505a\u597d\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528 FastChat \u6765\u90e8\u7f72 LLM \u4e86\uff0cFastChat \u63d0\u4f9b\u4e86\u547d\u4ee4\u884c\u7684\u65b9\u5f0f\u6765\u90e8\u7f72 LLM\uff0c\u547d\u4ee4\u884c\u7684\u65b9\u5f0f\u6bd4\u8f83\u7b80\u5355\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u548c LLM \u8fdb\u884c\u95ee\u7b54\u4ea4\u4e92\uff0c\u6211\u4eec\u5148\u770b\u4e0b FastChat \u4e0e ChatGLM3 \u7684\u547d\u4ee4\u884c\u4ea4\u4e92\uff1a</p> <pre><code>python -m fastchat.serve.cli --model-path /yourdirs/models/chatglm3-6b\n</code></pre> <p>\u62a5\u9519 <code>RuntimeError: The NVIDIA driver on your system is too old (found version 11040). Please update your GPU driver by downloading and installing a new version from the URL: http://www.nvidia.com/Download/index.aspx Alternatively, go to: https://pytorch.org to install a PyTorch version that has been compiled with your version of the CUDA driver.</code></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/openllm.html","title":"OpenLLM","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/openllm.html#openllm_1","title":"\u4ec0\u4e48\u662f OpenLLM","text":"<p>OpenLLM \u662f\u4e00\u4e2a\u5f00\u6e90\u5e73\u53f0\uff0c\u65e8\u5728\u4fc3\u8fdb\u5927\u578b\u8bed\u8a00\u6a21\u578b (LLM) \u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u7684\u90e8\u7f72\u548c\u64cd\u4f5c\u3002\u501f\u52a9 OpenLLM\uff0c\u60a8\u53ef\u4ee5\u5728\u4efb\u4f55\u5f00\u6e90 LLM \u4e0a\u8fd0\u884c\u63a8\u7406\uff0c\u5c06\u5176\u90e8\u7f72\u5728\u4e91\u7aef\u6216\u672c\u5730\uff0c\u5e76\u6784\u5efa\u5f3a\u5927\u7684 AI \u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>OpenLLM\u662f\u4e3aAI\u5e94\u7528\u5f00\u53d1\u4eba\u5458\u8bbe\u8ba1\u7684\uff0c\u7528\u4e8e\u6784\u5efa\u57fa\u4e8eLLM\u7684\u751f\u4ea7\u5c31\u7eea\u5e94\u7528\u7a0b\u5e8f\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u5957\u5168\u9762\u7684\u5de5\u5177\u548c\u529f\u80fd\uff0c\u7528\u4e8e\u5fae\u8c03\u3001\u670d\u52a1\u3001\u90e8\u7f72\u548c\u76d1\u63a7\u8fd9\u4e9b\u6a21\u578b\uff0c\u7b80\u5316\u4e86LLM\u7684\u7aef\u5230\u7aef\u90e8\u7f72\u5de5\u4f5c\u6d41\u7a0b\u3002</p> <p>\u4e3b\u8981\u529f\u80fd\uff1a</p> <ul> <li>\ud83d\ude82 \u6700\u5148\u8fdb\u7684 LLM\uff1a\u5bf9\u5404\u79cd\u5f00\u6e90 LLM \u548c\u6a21\u578b\u8fd0\u884c\u65f6\u7684\u96c6\u6210\u652f\u6301\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e Llama 2\u3001StableLM\u3001Falcon\u3001Dolly\u3001Flan-T5\u3001ChatGLM \u548c StarCoder\u3002</li> <li>\ud83d\udd25 \u7075\u6d3b\u7684 API\uff1a\u4f7f\u7528\u4e00\u4e2a\u547d\u4ee4\u5c31\u53ef\u4ee5\u4e3a LLM \u63d0\u4f9b RESTful API \u6216 gRPC \u63a5\u53e3\u3002\u53ef\u4ee5\u4f7f\u7528 Web UI\u3001CLI\u3001Python/JavaScript \u5ba2\u6237\u7aef\u6216\u4efb\u4f55 HTTP \u5ba2\u6237\u7aef\u4e0e\u5927\u6a21\u578b\u8fdb\u884c\u4ea4\u4e92\u3002</li> <li>\u26d3\ufe0f \u81ea\u7531\u6784\u5efa\uff1a\u5bf9 LangChain\u3001BentoML\u3001LlamaIndex\u3001OpenAI \u7aef\u70b9\u548c Hugging Face \u63d0\u4f9b\u5f88\u597d\u652f\u6301\uff0c\u53ef\u4ee5\u901a\u8fc7\u5c06 LLM \u4e0e\u5176\u4ed6\u6a21\u578b\u548c\u670d\u52a1\u7ec4\u5408\u6765\u8f7b\u677e\u521b\u5efa\u81ea\u5df1\u7684 AI \u5e94\u7528\u7a0b\u5e8f\u3002</li> <li>\ud83c\udfaf \u7b80\u5316\u90e8\u7f72\uff1a\u81ea\u52a8\u751f\u6210 LLM \u670d\u52a1\u5bf9\u5e94\u7684 Docker \u6620\u50cf\u6216\u901a\u8fc7 BentoCloud \u90e8\u7f72\u4e3a serverless \u670d\u52a1\uff0c\u5b83\u53ef\u4ee5\u8f7b\u677e\u7ba1\u7406 GPU \u8d44\u6e90\u3001\u6839\u636e\u6d41\u91cf\u8fdb\u884c\u6269\u5c55\u5e76\u786e\u4fdd\u6210\u672c\u6548\u76ca\u3002</li> <li>\ud83e\udd16\ufe0f \u52a0\u8f7d\u81ea\u5df1\u7684 LLM\uff1a\u6839\u636e\u5177\u4f53\u9700\u6c42\u5fae\u8c03\u4efb\u4f55 LLM \u3002\u53ef\u4ee5\u52a0\u8f7d LoRA \u5c42\u6765\u5fae\u8c03\u6a21\u578b\uff0c\u4ee5\u83b7\u5f97\u7279\u5b9a\u4efb\u52a1\u7684\u66f4\u9ad8\u51c6\u786e\u6027\u548c\u6027\u80fd\u3002\u7edf\u4e00\u7684\u6a21\u578b\u5fae\u8c03 API ( LLM.tuning() ) \u5373\u5c06\u63a8\u51fa\u3002</li> <li>\u26a1 \u91cf\u5316\uff1a\u4f7f\u7528 LLM.int8\u3001SpQR (int4)\u3001AWQ\u3001GPTQ \u548c SqueezeLLM \u7b49\u91cf\u5316\u6280\u672f\u4ee5\u66f4\u5c11\u7684\u8ba1\u7b97\u548c\u5185\u5b58\u6210\u672c\u8fd0\u884c\u63a8\u7406\u3002</li> <li>\ud83d\udce1 \u6d41\u5f0f\u4f20\u8f93\uff1a\u652f\u6301\u901a\u8fc7 Server-Sent\uff08SSE\uff09\u5bf9 token \u8fdb\u884c \u6d41\u5f0f\u4f20\u8f93\u3002\u53ef\u4ee5\u4f7f\u7528 <code>/v1/generate_stream</code> \u6d41\u5f0f\u4f20\u8f93\u6765\u81ea LLM \u7684\u54cd\u5e94\u3002</li> <li>\ud83d\udd04 \u8fde\u7eed\u6279\u5904\u7406\uff1a\u901a\u8fc7 vLLM \u652f\u6301\u8fde\u7eed\u6279\u5904\u7406\uff0c\u4ee5\u63d0\u9ad8\u603b\u541e\u5410\u91cf\u3002</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/openllm.html#openllm_2","title":"OpenLLM \u6709\u4ec0\u4e48\u7528","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/openllm.html#openllm_3","title":"OpenLLM \u5982\u4f55\u4f7f\u7528","text":"<p>\u5b89\u88c5\u547d\u4ee4 <pre><code>pip install openllm\n</code></pre></p> <p>\u9a8c\u8bc1\u5b89\u88c5\uff1a <pre><code>$ openllm -h\n\nUsage: openllm [OPTIONS] COMMAND [ARGS]...\n\n   \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2557   \u2588\u2588\u2557\u2588\u2588\u2557     \u2588\u2588\u2557     \u2588\u2588\u2588\u2557   \u2588\u2588\u2588\u2557\n  \u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2551\u2588\u2588\u2551     \u2588\u2588\u2551     \u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2551\n  \u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2554\u2588\u2588\u2557 \u2588\u2588\u2551\u2588\u2588\u2551     \u2588\u2588\u2551     \u2588\u2588\u2554\u2588\u2588\u2588\u2588\u2554\u2588\u2588\u2551\n  \u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u255d \u2588\u2588\u2554\u2550\u2550\u255d  \u2588\u2588\u2551\u255a\u2588\u2588\u2557\u2588\u2588\u2551\u2588\u2588\u2551     \u2588\u2588\u2551     \u2588\u2588\u2551\u255a\u2588\u2588\u2554\u255d\u2588\u2588\u2551\n  \u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551 \u255a\u2588\u2588\u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551 \u255a\u2550\u255d \u2588\u2588\u2551\n   \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d     \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d     \u255a\u2550\u255d.\n\n  An open platform for operating large language models in production.\n  Fine-tune, serve, deploy, and monitor any LLMs with ease.\n\nOptions:\n  -v, --version  Show the version and exit.\n  -h, --help     Show this message and exit.\n\nCommands:\n  build       Package a given models into a BentoLLM.\n  import      Setup LLM interactively.\n  models      List all supported models.\n  prune       Remove all saved models, (and optionally bentos) built with OpenLLM locally.\n  query       Query a LLM interactively, from a terminal.\n  start       Start a LLMServer for any supported LLM.\n  start-grpc  Start a gRPC LLMServer for any supported LLM.\n\nExtensions:\n  build-base-container  Base image builder for BentoLLM.\n  dive-bentos           Dive into a BentoLLM.\n  get-containerfile     Return Containerfile of any given Bento.\n  get-prompt            Get the default prompt used by OpenLLM.\n  list-bentos           List available bentos built by OpenLLM.\n  list-models           This is equivalent to openllm models...\n  playground            OpenLLM Playground.\n</code></pre></p> <p>\u4ee5 chatglm \u6a21\u578b\u4e3a\u4f8b\uff0c\u542f\u52a8\u6a21\u578b\uff1a</p> <p>\u5b89\u88c5\u4f9d\u8d56\uff1a <pre><code>pip install \"openllm[chatglm]\"\npip install \"openllm[vllm]\"\n</code></pre></p> <p>\u542f\u52a8\u547d\u4ee4\uff1a <pre><code>TRUST_REMOTE_CODE=True openllm start /yourdir/models/chatglm3-6b  --backend vllm -p 3333\n</code></pre></p> <p>\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u62a5\u9519\uff1a </p> <p>\u9700\u8981\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf <code>OPENBLAS_NUM_THREADS=1</code></p> <pre><code>OPENBLAS_NUM_THREADS=1 TRUST_REMOTE_CODE=True nohup openllm start /yourdir/models/chatglm3-6b  --backend vllm -p 3333 &gt;&gt; chatglm.log 2&gt;&amp;1\n</code></pre> <p>\u542f\u52a8\u6210\u529f\u540e\uff0c\u8bbf\u95ee <code>http://localhost:3333</code> \u5373\u53ef\u770b\u5230\u6a21\u578b\u7684\u63a8\u7406\u7ed3\u679c\u3002</p> <p>\u4f7f\u7528 chatglm \u6a21\u578b\u542f\u52a8\u6210\u529f\u4e4b\u540e\u65e0\u6cd5\u4f7f\u7528\uff0c\u5207\u6362\u6210 baichuan \u6a21\u578b\uff1a</p> <pre><code>cmd=\"env OPENBLAS_NUM_THREADS=1 TRUST_REMOTE_CODE=True openllm start /yourdir/models/Baichuan2-13B-Chat  --backend vllm -p 3334\"\nnohup $cmd &gt; baichuan.log 2&gt;&amp;1;\n</code></pre> <p>\u8fd0\u884c\u62a5\u9519 <code>RuntimeError: The NVIDIA driver on your system is too old (found version 11040)</code>\uff1a</p> <p></p> <p>\u6362\u7528 bakend \u4e3a pytorch \u518d\u8bd5\u4e00\u4e0b\uff1a</p> <pre><code>cmd=\"env OPENBLAS_NUM_THREADS=1 TRUST_REMOTE_CODE=True openllm start /yourdir/models/Baichuan2-13B-Chat  --backend pt -p 3334\"\nnohup $cmd &gt; baichuan.log 2&gt;&amp;1;\n</code></pre> <p>\u8fd0\u884c\u62a5\u9519 <code>torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 1.20 GiB (GPU 0; 39.59 GiB total capacity; 20.60 GiB already allocated; 26.19 MiB free; 20.60 GiB reserved in total by PyTorch) If reserved memory is &gt;&gt; allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF</code></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/openllm.html#_1","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>OpenLLM Github</li> <li>\u4f7f\u7528 OpenLLM \u6784\u5efa\u548c\u90e8\u7f72\u5927\u6a21\u578b\u5e94\u7528</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/query_translation.html","title":"Query Translation(\u67e5\u8be2\u8f6c\u6362)","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/query_translation.html#multiqueryretriever","title":"MultiQueryRetriever\uff08\u591a\u67e5\u8be2\uff09","text":"<p>MultiQueryRetriever \u901a\u8fc7\u4f7f\u7528 LLM \u4ece\u4e0d\u540c\u89d2\u5ea6\u4e3a\u7ed9\u5b9a\u7684\u7528\u6237\u8f93\u5165\u67e5\u8be2\u751f\u6210\u591a\u4e2a\u67e5\u8be2\uff0c\u4ece\u800c\u81ea\u52a8\u6267\u884c\u63d0\u793a\u8c03\u6574\u8fc7\u7a0b\u3002 \u5bf9\u4e8e\u6bcf\u4e2a\u67e5\u8be2\uff0c\u5b83\u90fd\u4f1a\u68c0\u7d22\u4e00\u7ec4\u76f8\u5173\u6587\u6863\uff0c\u5e76\u91c7\u7528\u6240\u6709\u67e5\u8be2\u4e4b\u95f4\u7684\u552f\u4e00\u5e76\u96c6\u6765\u83b7\u53d6\u66f4\u5927\u7684\u4e00\u7ec4\u6f5c\u5728\u76f8\u5173\u6587\u6863\u3002 \u901a\u8fc7\u5bf9\u540c\u4e00\u95ee\u9898\u751f\u6210\u591a\u4e2a\u89c6\u89d2\uff0c MultiQueryRetriever \u6216\u8bb8\u80fd\u591f\u514b\u670d\u57fa\u4e8e\u8ddd\u79bb\u7684\u68c0\u7d22\u7684\u4e00\u4e9b\u9650\u5236\uff0c\u5e76\u83b7\u5f97\u66f4\u4e30\u5bcc\u7684\u7ed3\u679c\u96c6\u3002</p> <p></p> <p>\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u5bf9\u4e8e <code>Question</code>\uff0c\u4f7f\u7528\u5927\u6a21\u578b\u751f\u6210\u591a\u4e2a\u4e0d\u540c\u7684 <code>question</code>\uff0c\u5982<code>Q1</code>\uff0c<code>Q2</code>\uff0c<code>Q3</code>\u3002</li> <li>\u7136\u540e\u5bf9\u6bcf\u4e2a <code>question</code> \u8fdb\u884c\u68c0\u7d22\u5f97\u5230\u5bf9\u5e94\u7684 <code>context</code>\uff0c\u5982<code>C1</code>\uff0c<code>C2</code>\uff0c<code>C3</code>\u3002</li> <li>\u7136\u540e\u5c06 <code>C1</code>\uff0c<code>C2</code>\uff0c<code>C3</code> \u7684\u6587\u6863\u6c42\u4ea4\u96c6\uff0c\u5f97\u5230\u6700\u7ec8\u7684 <code>context</code>\u3002</li> <li>\u5c06\u539f\u59cb\u7684<code>Question</code>\u548c\u6700\u7ec8\u7684<code>context</code>\u4f20\u7ed9\u5927\u6a21\u578b\u5f97\u5230\u7b54\u6848\u3002</li> </ol>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/query_translation.html#rag-fusionrag","title":"RAG-Fusion\uff08RAG\u878d\u5408\uff09","text":"<p>RAG-Fusion\uff0c\u4e00\u79cd\u65e8\u5728\u7f29\u5c0f\u4f20\u7edf\u641c\u7d22\u8303\u5f0f\u4e0e\u4eba\u7c7b\u67e5\u8be2\u7684\u591a\u65b9\u9762\u7ef4\u5ea6\u4e4b\u95f4\u5dee\u8ddd\u7684\u641c\u7d22\u65b9\u6cd5\u3002\u53d7\u68c0\u7d22\u589e\u5f3a\u751f\u6210\uff08RAG\uff09\u7684\u80fd\u529b\u542f\u53d1\uff0c\u8be5\u9879\u76ee\u66f4\u8fdb\u4e00\u6b65\u5730\u91c7\u7528\u4e86\u591a\u79cd\u67e5\u8be2\u751f\u6210\u548c\u5012\u6392\u878d\u5408\u6765\u5bf9\u641c\u7d22\u7ed3\u679c\u8fdb\u884c\u91cd\u65b0\u6392\u5e8f\u3002</p> <p></p> <p><code>RAG Fusion</code>\u548c<code>MultiQueryRetriever</code>\u7684\u6d41\u7a0b\u57fa\u672c\u76f8\u4f3c\uff0c\u552f\u4e00\u7684\u533a\u522b\u662f<code>MultiQueryRetriever</code>\u662f\u5bf9\u68c0\u7d22\u7684\u7ed3\u679c\u6c42\u4ea4\u96c6\uff0c\u800c<code>RAG-Fusion</code>\u662f\u5bf9\u7ed3\u679c\u4f7f\u7528\u5012\u6392\u7b97\u6cd5\uff08reciprocal rank fusion\uff09\u878d\u5408\u7ed3\u679c\u3002</p> <p>\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u5bf9\u4e8e <code>Question</code>\uff0c\u4f7f\u7528\u5927\u6a21\u578b\u751f\u6210\u591a\u4e2a\u4e0d\u540c\u7684 <code>question</code>\uff0c\u5982<code>Q1</code>\uff0c<code>Q2</code>\uff0c<code>Q3</code>\u3002</li> <li>\u7136\u540e\u5bf9\u6bcf\u4e2a <code>question</code> \u8fdb\u884c\u68c0\u7d22\u5f97\u5230\u5bf9\u5e94\u7684 <code>context</code>\uff0c\u5982<code>C1</code>\uff0c<code>C2</code>\uff0c<code>C3</code>\u3002</li> <li>\u7136\u540e\u5c06 <code>C1</code>\uff0c<code>C2</code>\uff0c<code>C3</code> \u7684\u6587\u6863\u4f7f\u7528RRF\uff08Reciprocal Rank Fusion)\u7b97\u6cd5\u91cd\u6392 \uff0c\u5f97\u5230\u6700\u7ec8\u7684 <code>context</code>\u3002</li> <li>\u5c06\u539f\u59cb\u7684<code>Question</code>\u548c\u6700\u7ec8\u7684<code>context</code>\u4f20\u7ed9\u5927\u6a21\u578b\u5f97\u5230\u7b54\u6848\u3002</li> </ol> <p>\u5012\u6392\u7b97\u6cd5\u6d41\u7a0b\u56fe\uff1a</p> <p></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/query_translation.html#decomposition","title":"Decomposition\uff08\u5206\u89e3\uff09","text":"<p>Decomposition: \u5c06\u4e00\u4e2a\u539f\u59cb\u95ee\u9898\u5206\u89e3\u6210\u591a\u4e2a\u5b50\u95ee\u9898\uff0c\u901a\u8fc7\u5bf9\u5b50\u95ee\u9898\u7684\u56de\u7b54\u6765\u5f97\u5230\u6700\u7ec8\u7684\u95ee\u9898\u3002</p> <p>\u8fd9\u79cd\u65b9\u6cd5\u6709\u4e24\u79cd\u5177\u4f53\u7684\u5b9e\u73b0\u6a21\u5f0f\u3002\u5206\u522b\u662f<code>Answer Recursively</code>\u548c<code>Answer Individually</code></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/query_translation.html#answer_recursively","title":"Answer Recursively(\u9012\u5f52\u56de\u7b54)","text":"<p>Answer Recursively:  \u5c06\u4e00\u4e2a\u539f\u59cb\u95ee\u9898\u5206\u89e3\u6210\u591a\u4e2a\u5b50\u95ee\u9898\uff0c\u987a\u5e8f\u89e3\u51b3\u5b50\u95ee\u9898\u3002\u540e\u9762\u7684\u5b50\u95ee\u9898\u7684\u7b54\u6848\u5efa\u7acb\u5728\u524d\u9762\u7684\u5b50\u95ee\u9898\u7684\u7b54\u6848\u4e4b\u4e0a\u3002</p> <p></p> <p>\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u5bf9\u4e8e <code>Question</code>\uff0c\u4f7f\u7528\u5927\u6a21\u578b\u751f\u6210\u591a\u4e2a\u4e0d\u540c\u7684\u5b50 <code>question</code>\uff0c\u5982<code>Q1</code>\uff0c<code>Q2</code>\uff0c<code>Q3</code>\u3002</li> <li>\u7136\u540e\u5bf9\u7b2c1\u5b50\u95ee\u9898<code>Q1</code>\u8fdb\u884c\u68c0\u7d22\u5f97\u5230\u5bf9\u5e94\u7684 <code>context</code>\uff0c\u5982<code>C1</code>\uff0c\u5c06<code>(Q1,C1)</code>\u4f20\u7ed9\u5927\u6a21\u578b\u56de\u7b54\u5f97\u5230\u7b54\u6848<code>A1</code>\uff0c\u6784\u9020\u95ee\u7b54\u5bf9<code>[(Q1,A1)]</code>\u3002</li> <li>\u7136\u540e\u5bf9\u7b2c2\u5b50\u95ee\u9898<code>Q2</code>\u8fdb\u884c\u68c0\u7d22\u5f97\u5230\u5bf9\u5e94\u7684 <code>context</code>\uff0c\u5982<code>C2</code> \uff0c\u5c06\u524d\u4e00\u6b65\u5f97\u5230\u7684\u95ee\u7b54\u5bf9<code>[(Q1,A1)]</code>\u548c<code>C2</code>\u4f20\u7ed9\u5927\u6a21\u578b\u56de\u7b54\u5f97\u5230\u7b54\u6848<code>A2</code>\uff0c\u6784\u9020\u95ee\u7b54\u5bf9<code>[(Q1,A1),(Q2,A2)]</code>\u3002</li> <li>\u7136\u540e\u5bf9\u7b2c3\u5b50\u95ee\u9898<code>Q3</code>\u8fdb\u884c\u68c0\u7d22\u5f97\u5230\u5bf9\u5e94\u7684 <code>context</code>\uff0c\u5982<code>C3</code> \uff0c\u5c06\u524d\u4e00\u6b65\u5f97\u5230\u7684\u95ee\u7b54\u5bf9<code>[(Q1,A1),(Q2,A2)]</code>\u548c<code>C3</code>\u4f20\u7ed9\u5927\u6a21\u578b\u56de\u7b54\u5f97\u5230\u7b54\u6848<code>A3</code>\u3002</li> <li><code>Question</code>\u5bf9\u5e94\u7684\u7b54\u6848\u5c31\u662f\u6700\u540e\u4e00\u4e2a\u5b50\u95ee\u9898\u7684\u56de\u7b54\uff0c\u5982<code>A3</code>\u3002</li> </ol>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/query_translation.html#answer_individually","title":"Answer Individually(\u5355\u72ec\u56de\u7b54)","text":"<p>Answer Individually:  \u5c06\u4e00\u4e2a\u539f\u59cb\u95ee\u9898\u5206\u89e3\u6210\u591a\u4e2a\u5b50\u95ee\u9898\uff0c\u5355\u72ec\u56de\u7b54\u5b50\u95ee\u9898\u3002\u7136\u540e\u901a\u8fc7\u6bcf\u4e2a\u5b50\u95ee\u9898\u7684\u56de\u7b54\u5f97\u5230\u6700\u7ec8\u7684\u7b54\u6848\u3002</p> <p></p> <p>\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u5bf9\u4e8e <code>Question</code>\uff0c\u4f7f\u7528\u5927\u6a21\u578b\u751f\u6210\u591a\u4e2a\u4e0d\u540c\u7684\u5b50 <code>question</code>\uff0c\u5982<code>Q1</code>\uff0c<code>Q2</code>\uff0c<code>Q3</code>\u3002</li> <li>\u7136\u540e\u5bf9\u6bcf\u4e00\u4e2a\u5b50\u95ee\u9898\u8fdb\u884c\u68c0\u7d22\u5f97\u5230\u5bf9\u5e94\u7684 <code>context</code>\uff0c\u5c06<code>(question,context)</code>\u4f20\u7ed9\u5927\u6a21\u578b\u56de\u7b54\u5f97\u5230\u7b54\u6848<code>answer</code>\u3002</li> <li>\u6784\u9020\u95ee\u7b54\u5bf9<code>[(qutstion,answer)]</code>\u3002</li> <li>\u5c06<code>Question</code>\u548c\u5176\u5bf9\u5e94\u5b50\u95ee\u9898\u7684\u95ee\u7b54\u5bf9\u4f20\u9012\u7ed9\u5927\u6a21\u578b\u5f97\u5230\u6700\u7ec8\u7b54\u6848\u3002</li> </ol>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/query_translation.html#step_back","title":"Step Back","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/query_translation.html#hydehypothetical_document_embeddings","title":"HyDE\uff08Hypothetical Document Embeddings\uff09","text":"<p>HyDE \u662f\u4e00\u79cd\u6280\u672f\uff0c\u5728\u7ed9\u5b9a\u81ea\u7136\u8bed\u8a00\u67e5\u8be2\u7684\u60c5\u51b5\u4e0b\uff0c\u9996\u5148\u751f\u6210\u5047\u8bbe\u7684\u6587\u6863/\u7b54\u6848\u3002\u7136\u540e\uff0c\u8be5\u5047\u8bbe\u6587\u6863\u7528\u4e8e\u5d4c\u5165\u67e5\u627e\u800c\u4e0d\u662f\u539f\u59cb\u67e5\u8be2\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/query_translation.html#_1","title":"\u53c2\u8003\u94fe\u63a5\uff1a","text":"<ul> <li>https://github.com/langchain-ai/rag-from-scratch</li> <li>\u4e0b\u4e00\u4ee3\u7684RAG\u8303\u5f0f\uff1aRAG-Fusion</li> <li>Decompositon Answer recursively\u65b9\u6cd5\u5bf9\u5e94\u7684\u8bba\u6587</li> <li>Decompositon Answer individually\u65b9\u6cd5\u5bf9\u5e94\u7684\u8bba\u6587</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/text-split.html","title":"\u6587\u672c\u5206\u5272\u5668\uff08Text Splitter \uff09","text":"<p>\u5728\u4f7f\u7528\u5927\u6a21\u578b\u751f\u6210\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u5927\u6a21\u578b\u6709\u4e0a\u4e0b\u6587\u7a97\u53e3\u7684\u9650\u5236\uff0c\u6240\u6709\u9700\u8981\u5c06\u957f\u6587\u6863\u62c6\u5206\u6210\u66f4\u5c0f\u7684\u5757\u3002 </p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/text-split.html#langchain","title":"Langchain\u6846\u67b6\u4e2d\u7684\u6587\u672c\u5206\u5272\u5668","text":"<p>\u6587\u672c\u62c6\u5206\u5668\u7684\u5de5\u4f5c\u65b9\u5f0f\u5982\u4e0b:</p> <ol> <li>\u5c06\u6587\u672c\u62c6\u5206\u4e3a\u5c0f\u7684\u3001\u8bed\u4e49\u4e0a\u6709\u610f\u4e49\u7684\u5757\uff08\u901a\u5e38\u662f\u53e5\u5b50\uff09\u3002</li> <li>\u5c06\u8fd9\u4e9b\u5c0f\u5757\u7ec4\u5408\u6210\u8f83\u5927\u7684\u5757\uff0c\u76f4\u5230\u8fbe\u5230\u67d0\u4e2a\u5927\u5c0f\uff08\u7531\u67d0\u4e2a\u51fd\u6570\u6d4b\u91cf\uff09\u3002</li> <li>\u4e00\u65e6\u8fbe\u5230\u8be5\u5927\u5c0f\uff0c\u5c06\u8be5\u5757\u4f5c\u4e3a\u81ea\u5df1\u7684\u6587\u672c\u7247\u6bb5\uff0c\u7136\u540e\u5f00\u59cb\u521b\u5efa\u4e00\u4e2a\u5177\u6709\u4e00\u5b9a\u91cd\u53e0\u7684\u65b0\u6587\u672c\u5757\uff08\u4ee5\u4fdd\u6301\u5757\u4e4b\u95f4\u7684\u4e0a\u4e0b\u6587\uff09\u3002</li> </ol> <p>\u9ed8\u8ba4\u63a8\u8350\u7684\u6587\u672c\u5206\u5272\u5668\u662f RecursiveCharacterTextSplitter\u3002\u8be5\u6587\u672c\u5206\u5272\u5668\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u5217\u8868\u3002\u5b83\u5c1d\u8bd5\u6839\u636e\u7b2c\u4e00\u4e2a\u5b57\u7b26\u8fdb\u884c\u5206\u5272\u6765\u521b\u5efa\u5757\uff0c\u4f46\u5982\u679c\u4efb\u4f55\u5757\u592a\u5927\uff0c\u5219\u7ee7\u7eed\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u5b57\u7b26\uff0c\u4f9d\u6b64\u7c7b\u63a8\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u5c1d\u8bd5\u8fdb\u884c\u5206\u5272\u7684\u5b57\u7b26\u662f <code>[\"\\n\\n\", \"\\n\", \" \", \"\"]</code></p> <p>\u9664\u4e86\u63a7\u5236\u53ef\u4ee5\u8fdb\u884c\u5206\u5272\u7684\u5b57\u7b26\u4e4b\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u63a7\u5236\u4e00\u4e9b\u5176\u4ed6\u4e8b\u9879\uff1a</p> <ul> <li><code>length_function</code>\uff1a\u8ba1\u7b97\u5757\u957f\u5ea6\u7684\u65b9\u6cd5\u3002\u9ed8\u8ba4\u53ea\u8ba1\u7b97\u5b57\u7b26\u6570\uff0c\u4f46\u901a\u5e38\u5728\u6b64\u5904\u4f20\u9012\u4e00\u4e2a\u4ee4\u724c\u8ba1\u6570\u5668\u3002- <code>chunk_size</code>\uff1a\u5757\u7684\u6700\u5927\u5927\u5c0f\uff08\u7531\u957f\u5ea6\u51fd\u6570\u6d4b\u91cf\uff09\u3002- <code>chunk_overlap</code>\uff1a\u5757\u4e4b\u95f4\u7684\u6700\u5927\u91cd\u53e0\u3002\u4fdd\u6301\u4e00\u4e9b\u8fde\u7eed\u6027\u4e4b\u95f4\u53ef\u80fd\u6709\u4e00\u4e9b\u91cd\u53e0\uff08\u4f8b\u5982\u4f7f\u7528\u6ed1\u52a8\u7a97\u53e3\uff09\u3002- <code>add_start_index</code>\uff1a\u662f\u5426\u5728\u5143\u6570\u636e\u4e2d\u5305\u542b\u6bcf\u4e2a\u5757\u5728\u539f\u59cb\u6587\u6863\u4e2d\u7684\u8d77\u59cb\u4f4d\u7f6e\u3002</li> </ul> <p>\u5728<code>Langchain</code>\u4e2d\uff0c\u6240\u6709\u7684<code>Splitter</code>\u90fd\u7ee7\u627f\u81ea<code>TextSplitter</code>\u3002</p> <p>\u5176\u4e2d\u6709\u4e0b\u9762\u7684\u5b50\u7c7b</p> <ul> <li><code>CharacterTextSplitter</code>: \u6839\u636e\u7279\u5b9a\u7684\u5206\u9694\u7b26\u5c06\u6587\u672c\u5206\u5272\u6210\u591a\u4e2a\u5757\uff0c\u9ed8\u8ba4\u4e3a2\u4e2a\u6362\u884c\u7b26\u3002</li> <li><code>MarkdownHeaderTextSplitter</code>: \u6839\u636eMarkdown\u683c\u5f0f\u7684\u6807\u9898\u6765\u5206\u5272\u6587\u672c</li> <li><code>TokenTextSplitter</code>: \u4f7f\u7528\u6a21\u578b\u7684tokenizeri\u6765\u8ba1\u7b97\u6587\u672c\u957f\u5ea6\uff0c\u5e76\u6839\u636e\u8fd9\u4e2a\u957f\u5ea6\u6765\u5206\u5272\u6587\u672c\uff0c\u9ed8\u8ba4\u4f7f\u7528gpt2\u6a21\u578b\u7684tokenizer</li> <li><code>SentenceTransformersTokenTextSplitter</code>: \u4f7f\u7528sentence\u6a21\u578b\u7684tokenizeri\u6765\u8ba1\u7b97\u6587\u672c\u957f\u5ea6\uff0c\u5e76\u6839\u636e\u8fd9\u4e2a\u957f\u5ea6\u6765\u5206\u5272\u6587\u672c\uff0c\u9ed8\u8ba4\u4f7f\u7528<code>sentence-transformers/all-mpnet-base-v2</code></li> <li><code>RecursiveCharacterTextSplitter</code>: \u9012\u5f52\u5730\u4f7f\u7528\u4e0d\u540c\u7684\u5b57\u7b26\u6765\u5206\u5272\u6587\u672c\uff0c\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u6709\u6548\u7684\u5206\u9694\u7b26</li> <li><code>NLTKTextSplitter</code>: \u4f7f\u7528NLTK\u5305\u7684<code>sent_tokenize</code>\u51fd\u6570\uff0c\u6309\u53e5\u5b50\u8fdb\u884c\u5206\u5272\u6765\u5206\u5272\u6587\u672c\u3002</li> <li><code>SpacyTextSplitter</code>: \u4f7f\u7528Spacy\u5305\u6765\u5206\u5272\u6587\u672c</li> <li><code>PythonCodeTextSplitter</code>, <code>MarkdownTextSplitter</code>, <code>LatexTextSplitter</code> \u8fd9\u4e9b\u5206\u5272\u5668\u662f<code>RecursiveCharacterTextSplitter</code>\u7684\u5b50\u7c7b\uff0c\u5b83\u4eec\u9488\u5bf9\u7279\u5b9a\u7c7b\u578b\u7684\u6587\u672c\uff08\u5982Python\u4ee3\u7801\uff0cMarkdown\u6587\u672c\uff0cLatex\u6587\u672c\uff09\u5b9a\u4e49\u4e86\u7279\u5b9a\u7684\u5206\u9694\u7b26\u3002</li> </ul> <p>NLTK\uff08Natural Language Toolkit\uff09\u662f\u4e00\u4e2a\u7528\u4e8e\u7b26\u53f7\u548c\u7edf\u8ba1\u81ea\u7136\u8bed\u8a00\u5904\u7406\uff08NLP\uff09\u7684Python\u5e93\u3002\u5b83\u63d0\u4f9b+\u4e86\u5927\u91cf\u7684\u6613\u4e8e\u4f7f\u7528\u7684\u63a5\u53e3\uff0c\u7528\u4e8e\u5904\u7406\u548c\u5206\u6790\u6587\u672c\u6570\u636e\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u4ee5\u8fdb\u884c\u8bcd\u6c47\u5207\u5272\uff08tokenization\uff09\u3001\u8bcd\u5e72\u63d0\u53d6\uff08stemming\uff09\u3001\u8bcd\u6027\u6807\u6ce8\uff08POS tagging\uff09\u3001\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\uff08NER\uff09\u3001\u53e5\u6cd5\u5206\u6790\uff08parsing\uff09\u7b49\u3002NLTK\u8fd8\u5305\u542b\u4e86\u5927\u91cf\u7684\u8bed\u6599\u5e93\u548c\u8bcd\u6c47\u8d44\u6e90\uff0c\u4f8b\u5982WordNet\u3002</p> <p>Spacy\u662f\u53e6\u4e00\u4e2a\u5f3a\u5927\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5e93\uff0c\u5b83\u4e13\u6ce8\u4e8e\u63d0\u4f9b\u5de5\u4e1a\u7ea7\u7684\u6027\u80fd\u3002\u4e0eNLTK\u76f8\u6bd4\uff0cSpacy\u7684\u76ee\u6807\u662f\u63d0\u4f9b\u4e00\u7ec4\u7cbe\u5fc3\u8bbe\u8ba1\u7684\u9ad8\u7ea7API\uff0c\u8fd9\u4e9bAPI\u53ef\u4ee5\u7528\u4e8e\u6267\u884c\u5e38\u89c1\u7684NLP\u4efb\u52a1\uff0c\u5982\u8bcd\u6c47\u5207\u5272\u3001\u8bcd\u6027\u6807\u6ce8\u3001\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7b49\u3002Spacy\u8fd8\u5305\u542b\u4e86\u4e00\u4e9b\u5148\u8fdb\u7684\u529f\u80fd\uff0c\u5982\u8bcd\u5411\u91cf\u652f\u6301\u548c\u5b9e\u4f53\u94fe\u63a5\u3002Spacy\u7684\u4e00\u4e2a\u4e3b\u8981\u4f18\u70b9\u662f\u5b83\u7684\u6027\u80fd\u975e\u5e38\u597d\uff0c\u9002\u5408\u5728\u5927\u89c4\u6a21\u6587\u672c\u6570\u636e\u4e0a\u4f7f\u7528\u3002</p> <p>\u603b\u7684\u6765\u8bf4\uff0cNLTK\u548cSpacy\u90fd\u662f\u5728\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4efb\u52a1\u4e2d\u975e\u5e38\u6709\u7528\u7684\u5e93\uff0cNLTK\u66f4\u9002\u5408\u6559\u5b66\u548c\u7814\u7a76\uff0c\u800cSpacy\u66f4\u9002\u5408\u5de5\u4e1a\u7ea7\u7684\u5e94\u7528\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E4%B8%89%E7%A7%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8D%87RAG%E6%80%A7%E8%83%BD.html","title":"\u4e09\u79cd\u7d22\u5f15\u65b9\u5f0f\u63d0\u5347RAG\u6027\u80fd","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E4%B8%89%E7%A7%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8D%87RAG%E6%80%A7%E8%83%BD.html#_1","title":"\u4e3a\u4ec0\u4e48\u662f\u7d22\u5f15","text":"<ol> <li>\u7d22\u5f15\u662fRAG pipeline\u4e2d\u7684\u5173\u952e\u7ec4\u6210\u90e8\u5206<ol> <li>Document Loaders \u6587\u6863\u52a0\u8f7d\u5668</li> <li>Text Splitters \u6587\u672c\u5206\u5272\u5668</li> <li>VectorStores \u5411\u91cf\u6570\u636e\u5e93</li> <li>Retrievers \u68c0\u7d22\u5668</li> </ol> </li> <li>\u6570\u636e\u7d22\u5f15\u4e3a LLM \u6a21\u578b\u63d0\u4f9b\u989d\u5916\u7684\u6570\u636e\uff0c\u4ece\u800c\u751f\u6210\u66f4\u597d\u7684\u7b54\u6848</li> <li>\u7d22\u5f15\u65b9\u5f0f\u5bf9\u68c0\u7d22\u6027\u80fd\u4ea7\u751f\u5f71\u54cd</li> </ol>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E4%B8%89%E7%A7%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8D%87RAG%E6%80%A7%E8%83%BD.html#_2","title":"\u5e38\u7528\u6846\u67b6\u4e2d\u9ed8\u8ba4\u7684\u7d22\u5f15\u65b9\u5f0f","text":"<p>\u7d22\u5f15\u9636\u6bb5\uff1a</p> <ul> <li>\u6587\u6863\u9996\u5148\u88ab\u5206\u9694\u6210\u6bd4\u8f83\u5c0f\u7684\u5757</li> <li>\u7136\u540e\u5c06\u6bcf\u4e2a\u5757\u505aembedding\u8f6c\u6362\u6210\u5411\u91cf</li> <li>\u5c06\u5411\u91cf\u5b58\u5165\u5411\u91cf\u6570\u636e\u5e93</li> </ul> <p>\u68c0\u7d22\u9636\u6bb5\uff1a</p> <ul> <li> <p>\u5bf9\u67e5\u8be2\u505aembedding\u8f6c\u6362\u6210\u5411\u91cf</p> </li> <li> <p>\u901a\u8fc7\u76f8\u4f3c\u5ea6\u7b97\u6cd5\uff0c\u4ece\u5411\u91cf\u6570\u636e\u5e93\u67e5\u8be2\u51fa\u548c\u67e5\u8be2\u6700\u76f8\u4f3c\u7684\u5411\u91cf</p> </li> <li> <p>\u627e\u5230\u67e5\u8be2\u51fa\u6765\u7684\u5411\u91cf\u5bf9\u5e94\u7684\u5757</p> </li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E4%B8%89%E7%A7%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8D%87RAG%E6%80%A7%E8%83%BD.html#_3","title":"\u4e09\u79cd\u7d22\u5f15\u65b9\u6cd5\u7684\u8be6\u7ec6\u4ecb\u7ecd","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E4%B8%89%E7%A7%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8D%87RAG%E6%80%A7%E8%83%BD.html#1","title":"1.\u6309\u5b50\u90e8\u5206\u7d22\u5f15","text":"<p>\u4e0d\u662f\u76f4\u63a5\u5bf9\u6574\u4e2a\u62c6\u5206\u7684\u6587\u672c\u5757\u8fdb\u884c\u7d22\u5f15\uff0c\u800c\u662f\u5c06\u6bcf\u4e2a\u6587\u672c\u5757\u518d\u62c6\u5206\u6210\u66f4\u5c0f\u7684\u6587\u672c\u5757\uff08\u4f8b\u5982\u62c6\u5206\u6210\u5355\u53e5\uff09\uff0c\u7136\u540e\u5bf9\u8fd9\u4e9b\u5c0f\u5757\u8fdb\u884c\u591a\u6b21\u7d22\u5f15\u3002</p> <p></p> <p>\u5b9e\u7528\u573a\u666f\uff1a\u5305\u542b\u591a\u4e2a\u4e3b\u9898\u6216\u6709\u51b2\u7a81\u4fe1\u606f\u7684\u590d\u6742\u957f\u6587\u672c\u5757/\u5927\u578b\u6587\u6863/\u7d22\u5f15</p> <p>\u63d0\u5347\u539f\u7406\uff1a\u5927\u7684\u6587\u672c\u5757\u4e2d\u53ef\u80fd\u5305\u542b\u4e86\u66f4\u591a\u7684\u65e0\u5173\u4fe1\u606f\uff0c\u8fd9\u4e2a\u5bf9\u4e8e\u67e5\u8be2\u6765\u8bf4\u5c5e\u4e8e\u566a\u97f3\u3002\u62c6\u5206\u6210\u66f4\u5c0f\u7684\u53e5\u5b50\u4e4b\u540e\uff0c\u68c0\u7d22\u5230\u7684\u5185\u5bb9\u76f8\u5173\u5ea6\u66f4\u9ad8\uff0c\u751f\u6210\u7684\u7ed3\u679c\u5c31\u53ef\u80fd\u66f4\u597d\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E4%B8%89%E7%A7%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8D%87RAG%E6%80%A7%E8%83%BD.html#2","title":"2.\u6309\u6587\u672c\u5757\u56de\u7b54\u7684\u95ee\u9898\u7d22\u5f15","text":"<p>\u53ef\u4ee5\u8ba9 LLM \u5bf9\u62c6\u5206\u7684\u6587\u672c\u5757\u751f\u6210\u76f8\u5173\u7684\u5047\u8bbe\u6027\u95ee\u9898\uff0c\u5e76\u5bf9\u8fd9\u4e9b\u95ee\u9898\u8fdb\u884c\u7d22\u5f15\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5bf9\u6574\u4e2a\u5757\u8fdb\u884c\u7d22\u5f15\u3002</p> <p></p> <p>\u5b9e\u7528\u573a\u666f\uff1a\u5982\u4f55\u7528\u6237\u6ca1\u6709\u63d0\u51fa\u975e\u5e38\u660e\u786e\u7684\u95ee\u9898\uff0c\u8be5\u7d22\u5f15\u65b9\u6cd5\u53ef\u4ee5\u51cf\u5c11\u6a21\u7cca\u6027</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E4%B8%89%E7%A7%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8D%87RAG%E6%80%A7%E8%83%BD.html#3","title":"3.\u6309\u6587\u672c\u5757\u7684\u6458\u8981\u7d22\u5f15","text":"<p>\u4f7f\u7528\u6587\u672c\u5757\u7684\u6458\u8981\u6765\u521b\u5efa\u7d22\u5f15\u3002</p> <p></p> <p>\u5b9e\u7528\u573a\u666f\uff1a\u5f53\u6587\u672c\u5757\u4e2d\u6709\u591a\u4f59\u4fe1\u606f\u6216\u4e0e\u7528\u6237\u67e5\u8be2\u65e0\u5173\u7684\u7ec6\u8282\u65f6\uff0c\u8fd9\u79cd\u65b9\u6cd5\u901a\u5e38\u5f88\u6709\u7528</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E4%B8%89%E7%A7%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8D%87RAG%E6%80%A7%E8%83%BD.html#_4","title":"\u53ef\u80fd\u5f15\u53d1\u7684\u4e00\u4e9b\u7591\u95ee","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E4%B8%89%E7%A7%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8D%87RAG%E6%80%A7%E8%83%BD.html#langchain_parent_document_retriever","title":"\u4e0e Langchain \u4e2d\u7684 Parent Document Retriever\u6709\u4f55\u4e0d\u540c","text":"<p>Parent Document Retriever \u5c31\u662f\u6309\u5b50\u90e8\u5206\u7d22\u5f15\u8fd9\u4e00\u79cd\u65b9\u6cd5\uff0c\u5b83\u901a\u8fc7\u5206\u5272\u548c\u5b58\u50a8\u5c0f\u5757\u6570\u636e\u6765\u5b9e\u73b0\u7d22\u5f15\uff0c\u5728\u68c0\u7d22\u8fc7\u7a0b\u4e2d\uff0c\u5148\u83b7\u53d6\u5c0f\u6570\u636e\u5757\uff0c\u7136\u540e\u627e\u5230\u5176\u7236ID\uff0c\u7136\u540e\u8fd4\u56de\u6bd4\u8f83\u5927\u7684\u6587\u6863\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E4%B8%89%E7%A7%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8D%87RAG%E6%80%A7%E8%83%BD.html#llamaindex","title":"LlamaIndex \u4e2d\u662f\u5426\u5305\u542b\u5177\u4f53\u7684\u5b9e\u73b0","text":"<p>LlamaIndex \u4e2d\u7684 Node Sentence Window\uff0c\u5b83\u5c06\u6587\u6863\u89e3\u6790\u6bcf\u4e2a\u8282\u70b9\u7684\u5355\u53e5\u3002\u5b83\u8fd8\u5305\u542b\u4e86\u8282\u70b9\u53e5\u5b50\u4e24\u4fa7\u7684\u53e5\u5b50\u3002\u5b9e\u73b0\u4e86\u7b2c1\u4e2d\u65b9\u6cd5\u4e2d\u6309\u53e5\u5b50\u62c6\u5206\u7684\u65b9\u6cd5\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E4%B8%89%E7%A7%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8D%87RAG%E6%80%A7%E8%83%BD.html#_5","title":"\u5177\u4f53\u7684\u5b9e\u73b0\u65b9\u5f0f\u662f\u4ec0\u4e48","text":"<ul> <li>\u6309\u5b50\u90e8\u5206\u7d22\u5f15\u6570\u636e\u5e93\uff1aSmaller chunks</li> <li>\u6309\u6587\u672c\u5757\u53ef\u56de\u7b54\u7684\u95ee\u9898\u7d22\u5f15\u6570\u636e\u5757\uff1a Hypothetical questions </li> <li>\u6309\u6587\u4ef6\u5757\u7684\u6458\u8981\u7d22\u5f15\u6570\u636e\u5e93\uff1a Summary</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E4%B8%89%E7%A7%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8D%87RAG%E6%80%A7%E8%83%BD.html#_6","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li> <p>3\u79cd\u9ad8\u7ea7\u7d22\u5f15\u65b9\u6cd5\uff0c\u6709\u6548\u63d0\u5347RAG\u6027\u80fd by \u53ef\u4e50i_Klay</p> </li> <li> <p>Langchain Parent Document Retriever</p> </li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93.html","title":"\u5411\u91cf\u6570\u636e\u5e93","text":"<p>llama_index \u5bf9\u5411\u91cf\u6570\u636e\u5e93\u7684\u652f\u6301\uff0c\u622a\u6b622024\u5e743\u67084\u65e5\u3002\u53ea\u8003\u8651\u652f\u6301\u79c1\u6709\u5316\u90e8\u7f72\u7684\u3002</p> \u5411\u91cf\u6570\u636e\u5e93 \u90e8\u7f72\u7c7b\u578b \u662f\u5426\u652f\u6301\u5143\u6570\u636e\u8fc7\u6ee4 \u662f\u5426\u652f\u6301\u6df7\u5408\u68c0\u7d22 \u662f\u5426\u652f\u6301\u5b58\u50a8\u6587\u6863 \u662f\u5426\u652f\u6301\u5f02\u6b65 \u516c\u53f8/\u7ec4\u7ec7 \u662f\u5426\u5f00\u6e90 Github Star\u6570\u91cf \u4e3b\u8981\u8d21\u732e\u8005\u4eba\u6570\uff08\u5927\u4e8e100commit) \u4f18\u70b9 \u7f3a\u70b9 Apache Cassandra\u00ae \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 Apache \u2713 8.4k 36 Chroma \u79c1\u6709\u90e8\u7f72 \u2713 \u2713 Chroma \u2713 11.2k 3 Deeplake \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 activeloop \u2713 7.5k 11 Elasticsearch \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 \u2713 \u2713 Elastic \u2713 66.9k 98 FAISS \u57fa\u4e8e\u5185\u5b58 facebook \u2713 27.1k 2 Jaguar \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 \u2713 Lantern \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 \u2713 \u2713 lanterndata \u2713 0.5k 2 \u521a\u5f00\u53d1\u7684\u9879\u76ee\uff0c\u53ef\u80fd\u529f\u80fd\u4e0d\u7a33\u5b9a\uff0cBUG\u591a\uff0c\u7528\u7684\u4eba\u5c11\u3002 MongoDB Atlas \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 mongodb \u2713 25.2k &gt;100 Milvus \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 milvus-io \u2713 25.7k 42 Neo4jVector \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 neo4j \u2713 12.3k 64 OpenSearch \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 \u2713 \u2713 OpenSearch \u2713 8.4k 7 Postgres \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 \u2713 \u2713 postgre \u2713 14.2k 27 pgvecto.rs \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 \u2713 Tensorchord \u2713 1.1k 0 \u521a\u5f00\u53d1\u7684\u9879\u76ee\uff0c\u53ef\u80fd\u529f\u80fd\u4e0d\u7a33\u5b9a\uff0cBUG\u591a\uff0c\u7528\u7684\u4eba\u5c11\u3002 Qdrant \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 \u2713 \u2713 qdrant \u2713 16.5k 5 Redis \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 redis \u2713 63.5k 13 Supabase \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 supabase \u2713 63.6k 33 Typesense \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 typesense \u2713 17.2k 5 Weaviate \u79c1\u6709\u90e8\u7f72/\u4e91\u7aef \u2713 \u2713 \u2713 weaviate \u2713 9k 14 <p>\u603b\u7ed3\uff1a</p> <p>\u4e3b\u8981\u6709\u4e24\u7c7b\uff0c\u4e00\u7c7b\u662f\u4f20\u7edf\u7684\u5411\u91cf\u6570\u636e\u5e93\uff0c\u5305\u62ecMilvus\uff0cQdrant, Weaviate\uff0c\u4e00\u7c7b\u662f\u6570\u636e\u5e93\u6216\u641c\u7d22\u5f15\u64ce\u6dfb\u52a0\u4e86\u652f\u6301\u5411\u91cf\u68c0\u7d22\u7684\u529f\u80fd\uff0c\u5982ElasticSearch\uff0cRedis, Postgre, MongoDB, Neo4j\u7b49\u3002</p> <p>\u4ece\u6027\u80fd\u6765\u770b\uff0c\u4f20\u7edf\u7684\u5411\u91cf\u6570\u636e\u5e93\u6027\u80fdqdrant &gt; milvus &gt; weaviate\u3002</p> <p>\u4ece\u652f\u6301\u6df7\u5408\u68c0\u7d22\u548c\u5143\u6570\u636e\u8fc7\u6ee4\u6765\u770bqdrant &gt; weaviate &gt; milvus\u3002</p> <p>\u6240\u4ee5\u8003\u8651\u5c06\u5411\u91cf\u6570\u636e\u5e93\u6362\u6210qdrant\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/RAG/%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93.html#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>https://docs.llamaindex.ai/en/stable/module_guides/storing/vector_stores.html</li> <li>VectorDBBench\u2014\u2014\u5411\u91cf\u6570\u636e\u5e93\u6027\u80fd\u6d4b\u8bd5\u5de5\u5177</li> <li>Qdrant Vector Database Benchmarks</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/01_dify%E6%9C%AC%E5%9C%B0%E5%90%AF%E5%8A%A8.html","title":"dify\u672c\u5730\u542f\u52a8","text":"<p>\u9996\u5148\u5728\u670d\u52a1\u5668\u4e0a\u9762\u548c\u672c\u5730\u514b\u9686 <code>dify</code> \u9879\u76ee\uff0c\u7136\u540e\u5207\u6362\u5230\u5bf9\u5e94\u7684\u5206\u652f\uff0c\u4f8b\u5982<code>0.4.7</code>\u5206\u652f\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code># \u514b\u9686\u9879\u76ee\ngit clone https://github.com/langgenius/dify.git\n# \u5207\u6362\u5230dify\u76ee\u5f55\ncd dify \n# \u62c9\u53d6\u6240\u6709\u5206\u652f\u548ctag\ngit fetch --all\n# \u5207\u6362\u5230\u6307\u5b9a\u5206\u652f -b \u540e\u9762\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u672c\u5730\u5206\u652f\u540d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u9879\u76eetag\u540d\ngit checkout -b v0.4.7 0.4.7\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/01_dify%E6%9C%AC%E5%9C%B0%E5%90%AF%E5%8A%A8.html#_1","title":"\u5728\u670d\u52a1\u5668\u4e0a\u542f\u52a8\u4e2d\u95f4\u4ef6","text":"<p>\u5728 <code>docker</code>\u76ee\u5f55\u4e0b\u6709\u5982\u4e0b\u6587\u4ef6\uff1a</p> <pre><code>docker-compose.middleware.yaml  # \u670d\u52a1\u9ed8\u8ba4\u7684\u4e2d\u95f4\u4ef6\u914d\u7f6e\u6587\u4ef6\ndocker-compose.yaml # dify\u9879\u76ee\u7684docker-compose\u914d\u7f6e\u6587\u4ef6\uff0c\u5305\u62ec\u4e2d\u95f4\u4ef6\u548c\u524d\u7aef\u670d\u52a1\u548c\u540e\u7aef\u670d\u52a1\nmilvus-standalone-docker-compose.yml # milvus\u5411\u91cf\u5e93\u5355\u673a\u7248\u7684\u914d\u7f6e\u6587\u4ef6\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\u4f7f\u7528\u7684\u5411\u91cf\u6570\u636e\u5e93\u4e3a <code>weaviate</code>\uff0c\u5982\u679c\u8981\u4f7f\u7528 <code>milvus</code> \u5411\u91cf\u5e93\u7684\u8bdd\u9700\u8981\u4fee\u6539 <code>milvus-standalone-docker-compose.yml</code> \u6587\u4ef6\u3002</p> <pre><code>cd dify\n# \u8fd9\u4e2a\u662f\u670d\u52a1\u9ed8\u8ba4\u7684\u4e2d\u95f4\u4ef6\u914d\u7f6e\u6587\u4ef6 \nvim docker/docker-compose.middleware.yaml\n# vim milvus-standalone-docker-compose.yml \n</code></pre> <p>\u4fee\u6539<code>docker-compse</code> \u6587\u4ef6, \u5c06\u5176\u4e2d\u7684 <code>ports</code>\u5b57\u6bb5\u4fee\u6539\u81ea\u5df1\u7684\u7aef\u53e3\uff0c\u4f8b\u5982\u4fee\u6539\u4e3a <code>18080:8080</code>\uff0c\u8868\u793a\u5c06\u5bb9\u5668\u7684 <code>8080</code> \u7aef\u53e3\u6620\u5c04\u5230\u670d\u52a1\u5668\u7684 <code>18080</code> \u7aef\u53e3\uff0c\u6211\u4eec\u5728\u672c\u5730\u4f7f\u7528\u5c31\u4f7f\u7528<code>18080</code>\u7aef\u53e3\u3002</p> <p>\u7136\u540e\u6267\u884c\u547d\u4ee4\u542f\u52a8\u670d\u52a1:</p> <pre><code># \u542f\u52a8\u670d\u52a1\ndocker-compose -f docker-compose.middleware.yaml up -d\n# \u67e5\u770b\u670d\u52a1\ndocker-compose -f docker-compose.middleware.yaml ps -a\n</code></pre> <p></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/01_dify%E6%9C%AC%E5%9C%B0%E5%90%AF%E5%8A%A8.html#web","title":"\u5728\u672c\u5730\u542f\u52a8Web\u540e\u7aef\u670d\u52a1","text":"<p>\u6267\u884c\u5b8c\u4e0a\u9762\u7684\u547d\u4ee4\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u672c\u5730\u542f\u52a8 Web \u540e\u7aef\u670d\u52a1\u4e86\u3002</p> <p>\u540e\u7aef\u670d\u52a1\u5206\u4e24\u4e2a\uff0c\u4e00\u4e2a\u662f <code>web api</code>\u63a5\u53e3\uff0c\u4e00\u4e2a\u662f <code>celery \u4efb\u52a1</code>\u3002\u9879\u76ee\u76f8\u5173\u7684\u4ee3\u7801\u90fd\u5728 <code>api</code> \u76ee\u5f55\u4e2d\u3002</p> <p>\u9996\u5148\u9700\u8981\u5728\u672c\u5730\u521b\u5efa\u4e00\u4e2a <code>conda</code> \u73af\u5883\uff0c\u7136\u540e\u5b89\u88c5\u5bf9\u5e94\u7684\u4f9d\u8d56\u3002</p> <pre><code># \u8fdb\u5165dify\u76ee\u5f55\ncd dify\n# \u521b\u5efa\u4e00\u4e2a\u540d\u53ebdify\u7684\u865a\u62df\u73af\u5883\uff0c\u6307\u5b9aPython\u7248\u672c\u4e3a3.10\nconda create -n dify python=3.10\n# \u5207\u6362\u5230dify\u73af\u5883\nconda activate dify\n# \u5207\u6362\u5230api\u76ee\u5f55\ncd api\n# \u5b89\u88c5\u4f9d\u8d56\npip install -r requirements.txt\n</code></pre> <p>\u7136\u540e\u9700\u8981\u8bbe\u7f6e\u4e2d\u95f4\u4ef6\u76f8\u5173\u7684\u914d\u7f6e\uff0c\u5728 <code>api</code> \u76ee\u5f55\u4e0b\u6709\u4e00\u4e2a <code>.env.example</code> \u6587\u4ef6\uff0c\u91cc\u9762\u5305\u542b\u4e00\u4e9b\u73af\u5883\u53d8\u91cf\u7684\u914d\u7f6e\uff0c\u590d\u5236\u8fd9\u4e2a\u6587\u4ef6\uff0c\u91cd\u547d\u540d\u4e3a <code>.env</code>, \u5c06\u5176\u4e2d\u7684\u914d\u7f6e\u8bbe\u7f6e\u6210\u81ea\u5df1\u9700\u8981\u7684\u914d\u7f6e\uff0c\u5176\u4e2d\u4e2d\u95f4\u4ef6\u7684 <code>host</code> \u4e3a\u670d\u52a1\u5668IP, <code>port</code> \u4e3a\u4e0a\u4e00\u6b65 <code>docker-compose</code> \u6587\u4ef6\u4e2d\u6620\u5c04\u51fa\u6765\u7684\u7aef\u53e3\u3002</p> <p>\u5728\u7b2c\u4e00\u6b21\u6267\u884c\u7684\u65f6\u5019\uff0c\u9700\u8981\u521b\u5efa\u6570\u636e\u5e93\uff0c\u6267\u884c\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>flask db upgrade\n</code></pre> <p>\u5982\u679c\u4e0a\u9762\u7684\u547d\u4ee4\u62a5\u9519\uff0c\u4f8b\u5982\uff1a</p> <pre><code>&gt; flask db upgrade\nError: While importing 'app', an ImportError was raised:\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u91cd\u65b0\u5b89\u88c5\u4f9d\u8d56\uff0c\u7136\u540e\u6267\u884c <code>flask db upgrade</code></p> <pre><code>pip install -r requirements.txt --upgrade --force-reinstall\n</code></pre> <p>\u7136\u540e\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u542f\u52a8 Flask Web API\u670d\u52a1\uff0c\u7aef\u53e3\u9ed8\u8ba4\u4e3a<code>5001</code>\uff1a</p> <pre><code>flask run --host 0.0.0.0 --port=5001 --debug\n</code></pre> <p>\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u542f\u52a8 <code>celery</code> \u670d\u52a1\uff1a</p> <pre><code>celery -A app.celery worker -P gevent -c 1 --loglevel INFO -Q dataset,generation,mail\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/01_dify%E6%9C%AC%E5%9C%B0%E5%90%AF%E5%8A%A8.html#web_1","title":"\u5728\u672c\u5730\u542f\u52a8Web\u524d\u7aef\u670d\u52a1","text":"<p>dify \u9879\u76ee\u524d\u7aef\u9879\u76ee\u5728 <code>web</code> \u76ee\u5f55\u4e2d\uff0c\u8fd0\u884c\u9700\u8981 <code>Nodejs 18.x</code> \u7248\u672c\uff0c \u8fd9\u91cc\u4f7f\u7528 <code>nvm</code> \u6765\u5b89\u88c5 <code>Nodejs</code>\u3002</p> <p><code>nvm</code> \u7528\u6cd5\u53c2\u8003 https://github.com/nvm-sh/nvm</p> <pre><code># \u5207\u6362\u5230web\u76ee\u5f55\ncd dify/web/\n\n# \u5207\u6362node\u73af\u5883 \u6211\u7684node\u7248\u672c\u662f18.16.0\nnvm use 18.16.0\n# npm \u5b89\u88c5\u4f9d\u8d56\nnpm install\n# or\nyarn install --frozen-lockfile\n\n# \u542f\u52a8\u524d\u7aef\u9879\u76ee\nnpm run dev \n</code></pre> <p>\u542f\u52a8\u524d\u7aef\u670d\u52a1\u540e\u9ed8\u8ba4\u5730\u5740\u4e3a http://localhost:3000\uff0c</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/01_dify%E6%9C%AC%E5%9C%B0%E5%90%AF%E5%8A%A8.html#apppy","title":"app.py \u5206\u6790","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/01_dify%E6%9C%AC%E5%9C%B0%E5%90%AF%E5%8A%A8.html#create_app","title":"create_app","text":"<pre><code>class DifyApp(Flask):\n    pass\n\n\n# -------------\n# Configuration\n# -------------\n\n\nconfig_type = os.getenv('EDITION', default='SELF_HOSTED')  # ce edition first\n\n\n# ----------------------------\n# Application Factory Function\n# ----------------------------\n\n\ndef create_app(test_config=None) -&gt; Flask:\n    app = DifyApp(__name__)\n\n    if test_config:\n        app.config.from_object(test_config)\n    else:\n        if config_type == \"CLOUD\":\n            app.config.from_object(CloudEditionConfig())\n        else:\n            app.config.from_object(Config())\n\n    app.secret_key = app.config['SECRET_KEY']\n\n    logging.basicConfig(level=app.config.get('LOG_LEVEL', 'INFO'))\n\n    initialize_extensions(app)\n    register_blueprints(app)\n    register_commands(app)\n\n    return app\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>DifyApp</code> \u7684 <code>Flask</code> \u5b50\u7c7b\uff0c\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a <code>DifyApp</code> \u5e94\u7528\u3002<code>create_app</code> \u51fd\u6570\u662f\u4e00\u4e2a\u5e94\u7528\u5de5\u5382\u51fd\u6570\uff0c\u7528\u4e8e\u521b\u5efa Flask \u5e94\u7528\u5b9e\u4f8b\u3002\u8be5\u51fd\u6570\u6839\u636e\u4e0d\u540c\u7684\u914d\u7f6e\u7c7b\u578b\u8bbe\u7f6e\u5e94\u7528\u914d\u7f6e\uff0c\u5e76\u521d\u59cb\u5316\u5e94\u7528\u5bc6\u94a5\u3001\u65e5\u5fd7\u548c\u6269\u5c55\u3002\u6700\u540e\uff0c\u8be5\u51fd\u6570\u8fd4\u56de\u521b\u5efa\u7684 Flask \u5e94\u7528\u5b9e\u4f8b\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/01_dify%E6%9C%AC%E5%9C%B0%E5%90%AF%E5%8A%A8.html#initialize_extensions","title":"initialize_extensions","text":"<p>\u5176\u4e2d <code>initialize_extensions</code>\u51fd\u6570\u5982\u4e0b\uff0c\u8fd9\u4e2a\u51fd\u6570\u7528\u4e8e\u521d\u59cb\u5316 <code>app</code> \u7684\u5404\u79cd\u6269\u5c55\uff0c\u5c06 <code>app</code> \u4f20\u9012\u7ed9\u6bcf\u4e2a\u6269\u5c55\uff0c\u4ee5\u4fbf\u5c06\u6269\u5c55\u7ed1\u5b9a\u5230 <code>app</code>\u3002</p> <pre><code>def initialize_extensions(app):\n    # Since the application instance is now created, pass it to each Flask\n    # extension instance to bind it to the Flask application instance (app)\n    ext_code_based_extension.init()\n    ext_database.init_app(app)\n    ext_migrate.init(app, db)\n    ext_redis.init_app(app)\n    ext_storage.init_app(app)\n    ext_celery.init_app(app)\n    ext_login.init_app(app)\n    ext_mail.init_app(app)\n    ext_hosting_provider.init_app(app)\n    ext_sentry.init_app(app)\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/01_dify%E6%9C%AC%E5%9C%B0%E5%90%AF%E5%8A%A8.html#register_blueprints","title":"register_blueprints","text":"<p>\u5176\u4e2d <code>register_blueprints</code>\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>def register_blueprints(app):\n    from controllers.console import bp as console_app_bp\n    from controllers.files import bp as files_bp\n    from controllers.service_api import bp as service_api_bp\n    from controllers.web import bp as web_bp\n\n    CORS(service_api_bp,\n         allow_headers=['Content-Type', 'Authorization', 'X-App-Code'],\n         methods=['GET', 'PUT', 'POST', 'DELETE', 'OPTIONS', 'PATCH']\n         )\n    app.register_blueprint(service_api_bp)\n\n    CORS(web_bp,\n         resources={\n             r\"/*\": {\"origins\": app.config['WEB_API_CORS_ALLOW_ORIGINS']}},\n         supports_credentials=True,\n         allow_headers=['Content-Type', 'Authorization', 'X-App-Code'],\n         methods=['GET', 'PUT', 'POST', 'DELETE', 'OPTIONS', 'PATCH'],\n         expose_headers=['X-Version', 'X-Env']\n         )\n\n    app.register_blueprint(web_bp)\n\n    CORS(console_app_bp,\n         resources={\n             r\"/*\": {\"origins\": app.config['CONSOLE_CORS_ALLOW_ORIGINS']}},\n         supports_credentials=True,\n         allow_headers=['Content-Type', 'Authorization'],\n         methods=['GET', 'PUT', 'POST', 'DELETE', 'OPTIONS', 'PATCH'],\n         expose_headers=['X-Version', 'X-Env']\n         )\n\n    app.register_blueprint(console_app_bp)\n\n    CORS(files_bp,\n         allow_headers=['Content-Type'],\n         methods=['GET', 'PUT', 'POST', 'DELETE', 'OPTIONS', 'PATCH']\n         )\n    app.register_blueprint(files_bp)\n</code></pre> <p>\u5176\u4e3b\u8981\u529f\u80fd\u662f\u6ce8\u518c\u591a\u4e2a\u84dd\u56fe\u5230Flask\u5e94\u7528\u5b9e\u4f8bapp\u4e2d\uff0c\u5e76\u4e3a\u8fd9\u4e9b\u84dd\u56fe\u5206\u522b\u914d\u7f6e\u8de8\u57df\u8d44\u6e90\u5171\u4eab\uff08CORS\uff09\u89c4\u5219\u3002</p> <p>\u9996\u5148\uff0c\u5b83\u4ece\u56db\u4e2a\u4e0d\u540c\u7684\u6a21\u5757\u5bfc\u5165\u4e86\u56db\u4e2aBlueprint\u5bf9\u8c61\uff1a</p> <ol> <li><code>console_app_bp</code>\uff1a\u6765\u81ea<code>controllers.console</code>\u6a21\u5757</li> <li><code>files_bp</code>\uff1a\u6765\u81ea<code>controllers.files</code>\u6a21\u5757</li> <li><code>service_api_bp</code>\uff1a\u6765\u81ea<code>controllers.service_api</code>\u6a21\u5757</li> <li><code>web_bp</code>\uff1a\u6765\u81ea<code>controllers.web</code>\u6a21\u5757</li> </ol> <p>\u9488\u5bf9\u6bcf\u4e2a\u5bfc\u5165\u7684\u84dd\u56fe\uff0c\u51fd\u6570\u5bf9\u5176\u8fdb\u884c CORS \u914d\u7f6e\uff0c\u7136\u540e\u5728\u4f7f\u7528<code>app.register_blueprint()</code>\u65b9\u6cd5\u5c06\u84dd\u56fe\u6ce8\u518c\u5230 Flask \u5e94\u7528\u4e2d\uff0c\u8fd9\u6837\u5bf9\u5e94\u7684URL\u8def\u7531\u5c31\u80fd\u901a\u8fc7Web\u670d\u52a1\u8bbf\u95ee\u5230\u76f8\u5e94\u84dd\u56fe\u6240\u5904\u7406\u7684\u89c6\u56fe\u51fd\u6570\u53ca\u8d44\u6e90\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/01_dify%E6%9C%AC%E5%9C%B0%E5%90%AF%E5%8A%A8.html#_2","title":"\u521d\u59cb\u5316","text":"<p>\u7b2c\u4e00\u6b21\u4f7f\u7528\u9700\u8981\u6253\u5f00 http://localhost:3000/install \u8fdb\u884c\u7528\u6237\u90ae\u7bb1\uff0c\u7528\u6237\u540d\uff0c\u5bc6\u7801\u8bbe\u7f6e\u3002</p> <p>\u5728 http://localhost:3000/install \u9875\u9762\u8f93\u5165\u5b8c\u7528\u6237\u90ae\u7bb1\uff0c\u7528\u6237\u540d\uff0c\u5bc6\u7801\u7b49\u4e4b\u540e\u4f1a<code>POST</code> \u8c03\u7528 <code>http://localhost:5001/console/api/setup</code> \u63a5\u53e3\u3002</p> <p><code>setup</code> \u63a5\u53e3\u5b9a\u4e49\u5728 <code>api/controllers/console/setup.py</code>\u4e2d\u3002</p> <pre><code>api.add_resource(SetupApi, '/setup')\n</code></pre> <p><code>SetupApi</code>\u7c7b\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <pre><code>class SetupApi(Resource):\n\n    def get(self):\n        if current_app.config['EDITION'] == 'SELF_HOSTED':\n            setup_status = get_setup_status()\n            if setup_status:\n                return {\n                    'step': 'finished',\n                    'setup_at': setup_status.setup_at.isoformat()\n                }\n            return {'step': 'not_start'}\n        return {'step': 'finished'}\n\n    @only_edition_self_hosted\n    def post(self):\n        # is set up\n        if get_setup_status():\n            raise AlreadySetupError()\n\n        # is tenant created\n        tenant_count = TenantService.get_tenant_count()\n        if tenant_count &gt; 0:\n            raise AlreadySetupError()\n\n        parser = reqparse.RequestParser()\n        parser.add_argument('email', type=email,\n                            required=True, location='json')\n        parser.add_argument('name', type=str_len(\n            30), required=True, location='json')\n        parser.add_argument('password', type=valid_password,\n                            required=True, location='json')\n        args = parser.parse_args()\n\n        # Register\n        account = RegisterService.register(\n            email=args['email'],\n            name=args['name'],\n            password=args['password']\n        )\n\n        setup()\n        AccountService.update_last_login(account, request)\n\n        return {'result': 'success'}, 201\n</code></pre> <p><code>only_edition_self_hosted</code>\u88c5\u9970\u5668\u5b9a\u4e49\u5982\u4e0b\uff1a <pre><code>def only_edition_self_hosted(view):\n    @wraps(view)\n    def decorated(*args, **kwargs):\n        if current_app.config['EDITION'] != 'SELF_HOSTED':\n            abort(404)\n\n        return view(*args, **kwargs)\n\n    return decorated\n</code></pre></p> <p>\u8fd9\u4e2a\u51fd\u6570\u662f\u4e00\u4e2a\u88c5\u9970\u5668\u51fd\u6570\uff0c\u7528\u4e8e\u68c0\u67e5\u5f53\u524d\u5e94\u7528\u7684\u914d\u7f6e\u662f\u5426\u4e3a'SELF_HOSTED'\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5219\u8fd4\u56de404\u9519\u8bef\u3002\u5982\u679c\u662f\uff0c\u5219\u8c03\u7528\u4f20\u5165\u7684view\u51fd\u6570\u5e76\u8fd4\u56de\u7ed3\u679c\u3002</p> <p><code>post</code>\u65b9\u6cd5\u9996\u5148\u68c0\u67e5\u662f\u5426\u5df2\u7ecf\u8bbe\u7f6e\u5b8c\u6210\uff0c\u5982\u679c\u5df2\u7ecf\u8bbe\u7f6e\uff0c\u5219\u629b\u51fa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u5f02\u5e38\u3002\u7136\u540e\u68c0\u67e5\u662f\u5426\u5b58\u5728\u79df\u6237\uff0c\u5982\u679c\u5b58\u5728\uff0c\u5219\u4e5f\u629b\u51fa\u76f8\u540c\u7684\u5f02\u5e38\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u8be5\u51fd\u6570\u4f7f\u7528\u8bf7\u6c42\u89e3\u6790\u5668\u6765\u89e3\u6790\u63a5\u6536\u5230\u7684 <code>POST</code> \u8bf7\u6c42\u4e2d\u7684\u6570\u636e\uff0c\u5e76\u8fdb\u884c\u76f8\u5e94\u7684\u9a8c\u8bc1\u3002</p> <p>\u7136\u540e\u8c03\u7528 <code>RegisterService</code> \u7c7b\u4e2d\u7684 <code>register</code> \u65b9\u6cd5\u6ce8\u518c\u8d26\u6237\uff0c\u5c06\u89e3\u6790\u5230\u7684<code>email</code>\u3001<code>name</code>\u548c<code>password</code>\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9<code>register</code>\u65b9\u6cd5\u3002\u968f\u540e\u8c03\u7528<code>setup</code>\u51fd\u6570\u8fdb\u884c\u4e00\u4e9b\u8bbe\u7f6e\u64cd\u4f5c\uff0c\u5e76\u4f7f\u7528<code>AccountService</code>\u7c7b\u4e2d\u7684<code>update_last_login</code>\u65b9\u6cd5\u66f4\u65b0\u8d26\u6237\u7684\u6700\u540e\u767b\u5f55\u65f6\u95f4\u3002</p> <p>\u6700\u540e\uff0c\u51fd\u6570\u8fd4\u56de\u4e00\u4e2aHTTP\u54cd\u5e94\uff0c\u72b6\u6001\u7801\u4e3a201\uff0c\u540c\u65f6\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u5b57\u7b26\u4e32\"success\"\u7684\u5b57\u5178\u3002</p> <p>\u5176\u4e2d<code>setup</code>\u51fd\u6570\u5b9a\u4e49\u5982\u4e0b\uff1a <pre><code>def setup():\n    dify_setup = DifySetup(\n        version=current_app.config['CURRENT_VERSION']\n    )\n    db.session.add(dify_setup)\n</code></pre> \u8be5\u51fd\u6570\u4f1a\u5411<code>DifySetup</code>\u8868\u6dfb\u52a0\u4e00\u6761\u8bb0\u5f55\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/02_dify%E6%8E%A5%E5%8F%A3%E8%AE%B0%E5%BD%95.html","title":"dify\u63a5\u53e3\u8bb0\u5f55","text":"<p>dify \u672c\u5730\u542f\u52a8\u4e4b\u540e\uff0c\u9700\u8981\u7684\u5bf9\u5176\u4e2d RAG \u76f8\u5173\u7684\u5173\u952e\u6b65\u9aa4\u68b3\u7406\u3002</p> <p>\u4e3b\u8981\u9700\u8981\u5f04\u6e05\u7684\u5305\u62ec\uff1a</p> <ul> <li>\u6dfb\u52a0\u6a21\u578b</li> <li>\u65b0\u5efa\u77e5\u8bc6\u5e93</li> <li>\u77e5\u8bc6\u5e93\u4e0a\u4f20\u6587\u4ef6</li> <li>\u6587\u6863\u5206\u7247</li> <li>\u5411\u91cf\u5316</li> <li>\u7d22\u5f15</li> <li>\u5bf9\u8bdd</li> <li>\u6a21\u578b\u662f\u5982\u4f55\u6765\u7684</li> <li>\u68c0\u7d22\u903b\u8f91</li> <li>\u63d0\u793a\u8bcd\u7684\u62fc\u63a5</li> <li>\u62fc\u63a5\u597d\u7684\u63d0\u793a\u8bcd\u5982\u4f55\u548cLLM\u8c03\u7528\u7684</li> <li>LLM\u8fd4\u56de\u7684\u7ed3\u679c\u5904\u7406</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/02_dify%E6%8E%A5%E5%8F%A3%E8%AE%B0%E5%BD%95.html#_1","title":"\u6dfb\u52a0\u6a21\u578b","text":"<p>\u6dfb\u52a0\u6a21\u578b\u7684\u8def\u5f84\u4e3a \u3010\u8bbe\u7f6e\u3011-&gt; \u3010\u5de5\u4f5c\u7a7a\u95f4\u3011-&gt; \u3010\u6a21\u578b\u63d0\u4f9b\u5546\u3011\uff0c\u4e0b\u9762\u4ee5\u6dfb\u52a0<code>\u901a\u4e49\u5343\u95ee</code>\u6a21\u578b\u4e3a\u4f8b\u3002\u68b3\u7406\u6dfb\u52a0\u6a21\u578b\u7684\u903b\u8f91\u3002</p> <p></p> <p>\u9009\u4e2d <code>\u901a\u4e49\u5343\u95ee</code> \u4f1a\u5f39\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u9700\u8981\u8f93\u5165\u901a\u4e49\u5343\u95ee\u7684 API KEY\u3002</p> <p></p> <p>\u70b9\u51fb\u4fdd\u5b58\u4f1a\u4f7f\u7528 <code>POST</code> \u8c03\u7528\u63a5\u53e3<code>http://localhost:5001/console/api/workspaces/current/model-providers/tongyi</code>, \u63a5\u53e3\u8c03\u7528\u6210\u529f\u54cd\u5e94\u72b6\u6001\u7801\u4e3a <code>201</code>\u3002 \u63a5\u53e3\u53c2\u6570\u683c\u5f0f\u4e3a\uff1a <pre><code>{\n    \"credentials\": {\n        \"dashscope_api_key\": \"sk-xxxxxxxxxxxxxxxxxxxxxxxx\"\n    }\n}\n</code></pre></p> <p>\u63a5\u53e3URL\u6620\u5c04\u5728 <code>api/controllers/console/workspace/model_providers.py</code>\u4e2d\u7684\uff1a <pre><code>api.add_resource(ModelProviderApi, '/workspaces/current/model-providers/&lt;string:provider&gt;')\n</code></pre></p> <p>\u5176\u4e2d<code>provider</code>\u4e3a\u8def\u5f84\u53c2\u6570\uff0c\u8fd9\u91cc\u4f20\u9012\u7684\u662f<code>tongyi</code>\u3002</p> <p><code>ModelProviderApi</code>\u7c7b\u7684\u5b9a\u4e49\u5982\u4e0b\uff1a <pre><code>class ModelProviderApi(Resource):\n\n    @setup_required\n    @login_required\n    @account_initialization_required\n    def post(self, provider: str):\n        if current_user.current_tenant.current_role not in ['admin', 'owner']:\n            raise Forbidden()\n\n        # credentials\u8868\u793a api key\n        parser = reqparse.RequestParser()\n        parser.add_argument('credentials', type=dict, required=True, nullable=False, location='json')\n        args = parser.parse_args()\n\n        model_provider_service = ModelProviderService()\n\n        try:\n            model_provider_service.save_provider_credentials(\n                tenant_id=current_user.current_tenant_id,\n                provider=provider,\n                credentials=args['credentials']\n            )\n        except CredentialsValidateFailedError as ex:\n            raise ValueError(str(ex))\n\n        return {'result': 'success'}, 201\n\n    @setup_required\n    @login_required\n    @account_initialization_required\n    def delete(self, provider: str):\n        if current_user.current_tenant.current_role not in ['admin', 'owner']:\n            raise Forbidden()\n\n        model_provider_service = ModelProviderService()\n        model_provider_service.remove_provider_credentials(\n            tenant_id=current_user.current_tenant_id,\n            provider=provider\n        )\n\n        return {'result': 'success'}, 204\n</code></pre></p> <p>\u5176\u4e2d<code>post</code>\u65b9\u6cd5\u5bf9\u5e94\u7740 <code>POST</code> \u8bf7\u6c42, <code>delete</code>\u65b9\u6cd5\u5bf9\u5e94\u7740 <code>DELETE</code> \u8bf7\u6c42\u3002</p> <p>\u5176\u4e2d<code>setup_required</code>\u88c5\u9970\u5668\u5b9a\u4e49\u5728<code>api/controllers/console/setup.py</code>\u4e2d\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>def setup_required(view):\n    @wraps(view)\n    def decorated(*args, **kwargs):\n        # check setup\n        if not get_setup_status():\n            raise NotSetupError()\n\n        return view(*args, **kwargs)\n\n    return decorated\n\n\ndef get_setup_status():\n    if current_app.config['EDITION'] == 'SELF_HOSTED':\n        return DifySetup.query.first()\n    else:\n        return True\n</code></pre> \u5982\u679c<code>get_setup_status</code>\u51fd\u6570\u8fd4\u56de<code>False</code>\uff0c\u5c31\u629b\u51fa<code>NotSetupError</code>\u3002\u5982\u679c\u914d\u7f6e\u4e2d<code>EDITION</code>\u4e3a<code>SELF_HOSTED</code>\uff0c\u672c\u5730\u542f\u52a8\u9ed8\u8ba4\u5c31\u662f\u8fd9\u4e2a\u914d\u7f6e,\u5c31\u53bb<code>DifySetup</code>\u67e5\u8be2\u4e00\u6761\u8bb0\u5f55\u3002\u8fd9\u4e2a\u6267\u884c\u4e86\u521d\u59cb\u5316\u5c31\u4f1a\u6709\u4e00\u6761\u8bb0\u5f55\uff0c\u8fd9\u4e2a\u5c31\u4f1a\u8fd4\u56de<code>True</code>\u3002</p> <p><code>login_required</code>\u88c5\u9970\u5668\u662f\u7528\u6765\u8fdb\u884c <code>token</code> \u6821\u9a8c\u7684\u3002</p> <p><code>account_initialization_required</code>\u88c5\u9970\u5668\u7528\u6765\u5224\u65ad\u8d26\u6237\u662f\u5426\u5df2\u7ecf\u521d\u59cb\u5316\u3002</p> <p><code>post</code>\u65b9\u6cd5\u5904\u7406 <code>POST</code> \u8bf7\u6c42\uff0c\u63a5\u6536 <code>provider</code> \u53c2\u6570\u3002\u9996\u5148\u6821\u9a8c\u7528\u6237\u6743\u9650\uff0c\u975e<code>admin</code>\u6216<code>owner</code>\u5219\u629b\u51fa\u5f02\u5e38\u3002\u7136\u540e\u89e3\u6790\u8bf7\u6c42\u4e2d\u7684 json \u683c\u5f0f <code>credentials</code> \u4fe1\u606f\uff0c\u5e76\u4f7f\u7528 <code>ModelProviderService</code> \u670d\u52a1\u7c7b\u4fdd\u5b58\u79df\u6237\u3001\u63d0\u4f9b\u8005\u53ca\u5176\u51ed\u8bc1\u4fe1\u606f\u3002\u82e5\u51ed\u8bc1\u9a8c\u8bc1\u5931\u8d25\uff0c\u5219\u629b\u51fa\u9519\u8bef\uff0c\u5982\u679c\u9a8c\u8bc1\u6210\u529f\uff0c\u8fd4\u56de\u72b6\u6001\u7801\u4e3a 201\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/02_dify%E6%8E%A5%E5%8F%A3%E8%AE%B0%E5%BD%95.html#_2","title":"\u65b0\u5efa\u77e5\u8bc6\u5e93","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/02_dify%E6%8E%A5%E5%8F%A3%E8%AE%B0%E5%BD%95.html#_3","title":"\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684\u77e5\u8bc6\u5e93","text":"<p>\u70b9\u51fb\u3010\u77e5\u8bc6\u5e93\u3011-&gt;\u3010\u521b\u5efa\u77e5\u8bc6\u5e93\u3011-&gt; \u3010\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684\u77e5\u8bc6\u5e93\u3011</p> <p></p> <p>\u4f1a\u8c03\u7528<code>POST</code>\u63a5\u53e3:  http://localhost:5001/console/api/datasets</p> <p>\u63a5\u53e3\u53c2\u6570\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\"name\":\"\u6d4b\u8bd5\u77e5\u8bc6\u5e93\"}\n</code></pre> <p>\u63a5\u53e3\u4ee3\u7801\u5b9a\u4e49\u5728<code>api/controllers/console/datasets/datasets.py</code>\u4e2d\u7684<code>DatasetListApi</code>\u7c7b\u4e2d\u3002</p> <p>URL \u6620\u5c04\u4e3a\uff1a</p> <pre><code>api.add_resource(DatasetListApi, '/datasets')\n</code></pre> <p><code>DatasetListApi</code>\u7c7b\u5b9a\u4e49\u5982\u4e0b\uff0c\u5176\u4e2d<code>get</code>\u65b9\u6cd5\u662f\u7528\u6765\u83b7\u53d6\u6240\u6709\u6570\u636e\u96c6\u5217\u8868\uff0c<code>post</code>\u65b9\u6cd5\u662f\u7528\u6765\u521b\u5efa\u6570\u636e\u96c6\u3002</p> <pre><code>class DatasetListApi(Resource):\n\n    @setup_required\n    @login_required\n    @account_initialization_required\n    def get(self):\n        page = request.args.get('page', default=1, type=int)\n        limit = request.args.get('limit', default=20, type=int)\n        ids = request.args.getlist('ids')\n        provider = request.args.get('provider', default=\"vendor\")\n        if ids:\n            datasets, total = DatasetService.get_datasets_by_ids(ids, current_user.current_tenant_id)\n        else:\n            datasets, total = DatasetService.get_datasets(page, limit, provider,\n                                                          current_user.current_tenant_id, current_user)\n\n        # check embedding setting\n        provider_manager = ProviderManager()\n        configurations = provider_manager.get_configurations(\n            tenant_id=current_user.current_tenant_id\n        )\n\n        embedding_models = configurations.get_models(\n            model_type=ModelType.TEXT_EMBEDDING,\n            only_active=True\n        )\n\n        model_names = []\n        for embedding_model in embedding_models:\n            model_names.append(f\"{embedding_model.model}:{embedding_model.provider.provider}\")\n\n        data = marshal(datasets, dataset_detail_fields)\n        for item in data:\n            if item['indexing_technique'] == 'high_quality':\n                item_model = f\"{item['embedding_model']}:{item['embedding_model_provider']}\"\n                if item_model in model_names:\n                    item['embedding_available'] = True\n                else:\n                    item['embedding_available'] = False\n            else:\n                item['embedding_available'] = True\n\n        response = {\n            'data': data,\n            'has_more': len(datasets) == limit,\n            'limit': limit,\n            'total': total,\n            'page': page\n        }\n        return response, 200\n\n    @setup_required\n    @login_required\n    @account_initialization_required\n    def post(self):\n        parser = reqparse.RequestParser()\n        parser.add_argument('name', nullable=False, required=True,\n                            help='type is required. Name must be between 1 to 40 characters.',\n                            type=_validate_name)\n        parser.add_argument('indexing_technique', type=str, location='json',\n                            choices=Dataset.INDEXING_TECHNIQUE_LIST,\n                            nullable=True,\n                            help='Invalid indexing technique.')\n        args = parser.parse_args()\n\n        # The role of the current user in the ta table must be admin or owner\n        if current_user.current_tenant.current_role not in ['admin', 'owner']:\n            raise Forbidden()\n\n        try:\n            dataset = DatasetService.create_empty_dataset(\n                tenant_id=current_user.current_tenant_id,\n                name=args['name'],\n                indexing_technique=args['indexing_technique'],\n                account=current_user\n            )\n        except services.errors.dataset.DatasetNameDuplicateError:\n            raise DatasetNameDuplicateError()\n\n        return marshal(dataset, dataset_detail_fields), 201\n</code></pre> <p>\u5176\u4e2d<code>create_empty_dataset</code>\u65b9\u6cd5\u5982\u4e0b\uff0c\u4e3b\u8981\u662f\u7528\u6765\u5199\u5165<code>dataset</code>\u8868\uff0c\u5176\u4e2d<code>embedding_model</code>\u76f8\u5173\u5c5e\u6027\uff0c\u8981\u6839\u636e<code>index_technique</code>\u6765\u83b7\u53d6\uff1a</p> <pre><code>    @staticmethod\n    def create_empty_dataset(tenant_id: str, name: str, indexing_technique: Optional[str], account: Account):\n        # check if dataset name already exists\n        if Dataset.query.filter_by(name=name, tenant_id=tenant_id).first():\n            raise DatasetNameDuplicateError(\n                f'Dataset with name {name} already exists.')\n        embedding_model = None\n        if indexing_technique == 'high_quality':\n            model_manager = ModelManager()\n            embedding_model = model_manager.get_default_model_instance(\n                tenant_id=tenant_id,\n                model_type=ModelType.TEXT_EMBEDDING\n            )\n        dataset = Dataset(name=name, indexing_technique=indexing_technique)\n        # dataset = Dataset(name=name, provider=provider, config=config)\n        dataset.created_by = account.id\n        dataset.updated_by = account.id\n        dataset.tenant_id = tenant_id\n        dataset.embedding_model_provider = embedding_model.provider if embedding_model else None\n        dataset.embedding_model = embedding_model.model if embedding_model else None\n        db.session.add(dataset)\n        db.session.commit()\n        return dataset\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/02_dify%E6%8E%A5%E5%8F%A3%E8%AE%B0%E5%BD%95.html#_4","title":"\u521b\u5efa\u77e5\u8bc6\u5e93","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/02_dify%E6%8E%A5%E5%8F%A3%E8%AE%B0%E5%BD%95.html#_5","title":"\u4e0a\u4f20\u6587\u4ef6","text":"<p>\u9996\u5148\u70b9\u51fb\u3010\u77e5\u8bc6\u5e93\u3011-&gt;\u3010\u521b\u5efa\u77e5\u8bc6\u5e93\u3011-&gt; \u3010\u4e0a\u4f20\u6587\u672c\u6587\u4ef6\u3011</p> <p>\u9996\u5148\u4f1a<code>POST</code>\u8c03\u7528\u63a5\u53e3\uff1a http://localhost:5001/console/api/files/upload  \u6765\u4e0a\u4f20\u6587\u4ef6</p> <p>\u63a5\u53e3\u53c2\u6570\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>------WebKitFormBoundaryZOQCLEOLaD76jAfu\nContent-Disposition: form-data; name=\"file\"; filename=\"\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u52b3\u52a8\u6cd5.txt\"\nContent-Type: text/plain\n\n\n------WebKitFormBoundaryZOQCLEOLaD76jAfu--\n</code></pre> <p>\u8fd4\u56de\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\n    \"id\": \"a1e3917e-e56e-45dc-8078-883684444dce\",\n    \"name\": \"\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u52b3\u52a8\u6cd5.txt\",\n    \"size\": 17390,\n    \"extension\": \"txt\",\n    \"mime_type\": \"text/plain\",\n    \"created_by\": \"368861f3-65cd-49be-9556-96410617a25d\",\n    \"created_at\": 1705904335\n}\n</code></pre> <p>\u63a5\u53e3\u4ee3\u7801\u5728\u6587\u4ef6<code>api/controllers/console/datasets/file.py</code>\u4e2d\uff0c\u5176\u4e2dURL\u6620\u5c04\u5bf9\u5e94<code>FileApi</code>\u7c7b\u3002</p> <pre><code>api.add_resource(FileApi, '/files/upload')\n</code></pre> <p><code>FileApi</code>\u7c7b\u5b9a\u4e49\u5982\u4e0b\uff0c\u5176\u4e2d\u7684<code>POST</code>\u65b9\u6cd5\u5bf9\u5e94\u7740\u4e0a\u4f20\u6587\u4ef6\u63a5\u53e3\uff0c<code>GET</code>\u63a5\u53e3\u7528\u6765\u67e5\u8be2\u4e0a\u4f20\u6587\u4ef6\u76f8\u5173\u7684<code>limit</code>\u914d\u7f6e\uff1a</p> <pre><code>class FileApi(Resource):\n\n    @setup_required\n    @login_required\n    @account_initialization_required\n    @marshal_with(upload_config_fields)\n    def get(self):\n        file_size_limit = current_app.config.get(\"UPLOAD_FILE_SIZE_LIMIT\")\n        batch_count_limit = current_app.config.get(\"UPLOAD_FILE_BATCH_LIMIT\")\n        image_file_size_limit = current_app.config.get(\"UPLOAD_IMAGE_FILE_SIZE_LIMIT\")\n        return {\n            'file_size_limit': file_size_limit,\n            'batch_count_limit': batch_count_limit,\n            'image_file_size_limit': image_file_size_limit\n        }, 200\n\n    @setup_required\n    @login_required\n    @account_initialization_required\n    @marshal_with(file_fields)\n    def post(self):\n\n        # get file from request\n        file = request.files['file']\n\n        # check file\n        if 'file' not in request.files:\n            raise NoFileUploadedError()\n\n        if len(request.files) &gt; 1:\n            raise TooManyFilesError()\n        try:\n            upload_file = FileService.upload_file(file, current_user)\n        except services.errors.file.FileTooLargeError as file_too_large_error:\n            raise FileTooLargeError(file_too_large_error.description)\n        except services.errors.file.UnsupportedFileTypeError:\n            raise UnsupportedFileTypeError()\n\n        return upload_file, 201\n</code></pre> <p>\u5176\u4e2d\u4e0a\u4f20\u6587\u4ef6\u7684\u903b\u8f91\u4e3b\u8981\u5728<code>FileService</code>\u7c7b\u4e2d\u7684<code>upload_file</code>\u65b9\u6cd5\u3002</p> <pre><code>class FileService:\n\n    @staticmethod\n    def upload_file(file: FileStorage, user: Union[Account, EndUser], only_image: bool = False) -&gt; UploadFile:\n        extension = file.filename.split('.')[-1]\n        etl_type = current_app.config['ETL_TYPE']\n        if etl_type == 'Unstructured':\n            allowed_extensions = ['txt', 'markdown', 'md', 'pdf', 'html', 'htm', 'xlsx',\n                                  'docx', 'csv', 'eml', 'msg', 'pptx', 'ppt', 'xml',\n                                  'jpg', 'jpeg', 'png', 'webp', 'gif', 'svg']\n        else:\n            allowed_extensions = ['txt', 'markdown', 'md', 'pdf', 'html', 'htm', 'xlsx', 'docx', 'csv',\n                                  'jpg', 'jpeg', 'png', 'webp', 'gif', 'svg']\n        if extension.lower() not in allowed_extensions:\n            raise UnsupportedFileTypeError()\n        elif only_image and extension.lower() not in IMAGE_EXTENSIONS:\n            raise UnsupportedFileTypeError()\n\n        # read file content\n        file_content = file.read()\n\n        # get file size\n        file_size = len(file_content)\n\n        if extension.lower() in IMAGE_EXTENSIONS:\n            file_size_limit = current_app.config.get(\"UPLOAD_IMAGE_FILE_SIZE_LIMIT\") * 1024 * 1024\n        else:\n            file_size_limit = current_app.config.get(\"UPLOAD_FILE_SIZE_LIMIT\") * 1024 * 1024\n\n        if file_size &gt; file_size_limit:\n            message = f'File size exceeded. {file_size} &gt; {file_size_limit}'\n            raise FileTooLargeError(message)\n\n        # user uuid as file name\n        file_uuid = str(uuid.uuid4())\n\n        if isinstance(user, Account):\n            current_tenant_id = user.current_tenant_id\n        else:\n            # end_user\n            current_tenant_id = user.tenant_id\n\n        file_key = 'upload_files/' + current_tenant_id + '/' + file_uuid + '.' + extension\n\n        # save file to storage\n        storage.save(file_key, file_content)\n\n        # save file to db\n        config = current_app.config\n        upload_file = UploadFile(\n            tenant_id=current_tenant_id,\n            storage_type=config['STORAGE_TYPE'],\n            key=file_key,\n            name=file.filename,\n            size=file_size,\n            extension=extension,\n            mime_type=file.mimetype,\n            created_by_role=('account' if isinstance(user, Account) else 'end_user'),\n            created_by=user.id,\n            created_at=datetime.datetime.utcnow(),\n            used=False,\n            hash=hashlib.sha3_256(file_content).hexdigest()\n        )\n\n        db.session.add(upload_file)\n        db.session.commit()\n\n        return upload_file\n</code></pre> <p>\u8fd9\u4e2a\u65b9\u6cd5\u9996\u5148\u4f1a\u5bf9\u6587\u4ef6\u540e\u7f00\u8fdb\u884c\u5224\u65ad\uff0c\u7136\u540e\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\uff0c\u5bf9\u6587\u4ef6\u5927\u5c0f\u505a\u5224\u65ad\u3002\u63a5\u7740\u901a\u8fc7<code>from extensions.ext_storage import storage</code>\u4e2d\u7684<code>storage</code>\u5bf9\u8c61\u8fdb\u884c\u6587\u4ef6\u7684\u4fdd\u5b58\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u4f1a\u6839\u636e<code>STORAGE_TYPE</code>\u914d\u7f6e\u5c06\u6587\u4ef6\u5b58\u50a8\u5230S3\u4e0a\u6216\u670d\u52a1\u5668\u672c\u5730\u76ee\u5f55\u3002\u6700\u540e\u5c06\u6570\u636e\u5199\u5165<code>UploadFile</code>model\u5bf9\u5e94\u7684\u6570\u636e\u5e93\u8868\u4e2d\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/02_dify%E6%8E%A5%E5%8F%A3%E8%AE%B0%E5%BD%95.html#_6","title":"\u6587\u672c\u5206\u6bb5\u548c\u6e05\u6d17","text":"<p>\u4e0a\u4f20\u5b8c\u6587\u4ef6\u4e4b\u540e\uff0c\u5c31\u9700\u8981\u5bf9\u6587\u672c\u5206\u6bb5\u548c\u6e05\u6d17\u8fdb\u884c\u8bbe\u7f6e\uff0c\u8fd8\u8981\u5bf9\u7d22\u5f15\u76f8\u5173\u914d\u7f6e\u8fdb\u884c\u8bbe\u7f6e\u3002</p> <p></p> <p>\u70b9\u51fb\u4fdd\u5b58\u5e76\u5904\u7406\uff0c\u4f1a<code>POST</code>\u8c03\u7528\u63a5\u53e3: http://localhost:5001/console/api/datasets/init </p> <p>\u63a5\u53e3\u53c2\u6570\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>{\n    \"data_source\": {\n        \"type\": \"upload_file\",\n        \"info_list\": {\n            \"data_source_type\": \"upload_file\",\n            \"file_info_list\": {\n                \"file_ids\": [\"a1e3917e-e56e-45dc-8078-883684444dce\"]\n            }\n        }\n    },\n    \"indexing_technique\": \"high_quality\",\n    \"process_rule\": {\n        \"rules\": {},\n        \"mode\": \"automatic\"\n    },\n    \"doc_form\": \"text_model\",\n    \"doc_language\": \"Chinese\",\n    \"retrieval_model\": {\n        \"search_method\": \"semantic_search\",\n        \"reranking_enable\": false,\n        \"reranking_model\": {\n            \"reranking_provider_name\": \"\",\n            \"reranking_model_name\": \"\"\n        },\n        \"top_k\": 3,\n        \"score_threshold_enabled\": false,\n        \"score_threshold\": 0.5\n    }\n}\n</code></pre> <p>\u63a5\u53e3\u5bf9\u5e94\u6587\u4ef6\u5728 <code>api/controllers/console/datasets/datasets_document.py</code>\u4e2d\uff0c</p> <p>URL \u6620\u5c04\u4e3a\uff1a</p> <pre><code>api.add_resource(DatasetInitApi,\n                 '/datasets/init')\n</code></pre> <p>\u5bf9\u5e94\u7740<code>DatasetInitApi</code>\u7c7b\u3002</p> <p>\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>class DatasetInitApi(Resource):\n\n    @setup_required\n    @login_required\n    @account_initialization_required\n    @marshal_with(dataset_and_document_fields)\n    @cloud_edition_billing_resource_check('vector_space')\n    def post(self):\n        # The role of the current user in the ta table must be admin or owner\n        if current_user.current_tenant.current_role not in ['admin', 'owner']:\n            raise Forbidden()\n\n        parser = reqparse.RequestParser()\n        parser.add_argument('indexing_technique', type=str, choices=Dataset.INDEXING_TECHNIQUE_LIST, required=True,\n                            nullable=False, location='json')\n        parser.add_argument('data_source', type=dict, required=True, nullable=True, location='json')\n        parser.add_argument('process_rule', type=dict, required=True, nullable=True, location='json')\n        parser.add_argument('doc_form', type=str, default='text_model', required=False, nullable=False, location='json')\n        parser.add_argument('doc_language', type=str, default='English', required=False, nullable=False,\n                            location='json')\n        parser.add_argument('retrieval_model', type=dict, required=False, nullable=False,\n                            location='json')\n        args = parser.parse_args()\n        if args['indexing_technique'] == 'high_quality':\n            try:\n                model_manager = ModelManager()\n                model_manager.get_default_model_instance(\n                    tenant_id=current_user.current_tenant_id,\n                    model_type=ModelType.TEXT_EMBEDDING\n                )\n            except InvokeAuthorizationError:\n                raise ProviderNotInitializeError(\n                    f\"No Embedding Model available. Please configure a valid provider \"\n                    f\"in the Settings -&gt; Model Provider.\")\n            except ProviderTokenNotInitError as ex:\n                raise ProviderNotInitializeError(ex.description)\n\n        # validate args\n        DocumentService.document_create_args_validate(args)\n\n        try:\n            dataset, documents, batch = DocumentService.save_document_without_dataset_id(\n                tenant_id=current_user.current_tenant_id,\n                document_data=args,\n                account=current_user\n            )\n        except ProviderTokenNotInitError as ex:\n            raise ProviderNotInitializeError(ex.description)\n        except QuotaExceededError:\n            raise ProviderQuotaExceededError()\n        except ModelCurrentlyNotSupportError:\n            raise ProviderModelCurrentlyNotSupportError()\n\n        response = {\n            'dataset': dataset,\n            'documents': documents,\n            'batch': batch\n        }\n\n        return response\n</code></pre> <p>\u9996\u5148\u901a\u8fc7<code>indexing_technique</code>\u5224\u65ad<code>text_embedding</code>\u6a21\u578b\u662f\u5426\u53ef\u7528\u3002\u7136\u540e\u8fdb\u884c\u53c2\u6570\u6821\u9a8c\u3002\u63a5\u7740\u8c03\u7528<code>DocumentService</code>\u7684<code>save_document_without_dataset_id</code></p> <p>\u65b9\u6cd5\uff08\u89c1\u6587\u4ef6\uff1a<code>api/services/dataset_service.py</code>\uff09\u3002</p> <pre><code>    @staticmethod\n    def save_document_without_dataset_id(tenant_id: str, document_data: dict, account: Account):\n        count = 0\n        if document_data[\"data_source\"][\"type\"] == \"upload_file\":\n            upload_file_list = document_data[\"data_source\"][\"info_list\"]['file_info_list']['file_ids']\n            count = len(upload_file_list)\n        elif document_data[\"data_source\"][\"type\"] == \"notion_import\":\n            notion_info_list = document_data[\"data_source\"]['info_list']['notion_info_list']\n            for notion_info in notion_info_list:\n                count = count + len(notion_info['pages'])\n\n        embedding_model = None\n        dataset_collection_binding_id = None\n        retrieval_model = None\n        if document_data['indexing_technique'] == 'high_quality':\n            model_manager = ModelManager()\n            embedding_model = model_manager.get_default_model_instance(\n                tenant_id=current_user.current_tenant_id,\n                model_type=ModelType.TEXT_EMBEDDING\n            )\n            dataset_collection_binding = DatasetCollectionBindingService.get_dataset_collection_binding(\n                embedding_model.provider,\n                embedding_model.model\n            )\n            dataset_collection_binding_id = dataset_collection_binding.id\n            if 'retrieval_model' in document_data and document_data['retrieval_model']:\n                retrieval_model = document_data['retrieval_model']\n            else:\n                default_retrieval_model = {\n                    'search_method': 'semantic_search',\n                    'reranking_enable': False,\n                    'reranking_model': {\n                        'reranking_provider_name': '',\n                        'reranking_model_name': ''\n                    },\n                    'top_k': 2,\n                    'score_threshold_enabled': False\n                }\n                retrieval_model = default_retrieval_model\n        # save dataset\n        dataset = Dataset(\n            tenant_id=tenant_id,\n            name='',\n            data_source_type=document_data[\"data_source\"][\"type\"],\n            indexing_technique=document_data[\"indexing_technique\"],\n            created_by=account.id,\n            embedding_model=embedding_model.model if embedding_model else None,\n            embedding_model_provider=embedding_model.provider if embedding_model else None,\n            collection_binding_id=dataset_collection_binding_id,\n            retrieval_model=retrieval_model\n        )\n\n        db.session.add(dataset)\n        db.session.flush()\n\n        documents, batch = DocumentService.save_document_with_dataset_id(dataset, document_data, account)\n\n        cut_length = 18\n        cut_name = documents[0].name[:cut_length]\n        dataset.name = cut_name + '...'\n        dataset.description = 'useful for when you want to answer queries about the ' + documents[0].name\n        db.session.commit()\n\n        return dataset, documents, batch\n</code></pre> <p>\u9996\u5148\u4f1a\u6839\u636e<code>indexing_technique</code>\u7b49\u4e8e<code>high_quality</code>\u4f1a\u8c03\u7528<code>get_dataset_collection_binding</code> \u83b7\u53d6<code>dataset_collection_binding</code>,\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>class DatasetCollectionBindingService:\n    @classmethod\n    def get_dataset_collection_binding(cls, provider_name: str, model_name: str,\n                                       collection_type: str = 'dataset') -&gt; DatasetCollectionBinding:\n        dataset_collection_binding = db.session.query(DatasetCollectionBinding). \\\n            filter(DatasetCollectionBinding.provider_name == provider_name,\n                   DatasetCollectionBinding.model_name == model_name,\n                   DatasetCollectionBinding.type == collection_type). \\\n            order_by(DatasetCollectionBinding.created_at). \\\n            first()\n\n        if not dataset_collection_binding:\n            dataset_collection_binding = DatasetCollectionBinding(\n                provider_name=provider_name,\n                model_name=model_name,\n                collection_name=\"Vector_index_\" + str(uuid.uuid4()).replace(\"-\", \"_\") + '_Node',\n                type=collection_type\n            )\n            db.session.add(dataset_collection_binding)\n            db.session.commit()\n        return dataset_collection_binding\n</code></pre> <p>\u5982\u679c<code>DatasetCollectionBinding</code>\u8868\u8bb0\u5f55\u4e0d\u5b58\u5728\u5c31\u521b\u5efa\u4e00\u4e2a\u8bb0\u5f55\u3002</p> <p>\u7136\u540e\u4f1a\u521b\u5efa<code>Dataset</code>\u8bb0\u5f55\uff0c\u6700\u540e\u8c03\u7528<code>DocumentService</code>\u7c7b\u7684<code>save_document_with_dataset_id</code>\u65b9\u6cd5\u4fdd\u5b58\u6587\u6863\uff08\u4ee3\u7801\u89c1<code>api/services/dataset_service.py</code>\u6587\u4ef6\uff09\u3002</p> <pre><code>    @staticmethod\n    def save_document_with_dataset_id(dataset: Dataset, document_data: dict,\n                                      account: Account, dataset_process_rule: Optional[DatasetProcessRule] = None,\n                                      created_from: str = 'web'):\n\n        # check document limit\n        if current_app.config['EDITION'] == 'CLOUD':\n            if 'original_document_id' not in document_data or not document_data['original_document_id']:\n                count = 0\n                if document_data[\"data_source\"][\"type\"] == \"upload_file\":\n                    upload_file_list = document_data[\"data_source\"][\"info_list\"]['file_info_list']['file_ids']\n                    count = len(upload_file_list)\n                elif document_data[\"data_source\"][\"type\"] == \"notion_import\":\n                    notion_info_list = document_data[\"data_source\"]['info_list']['notion_info_list']\n                    for notion_info in notion_info_list:\n                        count = count + len(notion_info['pages'])\n        # if dataset is empty, update dataset data_source_type\n        if not dataset.data_source_type:\n            dataset.data_source_type = document_data[\"data_source\"][\"type\"]\n\n        if not dataset.indexing_technique:\n            if 'indexing_technique' not in document_data \\\n                    or document_data['indexing_technique'] not in Dataset.INDEXING_TECHNIQUE_LIST:\n                raise ValueError(\"Indexing technique is required\")\n\n            dataset.indexing_technique = document_data[\"indexing_technique\"]\n            if document_data[\"indexing_technique\"] == 'high_quality':\n                model_manager = ModelManager()\n                embedding_model = model_manager.get_default_model_instance(\n                    tenant_id=current_user.current_tenant_id,\n                    model_type=ModelType.TEXT_EMBEDDING\n                )\n                dataset.embedding_model = embedding_model.model\n                dataset.embedding_model_provider = embedding_model.provider\n                dataset_collection_binding = DatasetCollectionBindingService.get_dataset_collection_binding(\n                    embedding_model.provider,\n                    embedding_model.model\n                )\n                dataset.collection_binding_id = dataset_collection_binding.id\n                if not dataset.retrieval_model:\n                    default_retrieval_model = {\n                        'search_method': 'semantic_search',\n                        'reranking_enable': False,\n                        'reranking_model': {\n                            'reranking_provider_name': '',\n                            'reranking_model_name': ''\n                        },\n                        'top_k': 2,\n                        'score_threshold_enabled': False\n                    }\n\n                    dataset.retrieval_model = document_data.get('retrieval_model') if document_data.get(\n                        'retrieval_model') else default_retrieval_model\n\n        documents = []\n        batch = time.strftime('%Y%m%d%H%M%S') + str(random.randint(100000, 999999))\n        if 'original_document_id' in document_data and document_data[\"original_document_id\"]:\n            document = DocumentService.update_document_with_dataset_id(dataset, document_data, account)\n            documents.append(document)\n        else:\n            # save process rule\n            if not dataset_process_rule:\n                process_rule = document_data[\"process_rule\"]\n                if process_rule[\"mode\"] == \"custom\":\n                    dataset_process_rule = DatasetProcessRule(\n                        dataset_id=dataset.id,\n                        mode=process_rule[\"mode\"],\n                        rules=json.dumps(process_rule[\"rules\"]),\n                        created_by=account.id\n                    )\n                elif process_rule[\"mode\"] == \"automatic\":\n                    dataset_process_rule = DatasetProcessRule(\n                        dataset_id=dataset.id,\n                        mode=process_rule[\"mode\"],\n                        rules=json.dumps(DatasetProcessRule.AUTOMATIC_RULES),\n                        created_by=account.id\n                    )\n                db.session.add(dataset_process_rule)\n                db.session.commit()\n            position = DocumentService.get_documents_position(dataset.id)\n            document_ids = []\n            if document_data[\"data_source\"][\"type\"] == \"upload_file\":\n                upload_file_list = document_data[\"data_source\"][\"info_list\"]['file_info_list']['file_ids']\n                for file_id in upload_file_list:\n                    file = db.session.query(UploadFile).filter(\n                        UploadFile.tenant_id == dataset.tenant_id,\n                        UploadFile.id == file_id\n                    ).first()\n\n                    # raise error if file not found\n                    if not file:\n                        raise FileNotExistsError()\n\n                    file_name = file.name\n                    data_source_info = {\n                        \"upload_file_id\": file_id,\n                    }\n                    document = DocumentService.build_document(dataset, dataset_process_rule.id,\n                                                              document_data[\"data_source\"][\"type\"],\n                                                              document_data[\"doc_form\"],\n                                                              document_data[\"doc_language\"],\n                                                              data_source_info, created_from, position,\n                                                              account, file_name, batch)\n                    db.session.add(document)\n                    db.session.flush()\n                    document_ids.append(document.id)\n                    documents.append(document)\n                    position += 1\n            elif document_data[\"data_source\"][\"type\"] == \"notion_import\":\n                notion_info_list = document_data[\"data_source\"]['info_list']['notion_info_list']\n                exist_page_ids = []\n                exist_document = dict()\n                documents = Document.query.filter_by(\n                    dataset_id=dataset.id,\n                    tenant_id=current_user.current_tenant_id,\n                    data_source_type='notion_import',\n                    enabled=True\n                ).all()\n                if documents:\n                    for document in documents:\n                        data_source_info = json.loads(document.data_source_info)\n                        exist_page_ids.append(data_source_info['notion_page_id'])\n                        exist_document[data_source_info['notion_page_id']] = document.id\n                for notion_info in notion_info_list:\n                    workspace_id = notion_info['workspace_id']\n                    data_source_binding = DataSourceBinding.query.filter(\n                        db.and_(\n                            DataSourceBinding.tenant_id == current_user.current_tenant_id,\n                            DataSourceBinding.provider == 'notion',\n                            DataSourceBinding.disabled == False,\n                            DataSourceBinding.source_info['workspace_id'] == f'\"{workspace_id}\"'\n                        )\n                    ).first()\n                    if not data_source_binding:\n                        raise ValueError('Data source binding not found.')\n                    for page in notion_info['pages']:\n                        if page['page_id'] not in exist_page_ids:\n                            data_source_info = {\n                                \"notion_workspace_id\": workspace_id,\n                                \"notion_page_id\": page['page_id'],\n                                \"notion_page_icon\": page['page_icon'],\n                                \"type\": page['type']\n                            }\n                            document = DocumentService.build_document(dataset, dataset_process_rule.id,\n                                                                      document_data[\"data_source\"][\"type\"],\n                                                                      document_data[\"doc_form\"],\n                                                                      document_data[\"doc_language\"],\n                                                                      data_source_info, created_from, position,\n                                                                      account, page['page_name'], batch)\n                            db.session.add(document)\n                            db.session.flush()\n                            document_ids.append(document.id)\n                            documents.append(document)\n                            position += 1\n                        else:\n                            exist_document.pop(page['page_id'])\n                # delete not selected documents\n                if len(exist_document) &gt; 0:\n                    clean_notion_document_task.delay(list(exist_document.values()), dataset.id)\n            db.session.commit()\n\n            # trigger async task\n            document_indexing_task.delay(dataset.id, document_ids)\n\n        return documents, batch\n</code></pre> <ol> <li>\u51fd\u6570\u9996\u5148\u6839\u636e\u5f53\u524d\u5e94\u7528\u914d\u7f6e\u68c0\u67e5\u6587\u6863\u6570\u91cf\u9650\u5236\uff08\u4ec5\u5728\u4e91\u7aef\u7248\u65f6\u8fdb\u884c\uff09\u3002</li> <li>\u7136\u540e\uff0c\u5982\u679c\u6570\u636e\u96c6\u7684<code>data_source_type</code>\u672a\u8bbe\u7f6e\uff0c\u5219\u7528\u4f20\u5165\u7684<code>document_data</code>\u4e2d\u7684\u6570\u636e\u6e90\u7c7b\u578b\u66f4\u65b0\u5b83\u3002 </li> <li>\u63a5\u4e0b\u6765\uff0c\u51fd\u6570\u4f1a\u68c0\u67e5\u5e76\u8bbe\u7f6e\u6570\u636e\u96c6\u7684<code>indexing_technique</code>\u5c5e\u6027\uff0c\u5e76\u53ef\u80fd\u8fdb\u4e00\u6b65\u521d\u59cb\u5316\u76f8\u5173\u7684\u5d4c\u5165\u6a21\u578b\u548c\u68c0\u7d22\u6a21\u578b\u4fe1\u606f\u3002 </li> <li>\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u7a7a\u5217\u8868<code>documents</code>\uff0c\u7528\u4e8e\u5b58\u50a8\u5c06\u8981\u4fdd\u5b58\u6216\u66f4\u65b0\u7684\u6587\u6863\u5bf9\u8c61\u3002\u540c\u65f6\u751f\u6210\u4e00\u4e2a\u6279\u6b21\u6807\u8bc6\u7b26<code>batch</code>\u3002 </li> <li>\u6839\u636e<code>document_data</code>\u4e2d\u662f\u5426\u5b58\u5728<code>original_document_id</code>\uff0c\u51b3\u5b9a\u662f\u66f4\u65b0\u5df2\u6709\u6587\u6863\u8fd8\u662f\u65b0\u5efa\u6587\u6863\u3002\u5982\u679c\u5b58\u5728\u4e14\u975e\u7a7a\uff0c\u5219\u8c03\u7528<code>DocumentService.update_document_with_dataset_id</code>\u65b9\u6cd5\u66f4\u65b0\u6587\u6863\u5e76\u5c06\u5176\u6dfb\u52a0\u5230documents\u5217\u8868\u3002</li> <li>\u5982\u679c\u4e0d\u5b58\u5728original_document_id\u6216\u8005\u5176\u4e3a\u7a7a\uff0c\u5219\u5904\u7406\u81ea\u5b9a\u4e49\u6216\u81ea\u52a8\u6a21\u5f0f\u7684\u6587\u6863\u5904\u7406\u89c4\u5219\uff0c\u5e76\u5c06\u65b0\u6587\u6863\u4fdd\u5b58\u5230\u6570\u636e\u5e93\u4e2d\u3002\u5bf9\u4e8e\u4e0d\u540c\u7c7b\u578b\u7684\u6587\u6863\u6570\u636e\u6e90\uff08\u4e0a\u4f20\u6587\u4ef6\u6216Notion\u5bfc\u5165\uff09\uff0c\u5206\u522b\u6267\u884c\u4e0d\u540c\u7684\u903b\u8f91\uff1a<ul> <li>\u5bf9\u4e8e\u4e0a\u4f20\u6587\u4ef6\uff0c\u83b7\u53d6\u6587\u4ef6ID\u5217\u8868\uff0c\u5bf9\u6bcf\u4e2a\u6587\u4ef6\u6784\u5efa\u4e00\u4e2a\u65b0\u7684Document\u5bf9\u8c61\uff0c\u4fdd\u5b58\u5230\u6570\u636e\u5e93\uff0c\u5e76\u66f4\u65b0\u76f8\u5173\u7d22\u5f15\u4f4d\u7f6e\u7b49\u4fe1\u606f\u3002 </li> <li>\u4e8e\u4eceNotion\u5bfc\u5165\u7684\u6570\u636e\uff0c\u904d\u5386\u6240\u6709\u9875\u9762\uff0c\u540c\u6837\u6784\u5efa\u65b0\u7684Document\u5bf9\u8c61\u5e76\u4fdd\u5b58\u3002\u540c\u65f6\uff0c\u5220\u9664\u7528\u6237\u672a\u9009\u62e9\u4f46\u4e4b\u524d\u5df2\u5b58\u5728\u7684Notion\u6587\u6863\uff0c\u5e76\u89e6\u53d1\u5f02\u6b65\u4efb\u52a1\u6e05\u7406\u3002</li> </ul> </li> <li>\u5728\u5b8c\u6210\u6587\u6863\u4fdd\u5b58\u540e\uff0c\u51fd\u6570\u63d0\u4ea4\u6570\u636e\u5e93\u4f1a\u8bdd\uff0c\u89e6\u53d1\u5f02\u6b65\u4efb\u52a1<code>document_indexing_task</code>\u5bf9\u65b0\u4fdd\u5b58\u7684\u6587\u6863\u8fdb\u884c\u7d22\u5f15\u3002  </li> <li>\u6700\u540e\uff0c\u51fd\u6570\u8fd4\u56de\u5df2\u4fdd\u5b58\u6216\u66f4\u65b0\u7684\u6587\u6863\u5217\u8868<code>documents</code>\u53ca\u6279\u6b21\u53f7<code>batch</code>\u3002</li> </ol> <p>\u5176\u4e2d\u5f02\u6b65\u4efb\u52a1<code>document_indexing_task</code>\u4ee3\u7801\u89c1<code>api/tasks/document_indexing_task.py</code>,\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>@shared_task(queue='dataset')\ndef document_indexing_task(dataset_id: str, document_ids: list):\n    \"\"\"\n    Async process document\n    :param dataset_id:\n    :param document_ids:\n\n    Usage: document_indexing_task.delay(dataset_id, document_id)\n    \"\"\"\n    documents = []\n    start_at = time.perf_counter()\n    for document_id in document_ids:\n        logging.info(click.style('Start process document: {}'.format(document_id), fg='green'))\n\n        document = db.session.query(Document).filter(\n            Document.id == document_id,\n            Document.dataset_id == dataset_id\n        ).first()\n\n        if document:\n            document.indexing_status = 'parsing'\n            document.processing_started_at = datetime.datetime.utcnow()\n            documents.append(document)\n            db.session.add(document)\n    db.session.commit()\n\n    try:\n        indexing_runner = IndexingRunner()\n        indexing_runner.run(documents)\n        end_at = time.perf_counter()\n        logging.info(click.style('Processed dataset: {} latency: {}'.format(dataset_id, end_at - start_at), fg='green'))\n    except DocumentIsPausedException as ex:\n        logging.info(click.style(str(ex), fg='yellow'))\n    except Exception:\n        pass\n</code></pre> <p><code>IndexingRunner</code>\u4ee3\u7801\u89c1<code>api/core/indexing_runner.py</code>\u3002</p> <pre><code>    def run(self, dataset_documents: List[DatasetDocument]):\n        \"\"\"Run the indexing process.\"\"\"\n        for dataset_document in dataset_documents:\n            try:\n                # get dataset\n                dataset = Dataset.query.filter_by(\n                    id=dataset_document.dataset_id\n                ).first()\n\n                if not dataset:\n                    raise ValueError(\"no dataset found\")\n\n                # get the process rule\n                processing_rule = db.session.query(DatasetProcessRule). \\\n                    filter(DatasetProcessRule.id == dataset_document.dataset_process_rule_id). \\\n                    first()\n\n                # load file\n                text_docs = self._load_data(dataset_document, processing_rule.mode == 'automatic')\n\n                # get embedding model instance\n                embedding_model_instance = None\n                if dataset.indexing_technique == 'high_quality':\n                    if dataset.embedding_model_provider:\n                        embedding_model_instance = self.model_manager.get_model_instance(\n                            tenant_id=dataset.tenant_id,\n                            provider=dataset.embedding_model_provider,\n                            model_type=ModelType.TEXT_EMBEDDING,\n                            model=dataset.embedding_model\n                        )\n                    else:\n                        embedding_model_instance = self.model_manager.get_default_model_instance(\n                            tenant_id=dataset.tenant_id,\n                            model_type=ModelType.TEXT_EMBEDDING,\n                        )\n\n                # get splitter\n                splitter = self._get_splitter(processing_rule, embedding_model_instance)\n\n                # split to documents\n                documents = self._step_split(\n                    text_docs=text_docs,\n                    splitter=splitter,\n                    dataset=dataset,\n                    dataset_document=dataset_document,\n                    processing_rule=processing_rule\n                )\n                self._build_index(\n                    dataset=dataset,\n                    dataset_document=dataset_document,\n                    documents=documents\n                )\n            except DocumentIsPausedException:\n                raise DocumentIsPausedException('Document paused, document id: {}'.format(dataset_document.id))\n            except ProviderTokenNotInitError as e:\n                dataset_document.indexing_status = 'error'\n                dataset_document.error = str(e.description)\n                dataset_document.stopped_at = datetime.datetime.utcnow()\n                db.session.commit()\n            except ObjectDeletedError:\n                logging.warning('Document deleted, document id: {}'.format(dataset_document.id))\n            except Exception as e:\n                logging.exception(\"consume document failed\")\n                dataset_document.indexing_status = 'error'\n                dataset_document.error = str(e)\n                dataset_document.stopped_at = datetime.datetime.utcnow()\n                db.session.commit()\n</code></pre> <p>\u9996\u5148\u4f1a\u52a0\u8f7d\u6587\u4ef6\uff0c<code>loader</code>\u7684\u4ee3\u7801\u89c1<code>api/core/data_loader/file_extractor.py</code> ,\u5c06\u6587\u4ef6\u5185\u5bb9\u8bfb\u53d6\u51fa\u6765\uff0c\u8bfb\u53d6\u4e4b\u540e\u8fd4\u56de\u4e00\u4e2a<code>Document</code>\u5217\u8868\uff0c\u8fd9\u4e2a<code>Document</code>\u5bf9\u8c61\u662f<code>Langchain</code>\u91cc\u9762\u7684<code>from langchain.schema import Document</code>\u3002\u7136\u540e\u83b7\u53d6<code>splitter</code>\u5176\u4e2d <code>splitter</code>\u89c1\u6587\u4ef6<code>api/core/spiltter/fixed_text_splitter.py</code>\uff0cDify \u5b9e\u73b0\u4e86\u4e24\u4e2a<code>text_splitter</code>\uff0c<code>EnhanceRecursiveCharacterTextSplitter</code>\u548c<code>FixedRecursiveCharacterTextSplitter</code>\uff0c\u8fd9\u4e24\u4e2a\u90fd\u662f\u7ee7\u627f\u81ea<code>Langchain</code>\u4e2d\u7684<code>RecursiveCharacterTextSplitter</code>\u3002\u7136\u540e\u8c03\u7528<code>_step_split</code>\u65b9\u6cd5\uff0c\u5c06 <code>Document</code>\u7136\u540e<code>processing_rule</code>\u5206\u7247\uff0c\u7136\u540e\u5b58\u50a8\u5230<code>DocumentSegment</code>Model\u5bf9\u5e94\u7684\u8868\u3002\u6700\u540e\u901a\u8fc7<code>_build_index</code>\uff0c\u6765\u5411\u91cf\u5316\uff0c\u5e76\u5b58\u50a8\u5230\u5411\u91cf\u6570\u636e\u5e93\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/03_dify%E5%8A%9F%E8%83%BD%E6%A2%B3%E7%90%86%E5%92%8C%E6%9E%B6%E6%9E%84%E5%9B%BE.html","title":"Dify\u529f\u80fd\u68b3\u7406\u548c\u67b6\u6784\u56fe","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/03_dify%E5%8A%9F%E8%83%BD%E6%A2%B3%E7%90%86%E5%92%8C%E6%9E%B6%E6%9E%84%E5%9B%BE.html#_1","title":"\u529f\u80fd\u68b3\u7406\u56fe","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/03_dify%E5%8A%9F%E8%83%BD%E6%A2%B3%E7%90%86%E5%92%8C%E6%9E%B6%E6%9E%84%E5%9B%BE.html#_2","title":"\u4ea7\u54c1\u67b6\u6784\u56fe","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/03_dify%E5%8A%9F%E8%83%BD%E6%A2%B3%E7%90%86%E5%92%8C%E6%9E%B6%E6%9E%84%E5%9B%BE.html#dify_1","title":"Dify\u5b98\u65b9\u67b6\u6784\u56fe","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/03_dify%E5%8A%9F%E8%83%BD%E6%A2%B3%E7%90%86%E5%92%8C%E6%9E%B6%E6%9E%84%E5%9B%BE.html#dify_model_runtime","title":"dify model runtime","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/03_dify%E5%8A%9F%E8%83%BD%E6%A2%B3%E7%90%86%E5%92%8C%E6%9E%B6%E6%9E%84%E5%9B%BE.html#dify_2","title":"Dify\u6e90\u7801\u68b3\u7406","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/dify/03_dify%E5%8A%9F%E8%83%BD%E6%A2%B3%E7%90%86%E5%92%8C%E6%9E%B6%E6%9E%84%E5%9B%BE.html#_3","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>Dify \u53d1\u5e03\u6700\u65b0\u67b6\u6784\uff0c\u8fdb\u4e00\u6b65\u52a0\u5f3a\u7075\u6d3b\u6027\u3001\u62d3\u5c55\u6027</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html","title":"vllm","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html#_1","title":"\u4ecb\u7ecd","text":"<p>vllm \u662f\u4e00\u4e2a\u62e5\u6709\u9ad8\u541e\u5410\u91cf\u548c\u5185\u5b58\u9ad8\u6548\u7684 LLM \u63a8\u7406\u548c\u670d\u52a1\u5f15\u64ce\u3002</p> <p>vLLM\u7684\u5feb\u901f\u7279\u70b9\u5305\u62ec\uff1a </p> <ul> <li>\u670d\u52a1\u9ad8\u541e\u5410\u91cf</li> <li>\u4f7f\u7528**PagedAttention**\u9ad8\u6548\u7ba1\u7406\u6ce8\u610f\u529b\u952e\u548c\u503c\u5185\u5b58</li> <li>\u6301\u7eed\u6279\u91cf\u5904\u7406\u4f20\u5165\u8bf7\u6c42 </li> <li>\u4f7f\u7528CUDA/HIP\u56fe\u5feb\u901f\u6a21\u578b\u6267\u884c </li> <li>\u91cf\u5316\uff1aGPTQ\u3001AWQ\u3001SqueezeLLM\u3001FP8 KV\u7f13\u5b58 </li> <li>\u4f18\u5316\u7684CUDA\u5185\u6838</li> </ul> <p>vLLM\u7684\u7075\u6d3b\u6027\u548c\u6613\u7528\u6027\u5305\u62ec\uff1a</p> <ul> <li>\u4e0e\u6d41\u884c\u7684Hugging Face\u6a21\u578b\u65e0\u7f1d\u96c6\u6210</li> <li>\u4f7f\u7528\u5404\u79cd\u89e3\u7801\u7b97\u6cd5\u8fdb\u884c\u9ad8\u541e\u5410\u91cf\u670d\u52a1\uff0c\u5305\u62ec*\u5e76\u884c\u91c7\u6837*\u3001*\u675f\u641c\u7d22*\u7b49</li> <li>\u5206\u5e03\u5f0f\u63a8\u7406\u7684\u5f20\u91cf\u5e76\u884c\u6027\u652f\u6301</li> <li>\u6d41\u5f0f\u8f93\u51fa</li> <li>OpenAI\u517c\u5bb9\u7684API\u670d\u52a1</li> <li>\u652f\u6301NVIDIA GPU\u548cAMD GPU</li> <li>\uff08\u5b9e\u9a8c\u6027\uff09\u524d\u7f00\u7f13\u5b58\u652f\u6301</li> <li>\uff08\u5b9e\u9a8c\u6027\uff09\u591aLoRA\u652f\u6301</li> </ul> <p>vLLM\u65e0\u7f1d\u652f\u6301HuggingFace\u4e0a\u7684\u5927\u591a\u6570\u6d41\u884c\u5f00\u6e90\u6a21\u578b\uff0c\u5305\u62ec\uff1a - \u7c7b\u4f3c\u4e8eTransformer\u7684LLM\uff08\u4f8b\u5982\uff0cLlama\uff09 - \u4e13\u5bb6\u6df7\u5408LLM\uff08\u4f8b\u5982\uff0cMixtral\uff09 - \u591a\u6a21\u6001LLM\uff08\u4f8b\u5982\uff0cLLaVA\uff09</p> <p>\u5728\u8fd9\u91cc\u627e\u5230\u652f\u6301\u6a21\u578b\u7684\u5b8c\u6574\u5217\u8868\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html#_2","title":"\u5b89\u88c5","text":"<p>LLM\u662f\u4e00\u4e2aPython\u5e93\uff0c\u8fd8\u5305\u62ec\u9884\u7f16\u8bd1\u7684C++\u548cCUDA(12.1)\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html#requirements","title":"Requirements","text":"<p>OS: Linux Python: 3.8 -- 3.11 GPU: compute capability 7.0 or higher (e.g., V100, T4, RTX20xx, A100, L4, H100, etc.)</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html#pip","title":"\u4f7f\u7528pip\u5b89\u88c5","text":"<p>\u4f7f\u7528pip\u5b89\u88c5\uff1a</p> <pre><code>$ # (Recommended) Create a new conda environment.\n$ conda create -n vllm python=3.10 -y\n$ conda activate vllm\n\n$ # Install vLLM with CUDA 12.1.\n$ pip install vllm\n</code></pre> <p>\u622a\u81f3\u76ee\u524d\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cvLLM \u4f7f\u7528 CUDA 12.1 \u4ee5\u53ca\u516c\u5f00\u7684 PyTorch \u53d1\u884c\u7248\u672c\u7f16\u8bd1\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002</p> <p>\u4e3a\u4e86\u5f97\u5230\u66f4\u597d\u7684\u6027\u80fd\uff0cvLLM \u5fc5\u987b\u7f16\u8bd1\u8bb8\u591a cuda \u5e93\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u7f16\u8bd1\u4f1a\u7ed9\u5176\u4ed6 CUDA \u7248\u672c\u548c PyTorch \u7248\u672c\u5e26\u6765\u4e0d\u517c\u5bb9\u3002\u56e0\u6b64\uff0c\u5efa\u8bae\u4f7f\u7528\u5168\u65b0\u7684 conda \u73af\u5883\u5b89\u88c5 vLLM\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html#_3","title":"\u4f7f\u7528","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cvLLM \u4ece HuggingFace \u4e0b\u8f7d\u6a21\u578b\u3002\u5982\u679c\u60a8\u60f3\u5728\u4ee5\u4e0b\u793a\u4f8b\u4e2d\u4f7f\u7528 ModelScope \u4e2d\u7684\u6a21\u578b\uff0c\u8bf7\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>export VLLM_USE_MODELSCOPE=True\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html#_4","title":"\u79bb\u7ebf\u6279\u91cf\u63a8\u7406","text":"<p>\u6211\u4eec\u9996\u5148\u5c55\u793a\u4e00\u4e2a\u4f7f\u7528 vLLM \u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u79bb\u7ebf\u6279\u91cf\u63a8\u7406\u7684\u793a\u4f8b\u3002</p> <p>\u4ece vLLM \u5bfc\u5165 <code>LLM</code> \u548c <code>SamplingParams</code> \u3002 <code>LLM</code> \u7c7b\u662f\u4f7f\u7528 vLLM \u5f15\u64ce\u8fd0\u884c\u79bb\u7ebf\u63a8\u7406\u7684\u4e3b\u7c7b\u3002 <code>SamplingParams</code> \u7c7b\u6307\u5b9a\u91c7\u6837\u8fc7\u7a0b\u7684\u53c2\u6570\u3002</p> <pre><code>from vllm import LLM, SamplingParams\n</code></pre> <p>\u5b9a\u4e49input\u5217\u8868\u548c\u751f\u6210\u7684\u91c7\u6837\u53c2\u6570\u3002\u91c7\u6837\u6e29\u5ea6\u8bbe\u7f6e\u4e3a0.8\uff0c\u6838\u91c7\u6837\u6982\u7387\u8bbe\u7f6e\u4e3a0.95\u3002\u6709\u5173\u91c7\u6837\u53c2\u6570\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605SamplingParams\u7c7b\u5b9a\u4e49\u3002</p> <pre><code>prompts = [\n    \"Hello, my name is\",\n    \"The president of the United States is\",\n    \"The capital of France is\",\n    \"The future of AI is\",\n]\nsampling_params = SamplingParams(temperature=0.8, top_p=0.95)\n</code></pre> <p>\u4f7f\u7528 <code>LLM</code> \u7c7b\u548c OPT-125M \u6a21\u578b\u521d\u59cb\u5316 vLLM \u7684\u79bb\u7ebf\u63a8\u7406\u5f15\u64ce\u3002</p> <pre><code>llm = LLM(model=\"facebook/opt-125m\")\n</code></pre> <p>\u8c03\u7528 <code>llm.generate</code> \u751f\u6210\u8f93\u51fa\u3002\u5b83\u5c06\u8f93\u5165promtp\u6dfb\u52a0\u5230 vLLM \u5f15\u64ce\u7684\u7b49\u5f85\u961f\u5217\u4e2d\uff0c\u5e76\u6267\u884c vLLM \u5f15\u64ce\u4ee5\u751f\u6210\u9ad8\u541e\u5410\u91cf\u7684\u8f93\u51fa\u3002\u8f93\u51fa\u4f5c\u4e3a <code>RequestOutput</code> \u5bf9\u8c61\u5217\u8868\u8fd4\u56de\uff0c\u5176\u4e2d\u5305\u62ec\u6240\u6709\u8f93\u51fatoken\u3002</p> <pre><code>outputs = llm.generate(prompts, sampling_params)\n\n# Print the outputs.\nfor output in outputs:\n    prompt = output.prompt\n    generated_text = output.outputs[0].text\n    print(f\"Prompt: {prompt!r}, Generated text: {generated_text!r}\")\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html#llmapi_server","title":"\u4e3aLLM\u6784\u5efaAPI Server","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html#openai_api_server","title":"\u542f\u52a8\u517c\u5bb9OpenAI \u7684API Server","text":"<p>vLLM\u53ef\u4ee5\u90e8\u7f72\u4e3a\u5b9e\u73b0OpenAI API\u534f\u8bae\u7684\u670d\u52a1\u5668\u3002\u8fd9\u4f7f\u5f97 vLLM \u53ef\u4ee5\u7528\u4f5c\u4f7f\u7528 OpenAI API \u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u76f4\u63a5\u66ff\u4ee3\u54c1\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u5728 <code>http://localhost:8000</code> \u5904\u542f\u52a8\u670d\u52a1\u5668\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>--host</code> \u548c <code>--port</code> \u53c2\u6570\u6307\u5b9a\u5730\u5740\u3002\u670d\u52a1\u5668\u5f53\u524d\u4e00\u6b21\u6258\u7ba1\u4e00\u4e2a\u6a21\u578b\uff08\u4e0b\u9762\u547d\u4ee4\u4e2d\u7684 OPT-125M\uff09\u5e76\u5b9e\u73b0list models\u3001create chat completion\u548ccreate completion\u63a5\u53e3\u3002</p> <p>\u542f\u52a8\u670d\u52a1</p> <pre><code>$ python -m vllm.entrypoints.openai.api_server --model facebook/opt-125m\n</code></pre> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u670d\u52a1\u5668\u4f7f\u7528\u5b58\u50a8\u5728 tokenizer \u4e2d\u7684\u9884\u5b9a\u4e49\u804a\u5929\u6a21\u677f\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>--chat-template</code> \u53c2\u6570\u8986\u76d6\u6b64\u6a21\u677f\uff1a</p> <pre><code>$ python -m vllm.entrypoints.openai.api_server \\\n$     --model facebook/opt-125m \\\n$     --chat-template ./examples/template_chatml.jinja\n</code></pre> <p>\u8be5\u670d\u52a1\u5668\u53ef\u4ee5\u6309\u7167\u4e0eOpenAI API\u76f8\u540c\u7684\u683c\u5f0f\u8fdb\u884c\u67e5\u8be2\u3002\u53ef\u4ee5\u4f20\u5165\u53c2\u6570 <code>--api-key</code> \u6216\u73af\u5883\u53d8\u91cf <code>VLLM_API_KEY</code> \u4ee5\u4f7f\u670d\u52a1\u5668\u80fd\u591f\u68c0\u67e5headers\u4e2d\u7684 API \u5bc6\u94a5\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html#_5","title":"\u6a21\u578b\u5217\u8868\uff1a","text":"<pre><code>$ curl http://localhost:8000/v1/models\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html#_6","title":"\u751f\u6210\u56de\u7b54","text":"<pre><code>$ curl http://localhost:8000/v1/completions \\\n$     -H \"Content-Type: application/json\" \\\n$     -d '{\n$         \"model\": \"facebook/opt-125m\",\n$         \"prompt\": \"San Francisco is a\",\n$         \"max_tokens\": 7,\n$         \"temperature\": 0\n$     }'\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html#_7","title":"\u5bf9\u8bdd\u63a5\u53e3","text":"<pre><code>$ curl http://localhost:8000/v1/chat/completions \\\n$     -H \"Content-Type: application/json\" \\\n$     -d '{\n$         \"model\": \"facebook/opt-125m\",\n$         \"messages\": [\n$             {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n$             {\"role\": \"user\", \"content\": \"Who won the world series in 2020?\"}\n$         ]\n$     }'\n</code></pre> <p>Python\u5ba2\u6237\u7aef\u4f7f\u7528\u5bf9\u8bdd\u63a5\u53e3\u793a\u4f8b\uff1a</p> <pre><code>from openai import OpenAI\n# Set OpenAI's API key and API base to use vLLM's API server.\nopenai_api_key = \"EMPTY\"\nopenai_api_base = \"http://localhost:8000/v1\"\n\nclient = OpenAI(\n    api_key=openai_api_key,\n    base_url=openai_api_base,\n)\n\nchat_response = client.chat.completions.create(\n    model=\"facebook/opt-125m\",\n    messages=[\n        {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n        {\"role\": \"user\", \"content\": \"Tell me a joke.\"},\n    ]\n)\nprint(\"Chat response:\", chat_response)\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/vllm/vllm%E4%BB%8B%E7%BB%8D.html#openai_api_server_1","title":"openai api server \u53c2\u6570\u8bf4\u660e","text":"<pre><code>vLLM \u517c\u5bb9 OpenAI \u7684 RESTful API \u670d\u52a1\u5668\u3002\n\n\u9009\u9879\uff1a\n  -h, --help           \u663e\u793a\u6b64\u5e2e\u52a9\u4fe1\u606f\u5e76\u9000\u51fa\n  --host HOST          \u4e3b\u673a\u540d\n  --port PORT          \u7aef\u53e3\u53f7\n  --uvicorn-log-level {debug,info,warning,error,critical,trace}\n                       uvicorn \u7684\u65e5\u5fd7\u7ea7\u522b\n  --allow-credentials  \u5141\u8bb8\u51ed\u8bc1\n  --allowed-origins ALLOWED_ORIGINS\n                       \u5141\u8bb8\u7684\u6765\u6e90\n  --allowed-methods ALLOWED_METHODS\n                       \u5141\u8bb8\u7684\u65b9\u6cd5\n  --allowed-headers ALLOWED_HEADERS\n                       \u5141\u8bb8\u7684\u5934\u90e8\n  --api-key API_KEY    \u5982\u679c\u63d0\u4f9b\uff0c\u670d\u52a1\u5668\u5c06\u8981\u6c42\u5728\u6807\u5934\u4e2d\u5448\u73b0\u6b64\u5bc6\u94a5\u3002\n  --lora-modules LORA_MODULES [LORA_MODULES ...]\n                       LoRA \u6a21\u5757\u914d\u7f6e\uff0c\u683c\u5f0f\u4e3a name=path\u3002\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u6a21\u5757\u3002\n  --chat-template CHAT_TEMPLATE\n                       \u804a\u5929\u6a21\u677f\u7684\u6587\u4ef6\u8def\u5f84\uff0c\u6216\u6307\u5b9a\u6a21\u578b\u7684\u5355\u884c\u5f62\u5f0f\u6a21\u677f\n  --response-role RESPONSE_ROLE\n                       \u5982\u679c `request.add_generation_prompt=true`\uff0c\u8fd4\u56de\u7684\u89d2\u8272\u540d\u79f0\u3002\n  --ssl-keyfile SSL_KEYFILE\n                       SSL \u5bc6\u94a5\u6587\u4ef6\u7684\u8def\u5f84\n  --ssl-certfile SSL_CERTFILE\n                       SSL \u8bc1\u4e66\u6587\u4ef6\u7684\u8def\u5f84\n  --ssl-ca-certs SSL_CA_CERTS\n                       \u8bc1\u4e66\u9881\u53d1\u673a\u6784\u7684\u8bc1\u4e66\u6587\u4ef6\n  --ssl-cert-reqs SSL_CERT_REQS\n                       \u662f\u5426\u9700\u8981\u5ba2\u6237\u7aef\u8bc1\u4e66\uff08\u53c2\u89c1 stdlib ssl \u6a21\u5757\uff09\n  --root-path ROOT_PATH\n                       \u5f53\u5e94\u7528\u7a0b\u5e8f\u4f4d\u4e8e\u57fa\u4e8e\u8def\u5f84\u7684\u8def\u7531\u4ee3\u7406\u540e\u9762\u65f6\uff0cFastAPI \u7684 root_path\n  --middleware MIDDLEWARE\n                       \u5e94\u7528\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u989d\u5916 ASGI \u4e2d\u95f4\u4ef6\u3002\u6211\u4eec\u63a5\u53d7\u591a\u4e2a --middleware \u53c2\u6570\u3002\u503c\u5e94\u4e3a\u5bfc\u5165\u8def\u5f84\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u51fd\u6570\uff0cvLLM \u5c06\u4f7f\u7528 @app.middleware('http') \u5c06\u5176\u6dfb\u52a0\u5230\u670d\u52a1\u5668\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7c7b\uff0cvLLM \u5c06\u4f7f\u7528 app.add_middleware() \u5c06\u5176\u6dfb\u52a0\u5230\u670d\u52a1\u5668\u3002\n  --model MODEL        \u8981\u4f7f\u7528\u7684\u5927\u6a21\u578b\u540d\u79f0\u6216\u8def\u5f84\u3002\n  --tokenizer TOKENIZER\n                       \u8981\u4f7f\u7528\u7684\u5206\u8bcd\u5668\u540d\u79f0\u6216\u8def\u5f84\u3002\n  --skip-tokenizer-init\n                       \u8df3\u8fc7\u5206\u8bcd\u5668\u548c\u53bb\u5206\u8bcd\u5668\u521d\u59cb\u5316\n  --revision REVISION  \u8981\u4f7f\u7528\u7684\u7279\u5b9a\u6a21\u578b\u7248\u672c\u3002\u53ef\u4ee5\u662f\u5206\u652f\u540d\u79f0\u3001\u6807\u7b7e\u540d\u79f0\u6216\u63d0\u4ea4 id\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5c06\u4f7f\u7528\u9ed8\u8ba4\u7248\u672c\u3002\n  --code-revision CODE_REVISION\n                       \u8981\u5728 Hugging Face Hub \u4e0a\u4f7f\u7528\u7684\u6a21\u578b\u4ee3\u7801\u7684\u7279\u5b9a\u4fee\u8ba2\u7248\u672c\u3002\u53ef\u4ee5\u662f\u5206\u652f\u540d\u79f0\u3001\u6807\u7b7e\u540d\u79f0\u6216\u63d0\u4ea4 id\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5c06\u4f7f\u7528\u9ed8\u8ba4\u7248\u672c\u3002\n  --tokenizer-revision TOKENIZER_REVISION\n                       \u8981\u4f7f\u7528\u7684\u7279\u5b9a\u5206\u8bcd\u5668\u7248\u672c\u3002\u53ef\u4ee5\u662f\u5206\u652f\u540d\u79f0\u3001\u6807\u7b7e\u540d\u79f0\u6216\u63d0\u4ea4 id\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5c06\u4f7f\u7528\u9ed8\u8ba4\u7248\u672c\u3002\n  --tokenizer-mode {auto,slow}\n                       \u5206\u8bcd\u5668\u6a21\u5f0f\u3002* \"auto\" \u5c06\u4f7f\u7528\u5feb\u901f\u5206\u8bcd\u5668\uff08\u5982\u679c\u53ef\u7528\uff09\u3002* \"slow\" \u5c06\u59cb\u7ec8\u4f7f\u7528\u6162\u901f\u5206\u8bcd\u5668\u3002\n  --trust-remote-code  \u4fe1\u4efb\u6765\u81ea huggingface \u7684\u8fdc\u7a0b\u4ee3\u7801\u3002\n  --download-dir DOWNLOAD_DIR\n                       \u4e0b\u8f7d\u548c\u52a0\u8f7d\u6743\u91cd\u7684\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4e3a huggingface \u7684\u9ed8\u8ba4\u7f13\u5b58\u76ee\u5f55\u3002\n  --load-format {auto,pt,safetensors,npcache,dummy,tensorizer}\n                       \u8981\u52a0\u8f7d\u7684\u6a21\u578b\u6743\u91cd\u683c\u5f0f\u3002* \"auto\" \u5c06\u5c1d\u8bd5\u4ee5 safetensors \u683c\u5f0f\u52a0\u8f7d\u6743\u91cd\uff0c\u5982\u679c safetensors \u683c\u5f0f\u4e0d\u53ef\u7528\uff0c\u5219\u56de\u9000\u5230 pytorch bin \u683c\u5f0f\u3002* \"pt\" \u5c06\u4ee5 pytorch bin \u683c\u5f0f\u52a0\u8f7d\u6743\u91cd\u3002* \"safetensors\" \u5c06\u4ee5 safetensors \u683c\u5f0f\u52a0\u8f7d\u6743\u91cd\u3002* \"npcache\" \u5c06\u4ee5 pytorch \u683c\u5f0f\u52a0\u8f7d\u6743\u91cd\uff0c\u5e76\u5b58\u50a8 numpy \u7f13\u5b58\u4ee5\u52a0\u5feb\u52a0\u8f7d\u901f\u5ea6\u3002* \"dummy\" \u5c06\u4f7f\u7528\u968f\u673a\u503c\u521d\u59cb\u5316\u6743\u91cd\uff0c\u8fd9\u4e3b\u8981\u7528\u4e8e\u5206\u6790\u3002* \"tensorizer\" \u5c06\u4f7f\u7528\u6765\u81ea CoreWeave \u7684 tensorizer \u52a0\u8f7d\u6743\u91cd\uff0c\u8fd9\u5047\u8bbe tensorizer_uri \u88ab\u8bbe\u7f6e\u4e3a\u5e8f\u5217\u5316\u6743\u91cd\u4f4d\u7f6e\u3002\n  --dtype {auto,half,float16,bfloat16,float,float32}\n                       \u6a21\u578b\u6743\u91cd\u548c\u6fc0\u6d3b\u7684\u6570\u636e\u7c7b\u578b\u3002* \"auto\" \u5c06\u5bf9 FP32 \u548c FP16 \u6a21\u578b\u4f7f\u7528 FP16 \u7cbe\u5ea6\uff0c\u5bf9 BF16 \u6a21\u578b\u4f7f\u7528 BF16 \u7cbe\u5ea6\u3002* \"half\" \u7528\u4e8e FP16\u3002\u63a8\u8350\u7528\u4e8e AWQ \u91cf\u5316\u3002* \"float16\" \u4e0e \"half\" \u76f8\u540c\u3002* \"bfloat16\" \u7528\u4e8e\u5e73\u8861\u7cbe\u5ea6\u548c\u8303\u56f4\u3002* \"float\" \u662f FP32 \u7cbe\u5ea6\u7684\u7f29\u5199\u3002* \"float32\" \u7528\u4e8e FP32 \u7cbe\u5ea6\u3002\n  --kv-cache-dtype {auto,fp8}\n                       KV \u7f13\u5b58\u5b58\u50a8\u7684\u6570\u636e\u7c7b\u578b\u3002\u5982\u679c\u4e3a \"auto\"\uff0c\u5c06\u4f7f\u7528\u6a21\u578b\u6570\u636e\u7c7b\u578b\u3002FP8_E5M2\uff08\u65e0\u7f29\u653e\uff09\u4ec5\u5728 cuda \u7248\u672c\u5927\u4e8e 11.8 \u65f6\u652f\u6301\u3002\u5728 ROCm\uff08AMD GPU\uff09\u4e0a\uff0cFP8_E4M3 \u53cd\u800c\u652f\u6301\u5e38\u89c1\u7684\u63a8\u7406\u6807\u51c6\u3002\n  --quantization-param-path QUANTIZATION_PARAM_PATH\n                       \u5305\u542b KV \u7f13\u5b58\u7f29\u653e\u56e0\u5b50\u7684 JSON \u6587\u4ef6\u7684\u8def\u5f84\u3002\u8fd9\u901a\u5e38\u5e94\u8be5\u63d0\u4f9b\uff0c\u5f53 KV \u7f13\u5b58 dtype \u4e3a FP8 \u65f6\u3002\u5426\u5219\uff0cKV \u7f13\u5b58\u7f29\u653e\u56e0\u5b50\u9ed8\u8ba4\u4e3a 1.0\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7cbe\u5ea6\u95ee\u9898\u3002FP8_E5M2\uff08\u65e0\u7f29\u653e\uff09\u4ec5\u5728 cuda \u7248\u672c\u5927\u4e8e 11.8 \u65f6\u652f\u6301\u3002\u5728 ROCm\uff08AMD GPU\uff09\u4e0a\uff0cFP8_E4M3 \u53cd\u800c\u652f\u6301\u5e38\u89c1\u7684\u63a8\u7406\u6807\u51c6\u3002\n  --max-model-len MAX_MODEL_LEN\n                       \u6a21\u578b\u4e0a\u4e0b\u6587\u957f\u5ea6\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5c06\u81ea\u52a8\u4ece\u6a21\u578b\u914d\u7f6e\u4e2d\u6d3e\u751f\u3002\n  --guided-decoding-backend {outlines,lm-format-enforcer}\n                       \u9ed8\u8ba4\u5c06\u4f7f\u7528\u54ea\u4e2a\u5f15\u64ce\u8fdb\u884c\u6307\u5bfc\u89e3\u7801\uff08JSON \u6a21\u5f0f / \u6b63\u5219\u8868\u8fbe\u5f0f\u7b49\uff09\u3002\u76ee\u524d\u652f\u6301 \u548c\n                       \u53ef\u4ee5\u901a\u8fc7\u6bcf\u4e2a\u8bf7\u6c42\u7684 guided_decoding_backend \u53c2\u6570\u8986\u76d6\u3002\n  --worker-use-ray      \u4f7f\u7528 Ray \u8fdb\u884c\u5206\u5e03\u5f0f\u670d\u52a1\uff0c\u5f53\u4f7f\u7528\u591a\u4e8e 1 \u4e2a GPU \u65f6\u5c06\u81ea\u52a8\u8bbe\u7f6e\u3002\n  --pipeline-parallel-size PIPELINE_PARALLEL_SIZE, -pp PIPELINE_PARALLEL_SIZE\n                       \u7ba1\u9053\u9636\u6bb5\u7684\u6570\u76ee\u3002\n  --tensor-parallel-size TENSOR_PARALLEL_SIZE, -tp TENSOR_PARALLEL_SIZE\n                       \u5f20\u91cf\u5e76\u884c\u526f\u672c\u7684\u6570\u91cf\u3002\n  --max-parallel-loading-workers MAX_PARALLEL_LOADING_WORKERS\n                       \u5728\u591a\u4e2a\u6279\u6b21\u4e2d\u987a\u5e8f\u52a0\u8f7d\u6a21\u578b\uff0c\u4ee5\u907f\u514d\u5728\u4f7f\u7528\u5f20\u91cf\u5e76\u884c\u548c\u5927\u6a21\u578b\u65f6\u51fa\u73b0 RAM OOM\u3002\n  --ray-workers-use-nsight\n                       \u5982\u679c\u6307\u5b9a\uff0c\u4f7f\u7528 nsight \u5bf9 Ray \u5de5\u4f5c\u8005\u8fdb\u884c\u6027\u80fd\u5206\u6790\u3002\n  --block-size {8,16,32}\n                       \u7528\u4e8e\u8fde\u7eed\u7684\u6807\u8bb0\u5757\u7684\u6807\u8bb0\u5757\u5927\u5c0f\u3002\n  --enable-prefix-caching\n                       \u542f\u7528\u81ea\u52a8\u524d\u7f00\u7f13\u5b58\u3002\n  --use-v2-block-manager\n                       \u4f7f\u7528 BlockSpaceMangerV2\u3002\n  --num-lookahead-slots NUM_LOOKAHEAD_SLOTS\n                       \u5fc5\u8981\u7684\u5b9e\u9a8c\u6027\u8c03\u5ea6\u914d\u7f6e\uff0c\u7528\u4e8e\u6295\u673a\u6027\u89e3\u7801\u3002\u8fd9\u5c06\u5728\u672a\u6765\u88ab\u6295\u673a\u6027\u914d\u7f6e\u53d6\u4ee3\uff1b\u5728\u6b64\u4e4b\u524d\uff0c\u5b83\u662f\u4e3a\u4e86\u542f\u7528\u6b63\u786e\u6027\u6d4b\u8bd5\u800c\u5b58\u5728\u7684\u3002\n  --seed SEED          \u64cd\u4f5c\u7684\u968f\u673a\u79cd\u5b50\u3002\n  --swap-space SWAP_SPACE\n                       \u6bcf\u4e2a GPU \u7684 CPU \u4ea4\u6362\u7a7a\u95f4\u5927\u5c0f\uff08GiB\uff09\u3002\n  --gpu-memory-utilization GPU_MEMORY_UTILIZATION\n                       \u6a21\u578b\u6267\u884c\u5668\u5c06\u4f7f\u7528\u7684 GPU \u5185\u5b58\u6bd4\u4f8b\uff0c\u8303\u56f4\u4ece 0 \u5230 1\u3002\u4f8b\u5982\uff0c\u503c\u4e3a 0.5 \u8868\u793a 50% \u7684 GPU \u5185\u5b58\u5229\u7528\u7387\u3002\u5982\u679c\n                       \u672a\u6307\u5b9a\uff0c\u5c06\u4f7f\u7528\u9ed8\u8ba4\u503c 0.9\u3002\n  --num-gpu-blocks-override NUM_GPU_BLOCKS_OVERRIDE\n                       \u5982\u679c\u6307\u5b9a\uff0c\u5ffd\u7565 GPU \u5206\u6790\u7ed3\u679c\u5e76\u4f7f\u7528\u8fd9\u4e2a\u6570\u91cf\u7684 GPU \u5757\u3002\u7528\u4e8e\u6d4b\u8bd5\u62a2\u5360\u3002\n  --max-num-batched-tokens MAX_NUM_BATCHED\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/Bash%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"Bash\u63d0\u793a\u8bcd","text":"<pre><code>\u4f60\u662f\u4e00\u4e2a10\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684Linux Bash\u5f00\u53d1\u5de5\u7a0b\u5e08\u3002\n\u7cbe\u901aBash\u7f16\u7a0b\u8bed\u8a00\u548cLinux\u64cd\u4f5c\u7cfb\u7edf\u3002\n\u6211\u4f1a\u544a\u8bc9\u4f60\u6211\u7684\u9700\u6c42\u3002\n\u4f60\u9700\u8981\u7ed9\u6211\u751f\u6210\u5bf9\u5e94\u7684Bash\u4ee3\u7801\u3002\n\u751f\u6210\u7684\u4ee3\u7801\u8981\u8003\u8651\u5065\u58ee\u578b\u548c\u5f02\u5e38\u5904\u7406\u3002\n\u6211\u4f1a\u7ed9\u4f601000\u7f8e\u5143\u5c0f\u8d39\u3002\n\n\u6211\u7684\u9700\u6c42\u662f\uff1a\n\nxxxx\n\n\u8bf7\u9010\u6b65\u601d\u8003\u3002\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/Docker%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"Dockerfile\u63d0\u793a\u8bcd","text":"<pre><code>\u4f60\u662f\u4e00\u4e2a10\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684\u540e\u7aef\u5de5\u7a0b\u5e08\u3002\n\u7cbe\u901aDocker\u548cDocker-compose\u3002\n\u7cbe\u901aPython\u7f16\u7a0b\u8bed\u8a00\u548cWeb\u7f16\u7a0b\u548c\u673a\u5668\u5b66\u4e60\u9886\u57df\u3002\n\u7cbe\u901aBash\u8bed\u6cd5\u548cLinux\u64cd\u4f5c\u7cfb\u7edf\u3002\u7cbe\u901a\u5927\u6a21\u578b\u7406\u8bba\u548c\u5e94\u7528\u3002\n\u6211\u4f1a\u544a\u8bc9\u4f60\u6211\u7684\u9700\u6c42\u3002\n\u4f60\u9700\u8981\u7ed9\u6211\u751f\u6210\u5bf9\u5e94\u7684Dockerfile\u4ee3\u7801\uff0c\u9700\u8981\u52a0\u4e0a\u4e2d\u6587\u7684\u4ee3\u7801\u6ce8\u91ca\u3002\n\u6211\u4f1a\u7ed9\u4f601000\u7f8e\u5143\u5c0f\u8d39\u3002\n\n\n\n\u6211\u7684\u9700\u6c42\u662f\uff1a\n\nxxxx\n\n\u8bf7\u9010\u6b65\u601d\u8003\u3002\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/Docker%E6%8F%90%E7%A4%BA%E8%AF%8D.html#dockerfile_1","title":"\u5206\u6790Dockerfile\u63d0\u793a\u8bcd","text":"<pre><code>role:\n\u4f60\u662f\u4e00\u4e2a10\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684\u540e\u7aef\u5de5\u7a0b\u5e08\u3002\n\u7cbe\u901aDocker\u548cDocker-compose\u3002\n\u7cbe\u901aPython\u7f16\u7a0b\u8bed\u8a00\u548cWeb\u7f16\u7a0b\u548c\u673a\u5668\u5b66\u4e60\u9886\u57df\u3002\n\u7cbe\u901aBash\u8bed\u6cd5\u548cLinux\u64cd\u4f5c\u7cfb\u7edf\u3002\u7cbe\u901a\u5927\u6a21\u578b\u7406\u8bba\u548c\u5e94\u7528\u3002\n\ninstructions:\n- \u4f60\u7684\u4efb\u52a1\u662f\u6839\u636e\u6211\u63d0\u4f9b\u7684Dockerfile\u6587\u4ef6\u5185\u5bb9\uff0c\u5206\u6790\u5176\u4e2d\u6bcf\u4e00\u884c\u7684\u4f5c\u7528\uff0c\u540c\u65f6\u52a0\u4e0a\u4e2d\u6587\u6ce8\u91ca\n- \u6211\u4f1a\u7ed9\u4f601000\u7f8e\u5143\u5c0f\u8d39\u3002\n- \u8bf7\u9010\u6b65\u601d\u8003\u3002\n\nDockerfile\u7684\u5185\u5bb9\u5982\u4e0b\uff1a\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/HyDE%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"HyDE\u63d0\u793a\u8bcd","text":"<pre><code>Please write a passage to answer the question\n{context_str}\nPassage:\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/Python%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"Python\u4ee3\u7801\u63d0\u793a\u8bcd","text":"<pre><code>\u4f60\u662f\u4e00\u4e2a10\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684Python\u5de5\u7a0b\u5e08\u3002\n\u7cbe\u901aPython\u7f16\u7a0b\u8bed\u8a00\u548cWeb\u7f16\u7a0b\u548c\u673a\u5668\u5b66\u4e60\u9886\u57df\u3002\n\ninstructions:\n- \u4f60\u7684\u4efb\u52a1\u662f\u6839\u636e\u6211\u63d0\u4f9b\u7684\u9700\u6c42\u6211\u751f\u6210\u5bf9\u5e94\u7684Python\u4ee3\u7801\u3002 \n- \u751f\u6210\u7684\u4ee3\u7801\u9700\u8981\u52a0\u4e0a\u7c7b\u578b\u63d0\u793a\u548c\u4e2d\u6587\u7684\u4ee3\u7801\u6ce8\u91ca\u3002\n- \u8981\u8fd0\u7528\u7c7b\uff0c\u5e38\u7528\u8bbe\u8ba1\u6a21\u5f0f\u7b49\u3002\n- \u751f\u6210\u7684\u4ee3\u7801\u9700\u8981\u9ad8\u5185\u805a\u4f4e\u8026\u5408\uff0c\u8fd8\u8981\u8003\u8651\u5065\u58ee\u578b\u548c\u5f02\u5e38\u5904\u7406\u3002\n- \u751f\u6210\u7684\u4ee3\u7801\u9700\u8981\u4f7f\u7528logging\u5e93\u6dfb\u52a0debug\uff0cinfo\u7b49\u7ea7\u522b\u7684\u65e5\u5fd7\u4fe1\u606f\u3002\n\n\n\n\u6211\u7684\u9700\u6c42\u662f:\nxxxxx\n\n\u6211\u4f1a\u7ed9\u4f601000\u7f8e\u5143\u5c0f\u8d39\uff0c\u8bf7\u9010\u6b65\u601d\u8003\u3002\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/Python%E6%8F%90%E7%A4%BA%E8%AF%8D.html#pythonbug","title":"\u4fee\u590dPython\u4ee3\u7801\u7684BUG","text":"<pre><code>\u4f60\u662f\u4e00\u4e2a10\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684Python\u5de5\u7a0b\u5e08\u3002\n\u7cbe\u901aPython\u7f16\u7a0b\u8bed\u8a00\u548cWeb\u7f16\u7a0b\u548c\u673a\u5668\u5b66\u4e60\u9886\u57df\u3002\n\ninstructions:\n- \u4f60\u7684\u4efb\u52a1\u662f\u5206\u6790\u63d0\u4f9b\u7684Python\u4ee3\u7801\u7247\u6bb5\uff0c\u8bc6\u522b\u4efb\u4f55\u5b58\u5728\u7684\u9519\u8bef\u6216\u9519\u8bef\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e2a\u4fee\u6b63\u540e\u7684\u4ee3\u7801\u7248\u672c\u6765\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002\n- \u89e3\u91ca\u4f60\u5728\u539f\u59cb\u4ee3\u7801\u4e2d\u53d1\u73b0\u7684\u95ee\u9898\uff0c\u4ee5\u53ca\u4f60\u7684\u4fee\u590d\u65b9\u5f0f\u5982\u4f55\u89e3\u51b3\u5b83\u4eec\u3002\n- \u4fee\u6b63\u540e\u7684\u4ee3\u7801\u5e94\u8be5\u662f\u529f\u80fd\u6027\u7684\u3001\u9ad8\u6548\u7684\uff0c\u5e76\u4e14\u9075\u5b88Python\u7f16\u7a0b\u7684\u6700\u4f73\u5b9e\u8df5\u3002\n\nPython\u4ee3\u7801\u5982\u4e0b\uff1a\n```python\n\n```\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/Python%E6%8F%90%E7%A4%BA%E8%AF%8D.html#python_1","title":"\u4f18\u5316Python\u4ee3\u7801","text":"<pre><code>\u4f60\u662f\u4e00\u4e2a10\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684Python\u5de5\u7a0b\u5e08\u3002\n\u7cbe\u901aPython\u7f16\u7a0b\u8bed\u8a00\u548cWeb\u7f16\u7a0b\u548c\u673a\u5668\u5b66\u4e60\u9886\u57df\u3002\n\ninstructions:\n- \u4f60\u7684\u4efb\u52a1\u662f\u5206\u6790\u63d0\u4f9b\u7684Python\u4ee3\u7801\u7247\u6bb5\uff0c\u5e76\u5efa\u8bae\u6539\u8fdb\u4ee5\u4f18\u5316\u5176\u6027\u80fd\u3002\n- \u8bc6\u522b\u4ee3\u7801\u53ef\u4ee5\u66f4\u6709\u6548\u3001\u66f4\u5feb\u6216\u66f4\u5c11\u8d44\u6e90\u5bc6\u96c6\u7684\u533a\u57df\u3002 \n- \u63d0\u4f9b\u4f18\u5316\u7684\u5177\u4f53\u5efa\u8bae\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u66f4\u6539\u5982\u4f55\u63d0\u9ad8\u4ee3\u7801\u6027\u80fd\u7684\u89e3\u91ca\u3002\n- \u4f18\u5316\u540e\u7684\u4ee3\u7801\u5e94\u4fdd\u6301\u4e0e\u539f\u59cb\u4ee3\u7801\u76f8\u540c\u7684\u529f\u80fd\uff0c\u540c\u65f6\u663e\u793a\u51fa\u66f4\u9ad8\u7684\u6548\u7387\u3002\n- \u4fee\u6b63\u540e\u7684\u4ee3\u7801\u5e94\u8be5\u662f\u529f\u80fd\u6027\u7684\u3001\u9ad8\u6548\u7684\uff0c\u5e76\u4e14\u9075\u5b88Python\u7f16\u7a0b\u7684\u6700\u4f73\u5b9e\u8df5\u3002\n\nPython\u4ee3\u7801\u5982\u4e0b\uff1a\n```python\n\n```\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/Python%E6%8F%90%E7%A4%BA%E8%AF%8D.html#python_2","title":"\u751f\u6210\u6d4b\u8bd5Python\u4ee3\u7801","text":"<pre><code>\u4f60\u662f\u4e00\u4e2a10\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684Python\u5de5\u7a0b\u5e08\u3002\n\u7cbe\u901aPython\u7f16\u7a0b\u8bed\u8a00\u548cWeb\u7f16\u7a0b\u548c\u673a\u5668\u5b66\u4e60\u9886\u57df\u3002\n\ninstructions:\n- \u4f60\u7684\u4efb\u52a1\u662f\u5206\u6790\u63d0\u4f9b\u7684Python\u4ee3\u7801\u7247\u6bb5\uff0c\u5e76\u4f7f\u7528pytest\u5e93\u751f\u6210\u6d4b\u8bd5\u4ee3\u7801\u3002\n- \u4f7f\u7528\u767d\u76d2\u6d4b\u8bd5\u65b9\u6cd5\u3002\n- \u751f\u6210\u7684\u6d4b\u8bd5\u4ee3\u7801\u8981\u5305\u542b\u8fd0\u884c\u6210\u529f\u7684\u6837\u4f8b\u548c\u8fd0\u884c\u5931\u8d25\u7684\u60c5\u51b5\uff0c\u6bcf\u79cd\u60c5\u51b5\u81f3\u5c112\u4e2a\u6837\u4f8b\u3002  \n- \u6bcf\u6761\u8bed\u53e5\u81f3\u5c11\u6267\u884c\u4e00\u6b21\u3002\n- \u6bcf\u4e2a\u5224\u5b9a\u7684\u6bcf\u4e2a\u5206\u652f\u81f3\u5c11\u6267\u884c\u4e00\u6b21\u3002\n- \u6bcf\u4e2a\u5224\u5b9a\u7684\u6bcf\u4e2a\u6761\u4ef6\u5e94\u53d6\u5230\u5404\u79cd\u53ef\u80fd\u7684\u503c\u3002\n- \u540c\u65f6\u6ee1\u8db3\u5224\u5b9a\u8986\u76d6\u6761\u4ef6\u8986\u76d6\u3002\n- \u4e00\u4e2a\u6a21\u5757\u4e2d\u7684\u6240\u6709\u72ec\u7acb\u8def\u5f84\u81f3\u5c11\u88ab\u6d4b\u8bd5\u4e00\u6b21\u3002\n- \u6240\u6709\u903b\u8f91\u503c\u5747\u9700\u6d4b\u8bd5true\u548cfalse\u4e24\u79cd\u60c5\u51b5\u3002\n- \u68c0\u67e5\u7a0b\u5e8f\u7684\u5185\u90e8\u6570\u636e\u7ed3\u6784\uff0c\u4fdd\u8bc1\u5176\u7ed3\u6784\u7684\u6709\u6548\u6027\u3002\n\nPython\u4ee3\u7801\u5982\u4e0b\uff1a\n```python\n\n```\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/RAG%E4%B8%8A%E4%B8%8B%E6%96%87%E9%97%AE%E7%AD%94%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"RAG\u4e0a\u4e0b\u6587\u95ee\u7b54\u63d0\u793a\u8bcd","text":"<pre><code>\u4f60\u662f\u4e00\u4e2a\u4e50\u4e8e\u52a9\u4eba\u3001\u5c0a\u91cd\u548c\u8bda\u5b9e\u7684AI \u52a9\u624b\uff0c\u540d\u53eb\u667a\u80fd\u95ee\u7b54\u52a9\u624b\uff0c\u4f60\u6b63\u5728\u4e0e\u4eba\u7c7b\uff08\u7528\u6237\uff09\u4ea4\u8c08\u3002\u4f60\u7531 xxx \u7b97\u6cd5\u56e2\u961f\u8bad\u7ec3\uff0c\u4e0e GPT \u6216 OpenAI \u65e0\u5173\u3002\u4f60\u64c5\u957f\u4ece\u5df2\u77e5\u4fe1\u606f\u4e2d\u68c0\u7d22\u7b54\u6848\u7ed9\u7528\u6237\uff0c\u4f60\u77e5\u8bc6\u4fe1\u606f\u7684\u642c\u8fd0\u5de5\u800c\u4e0d\u662f\u521b\u9020\u8005\u3002\n&lt;instrutions&gt;\n1.\u4f60\u7684\u4efb\u52a1\u662f\u57fa\u4e8e&lt;context&gt;&lt;/&lt;context&gt;\u6807\u7b7e\u4e2d\u7684\u4e0a\u4e0b\u6587\u5185\u5bb9\u56de\u7b54&lt;question&gt;&lt;/question&gt;\u6807\u7b7e\u4e2d\u7684\u95ee\u9898\u3002\n2.&lt;context&gt;&lt;/context&gt;\u7684\u4e0a\u4e0b\u6587\u6709\u591a\u4e2a\"-\"\u5305\u88f9\u7684\u6bb5\u843d\uff0c\u8bf7\u6839\u636e\u95ee\u9898\uff0c\u4ece\u8fd9\u4e9b\u6bb5\u843d\u4e2d\u9009\u62e9\u6700\u5408\u9002\u7684\u6bb5\u843d\u4f5c\u4e3a\u7b54\u6848\uff0c\u8bf7\u6309\u7167 Markdown \u683c\u5f0f\u89e3\u6790\u5df2\u77e5\u4fe1\u606f\u3002\n3.\u56de\u7b54\u5fc5\u987b\u4f7f\u7528\u539f\u59cb\u8bed\u8a00\uff0c\u5e76\u4e14\u7981\u6b62\u4fee\u6539\u539f\u59cb\u6587\u672c\u3002\n4.\u5982\u679c\u65e0\u6cd5\u4ece\u4e2d\u5f97\u5230\u7b54\u6848\uff0c\u8bf7\u8bf4\u201c\u6839\u636e\u5df2\u77e5\u4fe1\u606f\u65e0\u6cd5\u56de\u7b54\u8be5\u95ee\u9898\u201d\uff0c\u8bf7\u4f7f\u7528\u4e2d\u6587\u4f5c\u4e3a\u7b54\u6848\u3002\n5.\u5982\u679c\u4f60\u80fd\u76f4\u63a5\u7ed9\u51fa\u7b54\u6848\uff0c\u76f4\u63a5\u7ed9\u51fa\u6700\u7ec8\u7ed3\u679c\uff0c\u4e0d\u8981\u7ed9\u51fa\u601d\u8003\u8fc7\u7a0b\u3002\n&lt;/instrutions&gt;\n\u4f60\u6709\u5982\u4e0b\u793a\u4f8b\u53c2\u8003\uff1a\n&lt;example&gt;\n&lt;context&gt;\n-----------------------------------------------------------------------------------------------------\n\u8fd9\u662f\u6837\u4f8b\u4e2d\u7684\u4e0a\u4e0b\u6587\n-----------------------------------------------------------------------------------------------------\n&lt;/context&gt;\n&lt;question&gt;\u8fd9\u662f\u6837\u4f8b\u4e2d\u7684\u95ee\u9898&lt;/question&gt;\nanswer:\n\u8fd9\u662f\u6837\u4f8b\u4e2d\u7684\u56de\u7b54\n&lt;/example&gt;\n\u4ee5\u4e0b\u662f\u4e0a\u4e0b\u6587\u4fe1\u606f\uff1a\n&lt;context&gt;\n----------------------------------------------------------------------------------------------------\n\u7b2c\u4e00\u4e2a\u4e0a\u4e0b\u6587\n----------------------------------------------------------------------------------------------------\n\u7b2c\u4e8c\u4e2a\u4e0a\u4e0b\u6587\n----------------------------------------------------------------------------------------------------\n\u7b2c3\u4e2a\u4e0a\u4e0b\u6587\n----------------------------------------------------------------------------------------------------\n&lt;/context&gt;\n\u4ee5\u4e0b\u662f\u95ee\u9898\u4fe1\u606f\uff1a\n&lt;question&gt;\u7528\u6237\u95ee\u9898\u4fe1\u606f&lt;/question&gt;\nanswer:\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/RAG%E8%AF%84%E4%BC%B0%E6%A0%B9%E6%8D%AEnode%E7%94%9F%E6%88%90%E9%97%AE%E9%A2%98%E7%9A%84%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"RAG\u8bc4\u4f30\u751f\u6210\u95ee\u9898\u63d0\u793a\u8bcd","text":"<pre><code>\u4f60\u662f\u4e00\u4f4d\u6280\u672f\u4fdd\u969c\u4e2d\u5fc3\u7684\u8fd0\u7ef4\u4e13\u5bb6\uff0c\u4f60\u7684\u4efb\u52a1\u662f\u6839\u636e\u4e0a\u4e0b\u6587\u4fe1\u606f\u751f\u6210{num_questions_per_chunk}\u4e2a\u516c\u53f8\u5458\u5de5\u5de5\u4f5c\u4e2d\u53ef\u80fd\u8be2\u95ee\u7684\u95ee\u9898\u3002\n\u4e0a\u4e0b\u6587\u4fe1\u606f\u5728&lt;p&gt;\u6807\u7b7e\u4e2d\uff0c\u4e0a\u4e0b\u6587\u4fe1\u606f\u683c\u5f0f\u4e3aMarkdown\u683c\u5f0f\uff0c\u4f60\u9700\u8981\u6309\u7167Markdown\u683c\u5f0f\u89e3\u6790\uff0c\u4e0a\u4e0b\u6587\u4fe1\u606f\u5185\u5bb9\u4e3b\u8981xxxxx\u4fdd\u969c\u4e2d\u5fc3\u6574\u7406\u7684\u6587\u6863\u3002\n\u4f60\u5e94\u8be5\u4e25\u683c\u57fa\u4e8e\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u6df1\u5165\u7406\u89e3\u4e0a\u8ff0\u7ed9\u5b9a\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u800c\u4e0d\u662f\u4f60\u7684\u5148\u9a8c\u77e5\u8bc6\uff0c\u6765\u8bbe\u7f6e\u591a\u79cd\u591a\u6837\u7684\u95ee\u9898\u3002\n\u95ee\u9898\u7c7b\u578b\u9700\u8981\u8d34\u8fd1\u5458\u5de5\u65e5\u5e38\u4f7f\u7528\u4e60\u60ef\uff1a1.\u95ee\u9898\u5e94\u8be5\u6bd4\u8f83\u7b80\u77ed\uff0c2.\u5927\u5199\u5355\u8bcd\u53ef\u4ee5\u8f6c\u6362\u6210\u5c0f\u5199\u3002\n\u4f60\u8bbe\u7f6e\u7684\u95ee\u9898\u4e0d\u8981\u5305\u542b\u9009\u9879\uff0c\u4e5f\u4e0d\u8981\u4ee5\u201c\u95ee\u98981\u201d\u6216\u201c\u95ee\u98982\u201d\u4e3a\u5f00\u5934\uff0c\u4e5f\u4e0d\u8981\u8f93\u51fa\u95ee\u9898\u7684\u5e8f\u53f7\uff0c\u76f4\u63a5\u8f93\u51fa\u751f\u6210\u7684\u95ee\u9898\u3002\n\u5c06\u95ee\u9898\u9650\u5236\u5728\u6240\u63d0\u4f9b\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u4e2d\u3002\n\u751f\u6210\u95ee\u9898\u7684\u7c7b\u578b\u548c\u683c\u5f0f\u53ef\u4ee5\u53c2\u8003\u4e0b\u9762\u7684\u6837\u4f8b\u3002\n\n\u4ee5\u4e0b\u662f\u6837\u4f8b\u4fe1\u606f\u3002\n&lt;example&gt;\n\u4ee5\u4e0b\u662f\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002\n\n---------------------\n&lt;p&gt;\n\u8fd9\u662f\u6837\u4f8b\u4e2d\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\n---------------------\n\u56de\u7b54:\n\u8fd9\u662f\u751f\u6210\u7684\u95ee\u98981\u3002\n\u8fd9\u662f\u751f\u6210\u7684\u95ee\u98982\u3002\n\u8fd9\u662f\u751f\u6210\u7684\u95ee\u98983\u3002\n\u8fd9\u662f\u751f\u6210\u7684\u95ee\u98984\u3002\n\u8fd9\u662f\u751f\u6210\u7684\u95ee\u98985\u3002\n\n&lt;example&gt;\n\n\u4ee5\u4e0b\u662f\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002\n\n---------------------\n&lt;p&gt;\n{context_str}\n&lt;/p&gt;\n---------------------\n\u56de\u7b54:\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/pytest%E6%B5%8B%E8%AF%95%E8%84%9A%E6%9C%AC%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"\u751f\u6210Pytest\u6d4b\u8bd5\u811a\u672c\u63d0\u793a\u8bcd","text":"<pre><code>&lt;prompt_explanation&gt;\n\u4f60\u4f5c\u4e3a\u4e00\u540d\u4e13\u5bb6\u7ea7\u8f6f\u4ef6\u6d4b\u8bd5\u5458\uff0c\u7cbe\u901aPython\u7f16\u7a0b\u8bed\u8a00\u3002\u8d1f\u8d23\u5bf9\u6307\u5b9a\u7684\u4ee3\u7801\u7247\u6bb5\u8fdb\u884c\u5f7b\u5e95\u6d4b\u8bd5\u3002\u4f60\u7684\u76ee\u6807\u662f\u521b\u5efa\u4e00\u5957\u5168\u9762\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u901a\u8fc7\u8fd9\u4e9b\u7528\u4f8b\u6267\u884c\u4ee3\u7801\uff0c\u53d1\u73b0\u4efb\u4f55\u53ef\u80fd\u7684\u6f0f\u6d1e\u6216\u95ee\u9898\u3002\n\n\u9996\u5148\uff0c\u7ec6\u81f4\u5730\u5206\u6790\u63d0\u4f9b\u7684\u4ee3\u7801\u3002\u5f04\u6e05\u695a\u5b83\u7684\u4f5c\u7528\u3001\u8f93\u5165\u3001\u8f93\u51fa\u53ca\u4efb\u4f55\u6838\u5fc3\u903b\u8f91\u6216\u8fd0\u7b97\u3002\u6df1\u5165\u601d\u8003\u6240\u6709\u53ef\u80fd\u9700\u8981\u6d4b\u8bd5\u7684\u4e0d\u540c\u573a\u666f\u548c\u8fb9\u7f18\u6848\u4f8b\u3002\n\n\u7136\u540e\uff0c\u5934\u8111\u98ce\u66b4\uff0c\u5217\u51fa\u4e00\u7cfb\u5217\u4f60\u8ba4\u4e3a\u5fc5\u987b\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u4ee5\u5f7b\u5e95\u9a8c\u8bc1\u4ee3\u7801\u7684\u51c6\u786e\u6027\u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5728\u8868\u683c\u4e2d\u660e\u786e\u4ee5\u4e0b\u4fe1\u606f\uff1a\n\n- \u76ee\u7684\uff1a\u6d4b\u8bd5\u7528\u4f8b\u7684\u76ee\u6807\n- \u8f93\u5165\uff1a\u5177\u4f53\u9700\u8981\u63d0\u4f9b\u7684\u8f93\u5165\n- \u9884\u671f\u8f93\u51fa\uff1a\u5bf9\u4e8e\u7ed9\u5b9a\u7684\u8f93\u5165\uff0c\u4ee3\u7801\u5e94\u4ea7\u51fa\u7684\u7ed3\u679c\n- \u6d4b\u8bd5\u7c7b\u578b\uff1a\u6d4b\u8bd5\u7684\u5206\u7c7b\uff08\u6bd4\u5982\uff0c\u6b63\u5411\u6d4b\u8bd5\u3001\u53cd\u5411\u6d4b\u8bd5\u3001\u8fb9\u754c\u6848\u4f8b\u7b49\uff09\n\n\u5728\u4ee5\u8868\u683c\u5f62\u5f0f\u8be6\u7ec6\u5217\u51fa\u6240\u6709\u6d4b\u8bd5\u7528\u4f8b\u4e4b\u540e\uff0c\u4f7f\u7528Pytest\u5e93\u9488\u5bf9\u6bcf\u4e2a\u6848\u4f8b\u7f16\u5199\u5177\u4f53\u7684\u6d4b\u8bd5\u4ee3\u7801\u3002\u786e\u4fdd\u6d4b\u8bd5\u4ee3\u7801\u9075\u5faa\u4ee5\u4e0b\u6d41\u7a0b\uff1a\n\n1. \u51c6\u5907\uff1a\u8bbe\u7f6e\u5fc5\u8981\u7684\u524d\u7f6e\u6761\u4ef6\u548c\u8f93\u5165\n2. \u6267\u884c\uff1a\u8fd0\u884c\u5f85\u6d4b\u4ee3\u7801\n3. \u9a8c\u8bc1\uff1a\u786e\u4fdd\u5b9e\u9645\u8f93\u51fa\u4e0e\u671f\u671b\u8f93\u51fa\u4e00\u81f4\n\n\u5bf9\u4e8e\u6bcf\u9879\u6d4b\u8bd5\uff0c\u90fd\u5e94\u6e05\u6670\u6ce8\u91ca\u8bf4\u660e\u6d4b\u8bd5\u7684\u5185\u5bb9\u53ca\u5176\u91cd\u8981\u6027\u3002\n\n\u5b8c\u6210\u6240\u6709\u5355\u72ec\u6d4b\u8bd5\u7528\u4f8b\u7684\u7f16\u5199\u540e\uff0c\u8fdb\u884c\u590d\u67e5\uff0c\u786e\u4fdd\u5b83\u4eec\u5168\u9762\u8986\u76d6\u4e86\u6240\u6709\u573a\u666f\u3002\u601d\u8003\u662f\u5426\u8fd8\u9700\u8981\u6dfb\u52a0\u989d\u5916\u7684\u6d4b\u8bd5\u4ee5\u786e\u4fdd\u5168\u9762\u6027\u3002\n\n\u6700\u540e\uff0c\u603b\u7ed3\u6d4b\u8bd5\u8986\u76d6\u8303\u56f4\n\n\u53ca\u901a\u8fc7\u8fd9\u6b21\u6d4b\u8bd5\u8ba1\u5212\u6d3b\u52a8\u83b7\u5f97\u7684\u6d1e\u89c1\u3002\n&lt;/prompt_explanation&gt;\n\n&lt;response_format&gt;\n&lt;code_analysis_section&gt;\n\n&lt;header&gt;\u4ee3\u7801\u5206\u6790\uff1a&lt;/header&gt;\n&lt;analysis&gt;$code_analysis&lt;/analysis&gt;\n&lt;/code_analysis_section&gt;\n\n&lt;test_cases_section&gt;\n\n&lt;header&gt;\u6d4b\u8bd5\u6848\u4f8b\uff1a&lt;/header&gt;\n&lt;table&gt;\n&lt;header_row&gt;\n&lt;column1&gt;\u76ee\u7684&lt;/column1&gt;\n&lt;column2&gt;\u8f93\u5165&lt;/column2&gt;\n&lt;column3&gt;\u9884\u671f\u8f93\u51fa&lt;/column3&gt;\n&lt;column4&gt;\u6d4b\u8bd5\u7c7b\u578b&lt;/column4&gt;\n&lt;/header_row&gt;\n$test_case_table\n&lt;/table&gt;\n&lt;/test_cases_section&gt;\n\n&lt;test_code_section&gt;\n\n&lt;header&gt;\u6d4b\u8bd5\u4ee3\u7801\uff1a&lt;/header&gt;\n$test_code\n&lt;/test_code_section&gt;\n\n&lt;test_review_section&gt;\n\n&lt;header&gt;\u6d4b\u8bd5\u56de\u987e\uff1a&lt;/header&gt;\n&lt;review&gt;$test_review&lt;/review&gt;\n&lt;/test_review_section&gt;\n\n&lt;coverage_summary_section&gt;\n\n&lt;header&gt;\u6d4b\u8bd5\u8986\u76d6\u6982\u8981\uff1a&lt;/header&gt;\n&lt;summary&gt;$coverage_summary&lt;/summary&gt;\n&lt;insights&gt;$insights&lt;/insights&gt;\n&lt;/coverage_summary_section&gt;\n&lt;/response_format&gt;\n\n\u4ee5\u4e0b\u662f\u4f60\u9700\u8981\u4e3a\u5176\u751f\u6210\u6d4b\u8bd5\u7528\u4f8b\u7684\u4ee3\u7801\uff1a\n&lt;code&gt;\n```python\n\n```\n&lt;/code&gt;\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E5%A4%9A%E8%BD%AE%E5%AF%B9%E8%AF%9D%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"\u591a\u8f6e\u5bf9\u8bdd\u63d0\u793a\u8bcd","text":"<p>\u6d41\u7a0b\u56fe\u5982\u4e0b\uff1a </p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E5%A4%9A%E8%BD%AE%E5%AF%B9%E8%AF%9D%E6%8F%90%E7%A4%BA%E8%AF%8D.html#_2","title":"\u7b2c\u4e00\u6b65","text":"<p>\u7ed3\u5408\u5386\u53f2\u4fe1\u606f\u8bc6\u522b\u7528\u6237\u8f93\u5165\u7684\u573a\u666f\u548c\u5f53\u524d\u573a\u666f\u662f\u5426\u76f8\u5173\uff0c\u63d0\u793a\u8bcd\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>\u5224\u65ad\u5f53\u524d\u7528\u6237\u8f93\u5165\u5185\u5bb9\u4e0e\u5f53\u524d\u5bf9\u8bdd\u573a\u666f\u7684\u5173\u8054\u6027\uff0c\u5386\u53f2\u5bf9\u8bdd\u8bb0\u5f55\u4e2d\u7684\u4fe1\u606f\u4ec5\u4f9b\u53c2\u8003\uff0c\u6709\u53ef\u80fd\u8ddf\u5f53\u524d\u573a\u666f\u65e0\u5173\uff0c\u5982\u679c\u5386\u53f2\u4fe1\u606f\u4e2d\u8ddf\u5f53\u524d\u8f93\u5165\u65e0\u5173\u7684\u5c31\u5ffd\u7565\u6389\u5386\u53f2\u4fe1\u606f:\n\n\u5f53\u524d\u5bf9\u8bdd\u573a\u666f: \u8ba2\u9152\u5e97\u7684\u670d\u52a1\n\n\u5386\u53f2\u5bf9\u8bdd\u8bb0\u5f55\uff1a\n\u95ee\u9898: \u540e\u5929\u5929\u6c14\u600e\u4e48\u6837 \u56de\u7b54\uff1a\u8bf7\u95ee\u60a8\u60f3\u67e5\u8be2\u54ea\u4e2a\u57ce\u5e02\u7684\u5929\u6c14\u5462\uff1f\n\u95ee\u9898\uff1a\u91cd\u5e86 \u56de\u7b54\uff1a\u91cd\u5e862024-6-14\u53f7\u5929\u6c14\u4e3a\u6674\u5929\u3002\n\u95ee\u9898\uff1a\u9884\u5b9a\u91cd\u5e86\u660e\u665a\u5230\u540e\u5929\u7684\u9152\u5e97  \u56de\u7b54\uff1a\u8bf7\u95ee\u60a8\u503e\u5411\u4e8e\u5165\u4f4f\u4ec0\u4e48\u6863\u6b21\u7684\u9152\u5e97\uff1f\u6bd4\u5982\u8c6a\u534e\u3001\u7ecf\u6d4e\u7b49\u3002\n\n\u5f53\u524d\u7528\u6237\u8f93\u5165: \u7ecf\u6d4e\u578b\n\n\u8fd9\u4e24\u6b21\u8f93\u5165\u662f\u5426\u5173\u8054\uff08\u4ec5\u7528\u5c0f\u6570\u56de\u7b54\u5173\u8054\u5ea6\uff0c\u5f97\u5206\u8303\u56f40.0\u81f31.0\uff09\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E5%A4%9A%E8%BD%AE%E5%AF%B9%E8%AF%9D%E6%8F%90%E7%A4%BA%E8%AF%8D.html#_3","title":"\u7b2c\u4e8c\u6b65","text":""},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E5%A4%9A%E8%BD%AE%E5%AF%B9%E8%AF%9D%E6%8F%90%E7%A4%BA%E8%AF%8D.html#_4","title":"\u573a\u666f\u4e0d\u76f8\u5173","text":"<p>\u5982\u679c\u7528\u6237\u8f93\u5165\u548c\u5f53\u524d\u573a\u666f\u4e0d\u76f8\u5173\uff0c\u5c31\u5168\u5c40\u8bc6\u522b\u610f\u56fe\uff0c\u63d0\u793a\u8bcd\u5982\u4e0b\uff1a</p> <pre><code>\u6709\u4e0b\u9762\u591a\u79cd\u573a\u666f\uff0c\u9700\u8981\u4f60\u6839\u636e\u7528\u6237\u8f93\u5165\u8fdb\u884c\u5224\u65ad\uff0c\u53ea\u7b54\u9009\u9879\n1. \u5929\u6c14\u4fe1\u606f\u67e5\u8be2\u670d\u52a1 - \u8bf7\u56de\u590d1\n2. \u8ba2\u9152\u5e97\u7684\u670d\u52a1 - \u8bf7\u56de\u590d2\n3. \u516c\u79ef\u91d1\u54a8\u8be2 - \u8bf7\u56de\u590d3\n4. \u7f16\u5236\u516c\u6587\u901a\u77e5 - \u8bf7\u56de\u590d4\n0. \u5176\u4ed6\u573a\u666f - \u8bf7\u56de\u590d0\n\u7528\u6237\u8f93\u5165\uff1a\u540e\u5929\u5929\u6c14\u600e\u4e48\u6837\n\u8bf7\u56de\u590d\u5e8f\u53f7\uff1a\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E5%A4%9A%E8%BD%AE%E5%AF%B9%E8%AF%9D%E6%8F%90%E7%A4%BA%E8%AF%8D.html#_5","title":"\u573a\u666f\u76f8\u5173","text":"<p>\u5982\u679c\u7528\u6237\u8f93\u5165\u548c\u5f53\u524d\u573a\u666f\u76f8\u5173\u5c31\u63d0\u53d6\u573a\u666f\u4fe1\u606f\uff0c\u66f4\u65b0slot.</p> <p>\u63d0\u53d6slot\u4fe1\u606f\uff0c\u63d0\u793a\u8bcd\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>\u4f60\u662f\u4e00\u4e2a\u4fe1\u606f\u62bd\u53d6\u673a\u5668\u4eba\u3002\n\u5f53\u524d\u95ee\u7b54\u573a\u666f\u662f\uff1a\u3010\u95ee\u5929\u6c14\u3011\n\u5f53\u524d\u65e5\u671f\u662f\uff1a2024-06-12\n\nJSON\u4e2d\u6bcf\u4e2a\u5143\u7d20\u4ee3\u8868\u4e00\u4e2a\u53c2\u6570\u4fe1\u606f\uff1a\n'''\nname\u662f\u53c2\u6570\u540d\u79f0\ndesc\u662f\u53c2\u6570\u6ce8\u91ca\uff0c\u53ef\u4ee5\u505a\u4e3a\u53c2\u6570\u4fe1\u606f\u7684\u8865\u5145\n'''\n\n\u9700\u6c42\uff1a\n#01 \u6839\u636e\u7528\u6237\u8f93\u5165\u5185\u5bb9\u63d0\u53d6\u6709\u7528\u7684\u4fe1\u606f\u5230value\u503c\uff0c\u4e25\u683c\u63d0\u53d6\uff0c\u6ca1\u6709\u63d0\u53ca\u5c31\u4e22\u5f03\u8be5\u5143\u7d20\n#02 \u8fd4\u56deJSON\u7ed3\u679c\uff0c\u53ea\u9700\u8981name\u548cvalue\n\n\u8fd4\u56de\u6837\u4f8b\uff1a\n/```\nJSON\uff1a[{'name': 'date', 'desc': '\u67e5\u5929\u6c14\u7684\u5177\u4f53\u65e5\u671f\u3002\u65f6\u95f4\u683c\u5f0f\uff1ayyyy-MM-dd', 'value': ''}]\n\u8f93\u5165\uff1a\u6211\u60f3\u898123\u5e745\u67081\u65e5\u7684\u5929\u6c14\n\u7b54\uff1a{'name': 'date', 'value': '2023-05-01'}\n/```\n</code></pre> <p>\u5411\u7528\u6237\u8be2\u95ee\u9700\u8981\u8865\u5145\u7684slot\u4fe1\u606f\uff0c\u63d0\u793a\u8bcd\u5982\u4e0b\uff1a</p> <pre><code>\u4f60\u662f\u4e00\u4e2a\u4e13\u4e1a\u7684\u5ba2\u670d\u3002\n\u5f53\u524d\u95ee\u7b54\u573a\u666f\u662f\uff1a\u3010\u95ee\u5929\u6c14\u3011\n\nJSON\u4e2d\u6bcf\u4e2a\u5143\u7d20\u4ee3\u8868\u4e00\u4e2a\u53c2\u6570\u4fe1\u606f\uff1a\n'''\nname\u8868\u793a\u53c2\u6570\u540d\u79f0\ndesc\u8868\u793a\u53c2\u6570\u7684\u63cf\u8ff0\uff0c\u4f60\u8981\u6839\u636e\u63cf\u8ff0\u5f15\u5bfc\u7528\u6237\u8865\u5145\u53c2\u6570value\u503c\n'''\n\n\u9700\u6c42\uff1a\n#01 \u4e00\u6b21\u6700\u591a\u53ea\u5411\u7528\u6237\u95ee\u4e24\u4e2a\u53c2\u6570\n#02 \u56de\u7b54\u4ee5\"\u8bf7\u95ee\"\u5f00\u5934\n\nJSON\uff1a[{\"name\": \"location\", \"desc\": \"\u67e5\u5929\u6c14\u7684\u57ce\u5e02\u6216\u5730\u70b9\", \"value\": \"\"}]\n\u5411\u7528\u6237\u63d0\u95ee\uff1a\n</code></pre> <p>\u91cd\u590d\u4e0a\u9762\u7684\u64cd\u4f5c\u76f4\u5230\u6240\u6709\u7684slot\u90fd\u63d0\u53d6\u5230\u4e86\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E5%A4%9A%E8%BD%AE%E5%AF%B9%E8%AF%9D%E6%8F%90%E7%A4%BA%E8%AF%8D.html#_6","title":"\u7b2c\u4e09\u6b65","text":"<p>\u5f53\u6240\u6709\u7684slot\u90fd\u63d0\u53d6\u5230\u4e86\uff0c\u8c03\u7528\u5927\u6a21\u578b\uff0c\u5916\u90e8\u5de5\u5177\uff0c\u6570\u636e\u5e93\u67e5\u8be2\u7b49\u5b9e\u73b0\u5bf9\u5e94\u573a\u666f\u7684\u529f\u80fd\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E5%A4%9A%E8%BD%AE%E5%AF%B9%E8%AF%9D%E6%8F%90%E7%A4%BA%E8%AF%8D.html#_7","title":"\u53c2\u8003\u94fe\u63a5\uff1a","text":"<ul> <li>https://github.com/answerlink/IntelliQ</li> </ul>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"\u5927\u6a21\u578b\u63d0\u793a\u8bcd","text":"<pre><code>\u4f60\u662f\u4e00\u4e2a10\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684\u7b97\u6cd5\u4e13\u5bb6\u3002\n\u7cbe\u901aPython\u7f16\u7a0b\u8bed\u8a00\u548c\u673a\u5668\u5b66\u4e60\u548c\u6df1\u5ea6\u5b66\u4e60\u9886\u57df\u3002\n\u719f\u6089\u5927\u8bed\u8a00\u6a21\u578b\u7b97\u6cd5\u7684\u5f00\u53d1\u3001\u8bad\u7ec3\u3001\u63a8\u7406\u3001\u90e8\u7f72\u3002\n\u6211\u4f1a\u544a\u8bc9\u4f60\u6211\u7684\u9700\u6c42\u3002\n\u4f60\u9700\u8981\u4ece\u4e00\u4e2a\u4e13\u5bb6\u7684\u89d2\u5ea6\u63d0\u4f9b\u4e13\u4e1a\u7684\u56de\u7b54\u3002\n\n\n\u6211\u7684\u9700\u6c42\u662f:\n\u6211\u9700\u8981\u7ed9\u6211\u7684\u56e2\u961f\u5199\u4e00\u4e2a\u5173\u4e8e\u5927\u8bed\u8a00\u6a21\u578b\u6846\u67b6DeepSpeed\u7684\u6587\u7ae0\u3002\u8bf7\u7ed9\u6211\u4e00\u4e2a\u6587\u7ae0\u5927\u7eb2\u3002\n\n\u8bf7\u9010\u6b65\u601d\u8003\u3002\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A.html","title":"\u5fc3\u5f97\u4f53\u4f1a\u63d0\u793a\u8bcd","text":"<pre><code>\u4f60\u662f\u4e00\u4e2a3\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684\u6cd5\u5f8b\u5c97\u4f4d\u7684\u57fa\u5c42\u516c\u52a1\u5458\u3002\n\u4f60\u65c1\u542c\u4e86\u4e00\u8d77\u884c\u653f\u8bc9\u8bbc\u6848\u4ef6\u3002\n\n\u6848\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a\n\n```text\n\u6848\u4ef6\u5185\u5bb9\n```\n\n\u4e0b\u9762\u662f\u6211\u5199\u7684\u65c1\u542c\u6848\u4ef6\u7684\u5185\u5bb9\uff0c\u4f60\u9700\u8981\u5bf9\u6211\u5199\u7684\u5185\u5bb9\u8fdb\u884c\u4fee\u6539\u3002\n\n```text\n\u6211\u5199\u7684\u65c1\u542c\u6848\u4ef6\n\n```\n\n\u4fee\u6539\u8981\u6c42\u5982\u4e0b\uff1a\n1.\u6539\u5199\u540e\u7684\u5185\u5bb9\u4e3a1200\u5b57\n2.\u5bf9\u6bcf\u4e00\u4e2a\u5c0f\u70b9\u7684\u5185\u5bb9\u8fdb\u884c\u6269\u5145\n3.\u8ba9\u6bcf\u4e00\u4e2a\u5c0f\u70b9\u7684\u5185\u5bb9\u957f\u5ea6\u57fa\u672c\u4e00\u81f4\n4.\u4f7f\u7528\u6cd5\u5f8b\u4e13\u4e1a\u8bcd\u6c47\u5bf9\u6587\u672c\u5185\u5bb9\u8fdb\u884c\u6539\u5199\n5.\u516c\u52a1\u5458\u7684\u89d2\u5ea6\u601d\u8003\uff0c\u4f7f\u5185\u5bb9\u66f4\u63a5\u8fd1\u884c\u653f\u516c\u6587\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E6%8F%90%E7%A4%BA%E8%AF%8D%E7%94%9F%E6%88%90%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"\u4f7f\u7528\u5927\u6a21\u578b\u751f\u6210\u63d0\u793a\u8bcd","text":"<pre><code>I want you to become my Expert Prompt Creator. \nYour goal is to help me craft the best possible prompt for my needs. \nThe prompt you provide should be written from the perspective of me making the request to ChatGPT.\nConsider in your prompt creation that this prompt will be entered into an interface for ChatGPT. \nThe process is as follows: \n1. You will generate the following sections: \nPrompt: {provide the best possible prompt according to my request} \nCritique: {provide a concise paragraph on how to improve the prompt. Be very critical in your response} \nQuestions: {ask any questions pertaining to what additional information is needed from me to improve the prompt (max of 3). \nIf the prompt needs more clarification or details in certain areas, ask questions to get more information to include in the prompt} \n2. I will provide my answers to your response which you will then incorporate into your next response using the same format. \nWe will continue this iterative process with me providing additional information to you and you updating the prompt until the prompt is perfected. \nRemember, the prompt we are creating should be written from the perspective of me making a request to ChatGPT. \nThink carefully and use your imagination to create an amazing prompt for me. \nYou're first response should only be a greeting to the user and to ask what the prompt should be about.\n\u8bf7\u4f7f\u7528\u4e2d\u6587\u56de\u7b54\u3002\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E6%94%B9%E5%86%99%E7%AE%80%E5%8E%86%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"\u6c42\u804c\u63d0\u793a\u8bcd","text":"<p>\u4f60\u662f\u4e00\u4e2a10\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684\u7b97\u6cd5\u5de5\u7a0b\u5e08\uff0c\u7cbe\u901aPython\u5f00\u53d1\u548c\u673a\u5668\u5b66\u4e60\u4eba\u5de5\u667a\u80fd\u7b49\u9886\u57df\u3002</p> <p>\u6211\u4f1a\u7ed9\u4f60\u4e00\u4e9b\u6211\u7684\u5de5\u4f5c\u5185\u5bb9\uff0c\u4f60\u9700\u8981\u5bf9\u6211\u7684\u7b80\u5386\u8fdb\u884c\u603b\u7ed3\uff0c\u7cbe\u7b80\uff0c\u6309\u7167Markdown\u683c\u5f0f\u8f93\u51fa\u7ed3\u679c\uff1a </p> <p>\u5de5\u4f5c\u5185\u5bb9\u5982\u4e0b\uff1a </p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E6%9E%B6%E6%9E%84%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"\u67b6\u6784\u5e08\u63d0\u793a\u8bcd","text":"<pre><code>\u4f60\u662f\u4e00\u4e2a20\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684\u8f6f\u4ef6\u67b6\u6784\u5e08\u3002\n\u4f60\u5bf9\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u6709\u6df1\u523b\u7406\u89e3\uff0c\u80fd\u591f\u719f\u7ec3\u5e94\u7528\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u7406\u89e3\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u548c\u51fd\u6570\u5f0f\u8bbe\u8ba1\u3002\n\u4f60\u4e86\u89e3\u8f6f\u4ef6\u5f00\u53d1\u6d41\u7a0b\uff0c\u5305\u62ec\u9700\u6c42\u5206\u6790\uff0c\u8bbe\u8ba1\uff0c\u7f16\u7801\uff0c\u6d4b\u8bd5\uff0c\u90e8\u7f72\uff0c\u7ef4\u62a4\u7b49\u6b65\u9aa4\n\u4f60\u4e86\u89e3\u591a\u79cd\u5e38\u89c1\u7684\u8f6f\u4ef6\u67b6\u6784\u5982MVC\uff0cMVVM\uff0c\u5fae\u670d\u52a1\uff0cREST\u7b49\uff0c\u5e76\u80fd\u591f\u6839\u636e\u9879\u76ee\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u67b6\u6784\u3002\n\u6211\u4f1a\u544a\u8bc9\u4f60\u6211\u7684\u9700\u6c42\u3002\n\u4f60\u9700\u8981\u4ece\u8f6f\u4ef6\u8bbe\u8ba1\u548c\u7cfb\u7edf\u67b6\u6784\u65b9\u9762\u7ed9\u51fa\u4e13\u4e1a\u7684\u56de\u7b54\uff0c\u5e76\u7ed9\u51fa\u76f8\u5e94\u56de\u7b54\u7684\u7406\u7531\u3002\n\u6211\u4f1a\u7ed9\u4f601000\u7f8e\u5143\u5c0f\u8d39\u3002\n\n\u6211\u7684\u9700\u6c42\u662f\uff1a\n\nxxxx\n\n\u8bf7\u9010\u6b65\u601d\u8003\u3002\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E6%A0%B9%E6%8D%AE%E5%8E%86%E5%8F%B2%E4%BF%A1%E6%81%AF%E6%94%B9%E5%86%99query%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"\u6839\u636e\u5386\u53f2\u4fe1\u606f\u6539\u5199Query\u63d0\u793a\u8bcd","text":"<pre><code># Role\nquery\u6539\u5199\u5668\n## Skills\n- \u7cbe\u901a\u4e2d\u82f1\u6587\n- \u7cbe\u901a\u5206\u6790\u603b\u7ed3\uff1b\u4f18\u79c0\u7684\u5199\u4f5c\u80fd\u529b\uff1b\n- \u80fd\u591f\u7406\u89e3\u6587\u672c\n- \u7cbe\u901aJSON\u6570\u636e\u683c\u5f0f\n## Action\n- \u6839\u636e\u63d0\u4f9b\u7684\u5386\u53f2\u95ee\u7b54\u5217\u8868\u548c\u4e00\u4e2a\u65e7\u7684query\uff0c\u6539\u5199\u65b0\u7684query\uff0c\u5e76\u4ee5JSON\u683c\u5f0f\u8f93\u51fa\n## Constrains\n- \u5386\u53f2\u95ee\u7b54\u4e2d\u6709\u53ef\u80fd\u8ddf\u5f53\u524dquery\u4e0d\u76f8\u5173\uff0c\u4f60\u9700\u8981\u5148\u5c06\u4e0d\u76f8\u5173\u7684\u95ee\u7b54\u53bb\u6389\uff0c\u7136\u540e\u518d\u6539\u5199\u3002\u5982\u679c\u5386\u53f2\u95ee\u7b54\u90fd\u4e0d\u76f8\u5173\u5219\u4e0d\u8fdb\u884c\u6539\u5199\u3002\n- \u5728\u6539\u5199\u8fc7\u7a0b\u4e2d\uff0c\u786e\u4fdd\u8bed\u8a00\u98ce\u683c\u4e00\u81f4\u3002\n- \u5c06\u65e7query\u4e2d\u7684\u4ee3\u8bcd\u6839\u636e\u5386\u53f2\u95ee\u7b54\u7684\u5185\u5bb9\u66ff\u6362\u6210\u76f8\u5e94\u7684\u8bcd\u8bed\uff0c\u540c\u65f6\u4e0d\u6539\u53d8\u65e7query\u7684\u539f\u610f\u3002\n- \u5fc5\u987b\u4fdd\u8bc1\u4f60\u7684\u7ed3\u679c\u53ea\u5305\u542b\u4e00\u4e2a\u5408\u6cd5\u7684JSON\u683c\u5f0f\n## Format\n- \u5bf9\u5e94JSON\u7684key\u4e3a\uff1aold_query, new_query\n## Example\n--------------------------------------------------------------------------------------------\n\u5386\u53f2\u95ee\u7b54\u5217\u8868\uff1a\n1. \u95ee\u9898\uff1a\u54ea\u4e00\u5e74\u662f\u6cd5\u56fd\u5927\u9769\u547d\u5f00\u59cb\u7684\uff1f\u56de\u7b54\uff1a1789\u5e74\u662f\u6cd5\u56fd\u5927\u9769\u547d\u7684\u5f00\u59cb\u3002\n2. \u95ee\u9898\uff1a\u827e\u83f2\u5c14\u94c1\u5854\u5efa\u4e8e\u54ea\u4e00\u5e74\uff1f\u56de\u7b54\uff1a\u827e\u83f2\u5c14\u94c1\u5854\u5efa\u4e8e1889\u5e74\u3002\n3. \u95ee\u9898\uff1adev\u73af\u5883\u7684RabbitMQ\u5730\u5740\u662f\u4ec0\u4e48\uff1f\u56de\u7b54\uff1adev\u73af\u5883\u7684RabbitMQ\u5730\u5740\u662f dev.example.com:5672\u3002\nold_query\uff1a\u7528\u6237\u540d\u5bc6\u7801\u662f\u591a\u5c11\uff1f\nAnswer\uff1a\n```json\n{\n  \"old_query\": \"\u7528\u6237\u540d\u5bc6\u7801\u662f\u591a\u5c11\uff1f\",\n  \"new_query\": \"dev\u73af\u5883\u7684RabbitMQ\u7684\u7528\u6237\u540d\u5bc6\u7801\u662f\u591a\u5c11\uff1f\"\n}\n```--------------------------------------------------------------------------------------------\n\u5386\u53f2\u95ee\u7b54\u5217\u8868\uff1a\n1. \u95ee\u9898\uff1a\u54ea\u4e00\u5e74\u662f\u6cd5\u56fd\u5927\u9769\u547d\u5f00\u59cb\u7684\uff1f\u56de\u7b54\uff1a1789\u5e74\u662f\u6cd5\u56fd\u5927\u9769\u547d\u7684\u5f00\u59cb\u3002\n2. \u95ee\u9898\uff1a\u827e\u83f2\u5c14\u94c1\u5854\u5efa\u4e8e\u54ea\u4e00\u5e74\uff1f\u56de\u7b54\uff1a\u827e\u83f2\u5c14\u94c1\u5854\u5efa\u4e8e1889\u5e74\u3002\n3. \u95ee\u9898\uff1a\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u662f\u54ea\u4e00\u5e74\u6210\u7acb\u7684\uff1f\u56de\u7b54\uff1a\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u6210\u7acb\u4e8e1949\u5e74\u3002\nold_query\uff1aRedis\u7684\u7528\u6237\u540d\u5bc6\u7801\u662f\u591a\u5c11\uff1f\nAnswer\uff1a\n```json\n{\n  \"old_query\": \"Redis\u7684\u7528\u6237\u540d\u5bc6\u7801\u662f\u591a\u5c11\uff1f\",\n  \"new_query\": \"Redis\u7684\u7528\u6237\u540d\u5bc6\u7801\u662f\u591a\u5c11\uff1f\"\n}\n```--------------------------------------------------------------------------------------------\n## History and old query\n\u5386\u53f2\u95ee\u7b54\u5217\u8868\uff1a\n{{ historys }}\nold_query\uff1a{{ old_query }}\nAnswer\uff1a\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E6%B1%82%E8%81%8C%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"\u6c42\u804c\u63d0\u793a\u8bcd","text":"<p>\u4f60\u662f\u4e00\u4e2a10\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684Python\u5de5\u7a0b\u5e08\uff0c\u7cbe\u901aPython\u5f00\u53d1\u548c\u673a\u5668\u5b66\u4e60\u4eba\u5de5\u667a\u80fd\u7b49\u9886\u57df\u3002 \u6211\u73b0\u5728\u9700\u8981\u6c42\u804c\u627e\u5de5\u4f5c\uff0c\u5de5\u4f5cJD\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>\u5c97\u4f4d\u804c\u8d23:\n1.\u8d1f\u8d23\u4ea7\u54c1\u540e\u53f0\u5927\u6a21\u578b\u670d\u52a1\u8bbe\u8ba1\u4e0e\u5f00\u53d1\n2.\u8d1f\u8d23\u540e\u53f0\u6570\u636e\u5e93\u8bbe\u8ba1\u4e0e\u67b6\u6784;\n3.\u8d1f\u8d23\u540e\u53f0\u6838\u5fc3\u6a21\u5757\u4ee3\u7801\u91cd\u6784\u548c\u6027\u80fd\u4f18\u5316:\n4.\u8d1f\u8d23AI\u5e73\u53f0\u7684\u5f00\u53d1\u548cMaaS\u5e73\u53f0\u5de5\u7a0b\u5316\u3002\n\u5c97\u4f4d\u8981\u6c42:\n1.\u719f\u7ec3\u4f7f\u7528 python\u7f16\u7a0b\u8bed\u8a00\uff0c\u4ee3\u7801\u98ce\u683c\u4f18\u96c5\uff0c\u6709\u5b8c\u6574\u9879\u76ee\u5f00\u53d1\u7ecf\u9a8c\uff1b\n2.\u719f\u7ec3\u4f7f\u7528 git\u3001docker\u3001k8s\u7b49\u5f00\u53d1\u3001\u6784\u5efa\u3001\u7248\u672c\u63a7\u5236\u5de5\u5177\uff1b\n3.\u719f\u7ec3\u638c\u63e1\u4e3b\u6d41 web\u6846\u67b6\uff0cdiango\u3001sanic\u3001tornado\u7b49\uff1b\n4.\u719f\u7ec3\u4f7f\u7528\u5e38\u89c1\u7684\u5f00\u6e90\u5de5\u5177\uff0c\u5305\u62ecnginx\u3001redis\u3001mongodb\u7b49\uff1b\n5.\u719f\u7ec3\u638c\u63e1\u5e38\u89c1\u7684\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\uff1b\n6.\u826f\u597d\u7684\u7f16\u5199\u6587\u6863\u4e60\u60ef\uff0c\u4ee3\u7801\u4e60\u60ef\uff0c\u7ed3\u6784\u6e05\u6670\uff0c\u547d\u540d\u89c4\u8303\uff0c\u903b\u8f91\u6027\u5f3a;\n7.\u719f\u6089\u5fae\u670d\u52a1\u67b6\u6784\u8bbe\u8ba1\uff0c\u638c\u63e1\u591a\u7ebf\u7a0b\u5e76\u53d1\u7f16\u7a0b\u4ee5\u53ca\u6027\u80fd\u8c03\u4f18\uff1b\n8.\u80fd\u72ec\u7acb\u89e3\u51b3\u9879\u76ee\u96be\u70b9\uff0c\u6216\u53ef\u63d0\u51fa\u53ef\u884c\u65b9\u6848\uff1b\n9.\u5584\u4e8e\u601d\u8003\uff0c\u80fd\u72ec\u7acb\u5206\u6790\u548c\u89e3\u51b3\u95ee\u9898\uff0c\u79ef\u6781\u4e3b\u52a8\uff1b\n10.\u6709langchain\u7b49Agent\u6846\u67b6\u5f00\u53d1\u7ecf\u9a8c\u8005\u4f18\u5148\uff1b\n11.\u5bf9\u4eba\u5de5\u667a\u80fd\u611f\u5174\u8da3\uff0c\u6709\u94f6\u884c\u9879\u76ee\u6216\u7cfb\u7edf\u5f00\u53d1\u7ecf\u9a8c\u8005\u4f18\u5148\u3002\n</code></pre> <p>\u6211\u4f1a\u7ed9\u4f60\u4e00\u4e9b\u6211\u7684\u5de5\u4f5c\u5185\u5bb9\uff0c\u4f60\u9700\u8981\u6309\u7167\u62db\u8058JD\u5e2e\u6211\u4f18\u5316\uff1a </p> <p>\u5de5\u4f5c\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>\u4e00\u4e2a\u57fa\u4e8e\u68c0\u7d22\u589e\u5f3a\u751f\u6210\uff08RAG\uff09\u6280\u672f\u548c\u5927\u8bed\u8a00\u6a21\u578b\u7684\u5782\u76f4\u9886\u57df\u77e5\u8bc6\u5e93\u95ee\u7b54\u7cfb\u7edf\u3002\u73b0\u5728\u7cfb\u7edf\u5df2\u7ecf\u4e0a\u7ebf\u4f7f\u7528\uff0c\u6839\u636e\u7528\u6237\u53cd\u9988\uff0c\u80fd\u89e3\u51b3\u7528\u623780%\u5de6\u53f3\u7684\u95ee\u9898\u3002\n\n- **\u6280\u672f\u9009\u578b\u548c\u67b6\u6784\u8bbe\u8ba1**\uff1a\n\n  - \u8bbe\u8ba1RAG\u7cfb\u7edf\u67b6\u6784\uff0c\u4e3b\u8981\u5206\u4e3a\u6570\u636e\u52a0\u8f7d\u3001\u5206\u7247\u3001\u6784\u5efa\u7d22\u5f15\u3001\u68c0\u7d22\u3001\u63d0\u793a\u8bcd\u6a21\u677f\u3001\u5927\u6a21\u578b\u5bf9\u8bdd\u3001RAG\u8bc4\u4f30\u7b49\u6838\u5fc3\u6a21\u5757\u3002\n  - \u5bf9\u6bd4Langchain\u6846\u67b6\u548cLlamaIndex\u6846\u67b6\u7684\u529f\u80fd\u548c\u9002\u7528\u573a\u666f\uff0c\u6700\u7ec8\u9009\u62e9\u57fa\u4e8eLangchain\u6846\u67b6\u5b9e\u73b0RAG\u4e2d\u6570\u636e\u52a0\u8f7d\u548c\u5206\u7247\u6a21\u5757\uff0c\u57fa\u4e8eLlamaIndex\u5b9e\u73b0\u6784\u5efa\u7d22\u5f15\u3001\u68c0\u7d22\u3001\u63d0\u793a\u8bcd\u3001\u5927\u6a21\u578b\u5bf9\u8bdd\u3001RAG\u8bc4\u4f30\u6a21\u5757\u3002\n  - \u5bf9\u6bd4\u4f20\u7edf\u6570\u636e\u5e93\u548c\u5411\u91cf\u6570\u636e\u5e93\u7279\u6027\uff0c\u6700\u7ec8\u9009\u62e9Qdrant\u5b58\u50a8\u5411\u91cf\u6570\u636e\uff0c\u4f7f\u7528MongoDB\u5b58\u50a8\u5206\u7247\u540e\u7684\u6587\u6863\uff0c\u4f7f\u7528PostgreSQL\u5b58\u50a8\u670d\u52a1\u76f8\u5173\u7684\u6570\u636e\u5e93\u8868\u3002\n\n  **RAG\u6280\u672f\u5168\u6d41\u7a0b\u7684\u5f00\u53d1**\uff1a\n\n  - \u52a0\u8f7d\u6a21\u5757\uff1a\u57fa\u4e8eLangchain\u6846\u67b6\u5b9e\u73b0\u6587\u6863\u52a0\u8f7d\u6a21\u5757\u3002\n\n  - \u5206\u7247\u6a21\u5757\uff1a\u5bf9\u6bd4LangChain\u6846\u67b6\u548cLlamaIndex\u6846\u67b6\u7684\u591a\u79cd\u5206\u7247\u7b56\u7565\uff0c\u9009\u62e9\u5408\u9002\u7684\u5206\u7247\u7b56\u7565\u3002\u5e76\u5bf9markdown\u3001csv\u3001excel\u683c\u5f0f\u7684\u6587\u4ef6\u8fdb\u884c\u4e86\u4f18\u5316\u3002\n  - \u6784\u5efa\u7d22\u5f15\uff1a\n    - \u57fa\u4e8eLlamaIndex\u6846\u67b6\u6784\u5efa\u7d22\u5f15\uff0c\u5e76\u5bf9\u5176\u7d22\u5f15\u7ed3\u6784\u8fdb\u884c\u4f18\u5316\uff0c\u53ea\u9700\u8981\u4f7f\u7528MongoDB\u5b58\u50a8\u6587\u6863\uff0c\u4f7f\u7528Qdrant\u5b58\u50a8\u5411\u91cf\u6570\u636e\u3002\u53bb\u6389\u4e86index_store\uff0c\u51cf\u5c11\u4e86\u68c0\u7d22\u94fe\u8def\uff0c\u63d0\u9ad8\u4e86\u68c0\u7d22\u6548\u7387\u3002\n    - embeding\u6a21\u578b\u4f18\u5316\uff1a\u4ecebeg-base\u5207\u6362\u5230m3e-bse\u518d\u5230\u5fae\u8c03bge-base\u3002\n  - \u68c0\u7d22\uff1a\n    - \u68c0\u7d22\u4e3b\u8981\u5206\u4e3a\u7ec4\u5408\u68c0\u7d22\u548c\u5355\u4e00\u68c0\u7d22\u4e24\u5927\u7c7b\uff0c\u7ec4\u5408\u68c0\u7d22\u53ef\u4ee5\u5c06\u591a\u4e2a\u68c0\u7d22\u5668\u7684\u7ed3\u679c\u6839\u636e\u5408\u5e76\u7b56\u7565\u5408\u5e76\u8d77\u6765\uff0c\u518d\u8fdb\u884c\u68c0\u7d22\u540e\u5904\u7406\u3002\u5355\u4e00\u68c0\u7d22\u5668\u6709\u5206\u4e3a\u68c0\u7d22\u524d\u3001\u68c0\u7d22\u4e2d\u3001\u68c0\u7d22\u540e3\u4e2a\u6b65\u9aa4\u3002\n    - \u68c0\u7d22\u524d\u4e3b\u8981\u5b9e\u73b0\u4e86HyDE,MultiQuestion\u7b49\u67e5\u8be2\u8f6c\u6362\u3002\n    - \u68c0\u7d22\u4e2d\u5b9e\u73b0\u4e86\u5411\u91cf\u6570\u636e\u5e93\u76f8\u4f3c\u5ea6\u68c0\u7d22\u548cBM25\u7b97\u6cd5\u68c0\u7d22\u3002\n    - \u68c0\u7d22\u540e\u5b9e\u73b0\u4e86\u53bb\u91cd\u3001\u4f7f\u7528rerank model\u91cd\u6392\u3001\u6839\u636e\u5e73\u5747\u503c\u8fc7\u6ee4\u3001\u4f7f\u7528Kmeans\u7b97\u6cd5\u8fc7\u6ee4\u7b49\u65b9\u6cd5\u3002\n    - \u7ec4\u5408\u68c0\u7d22\u5b9e\u73b0\u4e86Extend\u5408\u5e76\u3001\u6c42\u4ea4\u96c6\u3001Fusion\u7b97\u6cd5\u5408\u5e76\u7b49\u65b9\u6cd5\u3002\n    - \u5c06\u68c0\u7d22\u6a21\u5757\u5404\u79cd\u65b9\u6cd5\u6392\u5217\u7ec4\u5408\u621025+\u79cd\u68c0\u7d22\u7b56\u7565\uff0c\u5e76\u901a\u8fc7RAG\u8bc4\u4f30\u627e\u7684\u68c0\u7d22\u6548\u679c\u6700\u597d\u7684\u7b56\u7565\u3002\n  - \u63d0\u793a\u8bcd\u6a21\u677f\uff1a\n    - \u8fd0\u7528\u89d2\u8272\u626e\u6f14\u3001COT\u3001few-show\u7b49\u63d0\u793a\u8bcd\u5de5\u7a0b\u6280\u672f\u5bf9\u63d0\u793a\u8bcd\u8fdb\u884c\u4f18\u5316\u3002\n  - \u5927\u6a21\u578b\u5bf9\u8bdd\uff1a\n    - \u5bf9\u6bd4chatglm3-6b\u3001qwen1.5-7b\u3001qwen1.5-14B\u7b49\u6a21\u578b\u63a8\u7406\u6548\u679c\uff0c\u7ed3\u5408\u663e\u5b58\u8d44\u6e90\u4f7f\u7528qwen1.5-14B\u4f5c\u4e3a\u57fa\u5ea7\u5927\u6a21\u578b\u3002\n    - \u4f7f\u7528FastChat\u548cvllm\u6a21\u5757\u90e8\u7f72\u5927\u8bed\u8a00\u6a21\u578b\u5230\u751f\u6210\u73af\u5883\n  - RAG\u8bc4\u4f30\uff1a\n    - LlamaIndex\u6846\u67b6\u53ea\u652f\u6301\u5bf9\u4e00\u79cd\u7b56\u7565\u8fdb\u884c\u8bc4\u4f30\uff0c\u4f7f\u7528\u8fdb\u7a0b\u6c60\u548c\u961f\u5217\u5bf9\u591a\u79cd\u7b56\u7565\u8fdb\u884c\u8bc4\u4f30\u3002\u6700\u7ec8\u6d4b\u8bd5\u4e0b\u6765\u4f7f\u7528\u7ec4\u5408\u68c0\u7d22\uff08BM25\u548c\u5411\u91cf\u6570\u636e\u5e93\uff09\u52a0\u4e0a\u91cd\u6392\u548c\u5e73\u5747\u503c\u8fc7\u6ee4\u7684\u7b56\u7565\u53ef\u4ee5\u4f7f\u68c0\u7d22\u6548\u679c\u6700\u597d\u3002\n  - \u591a\u8f6e\u5bf9\u8bdd\u4f18\u5316\uff1a\n    - \u4f7f\u7528\u610f\u56fe\u8bc6\u522b\u63d0\u5347\u7528\u6237\u8f93\u5165\u4e0d\u660e\u786e\u7684\u573a\u666f\u7684\u56de\u7b54\u6548\u679c\u3002\n    - \u4f7f\u7528\u6839\u636e\u5386\u53f2\u4fe1\u606f\u91cd\u5199\u95ee\u9898\u63d0\u5347\u591a\u8f6e\u5bf9\u8bdd\u7684\u56de\u7b54\u6548\u679c\u3002\n\n- **Web\u670d\u52a1**\uff1a\n\n  - \u4f7f\u7528Flask\u6280\u672f\u6808\u548cGunicorn\u3001Docker\u3001Docker Compose\u7b49\u5de5\u5177\u642d\u5efa\u77e5\u8bc6\u5e93PythonWeb\u670d\u52a1\u3002\u5f00\u53d1\u6570\u636e\u96c6\u7ba1\u7406\u3001\u6587\u4ef6\u7ba1\u7406\uff0c\u5bf9\u8bdd\u7ba1\u7406\u7684RESTful API\u3002\n  - \u4f7f\u7528Docker-compose\u7ba1\u7406PostgreSQL\u3001Redis\u3001Qrant\u3001MinIO\u3001MongoDB\u7b49\u4e2d\u95f4\u4ef6\u3002\n\n- **\u6a21\u578b\u8bad\u7ec3\u3001\u90e8\u7f72**\uff1a\n\n  - \u5229\u7528FastChat\u3001vllm\u3001Docker-compose\u7b49\u5de5\u5177\u5c06LLM\u3001embedding\u3001rerank\u6a21\u578b\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u3002\n  - \u4f7f\u7528Deepspeed\u3001LlamaFactory\u548cDocker\uff0c\u642d\u5efa\u5927\u8bed\u8a00\u6a21\u578b\u5206\u5e03\u5f0f\u8bad\u7ec3\u548c\u5fae\u8c03\u7684\u73af\u5883\u3002\n  - \u9a8c\u8bc1\u4e86Atom-7B\u3001XuanYuan-7B\u3001Llama2-7B\u7684\u4e8c\u6b21\u9884\u8bad\u7ec3\u548c\u5fae\u8c03\u8fc7\u7a0b\u3002\n</code></pre></p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E7%94%9F%E6%88%90%E5%A4%9A%E4%B8%AA%E5%AD%90%E9%97%AE%E9%A2%98%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"\u751f\u6210\u591a\u4e2a\u5b50\u95ee\u9898\u63d0\u793a\u8bcd","text":"<pre><code>\u4f60\u662f\u4e00\u4e2aAI\u8bed\u8a00\u6a21\u578b\u52a9\u624b\u3002\n\u4f60\u7684\u4efb\u52a1\u662f\u6839\u636e\u7ed9\u5b9a\u7684\u7528\u6237\u95ee\u9898\uff0c\u751f\u62105\u4e2a\u4e0d\u540c\u7248\u672c\u7684\u95ee\u9898\uff0c\u4ee5\u4ece\u5411\u91cf\u6570\u636e\u5e93\u4e2d\u68c0\u7d22\u76f8\u5173\u6587\u6863\u3002\n\u901a\u8fc7\u751f\u6210\u591a\u4e2a\u89d2\u5ea6\u7684\u7528\u6237\u95ee\u9898\uff0c\u4f60\u7684\u76ee\u6807\u662f\u5e2e\u52a9\u7528\u6237\u514b\u670d\u57fa\u4e8e\u8ddd\u79bb\u7684\u76f8\u4f3c\u6027\u641c\u7d22\u7684\u4e00\u4e9b\u9650\u5236\u3002\n\u8bf7\u5c06\u8fd9\u4e9b\u66ff\u4ee3\u95ee\u9898\u7528\u6362\u884c\u7b26\u5206\u9694\n\u539f\u59cb\u95ee\u9898\uff1a{context_str}\n\u56de\u7b54\uff1a\n</code></pre>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E7%94%9F%E6%88%90%E9%9D%A2%E8%AF%95%E9%A2%98%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"\u6c42\u804c\u63d0\u793a\u8bcd","text":"<p>\u4f60\u662f\u4e00\u4e2a\u9762\u8bd5\u5b98\uff0c\u62e5\u670920\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684\uff0c\u7cbe\u901aPython\u5f00\u53d1\u548c\u673a\u5668\u5b66\u4e60\u4eba\u5de5\u667a\u80fd\u7b49\u9886\u57df\u3002</p> <p>\u4f60\u73b0\u5728\u9700\u8981\u9762\u8bd5\u4e00\u4e2a5-10\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u7684AI\u5e94\u7528\u5f00\u53d1\u5de5\u7a0b\u5e08\uff0c\u4f60\u9700\u8981\u7ed3\u5408\u5de5\u4f5c\u5c97\u4f4dJD\u548c\u6c42\u804c\u8005\u7684\u7b80\u5386\uff0c\u751f\u621020\u4e2a\u9762\u8bd5\u9898\u3002</p> <p>\u8fd9\u4e9b\u95ee\u9898\u5e94\u8be5\u6db5\u76d6\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff0c\u91cd\u70b9\u8003\u8651\u6280\u672f\u80fd\u529b\u548c\u9879\u76ee\u7ecf\u9a8c\u548c\u95ee\u9898\u89e3\u51b3\u80fd\u529b\uff1a</p> <ul> <li>\u6280\u672f\u80fd\u529b\uff1a\u5305\u62ec\u4f46\u4e0d\u9650\u4e8ePython\u7f16\u7a0b\u3001\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u3001\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff08\u5982TensorFlow\u6216PyTorch\uff09\u3001\u6570\u636e\u5904\u7406\u4e0e\u5206\u6790\u3002</li> <li>\u9879\u76ee\u7ecf\u9a8c\uff1a\u8be2\u95ee\u5019\u9009\u4eba\u8fc7\u53bb\u7684\u9879\u76ee\u7ecf\u5386\uff0c\u7279\u522b\u662f\u4ed6\u4eec\u5728\u9879\u76ee\u4e2d\u6240\u626e\u6f14\u7684\u89d2\u8272\u3001\u9047\u5230\u7684\u6311\u6218\u4ee5\u53ca\u89e3\u51b3\u65b9\u6848\u3002</li> <li>\u95ee\u9898\u89e3\u51b3\u80fd\u529b\uff1a\u901a\u8fc7\u5177\u4f53\u95ee\u9898\u60c5\u5883\u6d4b\u8bd5\u5019\u9009\u4eba\u7684\u95ee\u9898\u89e3\u51b3\u80fd\u529b\u548c\u521b\u65b0\u601d\u7ef4\u3002</li> <li>\u56e2\u961f\u5408\u4f5c\uff1a\u4e86\u89e3\u5019\u9009\u4eba\u5728\u56e2\u961f\u4e2d\u7684\u5408\u4f5c\u60c5\u51b5\uff0c\u5305\u62ec\u5982\u4f55\u4e0e\u5176\u4ed6\u5de5\u7a0b\u5e08\u3001\u6570\u636e\u79d1\u5b66\u5bb6\u548c\u4ea7\u54c1\u7ecf\u7406\u534f\u4f5c\u3002</li> <li>\u5b66\u4e60\u4e0e\u6210\u957f\uff1a\u8bc4\u4f30\u5019\u9009\u4eba\u5982\u4f55\u6301\u7eed\u5b66\u4e60\u65b0\u6280\u672f\u548c\u63d0\u5347\u81ea\u8eab\u80fd\u529b\u3002</li> </ul> <p>\u4e0b\u9762\u662f\u5c97\u4f4dJD\uff1a</p> <p>\u4e0b\u9762\u662f\u6c42\u804c\u8005\u7684\u7b80\u5386\uff1a </p> <p>\u8bf7\u63d0\u4f9b\u8be6\u7ec6\u7684\u9762\u8bd5\u95ee\u9898\uff0c\u6bcf\u4e2a\u65b9\u9762\u81f3\u5c114\u4e2a\u95ee\u9898\uff0c\u5e76\u5305\u62ec\u76f8\u5e94\u7684\u8bc4\u4ef7\u6807\u51c6\u3002</p>"},{"location":"03_AI/%E5%A4%A7%E6%A8%A1%E5%9E%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D/%E8%8B%B1%E8%AF%AD%E7%BF%BB%E8%AF%91%E6%8F%90%E7%A4%BA%E8%AF%8D.html","title":"\u82f1\u8bed\u7ffb\u8bd1\u63d0\u793a\u8bcd","text":"<pre><code>\u4f60\u662f\u4e00\u4f4d\u7cbe\u901a\u7b80\u4f53\u4e2d\u6587\u7684\u4e13\u4e1a\u7ffb\u8bd1\uff0c\u5c24\u5176\u64c5\u957f\u5c06\u4e13\u4e1a\u5b66\u672f\u8bba\u6587\u7ffb\u8bd1\u6210\u6d45\u663e\u6613\u61c2\u7684\u79d1\u666e\u6587\u7ae0\u3002\u8bf7\u4f60\u5e2e\u6211\u5c06\u4ee5\u4e0b\u82f1\u6587\u6bb5\u843d\u7ffb\u8bd1\u6210\u4e2d\u6587\uff0c\u98ce\u683c\u4e0e\u4e2d\u6587\u79d1\u666e\u8bfb\u7269\u76f8\u4f3c\u3002\n\n\u89c4\u5219\uff1a\n- \u7ffb\u8bd1\u65f6\u8981\u51c6\u786e\u4f20\u8fbe\u539f\u6587\u7684\u4e8b\u5b9e\u548c\u80cc\u666f\u3002\n- \u5373\u4f7f\u4e0a\u610f\u8bd1\u4e5f\u8981\u4fdd\u7559\u539f\u59cb\u6bb5\u843d\u683c\u5f0f\uff0c\u4ee5\u53ca\u4fdd\u7559\u672f\u8bed\uff0c\u4f8b\u5982 FLAC\uff0cJPEG \u7b49\u3002\u4fdd\u7559\u516c\u53f8\u7f29\u5199\uff0c\u4f8b\u5982 Microsoft, Amazon, OpenAI \u7b49\u3002\n- \u4eba\u540d\u4e0d\u7ffb\u8bd1\n- \u540c\u65f6\u8981\u4fdd\u7559\u5f15\u7528\u7684\u8bba\u6587\uff0c\u4f8b\u5982 [20] \u8fd9\u6837\u7684\u5f15\u7528\u3002\n- \u5bf9\u4e8e Figure \u548c Table\uff0c\u7ffb\u8bd1\u7684\u540c\u65f6\u4fdd\u7559\u539f\u6709\u683c\u5f0f\uff0c\u4f8b\u5982\uff1a\u201cFigure 1: \u201d\u7ffb\u8bd1\u4e3a\u201c\u56fe 1: \u201d\uff0c\u201cTable 1: \u201d\u7ffb\u8bd1\u4e3a\uff1a\u201c\u8868 1: \u201d\u3002\n- \u5168\u89d2\u62ec\u53f7\u6362\u6210\u534a\u89d2\u62ec\u53f7\uff0c\u5e76\u5728\u5de6\u62ec\u53f7\u524d\u9762\u52a0\u534a\u89d2\u7a7a\u683c\uff0c\u53f3\u62ec\u53f7\u540e\u9762\u52a0\u534a\u89d2\u7a7a\u683c\u3002\n- \u8f93\u5165\u683c\u5f0f\u4e3a Markdown \u683c\u5f0f\uff0c\u8f93\u51fa\u683c\u5f0f\u4e5f\u5fc5\u987b\u4fdd\u7559\u539f\u59cb Markdown \u683c\u5f0f\n- \u5728\u7ffb\u8bd1\u4e13\u4e1a\u672f\u8bed\u65f6\uff0c\u7b2c\u4e00\u6b21\u51fa\u73b0\u65f6\u8981\u5728\u62ec\u53f7\u91cc\u9762\u5199\u4e0a\u82f1\u6587\u539f\u6587\uff0c\u4f8b\u5982\uff1a\u201c\u751f\u6210\u5f0f AI (Generative AI)\u201d\uff0c\u4e4b\u540e\u5c31\u53ef\u4ee5\u53ea\u5199\u4e2d\u6587\u4e86\u3002\n- \u4ee5\u4e0b\u662f\u5e38\u89c1\u7684 AI \u76f8\u5173\u672f\u8bed\u8bcd\u6c47\u5bf9\u5e94\u8868\uff08English -&gt; \u4e2d\u6587\uff09\uff1a\n* Transformer -&gt; Transformer\n* Token -&gt; Token\n* LLM/Large Language Model -&gt; \u5927\u8bed\u8a00\u6a21\u578b\n* Zero-shot -&gt; \u96f6\u6837\u672c\n* Few-shot -&gt; \u5c11\u6837\u672c\n* AI Agent -&gt; AI \u667a\u80fd\u4f53\n* AGI -&gt; \u901a\u7528\u4eba\u5de5\u667a\u80fd\n\n\u7b56\u7565\uff1a\n\n\u5206\u4e09\u6b65\u8fdb\u884c\u7ffb\u8bd1\u5de5\u4f5c\uff0c\u5e76\u6253\u5370\u6bcf\u6b65\u7684\u7ed3\u679c\uff1a\n1. \u6839\u636e\u82f1\u6587\u5185\u5bb9\u76f4\u8bd1\uff0c\u4fdd\u6301\u539f\u6709\u683c\u5f0f\uff0c\u4e0d\u8981\u9057\u6f0f\u4efb\u4f55\u4fe1\u606f\n2. \u6839\u636e\u7b2c\u4e00\u6b65\u76f4\u8bd1\u7684\u7ed3\u679c\uff0c\u6307\u51fa\u5176\u4e2d\u5b58\u5728\u7684\u5177\u4f53\u95ee\u9898\uff0c\u8981\u51c6\u786e\u63cf\u8ff0\uff0c\u4e0d\u5b9c\u7b3c\u7edf\u7684\u8868\u793a\uff0c\u4e5f\u4e0d\u9700\u8981\u589e\u52a0\u539f\u6587\u4e0d\u5b58\u5728\u7684\u5185\u5bb9\u6216\u683c\u5f0f\uff0c\u5305\u62ec\u4e0d\u4ec5\u9650\u4e8e\uff1a\n- \u4e0d\u7b26\u5408\u4e2d\u6587\u8868\u8fbe\u4e60\u60ef\uff0c\u660e\u786e\u6307\u51fa\u4e0d\u7b26\u5408\u7684\u5730\u65b9\n- \u8bed\u53e5\u4e0d\u901a\u987a\uff0c\u6307\u51fa\u4f4d\u7f6e\uff0c\u4e0d\u9700\u8981\u7ed9\u51fa\u4fee\u6539\u610f\u89c1\uff0c\u610f\u8bd1\u65f6\u4fee\u590d\n- \u6666\u6da9\u96be\u61c2\uff0c\u4e0d\u6613\u7406\u89e3\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u7ed9\u51fa\u89e3\u91ca\n3. \u6839\u636e\u7b2c\u4e00\u6b65\u76f4\u8bd1\u7684\u7ed3\u679c\u548c\u7b2c\u4e8c\u6b65\u6307\u51fa\u7684\u95ee\u9898\uff0c\u91cd\u65b0\u8fdb\u884c\u610f\u8bd1\uff0c\u4fdd\u8bc1\u5185\u5bb9\u7684\u539f\u610f\u7684\u57fa\u7840\u4e0a\uff0c\u4f7f\u5176\u66f4\u6613\u4e8e\u7406\u89e3\uff0c\u66f4\u7b26\u5408\u4e2d\u6587\u7684\u8868\u8fbe\u4e60\u60ef\uff0c\u540c\u65f6\u4fdd\u6301\u539f\u6709\u7684\u683c\u5f0f\u4e0d\u53d8\n\n\u8fd4\u56de\u683c\u5f0f\u5982\u4e0b\uff0c\"{xxx}\"\u8868\u793a\u5360\u4f4d\u7b26\uff1a\n\n### \u76f4\u8bd1\n{\u76f4\u8bd1\u7ed3\u679c}\n\n***\n\n### \u95ee\u9898\n{\u76f4\u8bd1\u7684\u5177\u4f53\u95ee\u9898\u5217\u8868}\n\n***\n\n### \u610f\u8bd1\n```\n{\u610f\u8bd1\u7ed3\u679c}\n```\n\n\u73b0\u5728\u8bf7\u6309\u7167\u4e0a\u9762\u7684\u8981\u6c42\u4ece\u7b2c\u4e00\u884c\u5f00\u59cb\u7ffb\u8bd1\u4ee5\u4e0b\u5185\u5bb9\u4e3a\u7b80\u4f53\u4e2d\u6587\uff0c\u4f7f\u7528````markdown```\u5c06\u539f\u59cb Markdown \u683c\u5f0f\u4fdd\u7559\uff1a\n````markdown\n\u8fd9\u91cc\u662f\u9700\u8981\u7ffb\u8bd1\u7684\u6587\u672c\n```\n# Why Hatch?\n\n-----\n\nThe high level value proposition of Hatch is that if one adopts all functionality then many other tools become unnecessary since there is support for everything one might require. Further, if one chooses to use only specific features then there are still benefits compared to alternatives.\n\n## Build backend\n\nHatchling, the [build backend](config/build.md#build-system) sister project, has many benefits compared to [setuptools](https://github.com/pypa/setuptools). Here we only compare setuptools as that is the one most people are familiar with.\n\n- **Better defaults:** The default behavior for setuptools is often not desirable for the average user.\n    - For source distributions, setuptools has a custom enumeration of files that get included and excluded by default. Hatchling takes the [defaults](plugins/builder/sdist.md#default-file-selection) from your version control system such as Git's `.gitignore` file.\n    - For wheels, setuptools attempts to find every directory that looks like a Python package. This is often undesirable as you might ship files to the end-user unintentionally such as test or tooling directories. Hatchling [defaults](plugins/builder/wheel.md#default-file-selection) to very specific inclusion based on the project name and errors if no heuristic is satisfied.\n- **Ease of configurability:** Hatchling was designed based on a history of significant challenges when configuring setuptools.\n    - Hatchling [uses](config/build.md#patterns) the same glob pattern syntax as Git itself for every option which is what most users are familiar with. On the other hand, setuptools uses shell-style glob patterns for source distributions while wheels use a mix of shell-style globs and Python package syntax.\n    - Configuring what gets included in source distributions requires a separate [`MANIFEST.in` file](https://setuptools.pypa.io/en/latest/userguide/miscellaneous.html#using-manifest-in). The custom syntax and directives must be learned and it is difficult knowing which options in the main files like `setup.py` influence the behavior and under what conditions. For Hatchling, everything gets [configured](config/build.md) in a single file under dedicated sections for specific targets like `[tool.hatch.build.targets.wheel]`.\n    - By default, non-Python files are excluded from wheels. Including such files requires usually verbose rules for every nested package directory. Hatchling makes no such distinction between file types and acts more like a general build system one might already be familiar with.\n- **Editable installations:** The default behavior of Hatchling allows for proper static analysis by external tools such as IDEs. With setuptools, you must provide [additional configuration](https://setuptools.pypa.io/en/latest/userguide/development_mode.html#legacy-behavior) which means that by default, for example, you would not get autocompletion in Visual Studio Code. This is marked as a legacy feature and may in fact be removed in future versions of setuptools.\n- **Reproducibility:** Hatchling builds reproducible wheels and source distributions by default. setuptools [does not support this](https://github.com/pypa/setuptools/issues/2133) for source distributions and there is no guarantee that wheels are reproducible.\n- **Extensibility:** Although it is possible to [extend](https://setuptools.pypa.io/en/latest/userguide/extension.html) setuptools, the API is quite low level. Hatchling has the concept of [plugins](https://hatch.pypa.io/latest/plugins/about/) that are separated into discrete types and only expose what is necessary, leading to an easier developer experience.\n\n***Why not?:***\n\nIf building extension modules is required then it is recommended that you continue using setuptools, or even other backends that specialize in interfacing with compilers.\n\n## Environment management\n\nHere we compare to both `tox` and `nox`. At a high level, there are a few common advantages:\n\n- **Python management:** Hatch is able to automatically download [Python distributions](plugins/environment/virtual.md#internal-distributions) on the fly when specific versions that environments request cannot be found. The alternatives will raise an error, with the option to ignore unknown distributions.\n- **Philosophy:** In the alternatives, environments are for the most part treated as executable units where a dependency set is associated with an action. If you are familiar with container ecosystems, this would be like defining a `CMD` at the end of a Dockerfile but without the ability to change the action at runtime. This involves significant wasted disk space usually because one often requires slight modifications to the actions and therefore will define entirely different environments inherited from a base config just to perform different logic. Additionally, this can be confusing to users not just configuration-wise but also for execution of the different environments.\n\n    In Hatch, [environments](environment.md) are treated as isolated areas where you can execute arbitrary commands at runtime. For example, you can define a single test environment with named [scripts](config/environment/overview.md#scripts) that runs unit vs non-unit tests, each command being potentially very long but named however you wish so you get to control the interface. Since environments are treated as places where work is performed, you can also [spawn a shell](environment.md#entering-environments) into any which will execute a subprocess that automatically drops into your [shell of choice](config/hatch.md#shell). Your shell will be configured appropriately like `python` on PATH being updated and the prompt being changed to reflect the chosen environment.\n\n- **Configuration:**\n    - `tox` only supports INI configuration and if one desires putting that in the standard `pyproject.toml` file then [it must be](https://tox.wiki/en/4.11.4/config.html#pyproject-toml) a multi-line string containing the INI config which would preclude syntax highlighting. Hatch allows for TOML-based config just like most other tools in the Python ecosystem.\n    - `nox` config is defined in Python which often leads to increased verbosity and makes it challenging to onboard folks compared to a standardized format with known behaviors.\n- **Extensibility:**\n    - `tox` allows for [extending](https://tox.wiki/en/4.11.4/plugins_api.html) most aspects of its functionality however the API is so low-level and attached to internals that creating plugins may be challenging. For example, [here](https://github.com/DataDog/integrations-core/blob/4f4cf10613797e97e7155c75859532a0732d1dff/datadog_checks_dev/datadog_checks/dev/plugin/tox.py) is a `tox` plugin that was [migrated](https://github.com/DataDog/integrations-core/blob/4eb2a1d530bcf810542cf9e45b48fadc7057301c/datadog_checks_dev/datadog_checks/dev/plugin/hatch/environment_collector.py#L100-L148) to an equivalent Hatch [environment collector plugin](plugins/environment-collector/reference.md).\n    - `nox` is configured with Python so for the local project you can do whatever you want, however there is no concept of third-party plugins per se. To achieve that, you must usually use a package that wraps `nox` and use that package's imports instead ([example](https://github.com/cjolowicz/nox-poetry)).\n\n***Why not?:***\n\nIf you are using `nox` and you wish to migrate, and for some reason you [notify](https://nox.thea.codes/en/stable/config.html#nox.sessions.Session.notify) sessions, then migration wouldn't be a straight translation but rather you might have to redesign that conditional step.\n\n## Python management\n\nHere we compare [Python management](tutorials/python/manage.md) to that of [pyenv](https://github.com/pyenv/pyenv).\n\n- ***Cross-platform:*** Hatch allows for the same experience no matter the system whereas `pyenv` does not support Windows so you must use an [entirely different project](https://github.com/pyenv-win/pyenv-win) that tries to emulate the functionality.\n- ***No build dependencies:*** Hatch guarantees that every [available distribution](cli/reference.md#hatch-python-show) is prebuilt whereas the alternative requires one to maintain a precise [build environment](https://github.com/pyenv/pyenv/wiki#suggested-build-environment) which differs by platform and potentially Python version. Another benefit to this is extremely fast installations since the distributions are simply downloaded and unpacked.\n- ***Optimized by default:*** The [CPython distributions](plugins/environment/virtual.md#cpython) are built with profile guided optimization and link-time optimization, resulting in a 10-30% performance improvement depending on the workload. These distributions have seen wide adoption throughout the industry and are even used by the build system [Bazel](https://bazel.build).\n- ***Simplicity:*** Hatch treats Python installations as just another directory that one would add to PATH. It can do this for you or you can manage PATH yourself, even allowing for custom install locations. On the other hand, `pyenv` operates by adding [shims](https://github.com/pyenv/pyenv/tree/74a2523c97d2e5c1dbdca7b58f3372324ccad4e6#understanding-shims) which then act as wrappers around the actual underlying binaries. This has many unfortunate side effects:\n    - It is incumbent upon the user to manage which specific Python comes first via the CLI, switch when necessary, and/or have a mental model of which versions are exposed globally and locally per-project. This can become confusing quite quickly. When working with Hatch, your global Python installations are only important insofar as they are on PATH somewhere since environments do not use them directly but rather create virtual environments from them, always using a version that is compatible with your project.\n    - Configuration is required for each shell to properly set up `pyenv` on start, leading to inconsistencies when running processes that do not spawn a shell.\n    - Debugging issues with Python search paths can be extremely difficult, especially for users of software. If you or users have ever ran into an issue where code was being executed that you did not anticipate, the issue is almost always `pyenv` influencing the `python` on PATH.\n\n***Why not?:***\n\nCurrently, Hatch does not allow for the installation of specific patch release versions but rather only uses minor release granularity that tracks the latest patch release. If specific patch releases are important to you then it is best to use an alternative installation mechanism.\n</code></pre>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html","title":"\u63d0\u793a\u8bcd\u5de5\u7a0b\uff08Prompt engineering)","text":"<p>\u672c\u6587\u8bb0\u5f55\u4e86\u5927\u8bed\u8a00\u6a21\u578b\uff08\u6709\u65f6\u79f0\u4e3a GPT \u6a21\u578b\uff09\u4e2d\u83b7\u5f97\u66f4\u597d\u7ed3\u679c\u7684\u7b56\u7565\u3002</p> <p>\u8fd9\u91cc\u6709OpenAI\u7684\u4e00\u4e9b\u6837\u4f8b\uff1ahttps://platform.openai.com/examples</p> <p>\u4e0b\u9762\u5217\u4e3e\u4e866\u79cd\u83b7\u53d6\u66f4\u597d\u7ed3\u679c\u7684\u7b56\u7565\u3002\u4e0b\u6587\u6240\u6709\u6837\u4f8b\u90fd\u662f\u4f7f\u7528\u7684GPT3.5\u6d4b\u8bd5\u7684\u3002</p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#_1","title":"\u4e00\u3001\u6e05\u6670\u7684\u6307\u4ee4","text":"<p>\u6a21\u578b\u65e0\u6cd5\u8bfb\u61c2\u4f60\u7684\u60f3\u6cd5\u3002\u5982\u679c\u6a21\u578b\u8f93\u51fa\u592a\u957f\uff0c\u8bf7\u8981\u6c42\u7b80\u77ed\u56de\u590d\u3002\u5982\u679c\u8f93\u51fa\u592a\u7b80\u5355\uff0c\u8bf7\u8981\u6c42\u4e13\u5bb6\u7ea7\u5199\u4f5c\u3002\u5982\u679c\u60a8\u4e0d\u559c\u6b22\u8fd9\u79cd\u683c\u5f0f\uff0c\u8bf7\u6f14\u793a\u60a8\u5e0c\u671b\u770b\u5230\u7684\u683c\u5f0f\u3002\u6a21\u578b\u5bf9\u4f60\u60f3\u8981\u4ec0\u4e48\u7684\u731c\u6d4b\u8d8a\u5c11\uff0c\u4f60\u5f97\u5230\u5b83\u7684\u53ef\u80fd\u6027\u5c31\u8d8a\u5927\u3002\u7b80\u5355\u6765\u8bf4\u9700\u8981\u5c06\u4f60\u6307\u4ee4\u8bf4\u6e05\u695a\uff0c\u4e0d\u8981\u7ed9\u4e00\u4e2a\u6a21\u7cca\u4e0d\u6e05\u7684\u9700\u6c42\u3002</p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#1","title":"\u7b56\u75651\uff1a\u5728\u67e5\u8be2\u4e2d\u5305\u542b\u8be6\u7ec6\u4fe1\u606f\u4ee5\u83b7\u53d6\u66f4\u76f8\u5173\u7684\u7b54\u6848","text":"<p>\u4e3a\u4e86\u83b7\u5f97\u9ad8\u5ea6\u76f8\u5173\u7684\u54cd\u5e94\uff0c\u8bf7\u786e\u4fdd\u8bf7\u6c42\u63d0\u4f9b\u4efb\u4f55\u91cd\u8981\u7684\u8be6\u7ec6\u4fe1\u606f\u6216\u4e0a\u4e0b\u6587\u3002\u5426\u5219\uff0c\u4f60\u5c31\u8981\u8ba9\u6a21\u578b\u6765\u731c\u6d4b\u4f60\u7684\u610f\u601d\u4e86\u3002</p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#1_1","title":"\u793a\u4f8b1\uff1a","text":"<p>\u5dee\u7684\u63d0\u793a\u8bcd\uff1a</p> <pre><code>\u5982\u4f55\u5728 Excel \u4e2d\u6dfb\u52a0\u6570\u5b57\n</code></pre> <p></p> <p>\u597d\u7684\u63d0\u793a\u8bcd\uff1a</p> <pre><code>\u5982\u4f55\u5728Excel\u4e2d\u5c06\u4e00\u884c\u7f8e\u5143\u91d1\u989d\u76f8\u52a0\uff1f\u6211\u60f3\u5bf9\u4e00\u6574\u884c\u81ea\u52a8\u6267\u884c\u6b64\u64cd\u4f5c\uff0c\u5c06\u7ed3\u679c\u4fdd\u5b58\u5728\u6240\u6709\u6570\u636e\u7684\u6700\u53f3\u4fa7\uff0c\u5217\u540d\u4e3a\u201c\u603b\u8ba1\u201d\u7684\u5217\u3002\n</code></pre> <p></p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#2","title":"\u793a\u4f8b2:","text":"<p>\u5dee\u7684\u63d0\u793a\u8bcd\uff1a</p> <pre><code>\u8c01\u662f\u603b\u7edf\uff1f\n</code></pre> <p></p> <p>\u597d\u7684\u63d0\u793a\u8bcd\uff1a</p> <pre><code>\u8c01\u662f 2021 \u5e74\u58a8\u897f\u54e5\u603b\u7edf\uff0c\u9009\u4e3e\u591a\u4e45\u4e3e\u884c\u4e00\u6b21\uff1f\n</code></pre> <p></p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#3","title":"\u793a\u4f8b3","text":"<p>\u5dee\u7684\u63d0\u793a\u8bcd\uff1a</p> <pre><code>\u7f16\u5199\u4ee3\u7801\u6765\u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\n</code></pre> <p></p> <p>\u597d\u7684\u63d0\u793a\u8bcd\uff1a</p> <pre><code>\u7f16\u5199\u4e00\u4e2a Python \u51fd\u6570\u6765\u6709\u6548\u5730\u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\u3002\u5bf9\u4ee3\u7801\u8fdb\u884c\u5927\u91cf\u6ce8\u91ca\uff0c\u4ee5\u89e3\u91ca\u6bcf\u6bb5\u4ee3\u7801\u7684\u4f5c\u7528\u4ee5\u53ca\u4e3a\u4ec0\u4e48\u8fd9\u6837\u7f16\u5199\u3002\n</code></pre> <p></p> <p></p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#4","title":"\u793a\u4f8b4","text":"<p>\u5dee\u7684\u63d0\u793a\u8bcd\uff1a</p> <pre><code>\u603b\u7ed3\u4f1a\u8bae\u8bb0\u5f55\n</code></pre> <p></p> <p>\u597d\u7684\u63d0\u793a\u8bcd</p> <pre><code>\u5728\u5355\u4e2a\u6bb5\u843d\u4e2d\u603b\u7ed3\u4f1a\u8bae\u8bb0\u5f55\u3002\u7136\u540e\u7528markdown\u5217\u8868\u8bb0\u5f55\u4e0b\u6bcf\u4e00\u4e2a\u6f14\u8bb2\u8005\u548c\u4ed6\u4eec\u7684\u6bcf\u4e2a\u5173\u952e\u70b9\u3002\u6700\u540e\uff0c\u5217\u51fa\u6f14\u8bb2\u8005\u5efa\u8bae\u7684\u540e\u7eed\u6b65\u9aa4\u6216\u884c\u52a8\u9879\u76ee\uff08\u5982\u679c\u6709\uff09\u3002\n</code></pre> <p></p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#2_1","title":"\u7b56\u75652\uff1a\u8981\u6c42\u6a21\u578b\u4f7f\u7528\u89d2\u8272","text":"<p>system message \u53ef\u7528\u4e8e\u6307\u5b9a\u6a21\u578b\u5728\u5176\u56de\u590d\u4e2d\u4f7f\u7528\u7684\u89d2\u8272\u3002</p> <pre><code>SYSTEM: \u5f53\u6211\u8bf7\u6c42\u5e2e\u52a9\u5199\u4e00\u4e9b\u4e1c\u897f\u65f6\uff0c\u4f60\u4f1a\u56de\u590d\u4e00\u4efd\u6587\u6863\uff0c\u6bcf\u4e2a\u6bb5\u843d\u4e2d\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u7b11\u8bdd\u6216\u4fcf\u76ae\u7684\u8bc4\u8bba\u3002\nUSER: \u7ed9\u6211\u7684\u94a2\u87ba\u6813\u4f9b\u5e94\u5546\u5199\u4e00\u5c01\u611f\u8c22\u4fe1\uff0c\u611f\u8c22\u4ed6\u4eec\u5728\u77ed\u65f6\u95f4\u5185\u6309\u65f6\u4ea4\u8d27\u3002\u8fd9\u4f7f\u6211\u4eec\u80fd\u591f\u4ea4\u4ed8\u4e00\u4e2a\u91cd\u8981\u7684\u8ba2\u5355\u3002\n</code></pre> <p></p> <p></p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#3_1","title":"\u7b56\u75653\uff1a\u4f7f\u7528\u5206\u9694\u7b26\u6e05\u695a\u7684\u6307\u793a\u8f93\u5165\u7684\u4e0d\u540c\u90e8\u5206","text":"<p>\u4e09\u5f15\u53f7\u3001XML \u6807\u8bb0\u3001\u7ae0\u8282\u6807\u9898\u7b49\u5206\u9694\u7b26\u53ef\u4ee5\u5e2e\u52a9\u5212\u5206\u8981\u533a\u522b\u5bf9\u5f85\u7684\u6587\u672c\u90e8\u5206\u3002</p> <p>\u793a\u4f8b1\uff1a</p> <pre><code>\u4f7f\u7528\u4e09\u884c\u8bd7\u53e5\u6982\u8ff0\u4e0b\u9762\u4e09\u5f15\u53f7\u4e2d\u7684\u5185\u5bb9\u3002\n\n\"\"\"\n\u3000\u8c6b\u7ae0\u6545\u90e1\uff0c\u6d2a\u90fd\u65b0\u5e9c\u3002\u661f\u5206\u7ffc\u8f78\uff0c\u5730\u63a5\u8861\u5e90\u3002\u895f\u4e09\u6c5f\u800c\u5e26\u4e94\u6e56\uff0c\u63a7\u86ee\u8346\u800c\u5f15\u74ef\u8d8a\u3002\u7269\u534e\u5929\u5b9d\uff0c\u9f99\u5149\u5c04\u725b\u6597\u4e4b\u589f\uff1b\u4eba\u6770\u5730\u7075\uff0c\u5f90\u5b7a\u4e0b\u9648\u8543\u4e4b\u69bb\u3002\u96c4\u5dde\u96fe\u5217\uff0c\u4fca\u91c7\u661f\u9a70\u3002\u53f0\u968d\u6795\u5937\u590f\u4e4b\u4ea4\uff0c\u5bbe\u4e3b\u5c3d\u4e1c\u5357\u4e4b\u7f8e\u3002\u90fd\u7763\u960e\u516c\u4e4b\u96c5\u671b\uff0c\u68e8\u621f\u9065\u4e34\uff1b\u5b87\u6587\u65b0\u5dde\u4e4b\u61ff\u8303\uff0c\u895c\u5e37\u6682\u9a7b\u3002\u5341\u65ec\u4f11\u5047\uff0c\u80dc\u53cb\u5982\u4e91\uff1b\u5343\u91cc\u9022\u8fce\uff0c\u9ad8\u670b\u6ee1\u5ea7\u3002\u817e\u86df\u8d77\u51e4\uff0c\u5b5f\u5b66\u58eb\u4e4b\u8bcd\u5b97\uff1b\u7d2b\u7535\u9752\u971c\uff0c\u738b\u5c06\u519b\u4e4b\u6b66\u5e93\u3002\u5bb6\u541b\u4f5c\u5bb0\uff0c\u8def\u51fa\u540d\u533a\uff1b\u7ae5\u5b50\u4f55\u77e5\uff0c\u8eac\u9022\u80dc\u996f\u3002\n\"\"\"\n</code></pre> <p></p> <p>\u793a\u4f8b2\uff1a</p> <pre><code>\u4f60\u5c06\u83b7\u5f97\u4e24\u7bc7\u5173\u4e8e\u540c\u4e00\u4e3b\u9898\u7684\u6587\u7ae0\uff08\u7528 XML \u6807\u8bb0\u5206\u9694\uff09\u3002\u9996\u5148\u603b\u7ed3\u6bcf\u7bc7\u6587\u7ae0\u7684\u8bba\u70b9\u3002\u7136\u540e\u6307\u51fa\u4ed6\u4eec\u4e2d\u54ea\u4e00\u4e2a\u63d0\u51fa\u4e86\u66f4\u597d\u7684\u8bba\u70b9\u5e76\u89e3\u91ca\u539f\u56e0\u3002\n\n&lt;article&gt;\n\u73cd\u60dc\u65f6\u5149\n\n\u65f6\u95f4\uff0c\u5982\u540c\u6d41\u6c34\u822c\u5306\u5306\u800c\u8fc7\uff0c\u8f6c\u77ac\u95f4\u6211\u4eec\u5c31\u53d1\u73b0\u81ea\u5df1\u7ad9\u5728\u4e86\u5c81\u6708\u7684\u5cb8\u8fb9\uff0c\u56de\u9996\u5f80\u4e8b\uff0c\u4e0d\u7981\u611f\u53f9\u5149\u9634\u6613\u901d\uff0c\u751f\u547d\u5982\u767d\u9a79\u8fc7\u9699\uff0c\u8f6c\u773c\u95f4\u5c31\u901d\u53bb\u4e86\u5927\u534a\u3002\n\n\u73cd\u60dc\u65f6\u95f4\uff0c\u5c31\u662f\u73cd\u60dc\u751f\u547d\u3002\u6bcf\u4e00\u523b\u7684\u6d41\u901d\u90fd\u662f\u4e0d\u53ef\u633d\u56de\u7684\uff0c\u6211\u4eec\u5e94\u8be5\u5b66\u4f1a\u73cd\u60dc\u773c\u524d\u7684\u65f6\u5149\uff0c\u628a\u63e1\u5f53\u4e0b\u7684\u6bcf\u4e00\u4e2a\u673a\u4f1a\uff0c\u6d3b\u51fa\u7cbe\u5f69\u7684\u4eba\u751f\u3002\u6b63\u5982\u838e\u58eb\u6bd4\u4e9a\u6240\u8bf4\uff1a\u201c\u6628\u5929\u5df2\u6210\u4e3a\u5386\u53f2\uff0c\u660e\u5929\u5c1a\u5f85\u628a\u63e1\uff0c\u552f\u6709\u4eca\u5929\u662f\u6211\u4eec\u53ef\u4ee5\u628a\u63e1\u7684\u65f6\u5149\u3002\u201d\n\n\u73cd\u60dc\u65f6\u95f4\uff0c\u5c31\u662f\u73cd\u60dc\u4e0e\u4eb2\u4eba\u7684\u76f8\u5904\u3002\u751f\u6d3b\u4e2d\uff0c\u6211\u4eec\u5e38\u5e38\u56e0\u4e3a\u5fd9\u788c\u800c\u5ffd\u7565\u4e86\u8eab\u8fb9\u6700\u4eb2\u8fd1\u7684\u4eba\uff0c\u7b49\u5230\u60f3\u8981\u6293\u7d27\u65f6\u95f4\u966a\u4f34\u65f6\uff0c\u5374\u53d1\u73b0\u65f6\u5149\u5df2\u7ecf\u6e9c\u8d70\uff0c\u7559\u4e0b\u4e86\u65e0\u5c3d\u7684\u9057\u61be\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5e94\u8be5\u53ca\u65f6\u62bd\u51fa\u5b9d\u8d35\u7684\u65f6\u95f4\uff0c\u966a\u4f34\u5bb6\u4eba\uff0c\u4e0e\u4ed6\u4eec\u5206\u4eab\u5feb\u4e50\uff0c\u5171\u5ea6\u65f6\u5149\u3002\n\n\u73cd\u60dc\u65f6\u95f4\uff0c\u5c31\u662f\u73cd\u60dc\u5b66\u4e60\u7684\u673a\u4f1a\u3002\u4eba\u751f\u77ed\u6682\uff0c\u77e5\u8bc6\u5374\u662f\u65e0\u7a77\u65e0\u5c3d\u7684\u3002\u5728\u6709\u9650\u7684\u65f6\u95f4\u91cc\uff0c\u6211\u4eec\u5e94\u8be5\u52aa\u529b\u5b66\u4e60\uff0c\u4e0d\u65ad\u63d0\u5347\u81ea\u5df1\uff0c\u5f00\u62d3\u601d\u7ef4\uff0c\u4e30\u5bcc\u5185\u6db5\u3002\u552f\u6709\u4e0d\u65ad\u5b66\u4e60\uff0c\u624d\u80fd\u4e0e\u65f6\u4ff1\u8fdb\uff0c\u4e0d\u88ab\u65f6\u4ee3\u6240\u6dd8\u6c70\u3002\n\n\u73cd\u60dc\u65f6\u95f4\uff0c\u5c31\u662f\u73cd\u60dc\u751f\u547d\u4e2d\u7684\u6bcf\u4e00\u4e2a\u7f8e\u597d\u77ac\u95f4\u3002\u65e0\u8bba\u662f\u9633\u5149\u660e\u5a9a\u7684\u65e9\u6668\uff0c\u8fd8\u662f\u661f\u5149\u7480\u74a8\u7684\u591c\u665a\uff0c\u90fd\u662f\u751f\u547d\u4e2d\u503c\u5f97\u73cd\u60dc\u7684\u65f6\u523b\u3002\u8ba9\u6211\u4eec\u628a\u63e1\u6bcf\u4e00\u4e2a\u673a\u4f1a\uff0c\u4eab\u53d7\u751f\u6d3b\u5e26\u6765\u7684\u7f8e\u597d\uff0c\u8ba9\u6bcf\u4e00\u5929\u90fd\u5145\u6ee1\u9633\u5149\u548c\u5e0c\u671b\u3002\n\n\u73cd\u60dc\u65f6\u95f4\uff0c\u56e0\u4e3a\u5b83\u662f\u751f\u547d\u7684\u7cbe\u534e\uff0c\u662f\u6211\u4eec\u5b9e\u73b0\u68a6\u60f3\u3001\u8ffd\u6c42\u5e78\u798f\u7684\u57fa\u77f3\u3002\u8ba9\u6211\u4eec\u4ece\u73b0\u5728\u5f00\u59cb\uff0c\u73cd\u60dc\u6bcf\u4e00\u5206\u6bcf\u4e00\u79d2\uff0c\u6d3b\u51fa\u7cbe\u5f69\u7684\u4eba\u751f\u3002\n &lt;/article&gt;\n\n &lt;article&gt;\n\u73cd\u60dc\u65f6\u5149\n\u4e4c\u98de\u514d\u8d70\u7684\u65f6\u5149\u91cc\uff0c\u6211\u4eec\u8981\u63e1\u7d27\u81ea\u5df1\u7684\u9752\u6625\u3002\n\n\u5f53\u4f60\u8fd8\u5728\u4e3a\u4e00\u4ef6\u5c0f\u4e8b\u4f24\u5fc3\u4e0d\u5df2\u65f6\uff0c\u90a3\u4e48\u8bf7\u62ac\u5934\u770b\u770b\u5899\u4e0a\u7684\u6302\u5386\u5b83\u5df2\u6084\u65e0\u58f0\u606f\u5730\u53c8\u88ab\u7ffb\u8fc7\u4e00\u9875\u3002\n\n\u5f53\u4f60\u8fd8\u5728\u611f\u53f9\u4e16\u95f4\u7684\u79cd.\u79cd\u4e0d\u516c\u5e73\u65f6\uff0c\u90a3\u4e48\u8bf7\u62ac\u5934\u770b\u770b\u65e5\u5386\uff0c\u5b83\u5df2\u6084\u65e0\u58f0\u606f\u5730\u53c8\u5e26\u8d70\u4e86\u4e00\u5929;\n\n\u5f53\u4f60\u8fd8\u5728\u55a7\u95f9\u7684\u5927\u8857\u5f98\u5f8a\uff0c\u90a3\u4e48\u8bf7\u770b\u770b\u65e5\u5386\uff0c\u5b83\u5df2\u6084\u65e0\u58f0\u606f\u5730\u5077\u8d70\u4e86\u65f6\u5149\u3002\n\n\u6240\u4ee5\uff0c\u5e74\u8f7b\u7684\u6211\u4eec\uff0c\u4f55\u4e0d\u8e0f\u7740\u65f6\u95f4\u7684\u811a\u5370\uff0c\u63e1\u7d27\u81ea\u5df1\u7684\u9752\u6625\u3002\n\n\u5f53\u65e0\u6570\u4eba\u8fd8\u5728\u4e3a\u4f55\u53bb\u4f55\u4ece\u800c\u5fe7\u6101\u4e0d\u5df2\u65f6\uff0c\u9c81\u8fc5\u65e9\u5df2\u63e1\u7d27\u624b\u4e2d\u7684\u7b14\u523a\u5411\u654c\u4eba\u7684\u5fc3\u810f\u3002\u4ed6\u6324\u51fa\u4e00\u5207\u65f6\u95f4\u53bb\u521b\u4f5c\uff0c\u5199\u51fa\u4e86\u201c\u5bc4\u610f\u5bd2\u661f\u8343\u4e0d\u5bdf\u6211\u4ee5\u6211\u5b58\u8f69\u8f95\u201d\u7684\u8c6a\u60c5\u58ee\u8bed\u3002\u4ed6\u7528\u4e00\u7bc7\u7bc7\u6587\u7ae0\u97ad\u631e\u4e86\u5c01\u5efa\u793e\u4f1a\u60e8\u65e0\u4eba\u9053\u7684\u66b4\u884c\uff0c\u63ed\u9732\u4e86\u4fb5\u7565\u8005\u7684\u4e11\u6076\u5634\u8138\uff0c\u8d5e\u626c\u4e86\u6562\u4e8e\u76f4\u9762\u60e8\u6de1\u4eba\u751f\u7684\u62fc\u640f\u8005\u3002\u4ed6\u6210\u4e86\u4f1f\u5927\u7684\u601d\u60f3\u5bb6\u3001\u9769\u547d\u5bb6\u3001\u6587\u5b66\u5bb6\u3002\u4ed6\u7684\u521b\u4f5c\uff0c\u4ed6\u7684\u4e0d\u673d\u8457\u4f5c\u4e0d\u6b63\u662f\u4ed6\u5229\u7528\u522b\u4eba\u559d\u5496\u5561\u7684\u65f6\u95f4\u5199\u51fa\u6765\u7684\u5417?\u6240\u4ee5\uff0c\u5f53\u65f6\u95f4\u8001\u4eba\u624b\u63e1\u94a2\u97ad\u9a71\u8d76\u65e5\u5386\u5411\u524d\u7ffb\u8f6c\u65f6\uff0c\u6211\u4eec\u4e00\u5b9a\u8981\u5145\u5206\u5229\u7528\u81ea\u5df1\u7684\u5b9d\u8d35\u65f6\u95f4\uff0c\u4e0d\u8981\u8ba9\u81ea\u5df1\u7559\u4e0b\u9057\u61be\u3002\n\n\u5f53\u5ba2\u4eba\u805a\u96c6\u5728\u5ba2\u5385\u6b22\u4e50\uff0c\u5f53\u5ba2\u4eba\u805a\u96c6\u5728\u9910\u684c\u65c1\u8fdb\u9910\uff0c\u725b\u987f\u5374\u4e00\u4eba\u57cb\u5934\u4e13\u5fc3\u81f4\u5fd7\u5730\u505a\u5b9e\u9a8c\u3002\u4ed6\u5229\u7528\u4e00\u5207\u65f6\u95f4\u53bb\u505a\u5b9e\u9a8c\uff0c\u624d\u6709\u4e86\u725b\u987f\u8fd0\u52a8\u5b9a\u5f8b\u7b49\u4f1f\u5927\u6210\u5c31\u3002\u4ed6\u73cd\u60dc\u4e00\u5207\u65f6\u95f4\u751a\u81f3\u4e8e\u5fd8\u8bb0\u4e86\u81ea\u5df1\uff0c\u4ed6\u5168\u8eab\u5fc3\u6295\u5165\u5230\u79d1\u5b66\u7814\u7a76\u3002\u6240\u4ee5\uff0c\u5f53\u592a\u9633\u795e\u9a7e\u7740\u9a6c\u8f66\uff0c\u62c9\u7740\u592a\u9633\u5728\u5929\u7a7a\u98de\u901f\u884c\u9a76\u65f6\uff0c\u6211\u4eec\u8be5\u660e\u767d\u4e00\u4e2a\u771f\u7406\uff0c\u65f6\u5149\u4e0d\u4f1a\u9006\u6d41\u3002\u90a3\u4e48\uff0c\u6211\u4eec\u5c31\u8be5\u63e1\u7d27\u6bcf\u4e00\u5206\u79cd\uff0c\u751a\u81f3\u6bcf\u4e00\u79d2\u949f\uff0c\u53bb\u505a\u6709\u610f\u4e49\u7684\u4e8b\u3002\n\n\u8d70\u5728\u5386\u53f2\u7684\u957f\u5eca\u4e2d\uff0c\u968f\u5904\u53ef\u89c1\u544a\u8beb\u4eba\u4eec\u8981\u73cd\u60dc\u65f6\u5149\u7684\u540d\u53e5\u3002\u300a\u957f\u6b4c\u300b\u4e2d\u7684\u201c\u5c11\u58ee\u4e0d\u52aa\u529b\uff0c\u8001\u5927\u5f92\u4f24\u60b2\u201d\uff0c\u5cb3\u98de\u7684\u201c\u83ab\u7b49\u95f2\uff0c\u767d\u4e86\u5c11\u5e74\u5934\uff0c\u7a7a\u60b2\u5207\u201d\uff0c\u65e0\u4e00\u4e0d\u5728\u8b66\u9192\u4eba\u4eec\u73cd\u60dc\u65f6\u5149\u3002\u5f53\u6211\u4eec\u773c\u7741\u7741\u770b\u7740\u5899\u4e0a\u7684\u65e5\u5386\u4e00\u9875\u4e00\u9875\u98de\u901f\u7ffb\u52a8\uff0c\u6211\u4eec\u7a81\u7136\u95f4\u610f\u8bc6\u5230\uff0c\u65f6\u5149\u4e00\u53bb\u4e0d\u590d\u8fd4\u3002\u767d\u9a79\u8fc7\u9699\uff0c\u65f6\u5149\u4ece\u6307\u7f1d\u4e2d\u6084\u6084\u6d41\u8d70\u3002\u4e00\u4e8b\u65e0\u6210\u7684\u6211\u4eec\u7d27\u9501\u7709\u5934\uff0c\u6beb\u65e0\u9057\u61be\u7684\u6211\u4eec\u9762\u9732\u5fae\u7b11\u3002\n\n\u662f\u7684\uff0c\u6768\u67f3\u67af\u4e86\uff0c\u6709\u518d\u9752\u7684\u65f6\u5019;\u6843\u82b1\u8c22\u4e86\uff0c\u6709\u518d\u5f00\u7684\u65f6\u5019;\u71d5\u5b50\u98de\u4e86\uff0c\u6709\u518d\u56de\u7684\u65f6\u5019;\u53ef\u65f6\u5149\u8d70\u4e86\uff0c\u5c31\u518d\u4e5f\u65e0\u6cd5\u633d\u56de\u3002\n\n\u6240\u4ee5\uff0c\u5e74\u8f7b\u7684\u6211\u4eec\u63e1\u7d27\u81ea\u5df1\u7684\u7f8e\u597d\u9752\u6625\uff0c\u8e0f\u4e0a\u6f2b\u6f2b\u4eba\u751f\u8def\u3002\n &lt;/article&gt;\n</code></pre> <p></p> <p>\u8865\u5145\u8bf4\u660e\uff1a\u7b2c\u4e00\u7bc7\u6587\u7ae0\u662fGPT\u751f\u6210\u7684\uff0c\u7b2c\u4e8c\u7bc7\u6587\u7ae0\u662fGoogle\u641c\u7d22\u201c\u73cd\u60dc\u65f6\u5149\u201d\u641c\u7d22\u5230\u7684\u3002</p> <p>\u793a\u4f8b3\uff1a</p> <pre><code>\u4f60\u5c06\u83b7\u5f97\u8bba\u6587\u6458\u8981\u548c\u5efa\u8bae\u7684\u6807\u9898\u3002\u8bba\u6587\u6807\u9898\u5e94\u8be5\u8ba9\u8bfb\u8005\u5bf9\u8bba\u6587\u7684\u4e3b\u9898\u6709\u4e00\u4e2a\u5f88\u597d\u7684\u4e86\u89e3\uff0c\u4f46\u4e5f\u5e94\u8be5\u5f15\u4eba\u6ce8\u76ee\u3002\u5982\u679c\u6807\u9898\u4e0d\u7b26\u5408\u8fd9\u4e9b\u6807\u51c6\uff0c\u8bf7\u5efa\u8bae 5 \u4e2a\u5907\u9009\u65b9\u6848\u3002\n\n\u6458\u8981\uff1aLarge pre-trained language models have been shown to store factual knowledge\nin their parameters, and achieve state-of-the-art results when fine-tuned on downstream NLP tasks. However, their ability to access and precisely manipulate knowledge is still limited, and hence on knowledge-intensive tasks, their performance\nlags behind task-specific architectures. Additionally, providing provenance for their\ndecisions and updating their world knowledge remain open research problems. Pretrained models with a differentiable access mechanism to explicit non-parametric\nmemory have so far been only investigated for extractive downstream tasks. We\nexplore a general-purpose fine-tuning recipe for retrieval-augmented generation\n(RAG) \u2014 models which combine pre-trained parametric and non-parametric memory for language generation. We introduce RAG models where the parametric\nmemory is a pre-trained seq2seq model and the non-parametric memory is a dense\nvector index of Wikipedia, accessed with a pre-trained neural retriever. We compare two RAG formulations, one which conditions on the same retrieved passages\nacross the whole generated sequence, and another which can use different passages\nper token. We fine-tune and evaluate our models on a wide range of knowledgeintensive NLP tasks and set the state of the art on three open domain QA tasks,\noutperforming parametric seq2seq models and task-specific retrieve-and-extract\narchitectures. For language generation tasks, we find that RAG models generate\nmore specific, diverse and factual language than a state-of-the-art parametric-only\nseq2seq baseline.\n\n\u6807\u9898\uff1aRetrieval-Augmented Generation for Knowledge-Intensive NLP Tasks\n</code></pre> <p></p> <p>\u8865\u5145\u8bf4\u660e\uff1a\u8bba\u6587\u6807\u9898\u548c\u6458\u8981\u53c2\u8003\u81eaRetrieval-Augmented Generation for Knowledge-Intensive NLP Tasks</p> <p>\u5bf9\u4e8e\u6b64\u7c7b\u7b80\u5355\u660e\u4e86\u7684\u4efb\u52a1\uff0c\u4f7f\u7528\u5206\u9694\u7b26\u53ef\u80fd\u4e0d\u4f1a\u5bf9\u8f93\u51fa\u8d28\u91cf\u4ea7\u751f\u5f71\u54cd\u3002\u4f46\u662f\uff0c\u4efb\u52a1\u8d8a\u590d\u6742\uff0c\u6d88\u9664\u4efb\u52a1\u7ec6\u8282\u7684\u6b67\u4e49\u5c31\u8d8a\u91cd\u8981\u3002</p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#4_1","title":"\u7b56\u75654\uff1a \u6307\u5b9a\u5b8c\u6210\u4efb\u52a1\u6240\u9700\u7684\u6b65\u9aa4","text":"<p>\u67d0\u4e9b\u4efb\u52a1\u6700\u597d\u6307\u5b9a\u4e3a\u4e00\u7cfb\u5217\u6b65\u9aa4\u3002\u663e\u5f0f\u5199\u51fa\u6b65\u9aa4\u53ef\u4ee5\u4f7f\u6a21\u578b\u66f4\u5bb9\u6613\u9075\u5faa\u5b83\u4eec\u3002</p> <p>\u793a\u4f8b1\uff1a</p> <pre><code>\u4f7f\u7528\u4ee5\u4e0b\u5206\u6b65\u8bf4\u660e\u6765\u54cd\u5e94\u7528\u6237\u8f93\u5165\u3002\n\n\u7b2c 1 \u6b65 - \u7528\u6237\u5c06\u4e3a\u60a8\u63d0\u4f9b\u4e09\u5f15\u53f7\u7684\u6587\u672c\u3002\u7528\u4e00\u53e5\u8bdd\u603b\u7ed3\u8fd9\u6bb5\u6587\u5b57\uff0c\u524d\u7f00\u662f\u201c\u6458\u8981\uff1a\u201d\u3002\n\n\u7b2c 2 \u6b65 - \u5c06\u7b2c 1 \u6b65\u4e2d\u7684\u6458\u8981\u7ffb\u8bd1\u6210\u82f1\u8bed\uff0c\u524d\u7f00\u4e3a\u201c\u7ffb\u8bd1\uff1a\u201d\n\n\"\"\"\n\u300a\u6d6e\u751f\u516d\u8bb0\u300b\u00b7\u5377\u4e00 \u95fa\u623f\u8bb0\u4e50\uff081\uff09\n\u5377\u4e00\u95fa\u623f\u8bb0\u4e50\n\n\u4f59\u751f\u4e7e\u9686\u7678\u672a\u51ac\u5341\u4e00\u6708\u4e8c\u5341\u6709\u4e8c\u65e5\uff0c\u6b63\u503c\u592a\u5e73\u76db\u4e16\uff0c\u4e14\u5728\u8863\u51a0\u4e4b\u5bb6\uff0c\u5c45\u82cf\u5dde\u6ca7\u6d6a\u4ead\u7554\uff0c\u5929\u4e4b\u539a\u6211\u53ef\u8c13\u81f3\u77e3\u3002\u4e1c\u5761\u4e91\uff1a\u201c\u4e8b\u5982\u6625\u68a6\u4e86\u65e0\u75d5\u201d\uff0c\u82df\u4e0d\u8bb0\u4e4b\u7b14\u58a8\uff0c\u672a\u514d\u6709\u8f9c\u5f7c\u82cd\u4e4b\u539a\u3002\n\n\u56e0\u601d\u300a\u5173\u9e20\u300b\u51a0\u4e09\u767e\u7bc7\u4e4b\u9996\uff0c\u6545\u5217\u592b\u5987\u4e8e\u9996\u5377\uff1b\u4f59\u4ee5\u6b21\u9012\u53ca\u7109\u3002\u6240\u6127\u5c11\u5e74\u5931\u5b66\uff0c\u7a0d\u8bc6\u4e4b\u65e0\uff0c\u4e0d\u8fc7\u8bb0\u5176\u5b9e\u60c5\u5b9e\u4e8b\u800c\u5df2\u3002\u82e5\u5fc5\u8003\u8ba2\u5176\u6587\u6cd5\uff0c\u662f\u8d23\u660e\u4e8e\u57a2\u9274\u77e3\u3002\n\n\u4f59\u5e7c\u8058\u91d1\u6c99\u4e8e\u6c0f\uff0c\u516b\u9f84\u800c\u592d\uff1b\u5a36\u9648\u6c0f\u3002\u9648\u540d\u82b8\uff0c\u5b57\u6dd1\u73cd\uff0c\u8205\u6c0f\u5fc3\u4f59\u5148\u751f\u5973\u4e5f\u3002\u751f\u800c\u9896\u6167\uff0c\u5b66\u8bed\u65f6\uff0c\u53e3\u6388\u300a\u7435\u7436\u884c\u300b\uff0c\u5373\u80fd\u6210\u8bf5\u3002\u56db\u9f84\u5931\u6019\uff1b\u6bcd\u91d1\u6c0f\uff0c\u5f1f\u514b\u660c\uff0c\u5bb6\u5f92\u58c1\u7acb\u3002\u82b8\u65e2\u957f\uff0c\u5a34\u5973\u7ea2\uff0c\u4e09\u53e3\u4ef0\u5176\u5341\u6307\u4f9b\u7ed9\uff1b\u514b\u660c\u4ece\u5e08\u4fee\u812f\u65e0\u7f3a\u3002\u4e00\u65e5\uff0c\u4e8e\u4e66\u7c0f\u4e2d\u5f97\u300a\u7435\u7436\u884c\u300b\uff0c\u6328\u5b57\u800c\u8ba4\uff0c\u59cb\u8bc6\u5b57\u3002\u523a\u7ee3\u4e4b\u6687\uff0c\u6e10\u901a\u541f\u548f\uff0c\u6709\u201c\u79cb\u4fb5\u4eba\u5f71\u7626\uff0c\u971c\u67d3\u83ca\u82b1\u80a5\u201d\u4e4b\u53e5\u3002\n\n\u4f59\u5e74\u5341\u4e09\uff0c\u968f\u6bcd\u5f52\u5b81\uff0c\u4e24\u5c0f\u65e0\u5acc\uff0c\u5f97\u89c1\u6240\u4f5c\uff0c\u867d\u53f9\u5176\u624d\u601d\u96bd\u79c0\uff0c\u7a83\u6050\u5176\u798f\u6cfd\u4e0d\u6df1\uff1b\u7136\u5fc3\u6ce8\u4e0d\u80fd\u91ca\uff0c\u544a\u6bcd\u66f0\uff1a\u201c\u82e5\u4e3a\u513f\u62e9\u5987\uff0c\u975e\u6dd1\u59ca\u4e0d\u5a36\u3002\u201d\u6bcd\u4ea6\u7231\u5176\u67d4\u548c\uff0c\u5373\u8131\u91d1\u7ea6\u6307\u7f14\u59fb\u7109\u3002\u6b64\u4e7e\u9686\u4e59\u672b\u4e03\u6708\u5341\u516d\u65e5\u4e5f\u3002\n\n\u662f\u5e74\u51ac\uff0c\u503c\u5176\u5802\u59ca\u51fa\u9601\uff0c\u4f59\u53c8\u968f\u6bcd\u5f80\u3002\n\n\u82b8\u4e0e\u4f59\u540c\u9f7f\u800c\u957f\u4f59\u5341\u6708\uff0c\u81ea\u5e7c\u59ca\u5f1f\u76f8\u547c\uff0c\u6545\u4ecd\u547c\u4e4b\u66f0\u6dd1\u59ca\u3002\n\n\u65f6\u4f46\u89c1\u6ee1\u5ba4\u9c9c\u8863\uff0c\u82b8\u72ec\u901a\u4f53\u7d20\u6de1\uff0c\u4ec5\u65b0\u5176\u978b\u800c\u5df2\u3002\u89c1\u5176\u7ee3\u5236\u7cbe\u5de7\uff0c\u8be2\u4e3a\u5df1\u4f5c\uff0c\u59cb\u77e5\u5176\u6167\u5fc3\u4e0d\u4ec5\u5728\u7b14\u58a8\u4e5f\u3002\n\n\u5176\u5f62\u524a\u80a9\u957f\u9879\uff0c\u7626\u4e0d\u9732\u9aa8\uff0c\u7709\u5f2f\u76ee\u79c0\uff0c\u987e\u76fc\u795e\u98de\uff0c\u552f\u4e24\u9f7f\u5fae\u9732\uff0c\u4f3c\u975e\u4f73\u76f8\u3002\u4e00\u79cd\u7f20\u7ef5\u4e4b\u6001\uff0c\u4ee4\u4eba\u4e4b\u610f\u4e5f\u6d88\u3002\n\n\u7d22\u89c2\u8bd7\u7a3f\uff0c\u6709\u4ec5\u4e00\u8054\uff0c\u6216\u4e09\u56db\u53e5\uff0c\u591a\u672a\u6210\u7bc7\u8005\u3002\u8be2\u5176\u6545\uff0c\u7b11\u66f0\uff1a\u201c\u65e0\u5e08\u4e4b\u4f5c\uff0c\u613f\u5f97\u77e5\u5df1\u582a\u5e08\u8005\u6572\u6210\u4e4b\u8033\u3002\u201d\u4f59\u620f\u9898\u5176\u7b7e\u66f0\u201c\u9526\u56ca\u4f73\u53e5\u201d\uff0c\u4e0d\u77e5\u592d\u5bff\u4e4b\u673a\u6b64\u5df2\u4f0f\u77e3\u3002\n\n\u662f\u591c\u9001\u4eb2\u57ce\u5916\uff0c\u8fd4\uff0c\u5df2\u6f0f\u4e09\u4e0b\u3002\u8179\u9965\u7d22\u9975\uff0c\u5a62\u59aa\u4ee5\u67a3\u812f\u8fdb\uff0c\u4f59\u5acc\u5176\u751c\u3002\u82b8\u6697\u7275\u4f59\u8896\uff0c\u968f\u81f3\u5176\u5ba4\uff0c\u89c1\u85cf\u6709\u6696\u7ca5\u5e76\u5c0f\u83dc\u7109\u3002\u4f59\u6b23\u7136\u4e3e\u7bb8\uff0c\u5ffd\u95fb\u82b8\u5802\u5144\u7389\u8861\u547c\u66f0\uff1a\u201c\u6dd1\u59b9\u901f\u6765\uff01\u201d\u82b8\u6025\u95ed\u95e8\u66f0\uff1a\u201c\u5df2\u75b2\u4e4f\uff0c\u5c06\u5367\u77e3\u3002\u201d\u7389\u8861\u6324\u8eab\u800c\u5165\uff0c\u89c1\u4f59\u5c06\u5403\u7ca5\uff0c\u4e43\u7b11\u7768\u82b8\u66f0\uff1a\u201c\u9877\u6211\u7d22\u7ca5\uff0c\u6c5d\u66f0\u2018\u5c3d\u77e3\u2019\uff0c\u4e43\u85cf\u6b64\u4e13\u5f85\u6c5d\u5a7f\u8036\uff1f\u201d\u82b8\u5927\u7a98\u907f\u53bb\uff0c\u4e0a\u4e0b\u54d7\u7b11\u4e4b\u3002\u4f59\u4ea6\u8d1f\u6c14\uff0c\u6308\u8001\u4ec6\u5148\u5f52\u3002\n\n\u81ea\u5403\u7ca5\u88ab\u5632\uff0c\u518d\u5f80\uff0c\u82b8\u5373\u907f\u533f\uff0c\u4f59\u77e5\u5176\u6050\u8d3b\u4eba\u7b11\u4e5f\u3002\n\n\u81f3\u4e7e\u9686\u5e9a\u5b50\u6b63\u6708\u4e8c\u5341\u4e8c\u65e5\u82b1\u70db\u4e4b\u5915\uff0c\u89c1\u7626\u602f\u8eab\u6750\u4f9d\u7136\u5982\u6614\uff0c\u5934\u5dfe\u5df2\u63ed\uff0c\u76f8\u89c6\u5ae3\u7136\u3002\u5408\u537a\u540e\uff0c\u5e76\u80a9\u591c\u81b3\uff0c\u4f59\u6697\u4e8e\u6848\u4e0b\u63e1\u5176\u8155\uff0c\u6696\u5c16\u6ed1\u817b\uff0c\u80f8\u4e2d\u4e0d\u89c9\u6026\u6026\u4f5c\u8df3\u3002\u8ba9\u4e4b\u98df\uff0c\u9002\u9022\u658b\u671f\uff0c\u5df2\u6570\u5e74\u77e3\u3002\u6697\u8ba1\u5403\u658b\u4e4b\u521d\uff0c\u6b63\u4f59\u51fa\u75d8\u4e4b\u671f\uff0c\u56e0\u7b11\u8c13\u66f0\uff1a\u201c\u4eca\u6211\u5149\u9c9c\u65e0\u6059\uff0c\u59ca\u53ef\u4ece\u6b64\u5f00\u6212\u5426\uff1f\u201d\u82b8\u7b11\u4e4b\u4ee5\u76ee\uff0c\u70b9\u4e4b\u4ee5\u9996\u3002\n\n\u5eff\u56db\u65e5\u4e3a\u4f59\u59ca\u4e8e\u5f52\uff0c\u5eff\u4e09\u56fd\u5fcc\u4e0d\u80fd\u4f5c\u4e50\uff0c\u6545\u5eff\u4e8c\u591c\u5373\u4e3a\u4f59\u59ca\u6b3e\u5ac1\uff0c\u82b8\u51fa\u5802\u966a\u5bb4\u3002\u4f59\u5728\u6d1e\u623f\u4e0e\u4f34\u5a18\u5bf9\u914c\uff0c\u62c7\u6218\u8f84\u5317\uff0c\u5927\u9189\u800c\u5367\uff1b\u9192\u5219\u82b8\u6b63\u6653\u5986\u672a\u7adf\u4e5f\u3002\n\n\u662f\u65e5\u4eb2\u670b\u7edc\u7ece\uff0c\u4e0a\u706f\u540e\u59cb\u4f5c\u4e50\u3002\u5eff\u56db\u5b50\u6b63\uff0c\u4f59\u4f5c\u65b0\u8205\u9001\u5ac1\uff0c\u4e11\u672b\u5f52\u6765\uff0c\u4e1a\u5df2\u706f\u6b8b\u4eba\u9759\uff1b\u6084\u7136\u5165\u5ba4\uff0c\u4f34\u59aa\u76f9\u4e8e\u5e8a\u4e0b\uff0c\u82b8\u5378\u5986\u5c1a\u672a\u5367\uff0c\u9ad8\u70e7\u94f6\u70db\uff0c\u4f4e\u5782\u7c89\u9888\uff0c\u4e0d\u77e5\u89c2\u4f55\u4e66\u800c\u51fa\u795e\u82e5\u6b64\u3002\u56e0\u629a\u5176\u80a9\u66f0\uff1a\u201c\u59ca\u8fde\u65e5\u8f9b\u82e6\uff0c\u4f55\u72b9\u5b5c\u5b5c\u4e0d\u5026\u8036\uff1f\u201d\n\n\u82b8\u5fd9\u56de\u9996\u8d77\u7acb\u66f0\uff1a\u201c\u9877\u6b63\u6b32\u5367\uff0c\u5f00\u6a71\u5f97\u6b64\u4e66\uff0c\u4e0d\u89c9\u9605\u4e4b\u5fd8\u5026\u3002\u300a\u897f\u53a2\u300b\u4e4b\u540d\u95fb\u4e4b\u719f\u77e3\uff0c\u4eca\u59cb\u5f97\u89c1\uff0c\u771f\u4e0d\u6127\u624d\u5b50\u4e4b\u540d\uff0c\u4f46\u672a\u514d\u5f62\u5bb9\u5c16\u8584\u8033\u3002\u201d\n\n\u4f59\u7b11\u66f0\uff1a\u201c\u552f\u5176\u624d\u5b50\uff0c\u7b14\u58a8\u65b9\u80fd\u5c16\u8584\u3002\u201d\u4f34\u59aa\u5728\u65c1\u4fc3\u5367\uff0c\u4ee4\u5176\u95ed\u95e8\u5148\u53bb\u3002\u9042\u4e0e\u6bd4\u80a9\u8c03\u7b11\uff0c\u604d\u540c\u5bc6\u53cb\u91cd\u9022\u3002\u620f\u63a2\u5176\u6000\uff0c\u4ea6\u6026\u6026\u4f5c\u8df3\uff0c\u56e0\u4fef\u5176\u8033\u66f0\uff1a\u201c\u59ca\u4f55\u5fc3\u8202\u4e43\u5c14\u8036\uff1f\u201d\u82b8\u56de\u7738\u5fae\u7b11\uff0c\u4fbf\u89c9\u4e00\u7f15\u60c5\u4e1d\u6447\u4eba\u9b42\u9b44\uff1b\u62e5\u4e4b\u5165\u5e10\uff0c\u4e0d\u77e5\u4e1c\u65b9\u4e4b\u65e2\u767d\u3002\n\n\"\"\"\n</code></pre> <p></p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#5","title":"\u7b56\u75655 \uff1a \u4e3e\u4f8b\u8bf4\u660e","text":"<p>\u63d0\u4f9b\u9002\u7528\u4e8e\u6240\u6709\u793a\u4f8b\u7684\u4e00\u822c\u6027\u6307\u4ee4\u901a\u5e38\u6bd4\u901a\u8fc7\u793a\u4f8b\u5c55\u793a\u4efb\u52a1\u7684\u6240\u6709\u6392\u5217\u66f4\u9ad8\u6548\uff0c\u4f46\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u63d0\u4f9b\u793a\u4f8b\u53ef\u80fd\u66f4\u5bb9\u6613\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u5e0c\u671b\u6a21\u578b\u590d\u5236\u4e00\u79cd\u96be\u4ee5\u660e\u786e\u63cf\u8ff0\u7684\u7279\u5b9a\u98ce\u683c\u6765\u54cd\u5e94\u7528\u6237\u67e5\u8be2\u3002\u8fd9\u88ab\u79f0\u4e3a \u201cfew-shot\u201d prompting\u3002</p> <p>\u793a\u4f8b1\uff1a</p> <pre><code>\u8fd9\u592a\u68d2\u4e86\uff01// Negative\n\u8fd9\u592a\u7cdf\u7cd5\u4e86\uff01// Positive\n\u54c7\uff0c\u90a3\u90e8\u7535\u5f71\u592a\u68d2\u4e86\uff01// Positive\n\u591a\u4e48\u53ef\u6015\u7684\u8282\u76ee\uff01//\n</code></pre> <p></p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#6","title":"\u7b56\u75656: \u6307\u5b9a\u8f93\u51fa\u7684\u957f\u5ea6","text":"<p>\u60a8\u53ef\u4ee5\u8981\u6c42\u6a21\u578b\u751f\u6210\u7ed9\u5b9a\u76ee\u6807\u957f\u5ea6\u7684\u8f93\u51fa\u3002\u76ee\u6807\u8f93\u51fa\u957f\u5ea6\u53ef\u4ee5\u6839\u636e\u5355\u8bcd\u3001\u53e5\u5b50\u3001\u6bb5\u843d\u3001\u9879\u76ee\u7b26\u53f7\u7b49\u7684\u6570\u91cf\u6765\u6307\u5b9a\u3002\u4f46\u8bf7\u6ce8\u610f\uff0c\u6307\u793a\u6a21\u578b\u751f\u6210\u7279\u5b9a\u6570\u91cf\u7684\u5355\u8bcd\u5e76\u4e0d\u80fd\u9ad8\u7cbe\u5ea6\u5730\u5de5\u4f5c\u3002\u8be5\u6a21\u578b\u53ef\u4ee5\u66f4\u53ef\u9760\u5730\u751f\u6210\u5177\u6709\u7279\u5b9a\u6bb5\u843d\u6216\u9879\u76ee\u7b26\u53f7\u7684\u8f93\u51fa\u3002</p> <p>\u793a\u4f8b1\uff1a</p> <pre><code>\u7528\u5927\u7ea6 50 \u4e2a\u5b57\u603b\u7ed3\u7528\u4e09\u5f15\u53f7\u5206\u9694\u7684\u6587\u672c\u3002\n\"\"\"\n\u3000\u6211\u5bb6\u7684\u540e\u9762\u6709\u4e00\u4e2a\u5f88\u5927\u7684\u56ed\uff0c\u76f8\u4f20\u53eb\u4f5c\u767e\u8349\u56ed\u3002\u73b0\u5728\u662f\u65e9\u5df2\u5e76\u5c4b\u5b50\u4e00\u8d77\u5356\u7ed9\u6731 \u6587\u516c\u7684\u5b50\u5b59\u4e86\uff0c\u8fde\u90a3\u6700\u672b\u6b21\u7684\u76f8\u89c1\u4e5f\u5df2\u7ecf\u9694\u4e86\u4e03\u516b\u5e74\uff0c\u5176\u4e2d\u4f3c\u4e4e\u786e\u51ff\u53ea\u6709\u4e00\u4e9b\u91ce\u8349 \uff1b\u4f46\u90a3\u65f6\u5374\u662f\u6211\u7684\u4e50\u56ed\u3002\n\u3000\u3000\u4e0d\u5fc5\u8bf4\u78a7\u7eff\u7684\u83dc\u7566\uff0c\u5149\u6ed1\u7684\u77f3\u4e95\u680f\uff0c\u9ad8\u5927\u7684\u7682\u835a\u6811\uff0c\u7d2b\u7ea2\u7684\u6851\u6939\uff1b\u4e5f\u4e0d\u5fc5\u8bf4\u9e23 \u8749\u5728\u6811\u53f6\u91cc\u957f\u541f\uff0c\u80a5\u80d6\u7684\u9ec4\u8702\u4f0f\u5728\u83dc\u82b1\u4e0a\uff0c\u8f7b\u6377\u7684\u53eb\u5929\u5b50\uff08\u4e91\u96c0\uff09\u5ffd\u7136\u4ece\u8349\u95f4\u76f4\u7a9c \u5411\u4e91\u9704\u91cc\u53bb\u4e86\u3002\u5355\u662f\u5468\u56f4\u7684\u77ed\u77ed\u7684\u6ce5\u5899\u6839\u4e00\u5e26\uff0c\u5c31\u6709\u65e0\u9650\u8da3\u5473\u3002\u6cb9\u86c9\u5728\u8fd9\u91cc\u4f4e\u5531\uff0c \u87cb\u87c0\u4eec\u5728\u8fd9\u91cc\u5f39\u7434\u3002\u7ffb\u5f00\u65ad\u7816\u6765\uff0c\u6709\u65f6\u4f1a\u9047\u89c1\u8708\u86a3\uff1b\u8fd8\u6709\u6591\u8765\uff0c\u5018\u82e5\u7528\u624b\u6307\u6309\u4f4f\u5b83 \u7684\u810a\u6881\uff0c\u4fbf\u4f1a\u62cd\u7684\u4e00\u58f0\uff0c\u4ece\u540e\u7a8d\u55b7\u51fa\u4e00\u9635\u70df\u96fe\u3002\u4f55\u9996\u4e4c\u85e4\u548c\u6728\u83b2\u85e4\u7f20\u7edc\u7740\uff0c\u6728\u83b2\u6709 \u83b2\u623f\u4e00\u822c\u7684\u679c\u5b9e\uff0c\u4f55\u9996\u4e4c\u6709\u62e5\u80bf\u7684\u6839\u3002\u6709\u4eba\u8bf4\uff0c\u4f55\u9996\u4e4c\u6839\u662f\u6709\u8c61\u4eba\u5f62\u7684\uff0c\u5403\u4e86\u4fbf\u53ef \u4ee5\u6210\u4ed9\uff0c\u6211\u4e8e\u662f\u5e38\u5e38\u62d4\u5b83\u8d77\u6765\uff0c\u7275\u8fde\u4e0d\u65ad\u5730\u62d4\u8d77\u6765\uff0c\u4e5f\u66fe\u56e0\u6b64\u5f04\u574f\u4e86\u6ce5\u5899\uff0c\u5374\u4ece\u6765 \u6ca1\u6709\u89c1\u8fc7\u6709\u4e00\u5757\u6839\u8c61\u4eba\u6837\u3002\u5982\u679c\u4e0d\u6015\u523a\uff0c\u8fd8\u53ef\u4ee5\u6458\u5230\u8986\u76c6\u5b50\uff0c\u8c61\u5c0f\u73ca\u745a\u73e0\u6512\u6210\u7684\u5c0f \u7403\uff0c\u53c8\u9178\u53c8\u751c\uff0c\u8272\u5473\u90fd\u6bd4\u6851\u6939\u8981\u597d\u5f97\u8fdc\u3002 \u3000\n\u3000\u3000\u957f\u7684\u8349\u91cc\u662f\u4e0d\u53bb\u7684\uff0c\u56e0\u4e3a\u76f8\u4f20\u8fd9\u56ed\u91cc\u6709\u4e00\u6761\u5f88\u5927\u7684\u8d64\u7ec3\u86c7\u3002\n\"\"\"\n</code></pre> <p></p> <p>\u793a\u4f8b2\uff1a</p> <pre><code>\u5c06\u7528\u4e09\u5f15\u53f7\u5206\u9694\u7684\u6587\u672c\u603b\u7ed3\u62102\u4e2a\u6bb5\u843d\u3002\n\n\"\"\"\n\u3000\u6211\u5bb6\u7684\u540e\u9762\u6709\u4e00\u4e2a\u5f88\u5927\u7684\u56ed\uff0c\u76f8\u4f20\u53eb\u4f5c\u767e\u8349\u56ed\u3002\u73b0\u5728\u662f\u65e9\u5df2\u5e76\u5c4b\u5b50\u4e00\u8d77\u5356\u7ed9\u6731 \u6587\u516c\u7684\u5b50\u5b59\u4e86\uff0c\u8fde\u90a3\u6700\u672b\u6b21\u7684\u76f8\u89c1\u4e5f\u5df2\u7ecf\u9694\u4e86\u4e03\u516b\u5e74\uff0c\u5176\u4e2d\u4f3c\u4e4e\u786e\u51ff\u53ea\u6709\u4e00\u4e9b\u91ce\u8349 \uff1b\u4f46\u90a3\u65f6\u5374\u662f\u6211\u7684\u4e50\u56ed\u3002\n\u3000\u3000\u4e0d\u5fc5\u8bf4\u78a7\u7eff\u7684\u83dc\u7566\uff0c\u5149\u6ed1\u7684\u77f3\u4e95\u680f\uff0c\u9ad8\u5927\u7684\u7682\u835a\u6811\uff0c\u7d2b\u7ea2\u7684\u6851\u6939\uff1b\u4e5f\u4e0d\u5fc5\u8bf4\u9e23 \u8749\u5728\u6811\u53f6\u91cc\u957f\u541f\uff0c\u80a5\u80d6\u7684\u9ec4\u8702\u4f0f\u5728\u83dc\u82b1\u4e0a\uff0c\u8f7b\u6377\u7684\u53eb\u5929\u5b50\uff08\u4e91\u96c0\uff09\u5ffd\u7136\u4ece\u8349\u95f4\u76f4\u7a9c \u5411\u4e91\u9704\u91cc\u53bb\u4e86\u3002\u5355\u662f\u5468\u56f4\u7684\u77ed\u77ed\u7684\u6ce5\u5899\u6839\u4e00\u5e26\uff0c\u5c31\u6709\u65e0\u9650\u8da3\u5473\u3002\u6cb9\u86c9\u5728\u8fd9\u91cc\u4f4e\u5531\uff0c \u87cb\u87c0\u4eec\u5728\u8fd9\u91cc\u5f39\u7434\u3002\u7ffb\u5f00\u65ad\u7816\u6765\uff0c\u6709\u65f6\u4f1a\u9047\u89c1\u8708\u86a3\uff1b\u8fd8\u6709\u6591\u8765\uff0c\u5018\u82e5\u7528\u624b\u6307\u6309\u4f4f\u5b83 \u7684\u810a\u6881\uff0c\u4fbf\u4f1a\u62cd\u7684\u4e00\u58f0\uff0c\u4ece\u540e\u7a8d\u55b7\u51fa\u4e00\u9635\u70df\u96fe\u3002\u4f55\u9996\u4e4c\u85e4\u548c\u6728\u83b2\u85e4\u7f20\u7edc\u7740\uff0c\u6728\u83b2\u6709 \u83b2\u623f\u4e00\u822c\u7684\u679c\u5b9e\uff0c\u4f55\u9996\u4e4c\u6709\u62e5\u80bf\u7684\u6839\u3002\u6709\u4eba\u8bf4\uff0c\u4f55\u9996\u4e4c\u6839\u662f\u6709\u8c61\u4eba\u5f62\u7684\uff0c\u5403\u4e86\u4fbf\u53ef \u4ee5\u6210\u4ed9\uff0c\u6211\u4e8e\u662f\u5e38\u5e38\u62d4\u5b83\u8d77\u6765\uff0c\u7275\u8fde\u4e0d\u65ad\u5730\u62d4\u8d77\u6765\uff0c\u4e5f\u66fe\u56e0\u6b64\u5f04\u574f\u4e86\u6ce5\u5899\uff0c\u5374\u4ece\u6765 \u6ca1\u6709\u89c1\u8fc7\u6709\u4e00\u5757\u6839\u8c61\u4eba\u6837\u3002\u5982\u679c\u4e0d\u6015\u523a\uff0c\u8fd8\u53ef\u4ee5\u6458\u5230\u8986\u76c6\u5b50\uff0c\u8c61\u5c0f\u73ca\u745a\u73e0\u6512\u6210\u7684\u5c0f \u7403\uff0c\u53c8\u9178\u53c8\u751c\uff0c\u8272\u5473\u90fd\u6bd4\u6851\u6939\u8981\u597d\u5f97\u8fdc\u3002 \u3000\n\u3000\u3000\u957f\u7684\u8349\u91cc\u662f\u4e0d\u53bb\u7684\uff0c\u56e0\u4e3a\u76f8\u4f20\u8fd9\u56ed\u91cc\u6709\u4e00\u6761\u5f88\u5927\u7684\u8d64\u7ec3\u86c7\u3002\n\"\"\"\n</code></pre> <p></p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#_2","title":"\u4e8c\u3001\u63d0\u4f9b\u53c2\u8003\u5185\u5bb9","text":""},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#1_2","title":"\u7b56\u75651\uff1a\u6307\u793a\u6a21\u578b\u4f7f\u7528\u53c2\u8003\u5185\u5bb9\u56de\u7b54\u95ee\u9898","text":"<p>\u5982\u679c\u6211\u4eec\u53ef\u4ee5\u4e3a\u6a21\u578b\u63d0\u4f9b\u4e0e\u5f53\u524d\u67e5\u8be2\u76f8\u5173\u7684\u53ef\u4fe1\u4fe1\u606f\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u6307\u793a\u6a21\u578b\u4f7f\u7528\u63d0\u4f9b\u7684\u4fe1\u606f\u6765\u7f16\u5199\u5176\u7b54\u6848\u3002</p> <p>\u793a\u4f8b1\uff1a</p> <pre><code>SYSTEM: \u4f7f\u7528\u63d0\u4f9b\u7684\u4ee5\u4e09\u5f15\u53f7\u5206\u9694\u7684\u6587\u7ae0\u6765\u56de\u7b54\u95ee\u9898\u3002\u5982\u679c\u5728\u6587\u7ae0\u4e2d\u627e\u4e0d\u5230\u7b54\u6848\uff0c\u8bf7\u56de\u7b54\u201c\u6211\u627e\u4e0d\u5230\u7b54\u6848\u201d\u3002\nUSER: \n\"\"\"\n\u3000\u6211\u5bb6\u7684\u540e\u9762\u6709\u4e00\u4e2a\u5f88\u5927\u7684\u56ed\uff0c\u76f8\u4f20\u53eb\u4f5c\u767e\u8349\u56ed\u3002\u73b0\u5728\u662f\u65e9\u5df2\u5e76\u5c4b\u5b50\u4e00\u8d77\u5356\u7ed9\u6731 \u6587\u516c\u7684\u5b50\u5b59\u4e86\uff0c\u8fde\u90a3\u6700\u672b\u6b21\u7684\u76f8\u89c1\u4e5f\u5df2\u7ecf\u9694\u4e86\u4e03\u516b\u5e74\uff0c\u5176\u4e2d\u4f3c\u4e4e\u786e\u51ff\u53ea\u6709\u4e00\u4e9b\u91ce\u8349 \uff1b\u4f46\u90a3\u65f6\u5374\u662f\u6211\u7684\u4e50\u56ed\u3002\n\u3000\u3000\u4e0d\u5fc5\u8bf4\u78a7\u7eff\u7684\u83dc\u7566\uff0c\u5149\u6ed1\u7684\u77f3\u4e95\u680f\uff0c\u9ad8\u5927\u7684\u7682\u835a\u6811\uff0c\u7d2b\u7ea2\u7684\u6851\u6939\uff1b\u4e5f\u4e0d\u5fc5\u8bf4\u9e23 \u8749\u5728\u6811\u53f6\u91cc\u957f\u541f\uff0c\u80a5\u80d6\u7684\u9ec4\u8702\u4f0f\u5728\u83dc\u82b1\u4e0a\uff0c\u8f7b\u6377\u7684\u53eb\u5929\u5b50\uff08\u4e91\u96c0\uff09\u5ffd\u7136\u4ece\u8349\u95f4\u76f4\u7a9c \u5411\u4e91\u9704\u91cc\u53bb\u4e86\u3002\u5355\u662f\u5468\u56f4\u7684\u77ed\u77ed\u7684\u6ce5\u5899\u6839\u4e00\u5e26\uff0c\u5c31\u6709\u65e0\u9650\u8da3\u5473\u3002\u6cb9\u86c9\u5728\u8fd9\u91cc\u4f4e\u5531\uff0c \u87cb\u87c0\u4eec\u5728\u8fd9\u91cc\u5f39\u7434\u3002\u7ffb\u5f00\u65ad\u7816\u6765\uff0c\u6709\u65f6\u4f1a\u9047\u89c1\u8708\u86a3\uff1b\u8fd8\u6709\u6591\u8765\uff0c\u5018\u82e5\u7528\u624b\u6307\u6309\u4f4f\u5b83 \u7684\u810a\u6881\uff0c\u4fbf\u4f1a\u62cd\u7684\u4e00\u58f0\uff0c\u4ece\u540e\u7a8d\u55b7\u51fa\u4e00\u9635\u70df\u96fe\u3002\u4f55\u9996\u4e4c\u85e4\u548c\u6728\u83b2\u85e4\u7f20\u7edc\u7740\uff0c\u6728\u83b2\u6709 \u83b2\u623f\u4e00\u822c\u7684\u679c\u5b9e\uff0c\u4f55\u9996\u4e4c\u6709\u62e5\u80bf\u7684\u6839\u3002\u6709\u4eba\u8bf4\uff0c\u4f55\u9996\u4e4c\u6839\u662f\u6709\u8c61\u4eba\u5f62\u7684\uff0c\u5403\u4e86\u4fbf\u53ef \u4ee5\u6210\u4ed9\uff0c\u6211\u4e8e\u662f\u5e38\u5e38\u62d4\u5b83\u8d77\u6765\uff0c\u7275\u8fde\u4e0d\u65ad\u5730\u62d4\u8d77\u6765\uff0c\u4e5f\u66fe\u56e0\u6b64\u5f04\u574f\u4e86\u6ce5\u5899\uff0c\u5374\u4ece\u6765 \u6ca1\u6709\u89c1\u8fc7\u6709\u4e00\u5757\u6839\u8c61\u4eba\u6837\u3002\u5982\u679c\u4e0d\u6015\u523a\uff0c\u8fd8\u53ef\u4ee5\u6458\u5230\u8986\u76c6\u5b50\uff0c\u8c61\u5c0f\u73ca\u745a\u73e0\u6512\u6210\u7684\u5c0f \u7403\uff0c\u53c8\u9178\u53c8\u751c\uff0c\u8272\u5473\u90fd\u6bd4\u6851\u6939\u8981\u597d\u5f97\u8fdc\u3002 \u3000\n\u3000\u3000\u957f\u7684\u8349\u91cc\u662f\u4e0d\u53bb\u7684\uff0c\u56e0\u4e3a\u76f8\u4f20\u8fd9\u56ed\u91cc\u6709\u4e00\u6761\u5f88\u5927\u7684\u8d64\u7ec3\u86c7\u3002\n\"\"\"\nQuestion: \u4e3a\u4ec0\u4e48\u9c81\u8fc5\u4e0d\u6562\u53bb\u8349\u91cc\u3002\n</code></pre> <p></p> <p>\u793a\u4f8b\u4e8c\uff1a</p> <pre><code>SYSTEM: \u4f7f\u7528\u63d0\u4f9b\u7684\u4ee5\u4e09\u5f15\u53f7\u5206\u9694\u7684\u6587\u7ae0\u6765\u56de\u7b54\u95ee\u9898\u3002\u5982\u679c\u5728\u6587\u7ae0\u4e2d\u627e\u4e0d\u5230\u7b54\u6848\uff0c\u8bf7\u56de\u7b54\u201c\u6211\u627e\u4e0d\u5230\u7b54\u6848\u201d\u3002\nUSER: \n\"\"\"\n\u3000\u6211\u5bb6\u7684\u540e\u9762\u6709\u4e00\u4e2a\u5f88\u5927\u7684\u56ed\uff0c\u76f8\u4f20\u53eb\u4f5c\u767e\u8349\u56ed\u3002\u73b0\u5728\u662f\u65e9\u5df2\u5e76\u5c4b\u5b50\u4e00\u8d77\u5356\u7ed9\u6731 \u6587\u516c\u7684\u5b50\u5b59\u4e86\uff0c\u8fde\u90a3\u6700\u672b\u6b21\u7684\u76f8\u89c1\u4e5f\u5df2\u7ecf\u9694\u4e86\u4e03\u516b\u5e74\uff0c\u5176\u4e2d\u4f3c\u4e4e\u786e\u51ff\u53ea\u6709\u4e00\u4e9b\u91ce\u8349 \uff1b\u4f46\u90a3\u65f6\u5374\u662f\u6211\u7684\u4e50\u56ed\u3002\n\u3000\u3000\u4e0d\u5fc5\u8bf4\u78a7\u7eff\u7684\u83dc\u7566\uff0c\u5149\u6ed1\u7684\u77f3\u4e95\u680f\uff0c\u9ad8\u5927\u7684\u7682\u835a\u6811\uff0c\u7d2b\u7ea2\u7684\u6851\u6939\uff1b\u4e5f\u4e0d\u5fc5\u8bf4\u9e23 \u8749\u5728\u6811\u53f6\u91cc\u957f\u541f\uff0c\u80a5\u80d6\u7684\u9ec4\u8702\u4f0f\u5728\u83dc\u82b1\u4e0a\uff0c\u8f7b\u6377\u7684\u53eb\u5929\u5b50\uff08\u4e91\u96c0\uff09\u5ffd\u7136\u4ece\u8349\u95f4\u76f4\u7a9c \u5411\u4e91\u9704\u91cc\u53bb\u4e86\u3002\u5355\u662f\u5468\u56f4\u7684\u77ed\u77ed\u7684\u6ce5\u5899\u6839\u4e00\u5e26\uff0c\u5c31\u6709\u65e0\u9650\u8da3\u5473\u3002\u6cb9\u86c9\u5728\u8fd9\u91cc\u4f4e\u5531\uff0c \u87cb\u87c0\u4eec\u5728\u8fd9\u91cc\u5f39\u7434\u3002\u7ffb\u5f00\u65ad\u7816\u6765\uff0c\u6709\u65f6\u4f1a\u9047\u89c1\u8708\u86a3\uff1b\u8fd8\u6709\u6591\u8765\uff0c\u5018\u82e5\u7528\u624b\u6307\u6309\u4f4f\u5b83 \u7684\u810a\u6881\uff0c\u4fbf\u4f1a\u62cd\u7684\u4e00\u58f0\uff0c\u4ece\u540e\u7a8d\u55b7\u51fa\u4e00\u9635\u70df\u96fe\u3002\u4f55\u9996\u4e4c\u85e4\u548c\u6728\u83b2\u85e4\u7f20\u7edc\u7740\uff0c\u6728\u83b2\u6709 \u83b2\u623f\u4e00\u822c\u7684\u679c\u5b9e\uff0c\u4f55\u9996\u4e4c\u6709\u62e5\u80bf\u7684\u6839\u3002\u6709\u4eba\u8bf4\uff0c\u4f55\u9996\u4e4c\u6839\u662f\u6709\u8c61\u4eba\u5f62\u7684\uff0c\u5403\u4e86\u4fbf\u53ef \u4ee5\u6210\u4ed9\uff0c\u6211\u4e8e\u662f\u5e38\u5e38\u62d4\u5b83\u8d77\u6765\uff0c\u7275\u8fde\u4e0d\u65ad\u5730\u62d4\u8d77\u6765\uff0c\u4e5f\u66fe\u56e0\u6b64\u5f04\u574f\u4e86\u6ce5\u5899\uff0c\u5374\u4ece\u6765 \u6ca1\u6709\u89c1\u8fc7\u6709\u4e00\u5757\u6839\u8c61\u4eba\u6837\u3002\u5982\u679c\u4e0d\u6015\u523a\uff0c\u8fd8\u53ef\u4ee5\u6458\u5230\u8986\u76c6\u5b50\uff0c\u8c61\u5c0f\u73ca\u745a\u73e0\u6512\u6210\u7684\u5c0f \u7403\uff0c\u53c8\u9178\u53c8\u751c\uff0c\u8272\u5473\u90fd\u6bd4\u6851\u6939\u8981\u597d\u5f97\u8fdc\u3002 \u3000\n\u3000\u3000\u957f\u7684\u8349\u91cc\u662f\u4e0d\u53bb\u7684\uff0c\u56e0\u4e3a\u76f8\u4f20\u8fd9\u56ed\u91cc\u6709\u4e00\u6761\u5f88\u5927\u7684\u8d64\u7ec3\u86c7\u3002\n\"\"\"\nQuestion: \u6731\u6587\u516c\u7684\u5b59\u5b50\u53eb\u4ec0\u4e48\u540d\u5b57\u3002\n</code></pre> <p></p> <p>\u9274\u4e8e\u6240\u6709\u6a21\u578b\u7684\u4e0a\u4e0b\u6587\u7a97\u53e3\u90fd\u6709\u9650\uff0c\u6211\u4eec\u9700\u8981\u67d0\u79cd\u65b9\u6cd5\u6765\u52a8\u6001\u67e5\u627e\u4e0e\u6240\u63d0\u51fa\u95ee\u9898\u76f8\u5173\u7684\u4fe1\u606f\u3002\u5d4c\u5165\u53ef\u7528\u4e8e\u5b9e\u73b0\u9ad8\u6548\u7684\u77e5\u8bc6\u68c0\u7d22\u3002\u6709\u5173\u5982\u4f55\u5b9e\u73b0\u6b64\u64cd\u4f5c\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u7b56\u7565\u201c\u4f7f\u7528\u57fa\u4e8e\u5d4c\u5165\u7684\u641c\u7d22\u5b9e\u73b0\u9ad8\u6548\u7684\u77e5\u8bc6\u68c0\u7d22\u201d\u3002</p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#2_2","title":"\u7b56\u75652\uff1a\u63d0\u793a\u6a21\u578b\u4f7f\u7528\u53c2\u8003\u5185\u5bb9\u7684\u5f15\u7528\u6765\u56de\u7b54\u95ee\u9898","text":"<p>\u5982\u679c\u8f93\u5165\u5df2\u8865\u5145\u4e86\u76f8\u5173\u77e5\u8bc6\uff0c\u5219\u76f4\u63a5\u8981\u6c42\u6a21\u578b\u901a\u8fc7\u5f15\u7528\u6240\u63d0\u4f9b\u6587\u6863\u4e2d\u7684\u6bb5\u843d\u6765\u5728\u5176\u7b54\u6848\u4e2d\u6dfb\u52a0\u5f15\u7528\u3002\u8bf7\u6ce8\u610f\uff0c\u8f93\u51fa\u4e2d\u7684\u5f15\u6587\u53ef\u4ee5\u901a\u8fc7\u6240\u63d0\u4f9b\u6587\u6863\u4e2d\u7684\u5b57\u7b26\u4e32\u5339\u914d\u4ee5\u7f16\u7a0b\u65b9\u5f0f\u8fdb\u884c\u9a8c\u8bc1\u3002</p> <pre><code>SYSTEM: \u4f60\u5c06\u83b7\u5f97\u4e00\u4efd\u4ee5\u4e09\u5f15\u53f7\u5206\u9694\u7684\u6587\u6863\u548c\u4e00\u4e2a\u95ee\u9898\u3002\u60a8\u7684\u4efb\u52a1\u662f\u4ec5\u4f7f\u7528\u63d0\u4f9b\u7684\u6587\u6863\u56de\u7b54\u95ee\u9898\uff0c\u5e76\u5f15\u7528\u7528\u4e8e\u56de\u7b54\u95ee\u9898\u7684\u6587\u6863\u7684\u6bb5\u843d\u3002\u5982\u679c\u6587\u6863\u4e0d\u5305\u542b\u56de\u7b54\u6b64\u95ee\u9898\u6240\u9700\u7684\u4fe1\u606f\uff0c\u5219\u53ea\u9700\u56de\u7b54\uff1a\u201c\u4fe1\u606f\u4e0d\u8db3\u201d\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u95ee\u9898\u7684\u7b54\u6848\uff0c\u5219\u5fc5\u987b\u7528\u5f15\u6587\u8fdb\u884c\u6ce8\u91ca\u3002\u4f7f\u7528\u4ee5\u4e0b\u683c\u5f0f\u5f15\u7528\u76f8\u5173\u6bb5\u843d \uff08{\u201ccitation\u201d\uff1a ...}\uff09\u3002\nUSER\uff1a\n\"\"\"\n\u3000\u6211\u5bb6\u7684\u540e\u9762\u6709\u4e00\u4e2a\u5f88\u5927\u7684\u56ed\uff0c\u76f8\u4f20\u53eb\u4f5c\u767e\u8349\u56ed\u3002\u73b0\u5728\u662f\u65e9\u5df2\u5e76\u5c4b\u5b50\u4e00\u8d77\u5356\u7ed9\u6731 \u6587\u516c\u7684\u5b50\u5b59\u4e86\uff0c\u8fde\u90a3\u6700\u672b\u6b21\u7684\u76f8\u89c1\u4e5f\u5df2\u7ecf\u9694\u4e86\u4e03\u516b\u5e74\uff0c\u5176\u4e2d\u4f3c\u4e4e\u786e\u51ff\u53ea\u6709\u4e00\u4e9b\u91ce\u8349 \uff1b\u4f46\u90a3\u65f6\u5374\u662f\u6211\u7684\u4e50\u56ed\u3002\n\u3000\u3000\u4e0d\u5fc5\u8bf4\u78a7\u7eff\u7684\u83dc\u7566\uff0c\u5149\u6ed1\u7684\u77f3\u4e95\u680f\uff0c\u9ad8\u5927\u7684\u7682\u835a\u6811\uff0c\u7d2b\u7ea2\u7684\u6851\u6939\uff1b\u4e5f\u4e0d\u5fc5\u8bf4\u9e23 \u8749\u5728\u6811\u53f6\u91cc\u957f\u541f\uff0c\u80a5\u80d6\u7684\u9ec4\u8702\u4f0f\u5728\u83dc\u82b1\u4e0a\uff0c\u8f7b\u6377\u7684\u53eb\u5929\u5b50\uff08\u4e91\u96c0\uff09\u5ffd\u7136\u4ece\u8349\u95f4\u76f4\u7a9c \u5411\u4e91\u9704\u91cc\u53bb\u4e86\u3002\u5355\u662f\u5468\u56f4\u7684\u77ed\u77ed\u7684\u6ce5\u5899\u6839\u4e00\u5e26\uff0c\u5c31\u6709\u65e0\u9650\u8da3\u5473\u3002\u6cb9\u86c9\u5728\u8fd9\u91cc\u4f4e\u5531\uff0c \u87cb\u87c0\u4eec\u5728\u8fd9\u91cc\u5f39\u7434\u3002\u7ffb\u5f00\u65ad\u7816\u6765\uff0c\u6709\u65f6\u4f1a\u9047\u89c1\u8708\u86a3\uff1b\u8fd8\u6709\u6591\u8765\uff0c\u5018\u82e5\u7528\u624b\u6307\u6309\u4f4f\u5b83 \u7684\u810a\u6881\uff0c\u4fbf\u4f1a\u62cd\u7684\u4e00\u58f0\uff0c\u4ece\u540e\u7a8d\u55b7\u51fa\u4e00\u9635\u70df\u96fe\u3002\u4f55\u9996\u4e4c\u85e4\u548c\u6728\u83b2\u85e4\u7f20\u7edc\u7740\uff0c\u6728\u83b2\u6709 \u83b2\u623f\u4e00\u822c\u7684\u679c\u5b9e\uff0c\u4f55\u9996\u4e4c\u6709\u62e5\u80bf\u7684\u6839\u3002\u6709\u4eba\u8bf4\uff0c\u4f55\u9996\u4e4c\u6839\u662f\u6709\u8c61\u4eba\u5f62\u7684\uff0c\u5403\u4e86\u4fbf\u53ef \u4ee5\u6210\u4ed9\uff0c\u6211\u4e8e\u662f\u5e38\u5e38\u62d4\u5b83\u8d77\u6765\uff0c\u7275\u8fde\u4e0d\u65ad\u5730\u62d4\u8d77\u6765\uff0c\u4e5f\u66fe\u56e0\u6b64\u5f04\u574f\u4e86\u6ce5\u5899\uff0c\u5374\u4ece\u6765 \u6ca1\u6709\u89c1\u8fc7\u6709\u4e00\u5757\u6839\u8c61\u4eba\u6837\u3002\u5982\u679c\u4e0d\u6015\u523a\uff0c\u8fd8\u53ef\u4ee5\u6458\u5230\u8986\u76c6\u5b50\uff0c\u8c61\u5c0f\u73ca\u745a\u73e0\u6512\u6210\u7684\u5c0f \u7403\uff0c\u53c8\u9178\u53c8\u751c\uff0c\u8272\u5473\u90fd\u6bd4\u6851\u6939\u8981\u597d\u5f97\u8fdc\u3002 \u3000\n\u3000\u3000\u957f\u7684\u8349\u91cc\u662f\u4e0d\u53bb\u7684\uff0c\u56e0\u4e3a\u76f8\u4f20\u8fd9\u56ed\u91cc\u6709\u4e00\u6761\u5f88\u5927\u7684\u8d64\u7ec3\u86c7\u3002\n\"\"\"\nQuestion: \u767e\u8349\u56ed\u73b0\u5728\u5356\u7ed9\u8c01\u4e86\uff1f\n</code></pre> <p></p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#_3","title":"\u4e09\u3001\u5c06\u590d\u6742\u7684\u4efb\u52a1\u62c6\u5206\u6210\u66f4\u7b80\u5355\u7684\u5b50\u4efb\u52a1","text":""},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#1_3","title":"\u7b56\u75651\uff1a\u4f7f\u7528\u610f\u56fe\u8bc6\u522b\u6765\u6807\u8bb0\u548c\u7528\u6237\u67e5\u8be2\u6700\u76f8\u5173\u7684\u6307\u4ee4","text":"<p>\u5bf9\u4e8e\u9700\u8981\u5927\u91cf\u72ec\u7acb\u6307\u4ee4\u6765\u5904\u7406\u4e0d\u540c\u60c5\u51b5\u7684\u4efb\u52a1\uff0c\u9996\u5148\u5bf9\u67e5\u8be2\u7c7b\u578b\u8fdb\u884c\u5206\u7c7b\uff0c\u5e76\u4f7f\u7528\u8fd9\u79cd\u5206\u7c7b\u6765\u786e\u5b9a\u6240\u9700\u6307\u4ee4\u53ef\u80fd\u662f\u6709\u76ca\u7684\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u5b9a\u4e49\u56fa\u5b9a\u7684\u7c7b\u522b\u548c\u786c\u7f16\u7801\u4e0e\u5904\u7406\u7279\u5b9a\u7c7b\u522b\u4efb\u52a1\u76f8\u5173\u7684\u6307\u4ee4\u6765\u5b9e\u73b0\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e5f\u53ef\u4ee5\u9012\u5f52\u5730\u5e94\u7528\uff0c\u5c06\u4efb\u52a1\u5206\u89e3\u4e3a\u4e00\u7cfb\u5217\u9636\u6bb5\u3002\u8fd9\u79cd\u65b9\u6cd5\u7684\u4f18\u70b9\u662f\uff0c\u6bcf\u4e2a\u67e5\u8be2\u5c06\u53ea\u5305\u542b\u6267\u884c\u4efb\u52a1\u4e0b\u4e00\u9636\u6bb5\u6240\u9700\u7684\u90a3\u4e9b\u6307\u4ee4\uff0c\u8fd9\u4e0e\u4f7f\u7528\u5355\u4e2a\u67e5\u8be2\u6267\u884c\u6574\u4e2a\u4efb\u52a1\u76f8\u6bd4\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u66f4\u4f4e\u7684\u9519\u8bef\u7387\u3002</p> <p>\u793a\u4f8b1\uff1a</p> <pre><code>SYSTEM: \u60a8\u5c06\u6536\u5230\u5ba2\u6237\u670d\u52a1\u67e5\u8be2\u3002\u8bf7\u5c06\u6bcf\u4e2a\u67e5\u8be2\u5206\u7c7b\u4e3a\u4e3b\u7c7b\u522b\u548c\u6b21\u7c7b\u522b\u3002\u4ee5json\u683c\u5f0f\u63d0\u4f9b\u60a8\u7684\u8f93\u51fa\uff0c\u952e\u4e3a\uff1aprimary\u548csecondary\u3002\n\n\u4e3b\u7c7b\u522b\uff1aBilling\uff08\u8ba1\u8d39\uff09\u3001Technical Support\uff08\u6280\u672f\u652f\u6301\uff09\u3001Account Management\uff08\u8d26\u6237\u7ba1\u7406\uff09\u6216General Inquiry\uff08\u4e00\u822c\u67e5\u8be2\uff09\u3002\n\n\u8ba1\u8d39\u6b21\u7c7b\u522b\uff1a\nUnsubscribe or upgrade\uff08\u53d6\u6d88\u8ba2\u9605\u6216\u5347\u7ea7\uff09\nAdd a payment method\uff08\u6dfb\u52a0\u652f\u4ed8\u65b9\u5f0f\uff09\nExplanation for charge\uff08\u8d39\u7528\u89e3\u91ca\uff09\nDispute a charge\uff08\u4e89\u8bae\u8d39\u7528\uff09\n\n\u6280\u672f\u652f\u6301\u6b21\u7c7b\u522b\uff1a\nTroubleshooting\uff08\u6545\u969c\u6392\u9664\uff09\nDevice compatibility\uff08\u8bbe\u5907\u517c\u5bb9\u6027\uff09\nSoftware updates\uff08\u8f6f\u4ef6\u66f4\u65b0\uff09\n\n\u8d26\u6237\u7ba1\u7406\u6b21\u7c7b\u522b\uff1a\nPassword reset\uff08\u5bc6\u7801\u91cd\u7f6e\uff09\nUpdate personal information\uff08\u66f4\u65b0\u4e2a\u4eba\u4fe1\u606f\uff09\nClose account\uff08\u5173\u95ed\u8d26\u6237\uff09\nAccount security\uff08\u8d26\u6237\u5b89\u5168\uff09\n\n\u4e00\u822c\u67e5\u8be2\u6b21\u7c7b\u522b\uff1a\nProduct information\uff08\u4ea7\u54c1\u4fe1\u606f\uff09\nPricing\uff08\u5b9a\u4ef7\uff09\nFeedback\uff08\u53cd\u9988\uff09\nSpeak to a human\uff08\u4e0e\u771f\u4eba\u4ea4\u8c08\uff09\n\nUser: \u6211\u9700\u8981\u8ba9\u6211\u7684\u4e92\u8054\u7f51\u518d\u6b21\u5de5\u4f5c\u3002\n</code></pre> <p></p> <p>\u6839\u636e\u5ba2\u6237\u67e5\u8be2\u7684\u5206\u7c7b\uff0c\u53ef\u4ee5\u5411\u6a21\u578b\u63d0\u4f9b\u4e00\u7ec4\u66f4\u5177\u4f53\u7684\u6307\u4ee4\uff0c\u4ee5\u4fbf\u5176\u5904\u7406\u540e\u7eed\u6b65\u9aa4\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u5ba2\u6237\u9700\u8981\u201c\u6545\u969c\u6392\u9664\u201d\u65b9\u9762\u7684\u5e2e\u52a9\u3002</p> <pre><code>SYSTEM: \u60a8\u5c06\u83b7\u5f97\u9700\u8981\u5728\u6280\u672f\u652f\u6301\u4e0a\u4e0b\u6587\u4e2d\u8fdb\u884c\u6545\u969c\u6392\u9664\u7684\u5ba2\u6237\u670d\u52a1\u67e5\u8be2\u3002\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5e2e\u52a9\u7528\u6237\uff1a\n\n- \u8981\u6c42\u4ed6\u4eec\u68c0\u67e5\u4e0e\u8def\u7531\u5668\u4e4b\u95f4\u7684\u6240\u6709\u7535\u7f06\u662f\u5426\u5df2\u8fde\u63a5\u3002\u8bf7\u6ce8\u610f\uff0c\u7535\u7f06\u4f1a\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u800c\u677e\u52a8\u3002\n- \u5982\u679c\u6240\u6709\u7535\u7f06\u90fd\u5df2\u8fde\u63a5\uff0c\u4f46\u95ee\u9898\u4ecd\u7136\u5b58\u5728\uff0c\u8bf7\u8be2\u95ee\u4ed6\u4eec\u4f7f\u7528\u7684\u8def\u7531\u5668\u578b\u53f7\n- \u73b0\u5728\uff0c\u60a8\u5c06\u5efa\u8bae\u4ed6\u4eec\u5982\u4f55\u91cd\u65b0\u542f\u52a8\u8bbe\u5907\uff1a\n-- \u5982\u679c\u578b\u53f7\u4e3a MTD-327J\uff0c\u5efa\u8bae\u4ed6\u4eec\u6309\u4e0b\u7ea2\u8272\u6309\u94ae\u5e76\u6309\u4f4f 5 \u79d2\u949f\uff0c\u7136\u540e\u7b49\u5f85 5 \u5206\u949f\u518d\u6d4b\u8bd5\u8fde\u63a5\u3002\n-- \u5982\u679c\u578b\u53f7\u4e3a MTD-327S\uff0c\u5efa\u8bae\u4ed6\u4eec\u62d4\u4e0b\u5e76\u91cd\u65b0\u63d2\u5165\uff0c\u7136\u540e\u7b49\u5f85 5 \u5206\u949f\u518d\u6d4b\u8bd5\u8fde\u63a5\u3002\n- \u5982\u679c\u5ba2\u6237\u7684\u95ee\u9898\u5728\u91cd\u65b0\u542f\u52a8\u8bbe\u5907\u5e76\u7b49\u5f85 5 \u5206\u949f\u540e\u4ecd\u7136\u5b58\u5728\uff0c\u8bf7\u901a\u8fc7\u8f93\u51fa {\u201cIT support requested\u201d} \u5c06\u4ed6\u4eec\u8fde\u63a5\u5230 IT \u652f\u6301\u3002\n- \u5982\u679c\u7528\u6237\u5f00\u59cb\u63d0\u51fa\u4e0e\u6b64\u4e3b\u9898\u65e0\u5173\u7684\u95ee\u9898\uff0c\u8bf7\u786e\u8ba4\u4ed6\u4eec\u662f\u5426\u8981\u7ed3\u675f\u6709\u5173\u6545\u969c\u6392\u9664\u7684\u5f53\u524d\u804a\u5929\uff0c\u5e76\u6839\u636e\u4ee5\u4e0b\u65b9\u6848\u5bf9\u5176\u8bf7\u6c42\u8fdb\u884c\u5206\u7c7b\uff1a\n\n&lt;\u6280\u672f\u652f\u6301/\u6545\u969c\u6392\u9664&gt;\n\nUSER: \u6211\u9700\u8981\u8ba9\u6211\u7684\u4e92\u8054\u7f51\u518d\u6b21\u5de5\u4f5c\u3002\n</code></pre> <p></p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#2_3","title":"\u7b56\u75652\uff1a\u5bf9\u4e8e\u9700\u8981\u591a\u8f6e\u5bf9\u8bdd\u7684\u5bf9\u8bdd\u7a0b\u5e8f\uff0c\u8bf7\u603b\u7ed3\u548c\u8fc7\u6ee4\u4ee5\u524d\u7684\u5bf9\u8bdd","text":"<p>\u7531\u4e8e\u6a21\u578b\u5177\u6709\u56fa\u5b9a\u7684\u4e0a\u4e0b\u6587\u957f\u5ea6\uff0c\u56e0\u6b64\u7528\u6237\u548c\u52a9\u624b\u4e4b\u95f4\u7684\u5bf9\u8bdd\uff08\u5176\u4e2d\u6574\u4e2a\u5bf9\u8bdd\u90fd\u5305\u542b\u5728\u4e0a\u4e0b\u6587\u7a97\u53e3\u4e2d\uff09\u4e0d\u80fd\u65e0\u9650\u671f\u5730\u7ee7\u7eed\u3002</p> <p>\u8fd9\u4e2a\u95ee\u9898\u6709\u591a\u79cd\u89e3\u51b3\u65b9\u6cd5\uff0c\u5176\u4e2d\u4e4b\u4e00\u662f\u603b\u7ed3\u5bf9\u8bdd\u4e2d\u7684\u524d\u51e0\u8f6e\u3002\u4e00\u65e6\u8f93\u5165\u7684\u5927\u5c0f\u8fbe\u5230\u9884\u5b9a\u7684\u9608\u503c\u957f\u5ea6\uff0c\u8fd9\u53ef\u80fd\u4f1a\u89e6\u53d1\u4e00\u4e2a\u4efb\u52a1\uff0c\u8be5\u4efb\u52a1\u5bf9\u4e4b\u524d\u7684\u5bf9\u8bdd\u751f\u6210\u6458\u8981\uff0c\u7136\u540e\u5c06\u6458\u8981\u4f5c\u4e3aSystem message\u7684\u4e00\u90e8\u5206\u3002\u6216\u8005\u5728\u5bf9\u8bdd\u7684\u8fc7\u7a0b\u4e2d\u5f02\u6b65\u7684\u603b\u7ed3\u4e4b\u524d\u7684\u5bf9\u8bdd\u3002</p> <p>\u53e6\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u662f\u52a8\u6001\u7684\u9009\u62e9\u4e0e\u5f53\u524d\u67e5\u8be2\u6700\u76f8\u5173\u7684\u5386\u53f2\u5bf9\u8bdd\u3002\u53ef\u4ee5\u4f7f\u7528embedding\u6a21\u578b\u5bf9\u5386\u53f2\u5bf9\u8bdd\u8fdb\u884c\u76f8\u4f3c\u5ea6\u5339\u914d\u3002</p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#3_2","title":"\u7b56\u75653\uff1a\u5206\u6bb5\u603b\u7ed3\u957f\u6587\u6863\uff0c\u5e76\u4ee5\u9012\u5f52\u7684\u65b9\u5f0f\u6784\u5efa\u5b8c\u6574\u7684\u6458\u8981","text":"<p>\u7531\u4e8e\u6a21\u578b\u5177\u6709\u56fa\u5b9a\u7684\u4e0a\u4e0b\u6587\u957f\u5ea6\uff0c\u56e0\u6b64\u5b83\u4eec\u4e0d\u80fd\u5bf9\u8d85\u8fc7\u6a21\u578b\u6700\u5927\u4e0a\u4e0b\u6587\u957f\u5ea6\u7684\u5bf9\u957f\u6587\u672c\u505a\u6458\u8981\u3002</p> <p>\u89e3\u51b3\u601d\u8def\u5c31\u662f\u5148\u5c06\u957f\u6587\u672c\u5206\u6210\u591a\u4e2a\u90e8\u5206\uff0c\u5bf9\u6bcf\u4e2a\u90e8\u5206\u8fdb\u884c\u6458\u8981\u3002\u5982\u679c\u6bcf\u4e2a\u90e8\u5206\u4e5f\u8d85\u8fc7\u957f\u5ea6\u4e86\u518d\u7ee7\u7eed\u7ec6\u5206\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53ef\u4ee5\u9012\u5f52\u8fdb\u884c\u3002\u6700\u597d\u6c47\u603b\u6574\u4e2a\u6587\u6863\u3002</p> <p>\u8fd9\u4e2a\u4e3b\u8981\u662f\u7528\u6765\u5bf9\u4e00\u672c\u4e66\u505a\u6458\u8981\uff0c\u4f7f\u7528\u573a\u666f\u4e0d\u5927\u3002</p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#_4","title":"\u56db\u3001\u8ba9\u6a21\u578b\u601d\u8003","text":"<p>\u5982\u679c\u8981\u6c42\u5c06 17 \u4e58\u4ee5 28\uff0c\u60a8\u53ef\u80fd\u4e0d\u4f1a\u7acb\u5373\u77e5\u9053\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u8ba1\u7b97\u51fa\u6765\u3002\u540c\u6837\uff0c\u6a21\u578b\u5728\u8bd5\u56fe\u7acb\u5373\u56de\u7b54\u65f6\u4f1a\u72af\u66f4\u591a\u7684\u63a8\u7406\u9519\u8bef\uff0c\u800c\u4e0d\u662f\u82b1\u65f6\u95f4\u627e\u51fa\u7b54\u6848\u3002\u5728\u56de\u7b54\u4e4b\u524d\u8981\u6c42\u4e00\u4e2a\u201c\u601d\u7ef4\u94fe\u201d\u53ef\u4ee5\u5e2e\u52a9\u6a21\u578b\u66f4\u53ef\u9760\u5730\u63a8\u7406\u51fa\u6b63\u786e\u7684\u7b54\u6848\u3002</p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#1_4","title":"\u7b56\u75651\uff1a\u6307\u793a\u6a21\u578b\u5148\u5236\u5b9a\u89e3\u51b3\u65b9\u6848\u518d\u5f97\u51fa\u7ed3\u679c","text":"<p>\u6709\u65f6\uff0c\u5f53\u6211\u4eec\u660e\u786e\u6307\u793a\u6a21\u578b\u5728\u5f97\u51fa\u7ed3\u8bba\u4e4b\u524d\u4ece\u7b2c\u4e00\u6027\u539f\u7406\u8fdb\u884c\u63a8\u7406\u65f6\uff0c\u6211\u4eec\u4f1a\u5f97\u5230\u66f4\u597d\u7684\u7ed3\u679c\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u6211\u4eec\u60f3\u8981\u4e00\u4e2a\u6a21\u578b\u6765\u8bc4\u4f30\u5b66\u751f\u5bf9\u6570\u5b66\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\u3002\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u6700\u660e\u663e\u65b9\u6cd5\u662f\u7b80\u5355\u5730\u8be2\u95ee\u6a21\u578b\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\u662f\u5426\u6b63\u786e\u3002</p> <p>\u793a\u4f8b1\uff1a</p> <pre><code>SYSTEM: \u786e\u5b9a\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\u662f\u5426\u6b63\u786e\u3002\nUSER: \u95ee\u9898\u9648\u8ff0\uff1a\u6211\u6b63\u5728\u5efa\u9020\u4e00\u4e2a\u592a\u9633\u80fd\u88c5\u7f6e\uff0c\u6211\u9700\u8981\u5e2e\u52a9\u89e3\u51b3\u8d22\u52a1\u95ee\u9898\u3002\n- \u571f\u5730\u6210\u672c 100 \u5143/\u5e73\u65b9\u7c73\n- \u6211\u53ef\u4ee5\u4ee5 250 \u5143/\u5e73\u65b9\u7c73\u7684\u4ef7\u683c\u8d2d\u4e70\u592a\u9633\u80fd\u7535\u6c60\u677f\n- \u6211\u534f\u5546\u4e86\u4e00\u4efd\u7ef4\u62a4\u5408\u540c\uff0c\u6bcf\u5e74\u5c06\u82b1\u8d39\u6211 10 \u4e07\u5143\u7ef4\u62a4\uff0c\u4ee5\u53ca\u989d\u5916\u7684 10 \u5143/\u5e73\u65b9\u7c73\n\u7b2c\u4e00\u5e74\u8fd0\u8425\u7684\u603b\u6210\u672c\u4e0e\u5e73\u65b9\u7c73\u6570\u7684\u51fd\u6570\u662f\u591a\u5c11\u3002\n\n\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\uff1a\u8bbe x \u4e3a\u5b89\u88c5\u7684\u5927\u5c0f\uff08\u4ee5\u5e73\u65b9\u7c73\u4e3a\u5355\u4f4d\uff09\u3002\n1.\u571f\u5730\u6210\u672c\uff1a100x\n2.\u592a\u9633\u80fd\u7535\u6c60\u677f\u6210\u672c\uff1a250x\n3.\u7ef4\u62a4\u6210\u672c\uff1a100,000+100x\n\u603b\u6210\u672c\uff1a100x + 250x + 100,000 + 100x = 450x + 100,000\n</code></pre> <p></p> <p>\u6539\u8fdb\u7248Prompt\uff1a</p> <pre><code>SYSTEM: \u9996\u5148\u5236\u5b9a\u4f60\u7684\u95ee\u9898\u89e3\u51b3\u65b9\u6848\u3002\u7136\u540e\u5c06\u60a8\u7684\u89e3\u51b3\u65b9\u6848\u4e0e\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\u8fdb\u884c\u6bd4\u8f83\uff0c\u5e76\u8bc4\u4f30\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\u662f\u5426\u6b63\u786e\u3002\u5728\u4f60\u81ea\u5df1\u89e3\u51b3\u95ee\u9898\u4e4b\u524d\uff0c\u4e0d\u8981\u51b3\u5b9a\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\u662f\u5426\u6b63\u786e\u3002\nUSER: \u95ee\u9898\u9648\u8ff0\uff1a\u6211\u6b63\u5728\u5efa\u9020\u4e00\u4e2a\u592a\u9633\u80fd\u88c5\u7f6e\uff0c\u6211\u9700\u8981\u5e2e\u52a9\u89e3\u51b3\u8d22\u52a1\u95ee\u9898\u3002\n- \u571f\u5730\u6210\u672c 100 \u5143/\u5e73\u65b9\u7c73\n- \u6211\u53ef\u4ee5\u4ee5 250 \u5143/\u5e73\u65b9\u7c73\u7684\u4ef7\u683c\u8d2d\u4e70\u592a\u9633\u80fd\u7535\u6c60\u677f\n- \u6211\u534f\u5546\u4e86\u4e00\u4efd\u7ef4\u62a4\u5408\u540c\uff0c\u6bcf\u5e74\u5c06\u82b1\u8d39\u6211 10 \u4e07\u5143\u7ef4\u62a4\uff0c\u4ee5\u53ca\u989d\u5916\u7684 10 \u5143/\u5e73\u65b9\u7c73\n\u7b2c\u4e00\u5e74\u8fd0\u8425\u7684\u603b\u6210\u672c\u4e0e\u5e73\u65b9\u7c73\u6570\u7684\u51fd\u6570\u662f\u591a\u5c11\u3002\n\n\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\uff1a\u8bbe x \u4e3a\u5b89\u88c5\u7684\u5927\u5c0f\uff08\u4ee5\u5e73\u65b9\u7c73\u4e3a\u5355\u4f4d\uff09\u3002\n1.\u571f\u5730\u6210\u672c\uff1a100x\n2.\u592a\u9633\u80fd\u7535\u6c60\u677f\u6210\u672c\uff1a250x\n3.\u7ef4\u62a4\u6210\u672c\uff1a100,000+100x\n\u603b\u6210\u672c\uff1a100x + 250x + 100,000 + 100x = 450x + 100,000\n</code></pre> <p></p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#2_4","title":"\u7b56\u75652\uff1a\u4f7f\u7528\u5185\u5fc3\u72ec\u767d\u6216\u4e00\u7cfb\u5217\u67e5\u8be2\u6765\u9690\u85cf\u6a21\u578b\u7684\u63a8\u7406\u8fc7\u7a0b","text":"<p>\u524d\u9762\u7684\u7b56\u7565\u8868\u660e\uff0c\u6a21\u578b\u5728\u56de\u7b54\u7279\u5b9a\u95ee\u9898\u4e4b\u524d\u8be6\u7ec6\u63a8\u7406\u95ee\u9898\u6709\u65f6\u5f88\u91cd\u8981\u3002</p> <p>\u5bf9\u4e8e\u67d0\u4e9b\u5e94\u7528\u7a0b\u5e8f\uff0c\u6a21\u578b\u7528\u4e8e\u5f97\u51fa\u6700\u7ec8\u7b54\u6848\u7684\u63a8\u7406\u8fc7\u7a0b\u4e0d\u9002\u5408\u4e0e\u7528\u6237\u5171\u4eab\u3002</p> <p>\u4f8b\u5982\uff0c\u5728\u8f85\u5bfc\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u9f13\u52b1\u5b66\u751f\u627e\u51fa\u81ea\u5df1\u7684\u7b54\u6848\uff0c\u4f46\u6a21\u578b\u5bf9\u5b66\u751f\u89e3\u51b3\u65b9\u6848\u7684\u63a8\u7406\u8fc7\u7a0b\u53ef\u80fd\u4f1a\u5411\u5b66\u751f\u63ed\u793a\u7b54\u6848\u3002</p> <p>\u5185\u5fc3\u72ec\u767d\u662f\u4e00\u79cd\u53ef\u4ee5\u7528\u6765\u7f13\u89e3\u8fd9\u79cd\u60c5\u51b5\u7684\u7b56\u7565\u3002\u5185\u5fc3\u72ec\u767d\u7684\u601d\u60f3\u662f\u6307\u793a\u6a21\u578b\u5c06\u8f93\u51fa\u4e2d\u5bf9\u7528\u6237\u9690\u85cf\u7684\u90e8\u5206\u653e\u5165\u7ed3\u6784\u5316\u683c\u5f0f\u4e2d\uff0c\u4ee5\u4fbf\u4e8e\u89e3\u6790\u5b83\u4eec\u3002\u7136\u540e\uff0c\u5728\u5411\u7528\u6237\u5448\u73b0\u8f93\u51fa\u4e4b\u524d\uff0c\u5c06\u89e3\u6790\u8f93\u51fa\uff0c\u5e76\u4e14\u4ec5\u663e\u793a\u90e8\u5206\u8f93\u51fa\u3002</p> <p>\u793a\u4f8b1\uff1a</p> <pre><code>SYSTEM: \u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u56de\u7b54\u7528\u6237\u67e5\u8be2\u3002\n\n\u7b2c 1 \u6b65 - \u9996\u5148\u5236\u5b9a\u81ea\u5df1\u7684\u95ee\u9898\u89e3\u51b3\u65b9\u6848\u3002\u4e0d\u8981\u4f9d\u8d56\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u56e0\u4e3a\u5b83\u53ef\u80fd\u662f\u4e0d\u6b63\u786e\u7684\u3002\u5c06\u6b64\u6b65\u9aa4\u7684\u6240\u6709\u5de5\u4f5c\u62ec\u5728\u4e09\u5f15\u53f7 \uff08\"\"\"\uff09 \u4e2d\u3002\n\n\u7b2c 2 \u6b65 - \u5c06\u60a8\u7684\u89e3\u51b3\u65b9\u6848\u4e0e\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\u8fdb\u884c\u6bd4\u8f83\uff0c\u5e76\u8bc4\u4f30\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\u662f\u5426\u6b63\u786e\u3002\u5c06\u6b64\u6b65\u9aa4\u7684\u6240\u6709\u5de5\u4f5c\u62ec\u5728\u4e09\u5f15\u53f7 \uff08\"\"\"\uff09 \u4e2d\u3002\n\n\u7b2c 3 \u6b65 - \u5982\u679c\u5b66\u751f\u72af\u4e86\u9519\u8bef\uff0c\u8bf7\u786e\u5b9a\u60a8\u53ef\u4ee5\u5728\u4e0d\u6cc4\u9732\u7b54\u6848\u7684\u60c5\u51b5\u4e0b\u7ed9\u5b66\u751f\u4ec0\u4e48\u63d0\u793a\u3002\u5c06\u6b64\u6b65\u9aa4\u7684\u6240\u6709\u5de5\u4f5c\u62ec\u5728\u4e09\u5f15\u53f7 \uff08\"\"\"\uff09 \u4e2d\u3002\n\n\u7b2c 4 \u6b65 - \u5982\u679c\u5b66\u751f\u72af\u4e86\u9519\u8bef\uff0c\u8bf7\u5411\u5b66\u751f\u63d0\u4f9b\u4e0a\u4e00\u6b65\u7684\u63d0\u793a\uff08\u4e09\u5f15\u53f7\u4e4b\u5916\uff09\u3002\u800c\u4e0d\u662f\u5199\u201c\u7b2c 4 \u6b65 - ......\u201d\u7684\u63d0\u793a\u3002\n\nUSER\uff1a\u95ee\u9898\u9648\u8ff0\uff1a\u4e00\u4e2a\u76d2\u5b50\u91cc\u67094\u4e2a\u7ea2\u7403\u548c6\u4e2a\u84dd\u7403\u3002\u4ece\u76d2\u5b50\u91cc\u4e0d\u653e\u56de\u5730\u62bd\u53d6\u4e24\u4e2a\u7403\u3002\u62bd\u5230\u7684\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\uff0c\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u6982\u7387\u662f\u591a\u5c11\uff1f\n\u5b66\u751f\u89e3\u7b54\uff1a(4/10)*(6/9) = 24/90 = 4/15\n</code></pre> <p></p> <p>\u793a\u4f8b2\uff1a</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u8981\u6c42\u6a21\u578b\u81ea\u884c\u89e3\u51b3\u95ee\u9898\u3002</p> <pre><code>\u95ee\u9898\u9648\u8ff0\uff1a\u4e00\u4e2a\u76d2\u5b50\u91cc\u67094\u4e2a\u7ea2\u7403\u548c6\u4e2a\u84dd\u7403\u3002\u4ece\u76d2\u5b50\u91cc\u4e0d\u653e\u56de\u5730\u62bd\u53d6\u4e24\u4e2a\u7403\u3002\u62bd\u5230\u7684\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\uff0c\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u6982\u7387\u662f\u591a\u5c11\uff1f\u8bf7\u9010\u6b65\u601d\u8003,\u5236\u5b9a\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u7136\u540e\u6839\u636e\u89e3\u51b3\u65b9\u6848\u8ba1\u7b97\u5f97\u51fa\u6700\u7b54\u6848\u3002\u6700\u540e\u5c06\u7b54\u6848\u7ed9\u51fa\u6765\u3002\n</code></pre> <p>\u5927\u6a21\u578b\u56de\u7b54\u7ed3\u679c\uff1a</p> <pre><code>\u89e3\u51b3\u65b9\u6848\uff1a\n\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u62bd\u53d6\u4e24\u4e2a\u7403\u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\u3001\u81f3\u5c11\u6709\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u60c5\u51b5\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8ba1\u7b97\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\u7684\u6982\u7387\u6765\u5b9e\u73b0\uff1a\n1. \u7b2c\u4e00\u4e2a\u7403\u662f\u7ea2\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u84dd\u7403\u3002\n2. \u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u7ea2\u7403\u3002\n\n\u7136\u540e\uff0c\u6211\u4eec\u5c06\u8fd9\u4e24\u79cd\u60c5\u51b5\u7684\u6982\u7387\u76f8\u52a0\uff0c\u5373\u53ef\u5f97\u5230\u62bd\u53d6\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\u3001\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u603b\u6982\u7387\u3002\n\n1. \u7b2c\u4e00\u4e2a\u7403\u662f\u7ea2\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u84dd\u7403\u7684\u60c5\u51b5\uff1a\n   - \u7b2c\u4e00\u4e2a\u7403\u662f\u7ea2\u7403\u7684\u6982\u7387\u4e3a\uff1a4/10\uff08\u56e0\u4e3a\u76d2\u5b50\u4e2d\u67094\u4e2a\u7ea2\u7403\u548c\u603b\u517110\u4e2a\u7403\uff09\u3002\n   - \u5728\u7b2c\u4e00\u4e2a\u7403\u662f\u7ea2\u7403\u7684\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u84dd\u7403\u7684\u6982\u7387\u4e3a\uff1a6/9\uff08\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u7403\u88ab\u62bd\u53d6\u8d70\u540e\uff0c\u5269\u4e0b9\u4e2a\u7403\u4e2d\u67096\u4e2a\u84dd\u7403\uff09\u3002\n   - \u56e0\u6b64\uff0c\u8fd9\u79cd\u60c5\u51b5\u7684\u6982\u7387\u4e3a\uff1a(4/10) \u00d7 (6/9)\u3002\n\n2. \u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u7ea2\u7403\u7684\u60c5\u51b5\uff1a\n   - \u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\u7684\u6982\u7387\u4e3a\uff1a6/10\uff08\u56e0\u4e3a\u76d2\u5b50\u4e2d\u67096\u4e2a\u84dd\u7403\u548c\u603b\u517110\u4e2a\u7403\uff09\u3002\n   - \u5728\u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\u7684\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u7ea2\u7403\u7684\u6982\u7387\u4e3a\uff1a4/9\uff08\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u7403\u88ab\u62bd\u53d6\u8d70\u540e\uff0c\u5269\u4e0b9\u4e2a\u7403\u4e2d\u67094\u4e2a\u7ea2\u7403\uff09\u3002\n   - \u56e0\u6b64\uff0c\u8fd9\u79cd\u60c5\u51b5\u7684\u6982\u7387\u4e3a\uff1a(6/10) \u00d7 (4/9)\u3002\n\n\u6700\u540e\uff0c\u5c06\u8fd9\u4e24\u79cd\u60c5\u51b5\u7684\u6982\u7387\u76f8\u52a0\uff0c\u5f97\u5230\u62bd\u53d6\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\u3001\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u603b\u6982\u7387\u3002\n\n\u7b54\u6848\uff1a\n\n\\[ P(\\text{\u4e00\u4e2a\u7ea2\u4e00\u4e2a\u84dd}) = \\left(\\frac{4}{10} \\times \\frac{6}{9}\\right) + \\left(\\frac{6}{10} \\times \\frac{4}{9}\\right) \\]\n\n\\[ = \\left(\\frac{24}{90}\\right) + \\left(\\frac{24}{90}\\right) \\]\n\n\\[ = \\frac{48}{90} \\]\n\n\\[ = \\frac{8}{15} \\]\n\n\u62bd\u53d6\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\u3001\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u6982\u7387\u4e3a \\( \\frac{8}{15} \\)\u3002\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba9\u6a21\u578b\u4f7f\u7528\u6240\u6709\u53ef\u7528\u4fe1\u606f\u6765\u8bc4\u4f30\u5b66\u751f\u89e3\u51b3\u65b9\u6848\u7684\u6b63\u786e\u6027\u3002</p> <pre><code>SYSTEM: \u5c06\u60a8\u7684\u89e3\u51b3\u65b9\u6848\u4e0e\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\u8fdb\u884c\u6bd4\u8f83\uff0c\u5e76\u8bc4\u4f30\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\u662f\u5426\u6b63\u786e\u3002\nUSER:\n\u95ee\u9898\u9648\u8ff0\uff1a\n\"\"\"\n\u4e00\u4e2a\u76d2\u5b50\u91cc\u67094\u4e2a\u7ea2\u7403\u548c6\u4e2a\u84dd\u7403\u3002\u4ece\u76d2\u5b50\u91cc\u4e0d\u653e\u56de\u5730\u62bd\u53d6\u4e24\u4e2a\u7403\u3002\u62bd\u5230\u7684\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\uff0c\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u6982\u7387\u662f\u591a\u5c11\uff1f\u8bf7\u9010\u6b65\u601d\u8003,\u5236\u5b9a\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u7136\u540e\u6839\u636e\u89e3\u51b3\u65b9\u6848\u8ba1\u7b97\u5f97\u51fa\u6700\u7b54\u6848\u3002\u6700\u540e\u5c06\u7b54\u6848\u7ed9\u51fa\u6765\u3002\n\"\"\"\n\n\u60a8\u7684\u89e3\u51b3\u65b9\u6848\uff1a\n\"\"\"\n\u89e3\u51b3\u65b9\u6848\uff1a\n\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u62bd\u53d6\u4e24\u4e2a\u7403\u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\u3001\u81f3\u5c11\u6709\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u60c5\u51b5\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8ba1\u7b97\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\u7684\u6982\u7387\u6765\u5b9e\u73b0\uff1a\n1. \u7b2c\u4e00\u4e2a\u7403\u662f\u7ea2\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u84dd\u7403\u3002\n2. \u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u7ea2\u7403\u3002\n\n\u7136\u540e\uff0c\u6211\u4eec\u5c06\u8fd9\u4e24\u79cd\u60c5\u51b5\u7684\u6982\u7387\u76f8\u52a0\uff0c\u5373\u53ef\u5f97\u5230\u62bd\u53d6\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\u3001\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u603b\u6982\u7387\u3002\n\n1. \u7b2c\u4e00\u4e2a\u7403\u662f\u7ea2\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u84dd\u7403\u7684\u60c5\u51b5\uff1a\n   - \u7b2c\u4e00\u4e2a\u7403\u662f\u7ea2\u7403\u7684\u6982\u7387\u4e3a\uff1a4/10\uff08\u56e0\u4e3a\u76d2\u5b50\u4e2d\u67094\u4e2a\u7ea2\u7403\u548c\u603b\u517110\u4e2a\u7403\uff09\u3002\n   - \u5728\u7b2c\u4e00\u4e2a\u7403\u662f\u7ea2\u7403\u7684\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u84dd\u7403\u7684\u6982\u7387\u4e3a\uff1a6/9\uff08\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u7403\u88ab\u62bd\u53d6\u8d70\u540e\uff0c\u5269\u4e0b9\u4e2a\u7403\u4e2d\u67096\u4e2a\u84dd\u7403\uff09\u3002\n   - \u56e0\u6b64\uff0c\u8fd9\u79cd\u60c5\u51b5\u7684\u6982\u7387\u4e3a\uff1a(4/10) \u00d7 (6/9)\u3002\n\n2. \u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u7ea2\u7403\u7684\u60c5\u51b5\uff1a\n   - \u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\u7684\u6982\u7387\u4e3a\uff1a6/10\uff08\u56e0\u4e3a\u76d2\u5b50\u4e2d\u67096\u4e2a\u84dd\u7403\u548c\u603b\u517110\u4e2a\u7403\uff09\u3002\n   - \u5728\u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\u7684\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u7ea2\u7403\u7684\u6982\u7387\u4e3a\uff1a4/9\uff08\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u7403\u88ab\u62bd\u53d6\u8d70\u540e\uff0c\u5269\u4e0b9\u4e2a\u7403\u4e2d\u67094\u4e2a\u7ea2\u7403\uff09\u3002\n   - \u56e0\u6b64\uff0c\u8fd9\u79cd\u60c5\u51b5\u7684\u6982\u7387\u4e3a\uff1a(6/10) \u00d7 (4/9)\u3002\n\n\u6700\u540e\uff0c\u5c06\u8fd9\u4e24\u79cd\u60c5\u51b5\u7684\u6982\u7387\u76f8\u52a0\uff0c\u5f97\u5230\u62bd\u53d6\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\u3001\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u603b\u6982\u7387\u3002\n\n\u7b54\u6848\uff1a\n\n\\[ P(\\text{\u4e00\u4e2a\u7ea2\u4e00\u4e2a\u84dd}) = \\left(\\frac{4}{10} \\times \\frac{6}{9}\\right) + \\left(\\frac{6}{10} \\times \\frac{4}{9}\\right) \\]\n\n\\[ = \\left(\\frac{24}{90}\\right) + \\left(\\frac{24}{90}\\right) \\]\n\n\\[ = \\frac{48}{90} \\]\n\n\\[ = \\frac{8}{15} \\]\n\n\u62bd\u53d6\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\u3001\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u6982\u7387\u4e3a \\( \\frac{8}{15} \\)\u3002\n\"\"\"\n\n\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\uff1a\n\"\"\"\n(4/10)*(6/9) = 24/90 = 4/15\n\"\"\"\n</code></pre> <p></p> <p>\u6700\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba9\u6a21\u578b\u4f7f\u7528\u81ea\u5df1\u7684\u5206\u6790\u6765\u6784\u5efa\u4e00\u4e2a\u4e50\u4e8e\u52a9\u4eba\u7684\u5bfc\u5e08\u7684\u89d2\u8272\u7684\u56de\u590d\u3002</p> <pre><code>SYSTEM: \u4f60\u662f\u4e00\u540d\u6570\u5b66\u5bfc\u5e08\u3002\u5982\u679c\u5b66\u751f\u72af\u4e86\u9519\u8bef\uff0c\u8bf7\u4ee5\u4e0d\u900f\u9732\u7b54\u6848\u7684\u65b9\u5f0f\u5411\u5b66\u751f\u63d0\u4f9b\u63d0\u793a\u3002\u5982\u679c\u5b66\u751f\u6ca1\u6709\u72af\u9519\u8bef\uff0c\u53ea\u9700\u7ed9\u4ed6\u4eec\u4e00\u4e2a\u9f13\u52b1\u6027\u7684\u8bc4\u8bba\u3002\nUSER:\n\u95ee\u9898\u9648\u8ff0\uff1a\n\"\"\"\n\u4e00\u4e2a\u76d2\u5b50\u91cc\u67094\u4e2a\u7ea2\u7403\u548c6\u4e2a\u84dd\u7403\u3002\u4ece\u76d2\u5b50\u91cc\u4e0d\u653e\u56de\u5730\u62bd\u53d6\u4e24\u4e2a\u7403\u3002\u62bd\u5230\u7684\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\uff0c\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u6982\u7387\u662f\u591a\u5c11\uff1f\u8bf7\u9010\u6b65\u601d\u8003,\u5236\u5b9a\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u7136\u540e\u6839\u636e\u89e3\u51b3\u65b9\u6848\u8ba1\u7b97\u5f97\u51fa\u6700\u7b54\u6848\u3002\u6700\u540e\u5c06\u7b54\u6848\u7ed9\u51fa\u6765\u3002\n\"\"\"\n\n\u4f60\u7684\u89e3\u51b3\u65b9\u6848\uff1a\n\"\"\"\n\u89e3\u51b3\u65b9\u6848\uff1a\n\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u62bd\u53d6\u4e24\u4e2a\u7403\u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\u3001\u81f3\u5c11\u6709\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u60c5\u51b5\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8ba1\u7b97\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\u7684\u6982\u7387\u6765\u5b9e\u73b0\uff1a\n1. \u7b2c\u4e00\u4e2a\u7403\u662f\u7ea2\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u84dd\u7403\u3002\n2. \u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u7ea2\u7403\u3002\n\n\u7136\u540e\uff0c\u6211\u4eec\u5c06\u8fd9\u4e24\u79cd\u60c5\u51b5\u7684\u6982\u7387\u76f8\u52a0\uff0c\u5373\u53ef\u5f97\u5230\u62bd\u53d6\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\u3001\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u603b\u6982\u7387\u3002\n\n1. \u7b2c\u4e00\u4e2a\u7403\u662f\u7ea2\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u84dd\u7403\u7684\u60c5\u51b5\uff1a\n   - \u7b2c\u4e00\u4e2a\u7403\u662f\u7ea2\u7403\u7684\u6982\u7387\u4e3a\uff1a4/10\uff08\u56e0\u4e3a\u76d2\u5b50\u4e2d\u67094\u4e2a\u7ea2\u7403\u548c\u603b\u517110\u4e2a\u7403\uff09\u3002\n   - \u5728\u7b2c\u4e00\u4e2a\u7403\u662f\u7ea2\u7403\u7684\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u84dd\u7403\u7684\u6982\u7387\u4e3a\uff1a6/9\uff08\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u7403\u88ab\u62bd\u53d6\u8d70\u540e\uff0c\u5269\u4e0b9\u4e2a\u7403\u4e2d\u67096\u4e2a\u84dd\u7403\uff09\u3002\n   - \u56e0\u6b64\uff0c\u8fd9\u79cd\u60c5\u51b5\u7684\u6982\u7387\u4e3a\uff1a(4/10) \u00d7 (6/9)\u3002\n\n2. \u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u7ea2\u7403\u7684\u60c5\u51b5\uff1a\n   - \u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\u7684\u6982\u7387\u4e3a\uff1a6/10\uff08\u56e0\u4e3a\u76d2\u5b50\u4e2d\u67096\u4e2a\u84dd\u7403\u548c\u603b\u517110\u4e2a\u7403\uff09\u3002\n   - \u5728\u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\u7684\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u7ea2\u7403\u7684\u6982\u7387\u4e3a\uff1a4/9\uff08\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u7403\u88ab\u62bd\u53d6\u8d70\u540e\uff0c\u5269\u4e0b9\u4e2a\u7403\u4e2d\u67094\u4e2a\u7ea2\u7403\uff09\u3002\n   - \u56e0\u6b64\uff0c\u8fd9\u79cd\u60c5\u51b5\u7684\u6982\u7387\u4e3a\uff1a(6/10) \u00d7 (4/9)\u3002\n\n\u6700\u540e\uff0c\u5c06\u8fd9\u4e24\u79cd\u60c5\u51b5\u7684\u6982\u7387\u76f8\u52a0\uff0c\u5f97\u5230\u62bd\u53d6\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\u3001\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u603b\u6982\u7387\u3002\n\n\u7b54\u6848\uff1a\n\n\\[ P(\\text{\u4e00\u4e2a\u7ea2\u4e00\u4e2a\u84dd}) = \\left(\\frac{4}{10} \\times \\frac{6}{9}\\right) + \\left(\\frac{6}{10} \\times \\frac{4}{9}\\right) \\]\n\n\\[ = \\left(\\frac{24}{90}\\right) + \\left(\\frac{24}{90}\\right) \\]\n\n\\[ = \\frac{48}{90} \\]\n\n\\[ = \\frac{8}{15} \\]\n\n\u62bd\u53d6\u4e24\u4e2a\u7403\u4e2d\u6709\u4e00\u4e2a\u662f\u7ea2\u7403\u3001\u53e6\u4e00\u4e2a\u662f\u84dd\u7403\u7684\u6982\u7387\u4e3a \\( \\frac{8}{15} \\)\u3002\n\"\"\"\n\n\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\uff1a\n\"\"\"\n(4/10)*(6/9) = 24/90 = 4/15\n\"\"\"\n\n\u5206\u6790\uff1a\n\"\"\"\n\u60a8\u7684\u89e3\u51b3\u65b9\u6848\u662f\u6b63\u786e\u7684\uff0c\u4f46\u662f\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\u6709\u4e00\u4e2a\u5c0f\u9519\u8bef\u3002\u5b66\u751f\u8ba1\u7b97\u4e86\u4e00\u4e2a\u7ea2\u7403\u4e00\u4e2a\u84dd\u7403\u7684\u6982\u7387\uff0c\u4f46\u5ffd\u7565\u4e86\u53e6\u4e00\u79cd\u60c5\u51b5\uff1a\u7b2c\u4e00\u4e2a\u7403\u662f\u84dd\u7403\uff0c\u7b2c\u4e8c\u4e2a\u7403\u662f\u7ea2\u7403\u3002\u56e0\u6b64\uff0c\u5b66\u751f\u7684\u89e3\u51b3\u65b9\u6848\u5e94\u8be5\u5305\u62ec\u8fd9\u4e24\u79cd\u60c5\u51b5\u7684\u6982\u7387\u76f8\u52a0\u3002\u6b63\u786e\u7684\u6982\u7387\u662f \\( \\frac{8}{15} \\)\u3002\n\"\"\"\n</code></pre> <p></p> <p>GPT3.5 \u8fd9\u79cd\u7b56\u7565\u5b9e\u6d4b\u6548\u679c\u4e0d\u597d\u3002</p>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#3_3","title":"\u7b56\u75653\uff1a\u8be2\u95ee\u6a21\u578b\u662f\u5426\u9057\u6f0f\u4e86\u5185\u5bb9","text":""},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#_5","title":"\u4e94\u3001\u4f7f\u7528\u5916\u90e8\u5de5\u5177","text":""},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#1embedding","title":"\u7b56\u75651\uff1a\u4f7f\u7528\u57fa\u4e8eEmbedding\u641c\u7d22\u6765\u5b9e\u73b0\u9ad8\u6548\u7684\u77e5\u8bc6\u68c0\u7d22","text":"<p>text embedding\u662f\u4e00\u79cd\u5411\u91cf\uff0c\u53ef\u4ee5\u6d4b\u91cf\u6587\u672c\u5b57\u7b26\u4e32\u4e4b\u95f4\u7684\u76f8\u5173\u6027\u3002\u76f8\u4f3c\u6216\u76f8\u5173\u7684\u5b57\u7b26\u4e32\u5c06\u6bd4\u4e0d\u76f8\u5173\u7684\u5b57\u7b26\u4e32\u66f4\u63a5\u8fd1\u3002\u7531\u4e8e\u5411\u91cf\u641c\u7d22\u7b97\u6cd5\u7684\u5b58\u5728\uff0cembedding \u53ef\u7528\u4e8e\u5b9e\u73b0\u9ad8\u6548\u7684\u77e5\u8bc6\u68c0\u7d22\u3002\u7279\u522b\u662f\uff0c\u6587\u672c\u8bed\u6599\u5e93\u53ef\u4ee5\u62c6\u5206\u4e3a\u5757\uff0c\u5e76\u4e14\u6bcf\u4e2a\u5757\u90fd\u53ef\u4ee5embeding\u548c\u5b58\u50a8\u3002\u7136\u540e\uff0c\u53ef\u4ee5\u5bf9\u7ed9\u5b9a\u7684\u67e5\u8be2\u505aembedding\uff0c\u5e76\u6267\u884c\u5411\u91cf\u641c\u7d22\uff0c\u4ee5\u4ece\u8bed\u6599\u5e93\u4e2d\u627e\u5230\u4e0e\u67e5\u8be2\u6700\u76f8\u5173\u7684\u6587\u672c\u5757\u3002</p> <p>\u793a\u4f8b\uff1a</p> <p>\u5176\u4e2d\u7684<code>context</code>\u662f\u4f7f\u7528\u5411\u91cf\u76f8\u4f3c\u5ea6\u7b97\u6cd5\u4ece\u5411\u91cf\u6570\u636e\u5e93\u4e2d\u67e5\u8be2\u51fa\u6765\u7684\u3002</p> <pre><code>\u4f60\u662f\u4e00\u4e2a\u4e50\u4e8e\u52a9\u4eba\u3001\u5c0a\u91cd\u548c\u8bda\u5b9e\u7684AI \u52a9\u624b\uff0c\u540d\u53eb\u667a\u80fd\u503c\u73ed\uff0c\u4f60\u64c5\u957f\u4ece\u5df2\u77e5\u4fe1\u606f\u4e2d\u68c0\u7d22\u7b54\u6848\u7ed9\u7528\u6237\uff0c\u4f60\u77e5\u8bc6\u4fe1\u606f\u7684\u642c\u8fd0\u5de5\u800c\u4e0d\u662f\u521b\u9020\u8005\u3002\n\u60a8\u6b63\u5728\u4e0e\u4eba\u7c7b\uff08\u7528\u6237\uff09\u4ea4\u8c08\u3002\u60a8\u7531 xxxx \u7b97\u6cd5\u56e2\u961f\u8bad\u7ec3\uff0c\u4e0e GPT \u6216 OpenAI \u65e0\u5173\u3002\n\u57fa\u4e8e\u4e0a\u4e0b\u6587\u4fe1\u606f\u7684\u7b54\u6848\u5fc5\u987b\u4f7f\u7528\u539f\u59cb\u8bed\u8a00\uff0c\u5e76\u4e14\u7981\u6b62\u4fee\u6539\u539f\u59cb\u6587\u672c\u3002\n\u5982\u679c\u65e0\u6cd5\u4ece\u4e2d\u5f97\u5230\u7b54\u6848\uff0c\u8bf7\u8bf4\u201c\u6839\u636e\u5df2\u77e5\u4fe1\u606f\u65e0\u6cd5\u56de\u7b54\u8be5\u95ee\u9898\u201d\uff0c\u8bf7\u4f7f\u7528\u4e2d\u6587\u4f5c\u4e3a\u7b54\u6848\u3002\n\u8bf7\u6309\u7167 Markdown \u683c\u5f0f\u89e3\u6790\u5df2\u77e5\u4fe1\u606f\u3002\n\u4f60\u6709\u5982\u4e0b\u793a\u4f8b\u53c2\u8003\uff1a\n&lt;example&gt;\n&lt;context&gt;\n### Wi-Fi\u8fde\u63a5\u6b63\u5e38\uff0c\u65e0\u6cd5\u8bbf\u95ee\u5185\u5916\u7f51\n\u53ef\u80fd\u539f\u56e0\u53ca\u89e3\u51b3\u529e\u6cd5\uff1a\n\n\u53ef\u80fd\u539f\u56e0\uff1a\n\n1.\u7ec8\u7aef\u4e0d\u7b26\u5408\u516c\u53f8\u4fe1\u606f\u5b89\u5168\u8981\u6c42\uff0c\u88ab\u7f51\u7edc\u51c6\u5165\u7cfb\u7edf\u62e6\u622a\u3002\n\n2.\u7ec8\u7aef\u7f51\u7edc\u8bbe\u7f6e\u9519\u8bef\uff0c\u672a\u8bbe\u7f6e\u4e3a\u901a\u8fc7DHCP\u83b7\u53d6IP\u5730\u5740\uff0c\u5b50\u7f51\u63a9\u7801\uff0c\u7f51\u5173\u548cDNS\u7b49\u5fc5\u8981\u4fe1\u606f\n\n3.\u57df\u8d26\u53f7\u5bc6\u7801\u9519\u8bef\n\n\u89e3\u51b3\u529e\u6cd5\uff1a\n\n1.\u63a5\u5165\u516c\u53f8\u5185\u7f51\u7ec8\u7aef\u9700\u5b89\u88c5McAfee\u6740\u6bd2\u8f6f\u4ef6\uff0cForeScout\u7f51\u7edc\u51c6\u5165\u7b49\u8f6f\u4ef6\uff0cWindows\u7ec8\u7aef\u9700\u52a0\u5165\u516c\u53f8\u57df\u3002\n\n2.\u9700\u5c06\u7ec8\u7aef\u8bbe\u7f6e\u4e3a DHCP\uff08\u81ea\u52a8\u83b7\u53d6IP\u5730\u5740\u548cDNS\u670d\u52a1\u5668\uff09\n\n3.\u57df\u8d26\u53f7\u5bc6\u7801\u8fc7\u671f\uff0c\u6216\u5df2\u66f4\u6539\u5bc6\u7801\u4f46\u672a\u624b\u52a8\u91cd\u65b0\u8f93\u5165Wi-Fi\u5bc6\u7801\u3002\n&lt;/context&gt;\n&lt;question&gt;Wi-Fi\u8fde\u63a5\u6b63\u5e38\uff0c\u65e0\u6cd5\u8bbf\u95ee\u5185\u5916\u7f51&lt;/question&gt;\n&lt;answer&gt;\n\u53ef\u80fd\u539f\u56e0\u53ca\u89e3\u51b3\u529e\u6cd5\uff1a\n\n\u53ef\u80fd\u539f\u56e0\uff1a\n\n1.\u7ec8\u7aef\u4e0d\u7b26\u5408\u516c\u53f8\u4fe1\u606f\u5b89\u5168\u8981\u6c42\uff0c\u88ab\u7f51\u7edc\u51c6\u5165\u7cfb\u7edf\u62e6\u622a\u3002\n\n2.\u7ec8\u7aef\u7f51\u7edc\u8bbe\u7f6e\u9519\u8bef\uff0c\u672a\u8bbe\u7f6e\u4e3a\u901a\u8fc7DHCP\u83b7\u53d6IP\u5730\u5740\uff0c\u5b50\u7f51\u63a9\u7801\uff0c\u7f51\u5173\u548cDNS\u7b49\u5fc5\u8981\u4fe1\u606f\n\n3.\u57df\u8d26\u53f7\u5bc6\u7801\u9519\u8bef\n\n\u89e3\u51b3\u529e\u6cd5\uff1a\n\n1.\u63a5\u5165\u516c\u53f8\u5185\u7f51\u7ec8\u7aef\u9700\u5b89\u88c5McAfee\u6740\u6bd2\u8f6f\u4ef6\uff0cForeScout\u7f51\u7edc\u51c6\u5165\u7b49\u8f6f\u4ef6\uff0cWindows\u7ec8\u7aef\u9700\u52a0\u5165\u516c\u53f8\u57df\u3002\n\n2.\u9700\u5c06\u7ec8\u7aef\u8bbe\u7f6e\u4e3a DHCP\uff08\u81ea\u52a8\u83b7\u53d6IP\u5730\u5740\u548cDNS\u670d\u52a1\u5668\uff09\n\n3.\u57df\u8d26\u53f7\u5bc6\u7801\u8fc7\u671f\uff0c\u6216\u5df2\u66f4\u6539\u5bc6\u7801\u4f46\u672a\u624b\u52a8\u91cd\u65b0\u8f93\u5165Wi-Fi\u5bc6\u7801\u3002\n&lt;/answer&gt;\n&lt;/example&gt;\n\n&lt;context&gt;\n{context}\n&lt;/context&gt;\n&lt;question&gt;{question}&lt;/question&gt;\n&lt;answer&gt;:\n</code></pre>"},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#2api","title":"\u7b56\u75652\uff1a\u4f7f\u7528\u4ee3\u7801\u6267\u884c\u6765\u6267\u884c\u66f4\u51c6\u786e\u7684\u8ba1\u7b97\u6216\u8c03\u7528\u5916\u90e8API","text":""},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#3_4","title":"\u7b56\u75653\uff1a\u6388\u4e88\u6a21\u578b\u5bf9\u7279\u5b9a\u51fd\u6570\u7684\u8bbf\u95ee\u6743\u9650","text":""},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#_6","title":"\u516d\u3001\u7cfb\u7edf\u5730\u6d4b\u8bd5\u66f4\u6539","text":""},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#1_5","title":"\u7b56\u75651\uff1a\u53c2\u8003\u6807\u51c6\u7b54\u6848\u8bc4\u4f30\u6a21\u578b\u8f93\u51fa","text":""},{"location":"03_AI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B.html#_7","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li> <p>OpenAI prompt engineering guides</p> </li> <li> <p>\u63d0\u793a\u8bcd\u5de5\u7a0b\u6307\u5357\u4e2d\u6587\u7248</p> </li> </ul>"},{"location":"03_AI/%E6%95%B0%E5%AD%A6/index.html","title":"\u4eba\u5de5\u667a\u80fd\u6570\u5b66\u57fa\u7840","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/index.html","title":"\u673a\u5668\u5b66\u4e60","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html","title":"\u673a\u5668\u5b66\u4e60","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html#_2","title":"\u4ec0\u4e48\u662f\u673a\u5668\u5b66\u4e60","text":"<p>\u673a\u5668\u5b66\u4e60\u662f\u4eba\u5de5\u667a\u80fd\u7684\u4e00\u4e2a\u91cd\u8981\u5206\u652f,\u5b83\u8d4b\u4e88\u8ba1\u7b97\u673a\u7cfb\u7edf\u4ece\u6570\u636e\u4e2d\u81ea\u52a8\u5b66\u4e60\u548c\u63d0\u9ad8\u6027\u80fd\u7684\u80fd\u529b,\u800c\u4e0d\u9700\u8981\u663e\u5f0f\u7f16\u7a0b\u3002\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u901a\u8fc7\u5206\u6790\u5927\u91cf\u6570\u636e,\u81ea\u52a8\u5efa\u7acb\u6570\u5b66\u6a21\u578b,\u53d1\u73b0\u6570\u636e\u4e2d\u9690\u542b\u7684\u89c4\u5f8b\u548c\u77e5\u8bc6\u3002</p> <p>\u673a\u5668\u5b66\u4e60\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u51e0\u79cd\u4e3b\u8981\u7c7b\u578b:</p> <ul> <li> <p>\u76d1\u7763\u5b66\u4e60:\u5229\u7528\u6709\u6807\u6ce8\u7684\u8bad\u7ec3\u6570\u636e,\u5b66\u4e60\u5efa\u7acb\u9884\u6d4b\u6a21\u578b\u3002\u5178\u578b\u7b97\u6cd5\u6709\u7ebf\u6027\u56de\u5f52\u3001\u903b\u8f91\u56de\u5f52\u3001\u51b3\u7b56\u6811\u3001\u652f\u6301\u5411\u91cf\u673a\u7b49\u3002</p> </li> <li> <p>\u65e0\u76d1\u7763\u5b66\u4e60:\u4ec5\u5229\u7528\u65e0\u6807\u6ce8\u6570\u636e\u7684\u5185\u5728\u89c4\u5f8b\u8fdb\u884c\u5b66\u4e60,\u4f8b\u5982\u805a\u7c7b\u7b97\u6cd5\u53d1\u73b0\u6570\u636e\u4e2d\u7684\u81ea\u7136\u5206\u7ec4\u3002</p> </li> <li> <p>\u5f3a\u5316\u5b66\u4e60:\u901a\u8fc7\u4e0e\u73af\u5883\u7684\u4ea4\u4e92,\u7cfb\u7edf\u83b7\u5f97\u53cd\u9988\u5956\u60e9\u4fe1\u53f7,\u81ea\u52a8\u5b66\u4e60\u91c7\u53d6\u4f55\u79cd\u884c\u52a8\u83b7\u5f97\u6700\u5927\u5229\u76ca\u3002</p> </li> <li> <p>\u6df1\u5ea6\u5b66\u4e60:\u57fa\u4e8e\u591a\u5c42\u795e\u7ecf\u7f51\u7edc\u6a21\u578b,\u901a\u8fc7\u5927\u6570\u636e\u8bad\u7ec3\u83b7\u5f97\u7279\u5f81\u8868\u793a\u548c\u9884\u6d4b\u80fd\u529b\u3002\u5b83\u5728\u8ba1\u7b97\u673a\u89c6\u89c9\u3001\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7b49\u9886\u57df\u8868\u73b0\u5353\u8d8a\u3002</p> </li> </ul> <p>\u673a\u5668\u5b66\u4e60\u5df2\u5e7f\u6cdb\u5e94\u7528\u4e8e\u56fe\u50cf\u8bc6\u522b\u3001\u63a8\u8350\u7cfb\u7edf\u3001\u81ea\u7136\u8bed\u8a00\u5904\u7406\u3001\u533b\u7597\u8bca\u65ad\u3001\u65e0\u4eba\u9a7e\u9a76\u7b49\u8bf8\u591a\u9886\u57df,\u6781\u5927\u63d0\u5347\u4e86\u4eba\u5de5\u667a\u80fd\u7cfb\u7edf\u7684\u6027\u80fd\u3002\u968f\u7740\u6570\u636e\u91cf\u7684\u589e\u52a0\u548c\u7b97\u529b\u7684\u63d0\u5347,\u673a\u5668\u5b66\u4e60\u7684\u80fd\u529b\u8fd8\u5c06\u4e0d\u65ad\u6269\u5c55\u3002</p>"},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html#_3","title":"\u673a\u5668\u5b66\u4e60\u7b97\u6cd5","text":"<p>\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u5206\u7c7b\u4e3b\u8981</p>"},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html","title":"\u6df1\u5165\u6d45\u51faPython\u673a\u5668\u5b66\u4e60\u7b14\u8bb0","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_1","title":"\u673a\u5668\u5b66\u4e60\u4e2d\u7684\u6982\u5ff5","text":"<p>Q:\u4ec0\u4e48\u662f\u6709\u76d1\u7763\u5b66\u4e60\uff1f A\uff1a\u6709\u76d1\u7763\u5b66\u4e60\u662f\u6307\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u7ed9\u6a21\u578b\u63d0\u4f9b\u7684\u6570\u636e\u65e2\u5305\u62ec\u8f93\u5165\u6570\u636e\uff0c\u4e5f\u5305\u62ec\u6b63\u786e\u7684\u8f93\u51fa\u6570\u636e\uff0c\u4e5f\u5c31\u662f\u6807\u7b7e\u3002\u6a21\u578b\u7684\u4efb\u52a1\u5c31\u662f\u5b66\u4e60\u5982\u4f55\u4ece\u8f93\u5165\u6570\u636e\u9884\u6d4b\u51fa\u6b63\u786e\u7684\u8f93\u51fa\u3002\u5e38\u89c1\u7684\u6709\u76d1\u7763\u5b66\u4e60\u4efb\u52a1\u6709\u5206\u7c7b\uff08\u4f8b\u5982\uff0c\u5224\u65ad\u4e00\u5c01\u90ae\u4ef6\u662f\u5783\u573e\u90ae\u4ef6\u8fd8\u662f\u975e\u5783\u573e\u90ae\u4ef6\uff09\u548c\u56de\u5f52\uff08\u4f8b\u5982\uff0c\u9884\u6d4b\u623f\u4ef7\uff09\u3002</p> <p>Q:\u4ec0\u4e48\u662f\u65e0\u76d1\u7763\u5b66\u4e60\uff1f A\uff1a\u65e0\u76d1\u7763\u5b66\u4e60\u5219\u662f\u6307\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u53ea\u7ed9\u6a21\u578b\u63d0\u4f9b\u8f93\u5165\u6570\u636e\uff0c\u4e0d\u63d0\u4f9b\u6b63\u786e\u7684\u8f93\u51fa\u6570\u636e\u3002\u6a21\u578b\u7684\u4efb\u52a1\u662f\u81ea\u6211\u5b66\u4e60\u6570\u636e\u7684\u7ed3\u6784\u6216\u8005\u5206\u5e03\u3002\u5e38\u89c1\u7684\u65e0\u76d1\u7763\u5b66\u4e60\u4efb\u52a1\u6709\u6570\u636e\u8f6c\u6362\u548c\u805a\u7c7b\u5206\u6790\u3002\u6700\u5e38\u89c1\u7684\u6570\u636e\u8f6c\u6362\u65b9\u6cd5\u4e4b\u4e00\u662f\u6570\u636e\u964d\u7ef4\uff0c\u901a\u8fc7\u5bf9\u7279\u5f81\u53d8\u91cf\u8f83\u591a\u7684\u6570\u636e\u96c6\u8fdb\u884c\u5206\u6790\uff0c\u5c06\u65e0\u5173\u7684\u7279\u5f81\u53d8\u91cf\u53bb\u9664\uff0c\u4fdd\u7559\u5173\u952e\u7279\u5f81\u3002\u805a\u7c7b\u7b97\u6cd5\u5c06\u6837\u672c\u5212\u5230\u4e0d\u540c\u7684\u5206\u7ec4\uff0c\u6bcf\u4e2a\u5206\u7ec4\u7684\u5143\u7d20\u90fd\u6709\u63a5\u8fd1\u7684\u7279\u5f81\u3002</p> <p>Q:\u6709\u76d1\u7763\u5b66\u4e60\u548c\u65e0\u76d1\u7763\u5b66\u4e60\u7684\u533a\u522b\uff1f\u5e94\u7528\u65b9\u9762\u6709\u4ec0\u4e48\u4e0d\u540c\uff1f A\uff1a\u4e24\u8005\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\uff0c\u6709\u76d1\u7763\u5b66\u4e60\u7684\u8bad\u7ec3\u6570\u636e\u5305\u542b\u4e86\u6b63\u786e\u7b54\u6848\uff0c\u800c\u65e0\u76d1\u7763\u5b66\u4e60\u7684\u8bad\u7ec3\u6570\u636e\u6ca1\u6709\u5305\u542b\u6b63\u786e\u7b54\u6848\u3002 \u5728\u5e94\u7528\u65b9\u9762\uff0c\u6709\u76d1\u7763\u5b66\u4e60\u901a\u5e38\u7528\u4e8e\u6807\u7b7e\u5df2\u77e5\u7684\u9884\u6d4b\u4efb\u52a1\uff0c\u4f8b\u5982\u5783\u573e\u90ae\u4ef6\u5206\u7c7b\u3001\u623f\u4ef7\u9884\u6d4b\u7b49\uff1b\u800c\u65e0\u76d1\u7763\u5b66\u4e60\u901a\u5e38\u7528\u4e8e\u63a2\u7d22\u6027\u7684\u6570\u636e\u5206\u6790\uff0c\u4f8b\u5982\u7528\u6237\u5206\u7fa4\u3001\u4e3b\u9898\u5efa\u6a21\u7b49\uff0c\u6216\u8005\u5728\u6807\u7b7e\u4e0d\u6613\u83b7\u53d6\u7684\u60c5\u51b5\u4e0b\u5bf9\u6570\u636e\u8fdb\u884c\u9884\u5904\u7406\u6216\u964d\u7ef4\u3002</p> \u6709\u76d1\u7763\u5b66\u4e60 \u65e0\u76d1\u7763\u5b66\u4e60 \u5b83\u662f\u4ec0\u4e48\uff1f \u53ef\u4ee5\u4f7f\u7528\u4e00\u7ec4\u8f93\u5165\u6570\u636e\u548c\u4e00\u7ec4\u76f8\u5e94\u7684\u5df2\u6807\u8bb0\u914d\u5bf9\u8f93\u51fa\u6570\u636e\u6765\u8bad\u7ec3\u6a21\u578b\u3002 \u53ef\u4ee5\u8bad\u7ec3\u6a21\u578b\u4ee5\u53d1\u73b0\u672a\u6807\u8bb0\u6570\u636e\u4e2d\u7684\u9690\u85cf\u6a21\u5f0f\u3002 \u6280\u672f \u903b\u8f91\u56de\u5f52\u3001\u7ebf\u6027\u56de\u5f52\u3001\u51b3\u7b56\u6811\u548c\u795e\u7ecf\u7f51\u7edc\u3002 \u96c6\u7fa4\u3001\u5173\u8054\u89c4\u5219\u5b66\u4e60\u3001\u6982\u7387\u5bc6\u5ea6\u548c\u964d\u7ef4\u3002 \u76ee\u6807 \u6839\u636e\u5df2\u77e5\u8f93\u5165\u9884\u6d4b\u8f93\u51fa\u3002 \u8bc6\u522b\u8f93\u5165\u6570\u636e\u70b9\u4e4b\u95f4\u6709\u4ef7\u503c\u7684\u5173\u7cfb\u4fe1\u606f\u3002\u7136\u540e\uff0c\u53ef\u4ee5\u5c06\u6b64\u4fe1\u606f\u5e94\u7528\u4e8e\u65b0\u7684\u8f93\u5165\uff0c\u4ee5\u5f97\u51fa\u7c7b\u4f3c\u7684\u89c1\u89e3\u3002 \u65b9\u6cd5 \u6700\u5927\u9650\u5ea6\u5730\u51cf\u5c11\u9884\u6d4b\u8f93\u51fa\u548c\u771f\u5b9e\u6807\u7b7e\u4e4b\u95f4\u7684\u8bef\u5dee\u3002 \u67e5\u627e\u6570\u636e\u4e2d\u7684\u6a21\u5f0f\u3001\u76f8\u4f3c\u6027\u6216\u5f02\u5e38\u3002 <p>Q:\u4ec0\u4e48\u662f\u5206\u7c7b\uff0c\u4ec0\u4e48\u662f\u56de\u5f52\uff0c\u5404\u81ea\u7684\u5e94\u7528\u573a\u666f\u6709\u54ea\u4e9b\uff1f A\uff1a\u5206\u7c7b\u548c\u56de\u5f52\u662f\u6709\u76d1\u7763\u5b66\u4e60\u4e2d\u6700\u5e38\u89c1\u7684\u4efb\u52a1\u3002</p> \u5206\u7c7b \u56de\u5f52 \u5b9a\u4e49 \u5206\u7c7b\u662f\u9884\u6d4b\u79bb\u6563\u6807\u7b7e\u7684\u4efb\u52a1\uff0c\u8f93\u51fa\u662f\u79bb\u6563\u7684\u7c7b\u522b\u3002 \u56de\u5f52\u662f\u9884\u6d4b\u8fde\u7eed\u503c\u7684\u4efb\u52a1\uff0c\u8f93\u51fa\u662f\u4e00\u4e2a\u8fde\u7eed\u7684\u6570\u503c\u3002 \u5e94\u7528\u573a\u666f \u4e8c\u5206\u7c7b\uff08\u5783\u573e\u90ae\u4ef6\u8bc6\u522b\uff09\u3001\u591a\u5206\u7c7b\uff08\u624b\u5199\u6570\u5b57\u8bc6\u522b\uff09 \u623f\u4ef7\u9884\u6d4b\u3001\u80a1\u7968\u4ef7\u683c\u9884\u6d4b <p>Q:\u4ec0\u4e48\u662f\u6a21\u578b\u7684\u6cdb\u5316\uff1f A\uff1a\u5728\u6709\u76d1\u7763\u5b66\u4e60\u4e2d\uff0c\u5728\u8bad\u7ec3\u96c6\u4e0a\u4f1a\u5efa\u7acb\u4e00\u4e2a\u6a21\u578b\uff0c\u4e4b\u540e\u4f1a\u628a\u8fd9\u4e2a\u6a21\u578b\u7528\u4e8e\u65b0\u7684\u6570\u636e\u4e2d\u8fdb\u884c\u9884\u6d4b\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53eb\u505a\u6a21\u578b\u7684\u6cdb\u5316\uff08generalization\uff09\u3002</p> <p>Q:\u4ec0\u4e48\u8fc7\u62df\u5408\uff0c\u4ec0\u4e48\u662f\u6b20\u62df\u5408\uff0c\u5b83\u4eec\u662f\u5982\u4f55\u51fa\u73b0\u7684\uff0c\u5982\u4f55\u907f\u514d\u8fc7\u62df\u5408\u548c\u6b20\u62df\u5408\uff1f A\uff1a\u6a21\u578b\u5728\u8bad\u7ec3\u96c6\u4e0a\u8868\u73b0\u826f\u597d\uff0c\u4f46\u662f\u5728\u6d4b\u8bd5\u96c6\u4e0a\u8868\u73b0\u4e0d\u597d\uff0c\u5c31\u53eb\u505a\u8fc7\u62df\u5408\uff08overfitting\uff09\u3002\u6a21\u578b\u5728\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u4e0a\u8868\u73b0\u90fd\u4e0d\u597d\u53eb\u505a\u6b20\u62df\u5408\uff08underfitting\uff09\u3002</p> <p>\u907f\u514d\u8fc7\u62df\u5408\u7684\u65b9\u6cd5\uff1a</p> <ul> <li>\u6570\u636e\u6269\u589e\uff1a\u901a\u8fc7\u5bf9\u539f\u6709\u8bad\u7ec3\u6570\u636e\u8fdb\u884c\u4e00\u4e9b\u53d8\u6362\uff08\u5982\u65cb\u8f6c\u3001\u7f29\u653e\u3001\u88c1\u526a\u7b49\uff09\u6765\u751f\u6210\u65b0\u7684\u8bad\u7ec3\u6837\u672c\uff0c\u589e\u5927\u8bad\u7ec3\u96c6\u7684\u5927\u5c0f\u3002</li> <li>\u6b63\u5219\u5316\uff1a\u5728\u6a21\u578b\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u52a0\u5165\u4e00\u4e9b\u989d\u5916\u7684\u7ea6\u675f\uff0c\u4f8b\u5982L1\u548cL2\u6b63\u5219\u5316\uff0c\u6765\u9650\u5236\u6a21\u578b\u7684\u590d\u6742\u5ea6\u3002</li> <li>\u65e9\u505c\uff1a\u5728\u6a21\u578b\u7684\u9a8c\u8bc1\u96c6\u8bef\u5dee\u4e0d\u518d\u51cf\u5c0f\u6216\u8005\u5f00\u59cb\u589e\u5927\u65f6\uff0c\u505c\u6b62\u6a21\u578b\u7684\u8bad\u7ec3\uff0c\u9632\u6b62\u6a21\u578b\u8fc7\u5ea6\u62df\u5408\u8bad\u7ec3\u6570\u636e\u3002</li> <li>\u96c6\u6210\u5b66\u4e60\uff1a\u8bad\u7ec3\u591a\u4e2a\u6a21\u578b\u7136\u540e\u7efc\u5408\u4ed6\u4eec\u7684\u9884\u6d4b\u7ed3\u679c\uff0c\u53ef\u4ee5\u6709\u6548\u5730\u9632\u6b62\u8fc7\u62df\u5408\u3002</li> <li>Dropout\uff1a\u5728\u795e\u7ecf\u7f51\u7edc\u4e2d\uff0c\u968f\u673a\u5ffd\u7565\u4e00\u4e9b\u795e\u7ecf\u5143\u7684\u8f93\u51fa\uff0c\u53ef\u4ee5\u9632\u6b62\u6a21\u578b\u8fc7\u5ea6\u4f9d\u8d56\u67d0\u4e9b\u7279\u5f81\uff0c\u4ece\u800c\u9632\u6b62\u8fc7\u62df\u5408\u3002</li> </ul> <p>\u907f\u514d\u6b20\u62df\u5408\u7684\u65b9\u6cd5\uff1a</p> <ul> <li>\u589e\u52a0\u6a21\u578b\u590d\u6742\u5ea6\uff1a\u5982\u679c\u6a21\u578b\u8fc7\u4e8e\u7b80\u5355\uff0c\u65e0\u6cd5\u6355\u6349\u5230\u6570\u636e\u7684\u5206\u5e03\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u589e\u52a0\u6a21\u578b\u7684\u590d\u6742\u5ea6\uff0c\u4f8b\u5982\u589e\u52a0\u795e\u7ecf\u7f51\u7edc\u7684\u5c42\u6570\u6216\u8005\u795e\u7ecf\u5143\u7684\u6570\u91cf\u3002</li> <li>\u7279\u5f81\u5de5\u7a0b\uff1a\u5bf9\u539f\u59cb\u7279\u5f81\u8fdb\u884c\u4e00\u4e9b\u8f6c\u6362\u6216\u8005\u63d0\u53d6\u65b0\u7684\u7279\u5f81\uff0c\u53ef\u80fd\u4f1a\u5e2e\u52a9\u6a21\u578b\u66f4\u597d\u5730\u6355\u6349\u5230\u6570\u636e\u7684\u89c4\u5f8b\u3002</li> <li>\u51cf\u5c0f\u6b63\u5219\u5316\u9879\uff1a\u5982\u679c\u6a21\u578b\u8fc7\u4e8e\u7b80\u5355\uff0c\u53ef\u80fd\u662f\u6b63\u5219\u5316\u9879\u7684\u60e9\u7f5a\u8fc7\u5927\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u51cf\u5c0f\u6b63\u5219\u5316\u9879\u7684\u7cfb\u6570\u3002</li> <li>\u8c03\u6574\u6a21\u578b\u8bad\u7ec3\u65f6\u95f4\uff1a\u6a21\u578b\u8bad\u7ec3\u65f6\u95f4\u8fc7\u77ed\uff0c\u53ef\u80fd\u5bfc\u81f4\u6a21\u578b\u8fd8\u672a\u80fd\u5b66\u4e60\u5230\u6570\u636e\u7684\u89c4\u5f8b\u3002\u53ef\u4ee5\u5c1d\u8bd5\u589e\u52a0\u6a21\u578b\u7684\u8bad\u7ec3\u65f6\u95f4\u3002</li> </ul>"},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_2","title":"\u5e38\u7528\u7684\u7b97\u6cd5","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#k","title":"K\u8fd1\u90bb\u7b97\u6cd5","text":"<p>k\u8fd1\u90bb\u7b97\u6cd5\uff08k-Nearest Neighbors\uff0c\u7b80\u79f0k-NN\uff09\u662f\u4e00\u79cd\u57fa\u4e8e\u5b9e\u4f8b\u7684\u5b66\u4e60\uff0c\u6216\u8005\u8bf4\u662f\u4e00\u79cd\u57fa\u4e8e\u8bb0\u5fc6\u7684\u5b66\u4e60\u3002</p>"},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_3","title":"\u539f\u7406","text":"<p>\u627e\u5230\u8ddd\u79bb\u65b0\u6837\u672c\u6700\u8fd1\u7684k\u4e2a\u8bad\u7ec3\u6837\u672c\uff0c\u7136\u540e\u8ba9\u8fd9k\u4e2a\u8bad\u7ec3\u6837\u672c\u4e2d\u51fa\u73b0\u6700\u591a\u7684\u7c7b\u522b\u4f5c\u4e3a\u65b0\u6837\u672c\u7684\u9884\u6d4b\u7c7b\u522b\u3002</p>"},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_4","title":"\u7528\u9014","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_5","title":"\u7279\u6027","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_6","title":"\u8868\u73b0\u5982\u4f55","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_7","title":"\u5982\u4f55\u5efa\u6a21","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_8","title":"\u6a21\u578b\u7684\u53c2\u6570\u5982\u4f55\u8c03\u6574","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_9","title":"\u7ebf\u6027\u6a21\u578b","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_10","title":"\u539f\u7406","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_11","title":"\u7528\u9014","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_12","title":"\u7279\u6027","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_13","title":"\u8868\u73b0\u5982\u4f55","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_14","title":"\u5982\u4f55\u5efa\u6a21","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_15","title":"\u6a21\u578b\u7684\u53c2\u6570\u5982\u4f55\u8c03\u6574","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_16","title":"\u6734\u7d20\u8d1d\u53f6\u65af","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_17","title":"\u539f\u7406","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_18","title":"\u7528\u9014","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_19","title":"\u7279\u6027","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_20","title":"\u8868\u73b0\u5982\u4f55","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_21","title":"\u5982\u4f55\u5efa\u6a21","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_22","title":"\u6a21\u578b\u7684\u53c2\u6570\u5982\u4f55\u8c03\u6574","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_23","title":"\u51b3\u7b56\u6811","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_24","title":"\u539f\u7406","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_25","title":"\u7528\u9014","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_26","title":"\u7279\u6027","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_27","title":"\u8868\u73b0\u5982\u4f55","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_28","title":"\u5982\u4f55\u5efa\u6a21","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_29","title":"\u6a21\u578b\u7684\u53c2\u6570\u5982\u4f55\u8c03\u6574","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_30","title":"\u968f\u673a\u68ee\u6797","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_31","title":"\u539f\u7406","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_32","title":"\u7528\u9014","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_33","title":"\u7279\u6027","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_34","title":"\u8868\u73b0\u5982\u4f55","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_35","title":"\u5982\u4f55\u5efa\u6a21","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_36","title":"\u6a21\u578b\u7684\u53c2\u6570\u5982\u4f55\u8c03\u6574","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#svm","title":"SVM","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_37","title":"\u539f\u7406","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_38","title":"\u7528\u9014","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_39","title":"\u7279\u6027","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_40","title":"\u8868\u73b0\u5982\u4f55","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_41","title":"\u5982\u4f55\u5efa\u6a21","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_42","title":"\u6a21\u578b\u7684\u53c2\u6570\u5982\u4f55\u8c03\u6574","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_43","title":"\u795e\u7ecf\u7f51\u7edc","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_44","title":"\u539f\u7406","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_45","title":"\u7528\u9014","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_46","title":"\u7279\u6027","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_47","title":"\u8868\u73b0\u5982\u4f55","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_48","title":"\u5982\u4f55\u5efa\u6a21","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_49","title":"\u6a21\u578b\u7684\u53c2\u6570\u5982\u4f55\u8c03\u6574","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_50","title":"\u6570\u636e\u5904\u7406","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_51","title":"\u6570\u636e\u964d\u7ef4","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_52","title":"\u6570\u636e\u805a\u7c7b","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_53","title":"\u6a21\u578b\u4f18\u5316","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_54","title":"\u63d0\u9ad8\u7b97\u6cd5\u7684\u6548\u7387","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_55","title":"\u600e\u6837\u627e\u5230\u6700\u5408\u9002\u7684\u6a21\u578b","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_56","title":"\u6a21\u578b\u6700\u4f18\u7684\u53c2\u6570\u662f\u4ec0\u4e48","text":""},{"location":"03_AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAPython%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#_57","title":"\u5982\u4f55\u6253\u9020\u4e00\u4e2a\u6d41\u6c34\u7ebf","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/Go/index.html","title":"Go\u8bed\u8a00","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/Java/index.html","title":"Java\u8bed\u8a00","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E4%B8%AD%E9%97%B4%E4%BB%B6/ES/index.html","title":"ElasticSearch","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E4%B8%AD%E9%97%B4%E4%BB%B6/MQ/index.html","title":"RabbitMQ","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/index.html","title":"\u5f00\u53d1\u57fa\u7840","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/MongoDB.html","title":"MongoDB","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/MongoDB.html#_1","title":"\u6570\u636e\u5e93","text":"<p>\u5728MongoDB\u4e2d\uff0c\u6587\u6863\u96c6\u5408\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\u3002 \u8981\u9009\u62e9\u4f7f\u7528\u7684\u6570\u636e\u5e93\uff0c\u8bf7\u5728mongoshell\u7a0b\u5e8f\u4e2d\u53d1\u51fa <code>use &lt;db&gt;</code> \u8bed\u53e5\uff0c\u5982\u4e0b\u65b9\u793a\u4f8b\uff1a <pre><code>use myDB\n</code></pre> \u521b\u5efa\u6570\u636e\u5e93 \u5982\u679c\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5219\u5728\u60a8\u7b2c\u4e00\u6b21\u4e3a\u8be5\u6570\u636e\u5e93\u5b58\u50a8\u6570\u636e\u65f6\uff0cMongoDB\u4f1a\u521b\u5efa\u8be5\u6570\u636e\u5e93\u3002\u8fd9\u6837\uff0c\u60a8\u53ef\u4ee5\u5207\u6362\u5230\u4e0d\u5b58\u5728\u7684\u6570\u636e\u5e93\u5e76\u5728mongoshell\u4e2d\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c \uff1a <pre><code>use myNewDB\n\ndb.myNewCollection1.insertOne( { x: 1 } )\n</code></pre> \u8be5<code>insertOne()</code>\u64cd\u4f5c\u5c06\u540c\u65f6\u521b\u5efa\u6570\u636e\u5e93myNewDB\u548c\u96c6\u5408myNewCollection1\uff08\u5982\u679c\u5b83\u4eec\u5c1a\u4e0d\u5b58\u5728\uff09\u3002\u786e\u4fdd\u6570\u636e\u5e93\u540d\u79f0\u548c\u96c6\u5408\u540d\u79f0\u5747\u9075\u5faaMongoDB \u547d\u540d\u9650\u5236\u3002</p>"},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/MongoDB.html#_2","title":"\u96c6\u5408","text":"<p>MongoDB\u5c06\u6587\u6863\u5b58\u50a8\u5728\u96c6\u5408\u4e2d\u3002\u96c6\u5408\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\u7684\u8868\u3002</p>"},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/MongoDB.html#_3","title":"\u521b\u5efa\u96c6\u5408","text":"<p>\u5982\u679c\u4e0d\u5b58\u5728\u96c6\u5408\uff0c\u5219\u5728\u60a8\u7b2c\u4e00\u6b21\u4e3a\u8be5\u96c6\u5408\u5b58\u50a8\u6570\u636e\u65f6\uff0cMongoDB\u4f1a\u521b\u5efa\u8be5\u96c6\u5408\u3002 <pre><code>db.myNewCollection2.insertOne( { x: 1 } )\ndb.myNewCollection3.createIndex( { y: 1 } )\n</code></pre> \u5982\u679c<code>insertOne()</code>\u548c<code>createIndex()</code>\u64cd\u4f5c\u90fd\u8fd8\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u521b\u5efa\u5b83\u4eec\u5404\u81ea\u7684\u96c6\u5408\u3002\u786e\u4fdd\u96c6\u5408\u540d\u79f0\u9075\u5faaMongoDB \u547d\u540d\u9650\u5236\u3002</p>"},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/MongoDB.html#_4","title":"\u663e\u793a\u521b\u5efa","text":"<p>MongoDB\u63d0\u4f9b\u4e86<code>db.createCollection()</code>\u4f7f\u7528 \u5404\u79cd\u9009\u9879\u663e\u5f0f\u521b\u5efa\u96c6\u5408\u7684\u65b9\u6cd5\uff0c\u4f8b\u5982\u8bbe\u7f6e\u6700\u5927\u5927\u5c0f\u6216\u6587\u6863\u9a8c\u8bc1\u89c4\u5219\u3002\u5982\u679c\u672a\u6307\u5b9a\u8fd9\u4e9b\u9009\u9879\uff0c\u5219\u65e0\u9700\u663e\u5f0f\u521b\u5efa\u96c6\u5408\uff0c\u56e0\u4e3a\u5728\u9996\u6b21\u5b58\u50a8\u96c6\u5408\u6570\u636e\u65f6\uff0cMongoDB\u4f1a\u521b\u5efa\u65b0\u96c6\u5408\u3002</p>"},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL.html","title":"MySQL","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/es/index.html","title":"ElasticSearch","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/index.html","title":"\u5206\u5e03\u5f0f","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F.html","title":"\u5206\u5e03\u5f0f","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/index.html","title":"\u67b6\u6784\u8bbe\u8ba1","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.html","title":"\u67b6\u6784\u8bbe\u8ba1","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%9E%B6%E6%9E%84/%E9%AB%98%E5%B9%B6%E5%8F%91/index.html","title":"\u9ad8\u5e76\u53d1","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E6%A1%86%E6%9E%B6/index.html","title":"\u540e\u7aef\u6846\u67b6","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html","title":"\u8bbe\u8ba1\u6a21\u5f0f","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html#_2","title":"\u4ec0\u4e48\u662f\u8bbe\u8ba1\u6a21\u5f0f","text":"<ul> <li>\u8bbe\u8ba1\u6a21\u5f0f\uff08Design pattern\uff09\u4ee3\u8868\u4e86\u6700\u4f73\u7684\u5b9e\u8df5\uff0c\u901a\u5e38\u88ab\u6709\u7ecf\u9a8c\u7684\u9762\u5411\u5bf9\u8c61\u7684\u8f6f\u4ef6\u5f00\u53d1\u4eba\u5458\u6240\u91c7\u7528\u3002</li> <li>\u8bbe\u8ba1\u6a21\u5f0f\u662f\u8f6f\u4ef6\u5f00\u53d1\u4eba\u5458\u5728\u8f6f\u4ef6\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9762\u4e34\u7684\u4e00\u822c\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\u3002</li> <li>\u8fd9\u4e9b\u89e3\u51b3\u65b9\u6848\u662f\u4f17\u591a\u8f6f\u4ef6\u5f00\u53d1\u4eba\u5458\u7ecf\u8fc7\u76f8\u5f53\u957f\u7684\u4e00\u6bb5\u65f6\u95f4\u7684\u8bd5\u9a8c\u548c\u9519\u8bef\u603b\u7ed3\u51fa\u6765\u7684\u3002</li> <li>\u8bbe\u8ba1\u6a21\u5f0f\u662f\u4e00\u5957\u88ab\u53cd\u590d\u4f7f\u7528\u7684\u3001\u591a\u6570\u4eba\u77e5\u6653\u7684\u3001\u7ecf\u8fc7\u5206\u7c7b\u7f16\u76ee\u7684\u3001\u4ee3\u7801\u8bbe\u8ba1\u7ecf\u9a8c\u7684\u603b\u7ed3\u3002</li> <li>\u4f7f\u7528\u8bbe\u8ba1\u6a21\u5f0f\u662f\u4e3a\u4e86\u91cd\u7528\u4ee3\u7801\u3001\u8ba9\u4ee3\u7801\u66f4\u5bb9\u6613\u88ab\u4ed6\u4eba\u7406\u89e3\u3001\u4fdd\u8bc1\u4ee3\u7801\u53ef\u9760\u6027\u3002</li> </ul> <p>\u6beb\u65e0\u7591\u95ee\uff0c\u8bbe\u8ba1\u6a21\u5f0f\u4e8e\u5df1\u4e8e\u4ed6\u4eba\u4e8e\u7cfb\u7edf\u90fd\u662f\u591a\u8d62\u7684\uff0c\u8bbe\u8ba1\u6a21\u5f0f\u4f7f\u4ee3\u7801\u7f16\u5236\u771f\u6b63\u5de5\u7a0b\u5316\uff0c\u8bbe\u8ba1\u6a21\u5f0f\u662f\u8f6f\u4ef6\u5de5\u7a0b\u7684\u57fa\u77f3\uff0c\u5982\u540c\u5927\u53a6\u7684\u4e00\u5757\u5757\u7816\u77f3\u4e00\u6837\u3002</p> <p>\u9879\u76ee\u4e2d\u5408\u7406\u5730\u8fd0\u7528\u8bbe\u8ba1\u6a21\u5f0f\u53ef\u4ee5\u5b8c\u7f8e\u5730\u89e3\u51b3\u5f88\u591a\u95ee\u9898\uff0c\u6bcf\u79cd\u6a21\u5f0f\u5728\u73b0\u5b9e\u4e2d\u90fd\u6709\u76f8\u5e94\u7684\u539f\u7406\u6765\u4e0e\u4e4b\u5bf9\u5e94\uff0c\u6bcf\u79cd\u6a21\u5f0f\u90fd\u63cf\u8ff0\u4e86\u4e00\u4e2a\u5728\u6211\u4eec\u5468\u56f4\u4e0d\u65ad\u91cd\u590d\u53d1\u751f\u7684\u95ee\u9898\uff0c\u4ee5\u53ca\u8be5\u95ee\u9898\u7684\u6838\u5fc3\u89e3\u51b3\u65b9\u6848\uff0c\u8fd9\u4e5f\u662f\u8bbe\u8ba1\u6a21\u5f0f\u80fd\u88ab\u5e7f\u6cdb\u5e94\u7528\u7684\u539f\u56e0\u3002</p> \u521b\u5efa\u578b\u6a21\u5f0f\uff085\u79cd\uff09 \u7ed3\u6784\u578b\u6a21\u5f0f\uff088\u79cd\uff09 \u884c\u4e3a\u6a21\u5f0f\uff0811\u79cd\uff09 \u8fd9\u7c7b\u6a21\u5f0f\u63d0\u4f9b\u521b\u5efa\u5bf9\u8c61\u7684\u673a\u5236\uff0c \u80fd\u591f\u63d0\u5347\u5df2\u6709\u4ee3\u7801\u7684\u7075\u6d3b\u6027\u548c\u53ef\u590d\u7528\u6027\u3002 \u8fd9\u7c7b\u6a21\u5f0f\u4ecb\u7ecd\u5982\u4f55\u5c06\u5bf9\u8c61\u548c\u7c7b\u7ec4\u88c5\u6210\u8f83\u5927\u7684\u7ed3\u6784\uff0c \u5e76\u540c\u65f6\u4fdd\u6301\u7ed3\u6784\u7684\u7075\u6d3b\u548c\u9ad8\u6548\u3002 \u8fd9\u7c7b\u6a21\u5f0f\u8d1f\u8d23\u5bf9\u8c61\u95f4\u7684\u9ad8\u6548\u6c9f\u901a\u548c\u804c\u8d23\u59d4\u6d3e\u3002 \u5de5\u5382\u65b9\u6cd5\uff08Factory Method) \u9002\u914d\u5668\uff08Adapter\uff09 \u8d23\u4efb\u94fe\uff08Chain of Responsibility) \u62bd\u8c61\u5de5\u5382\uff08Abstract Factory\uff09 \u6865\u63a5\uff08Bridge\uff09 \u547d\u4ee4\uff08Command) \u751f\u6210\u5668\uff08Builder\uff09 \u7ec4\u5408\uff08Composite\uff09 \u8fed\u4ee3\u5668\uff08Iterator\uff09 \u539f\u578b\uff08Prototype\uff09 \u88c5\u9970\u5668\uff08Decorator\uff09 \u4e2d\u4ecb\u8005\uff08Mediator\uff09 \u5355\u4f8b\uff08Singleton\uff09 \u5916\u89c2\uff08Facade\uff09 \u89c2\u5bdf\u8005\uff08Observer\uff09 \u4eab\u5143\uff08Flyweight\uff09 \u72b6\u6001\uff08State\uff09 \u4ee3\u7406\uff08Proxy\uff09 \u7b56\u7565\uff08Strategy\uff09 \u8fc7\u6ee4\u5668\uff08Filter\uff09 \u6a21\u677f\u65b9\u6cd5\uff08Template method\uff09 \u8bbf\u95ee\u8005\uff08Vistor\uff09"},{"location":"04_%E5%90%8E%E7%AB%AF/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html#_3","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u8bbe\u8ba1\u6a21\u5f0f-\u83dc\u9e1f\u6559\u7a0b</li> <li>\u8bbe\u8ba1\u6a21\u5f0f\u76ee\u5f55</li> </ul>"},{"location":"04_%E5%90%8E%E7%AB%AF/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%88%9B%E5%BB%BA%E5%9E%8B/%E5%8D%95%E4%BE%8B.html","title":"\u5355\u4f8b\u6a21\u5f0f","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%88%9B%E5%BB%BA%E5%9E%8B/%E5%8D%95%E4%BE%8B.html#_2","title":"\u610f\u56fe","text":"<p>**\u5355\u4f8b\u6a21\u5f0f**\u662f\u4e00\u79cd\u521b\u5efa\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c \u8ba9\u4f60\u80fd\u591f\u4fdd\u8bc1\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c \u5e76\u63d0\u4f9b\u4e00\u4e2a\u8bbf\u95ee\u8be5\u5b9e\u4f8b\u7684\u5168\u5c40\u8282\u70b9\u3002</p> <p></p>"},{"location":"04_%E5%90%8E%E7%AB%AF/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%88%9B%E5%BB%BA%E5%9E%8B/%E5%8D%95%E4%BE%8B.html#_3","title":"\u95ee\u9898","text":""},{"location":"04_%E5%90%8E%E7%AB%AF/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/index.html","title":"\u9879\u76ee\u7ba1\u7406","text":""},{"location":"05_%E5%89%8D%E7%AB%AF/vuepress%E4%B8%BB%E9%A2%98.html","title":"vuepress\u4e3b\u9898","text":""},{"location":"05_%E5%89%8D%E7%AB%AF/vuepress%E4%B8%BB%E9%A2%98.html#vuepress-theme-vdoing","title":"vuepress-theme-vdoing","text":"<p>Github \u5730\u5740: https://github.com/xugaoyi/vuepress-theme-vdoing</p> <ul> <li>star\u6570\u91cf: 3.2k</li> <li>fork\u6570\u91cf: 886</li> <li>issuse\u6570\u91cf: 45/545</li> <li>PR \u6570\u91cf: 3/35</li> <li>commit \u6570\u91cf: 581</li> <li>\u8d21\u732e\u4eba\u6570: 13</li> <li> <p>\u4f7f\u7528\u4eba\u6570 2.1k</p> </li> <li> <p>\u4e0a\u6b21\u66f4\u65b0: 2023-2-20</p> </li> </ul> <p>\u6548\u679c\u56fe\u5982\u4e0b:</p> <p></p>"},{"location":"05_%E5%89%8D%E7%AB%AF/vuepress%E4%B8%BB%E9%A2%98.html#vuepress-theme-hope","title":"vuepress-theme-hope","text":"<p>Github \u5730\u5740: https://github.com/vuepress-theme-hope/vuepress-theme-hope</p> <ul> <li>star\u6570\u91cf: 1.1k</li> <li>fork\u6570\u91cf: 448</li> <li>issuse\u6570\u91cf: 17/512</li> <li>PR \u6570\u91cf: 4/2293 (\u5927\u91cf\u5408\u5e76\u662fbot)</li> <li>commit \u6570\u91cf: 3526</li> <li>\u8d21\u732e\u4eba\u6570: 73</li> <li> <p>\u4f7f\u7528\u4eba\u6570 2.1k</p> </li> <li> <p>\u4e0a\u6b21\u66f4\u65b0: 2023-04-17</p> </li> <li> <p>\u4f5c\u8005\u662f\u7406\u8bba\u7269\u7406\u7855\u58eb</p> </li> </ul> <p>\u6548\u679c\u56fe\u5982\u4e0b</p> <p></p>"},{"location":"05_%E5%89%8D%E7%AB%AF/vuepress%E4%B8%BB%E9%A2%98.html#vuepress-theme-reco","title":"vuepress-theme-reco","text":"<p>Github\u5730\u5740: https://github.com/vuepress-reco/vuepress-theme-reco-1.x</p> <ul> <li>star\u6570\u91cf: 1.6k</li> <li>fork\u6570\u91cf: 327</li> <li>issuse\u6570\u91cf: 3/286</li> <li>PR \u6570\u91cf: 0/125</li> <li>commit \u6570\u91cf: 731</li> <li>\u8d21\u732e\u4eba\u6570: 23</li> <li> <p>\u4f7f\u7528\u4eba\u6570 2.3k</p> </li> <li> <p>\u4e0a\u6b21\u66f4\u65b0: 2023-03-01</p> </li> </ul> <p>\u6548\u679c\u56fe\u5982\u4e0b</p> <p></p>"},{"location":"05_%E5%89%8D%E7%AB%AF/vuepress%E4%B8%BB%E9%A2%98.html#vuepress-theme-reco_1","title":"vuepress-theme-reco","text":"<p>Github\u5730\u5740: https://github.com/vuepress-reco/vuepress-theme-reco</p> <ul> <li>star\u6570\u91cf: 326</li> <li>fork\u6570\u91cf: 84</li> <li>issuse\u6570\u91cf:36/98</li> <li>PR \u6570\u91cf: 0/30</li> <li>commit \u6570\u91cf: 518</li> <li>\u8d21\u732e\u4eba\u6570: 10</li> <li> <p>\u4f7f\u7528\u4eba\u6570 168</p> </li> <li> <p>\u4e0a\u6b21\u66f4\u65b0: 2023-05-15</p> </li> </ul> <p>\u6548\u679c\u56fe\u5982\u4e0b</p> <p></p>"},{"location":"05_%E5%89%8D%E7%AB%AF/vuepress%E4%B8%BB%E9%A2%98.html#java","title":"Java\u5168\u7ad9\u77e5\u8bc6\u4f53\u7cfb","text":"<p>\u5730\u5740:  https://pdai.tech/md/about/blog/blog-build-vuepress.html</p> <p>\u81ea\u5b9a\u4e49vuepress</p> <p>\u6548\u679c\u56fe</p> <p></p>"},{"location":"05_%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91.html","title":"\u524d\u7aef\u5f00\u53d1","text":""},{"location":"05_%E5%89%8D%E7%AB%AF/CSS/index.html","title":"CSS","text":""},{"location":"05_%E5%89%8D%E7%AB%AF/HTML/index.html","title":"HTML","text":""},{"location":"05_%E5%89%8D%E7%AB%AF/JavaScript/index.html","title":"JavaScript","text":""},{"location":"05_%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/index.html","title":"\u524d\u7aef\u6846\u67b6","text":""},{"location":"06_%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%85%B6%E4%BB%96/%E6%B1%BD%E8%BD%A6%E9%9D%A2%E7%82%B9%E5%AD%94%E7%82%B9%E8%BF%9E%E7%BA%BF%E7%AE%97%E6%B3%95.html","title":"\u6c7d\u8f66\u9762\u70b9\u5b54\u70b9\u8fde\u7ebf\u7b97\u6cd5","text":""},{"location":"06_%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%85%B6%E4%BB%96/%E6%B1%BD%E8%BD%A6%E9%9D%A2%E7%82%B9%E5%AD%94%E7%82%B9%E8%BF%9E%E7%BA%BF%E7%AE%97%E6%B3%95.html#1","title":"1. \u95ee\u9898\u63cf\u8ff0","text":"<p>\u5982\u4e0b\u56fe</p> <p></p> <p>\u5728\u5750\u6807\u8f74\u5468\u56f4\u670916\u4e2a\u7ec4\u4ef6,\u6bcf\u4e2a\u7ec4\u4ef6\u8868\u793a\u6c7d\u8f66\u7684\u5b54\u70b9\u6216\u9762\u70b9.\u5176\u4e2d\u5b54\u70b9\u53ea\u80fd\u548c\u5468\u56f4\u7684\u4e00\u4e2a\u7ec4\u4ef6\u8fde\u63a5,\u9762\u70b9\u53ef\u4ee5\u53ef\u7ec4\u4ef6\u4e2d3\u4e2a\u76f8\u90bb\u7684\u7ec4\u4ef6\u76f8\u8fde.</p> <p>\u4f8b\u5982: GH002H1R \u8868\u793a\u9762\u70b9,\u548c\u53f3\u4e0a\u89d23\u4e2a\u7ec4\u4ef6\u76f8\u8fde,\u800c GH002M1R \u8868\u793a\u5b54\u70b9,\u53ea\u548c\u5de6\u4e0a\u89d2\u7684\u7ec4\u4ef6\u76f8\u8fde.</p> <p>\u95ee\u9898\u70b9\u5728\u4e8e,\u73b0\u5728\u7684\u8fde\u7ebf\u4f1a\u6709\u4ea4\u53c9,\u8981\u5bf9\u8fde\u7ebf\u8fdb\u884c\u4f18\u5316,\u4f7f\u5f97\u8fde\u7ebf\u4e0d\u4ea4\u53c9,\u5e76\u4e14\u5e03\u5c40\u76f8\u5bf9\u7f8e\u89c2.</p>"},{"location":"06_%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%85%B6%E4%BB%96/%E6%B1%BD%E8%BD%A6%E9%9D%A2%E7%82%B9%E5%AD%94%E7%82%B9%E8%BF%9E%E7%BA%BF%E7%AE%97%E6%B3%95.html#2","title":"2. \u95ee\u9898\u5206\u6790\u4e0e\u5efa\u6a21","text":"<p>\u5e76\u4e14\u5e03\u5c40\u76f8\u5bf9\u7f8e\u89c2,\u901a\u8fc7\u6bd4\u8f83\u8fde\u7ebf\u7684\u957f\u5ea6\u662f\u5426\u5927\u4e8e\u5750\u6807\u5bf9\u89d2\u7ebf\u7684\u4e00\u534a,\u6765\u5224\u65ad\u662f\u5426\u7f8e\u89c2,\u5982\u679c\u5927\u4e8e\u5750\u6807\u5bf9\u89d2\u7ebf\u7684\u4e00\u534a,\u5c31\u4e0d\u7f8e\u89c2,\u5982\u679c\u5c0f\u4e8e\u5750\u6807\u5bf9\u89d2\u7ebf\u7684\u4e00\u534a,\u5c31\u76f8\u5bf9\u7f8e\u89c2.</p> <p>\u4f7f\u7528\u56de\u6eaf\u7b97\u6cd5,\u5c06\u6240\u6709\u7684\u60c5\u51b5\u904d\u5386\u4e00\u904d,\u5728\u904d\u5386\u7684\u65f6\u5019\u5982\u679c\u8fde\u7ebf\u5927\u4e8e\u5bf9\u89d2\u7ebf\u7684\u4e00\u534a,\u5c31\u526a\u679d, \u6216\u8005\u8fde\u7ebf\u5b58\u5728\u4ea4\u53c9,\u5c31\u526a\u679d, \u76f4\u5230\u627e\u5230\u4e00\u4e2a\u89e3\u5c31\u8fd4\u56de,</p>"},{"location":"06_%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%85%B6%E4%BB%96/%E6%B1%BD%E8%BD%A6%E9%9D%A2%E7%82%B9%E5%AD%94%E7%82%B9%E8%BF%9E%E7%BA%BF%E7%AE%97%E6%B3%95.html#3","title":"3.\u7b97\u6cd5\u601d\u8def","text":"<p>\u5047\u8bbe\u6709 4 \u4e2a\u70b9, A, B, C, D \u8fd94\u4e2a\u70b9\u662f\u56fa\u5b9a\u7684 \u7136\u540e\u968f\u673a\u751f\u62104\u4e2a\u70b9, a,b,c,d \u8fd94\u4e2a\u70b9\u662f\u968f\u673a\u751f\u6210\u7684 \u5c06\u8fd98\u4e2a\u70b9\u8fde\u63a5\u8d77\u6765,\u8981\u6c42\u8fde\u7ebf\u4e0d\u80fd\u4ea4\u53c9,\u4f7f\u7528\u56de\u6eaf\u7b97\u6cd5\u5c06\u6240\u6709\u7684\u60c5\u51b5\u904d\u5386\u4e00\u904d,\u627e\u5230\u4e00\u4e2a\u89e3\u5c31\u8fd4\u56de</p> <p>\u9996\u5148\u5b9a\u4e49\u9009\u62e9\u8def\u5f84\u5217\u8868, [A,B,C,D] \u7136\u540e\u5b9a\u4e49\u6df1\u5ea6\u5217\u8868, [a,b,c,d]</p> <p>\u5b9a\u4e49\u8def\u5f84\u5217\u8868\u4e3a\u7a7a\u5217\u8868, \u7528\u6765\u5b58\u50a8\u8d70\u7684\u8def\u5f84</p> <p>\u4ece\u6839\u8282\u70b9\u5f00\u59cb, 1. \u7b2c\u4e00\u5c42: \u67094\u4e2a\u9009\u62e9,\u9009\u62e9A, B, C , D\u7684\u4efb\u610f\u4e00\u4e2a\u70b9, \u5047\u8bbe\u662fA,\u7136\u540e\u9009\u62e9\u6df1\u5ea6\u5217\u8868\u7684\u7b2c\u4e00\u4e2a\u70b9a, \u8fd9\u4e24\u4e2a\u70b9\u8fde\u7ebf,   \u7136\u540e\u5224\u65ad\u8fd9\u4e2a\u7ebf\u6bb5\u548c\u8def\u5f84\u5217\u8868\u4e2d\u7684\u7ebf\u6bb5\u662f\u5426\u6709\u4ea4\u53c9,\u5982\u679c\u6709\u4ea4\u53c9\u5c31\u8df3\u8fc7,\u5982\u679c\u6ca1\u6709\u4ea4\u53c9\u5c06\u8fd9\u4e2a\u7ebf\u6bb5\u52a0\u5165\u8def\u5f84\u5217\u8868,\u7136\u540e\u8fdb\u5165\u4e0b\u4e00\u5c42 2. \u7b2c\u4e8c\u5c42: \u67093\u4e2a\u9009\u62e9,\u9009\u62e9B, C, D\u7684\u4efb\u610f\u4e00\u4e2a\u70b9, \u5047\u8bbe\u662fB,\u7136\u540e\u9009\u62e9\u6df1\u5ea6\u5217\u8868\u7684\u7b2c\u4e8c\u4e2a\u70b9b, \u8fd9\u4e24\u4e2a\u70b9\u8fde\u7ebf,   \u7136\u540e\u5224\u65ad\u8fd9\u4e2a\u7ebf\u6bb5\u548c\u8def\u5f84\u5217\u8868\u4e2d\u7684\u7ebf\u6bb5\u662f\u5426\u6709\u4ea4\u53c9,\u5982\u679c\u6709\u4ea4\u53c9\u5c31\u8df3\u8fc7,\u5982\u679c\u6ca1\u6709\u4ea4\u53c9\u5c06\u8fd9\u4e2a\u7ebf\u6bb5\u52a0\u5165\u8def\u5f84\u5217\u8868,\u7136\u540e\u8fdb\u5165\u4e0b\u4e00\u5c42 3. \u7b2c\u4e09\u5c42: \u67092\u4e2a\u9009\u62e9,\u9009\u62e9C, D\u7684\u4efb\u610f\u4e00\u4e2a\u70b9, \u5047\u8bbe\u662fC,\u7136\u540e\u9009\u62e9\u6df1\u5ea6\u5217\u8868\u7684\u7b2c\u4e09\u4e2a\u70b9c, \u8fd9\u4e24\u4e2a\u70b9\u8fde\u7ebf,   \u7136\u540e\u5224\u65ad\u8fd9\u4e2a\u7ebf\u6bb5\u548c\u8def\u5f84\u5217\u8868\u4e2d\u7684\u7ebf\u6bb5\u662f\u5426\u6709\u4ea4\u53c9,\u5982\u679c\u6709\u4ea4\u53c9\u5c31\u8df3\u8fc7,\u5982\u679c\u6ca1\u6709\u4ea4\u53c9\u5c06\u8fd9\u4e2a\u7ebf\u6bb5\u52a0\u5165\u8def\u5f84\u5217\u8868,\u7136\u540e\u8fdb\u5165\u4e0b\u4e00\u5c42 4. \u7b2c\u56db\u5c42: \u67091\u4e2a\u9009\u62e9,\u9009\u62e9D\u70b9,\u7136\u540e\u9009\u62e9\u6df1\u5ea6\u5217\u8868\u7684\u7b2c\u56db\u4e2a\u70b9d, \u8fd9\u4e24\u4e2a\u70b9\u8fde\u7ebf,\u5224\u65ad\u8fd9\u4e2a\u7ebf\u6bb5\u548c\u8def\u5f84\u5217\u8868\u4e2d\u7684\u7ebf\u6bb5\u662f\u5426\u6709\u4ea4\u53c9,\u5982\u679c\u6709\u4ea4\u53c9\u5c31\u8df3\u8fc7,   \u5982\u679c\u6ca1\u6709\u4ea4\u53c9\u5c06\u8fd9\u4e2a\u7ebf\u6bb5\u52a0\u5165\u8def\u5f84\u5217\u8868, \u8bf4\u660e\u5df2\u7ecf\u627e\u5230\u4e86\u4e00\u6761\u89e3\u51b3\u65b9\u6848,\u7ebf\u6bb5\u4e0d\u4ea4\u53c9</p> <p>\u7c7b\u4f3c\u8fd9\u4e2a\u56fe:</p> <p>TODO</p>"},{"location":"06_%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%85%B6%E4%BB%96/%E6%B1%BD%E8%BD%A6%E9%9D%A2%E7%82%B9%E5%AD%94%E7%82%B9%E8%BF%9E%E7%BA%BF%E7%AE%97%E6%B3%95.html#4","title":"4.\u7b97\u6cd5\u5b9e\u73b0","text":""},{"location":"06_%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/%E5%B8%B8%E7%94%A8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html","title":"\u5e38\u7528\u6392\u5e8f\u7b97\u6cd5","text":""},{"location":"06_%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80.html","title":"\u6570\u636e\u7ed3\u6784\u57fa\u7840","text":""},{"location":"06_%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95/%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95.html","title":"\u67e5\u627e\u7b97\u6cd5","text":""},{"location":"06_%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80.html","title":"\u7b97\u6cd5\u57fa\u7840","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Ansible/01_%E7%AE%80%E4%BB%8B.html","title":"Ansible\u7b80\u4ecb","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Ansible/01_%E7%AE%80%E4%BB%8B.html#ansible_1","title":"\u4ec0\u4e48\u662fAnsible\uff1f","text":"<p>Ansible\u662f\u4e00\u79cd\u81ea\u52a8\u5316IT\u5de5\u5177\uff0c\u5b83\u4f7f\u5f97IT\u56e2\u961f\u53ef\u4ee5\u81ea\u52a8\u5316\u914d\u7f6e\u3001\u90e8\u7f72\u548c\u534f\u8c03\u8ba1\u7b97\u673a\u7cfb\u7edf\u73af\u5883\u3002Ansible\u4f7f\u7528SSH\u534f\u8bae\u6765\u7ba1\u7406\u548c\u90e8\u7f72\u7cfb\u7edf\uff0c\u5e76\u4e14\u662f\u4e00\u4e2a\u5f00\u6e90\u5de5\u5177\uff0c\u53ef\u4ee5\u5728\u4efb\u4f55\u57fa\u4e8eLinux\u7cfb\u7edf\u7684\u673a\u5668\u4e0a\u8fd0\u884c\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Ansible/01_%E7%AE%80%E4%BB%8B.html#ansible_2","title":"Ansible\u7684\u4e3b\u8981\u529f\u80fd","text":"<ul> <li> <p>\u81ea\u52a8\u5316\u914d\u7f6e\u7ba1\u7406\uff1aAnsible\u53ef\u4ee5\u914d\u7f6e\u548c\u7ba1\u7406\u5e9e\u5927\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf\u548c\u7f51\u7edc\u8bbe\u5907\u3002\u5b83\u652f\u6301\u591a\u5e73\u53f0\uff08\u5982Linux\u3001Windows\u548cUNIX\uff09\u4ee5\u53ca\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00\uff08\u5982Java\u548cPython\uff09\u3002</p> </li> <li> <p>\u5e94\u7528\u7a0b\u5e8f\u90e8\u7f72\uff1a\u5b83\u53ef\u4ee5\u81ea\u52a8\u90e8\u7f72\u5e94\u7528\u7a0b\u5e8f\u5e76\u786e\u4fdd\u5b83\u4eec\u6b63\u786e\u8fd0\u884c\uff0c\u53ef\u9760\u6027\u975e\u5e38\u9ad8\u3002</p> </li> <li> <p>\u73af\u5883\u534f\u8c03\uff1a\u53ef\u4ee5\u5728\u4e0d\u540c\u73af\u5883\u4e4b\u95f4\u534f\u4f5c\u548c\u534f\u8c03\uff0c\u786e\u4fdd\u7cfb\u7edf\u90e8\u7f72\u548c\u914d\u7f6e\u7684\u4e00\u81f4\u6027\u3002</p> </li> <li> <p>\u7cfb\u7edf\u7ba1\u7406\uff1a\u53ef\u4ee5\u8f7b\u677e\u7ba1\u7406\u670d\u52a1\u5668\u3001\u7f51\u7edc\u8bbe\u5907\u548c\u5b58\u50a8\u8bbe\u5907\u7b49\u7cfb\u7edf\u8d44\u6e90\u3002</p> </li> <li> <p>\u81ea\u52a8\u5316IT\u6d41\u7a0b\uff1a\u53ef\u4ee5\u5b9e\u73b0\u81ea\u52a8\u5316\u7684IT\u6d41\u7a0b\uff0c\u4f8b\u5982\u81ea\u52a8\u5316\u6d4b\u8bd5\u3001\u81ea\u52a8\u5316\u4ee3\u7801\u90e8\u7f72\u548c\u5347\u7ea7\u7b49IT\u6d41\u7a0b\u3002</p> </li> <li> <p>\u8fdc\u7a0b\u6267\u884c\u4efb\u52a1\uff1a\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u670d\u52a1\u5668\u4e0a\u6267\u884c\u547d\u4ee4\u548c\u4efb\u52a1\uff0c\u65e0\u9700\u5728\u6bcf\u53f0\u670d\u52a1\u5668\u4e0a\u624b\u52a8\u6267\u884c\u3002</p> </li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Ansible/01_%E7%AE%80%E4%BB%8B.html#ansible_3","title":"Ansible\u7684\u4e3b\u8981\u7279\u70b9","text":"<ul> <li> <p>\u4ee3\u7406\u65e0\uff1aAnsible\u4e0d\u9700\u8981\u5728\u76ee\u6807\u4e3b\u673a\u4e0a\u5b89\u88c5\u4efb\u4f55\u4ee3\u7406\u7a0b\u5e8f\u6216\u63d2\u4ef6\uff0c\u56e0\u4e3a\u5b83\u4f7f\u7528ssh\u534f\u8bae\u6765\u8fdc\u7a0b\u8fde\u63a5\u4e3b\u673a\uff0c\u8fd9\u4f7f\u5f97Ansible\u975e\u5e38\u9002\u5408\u8fdb\u884c\u8fdc\u7a0b\u7ba1\u7406\u548c\u914d\u7f6e\u3002</p> </li> <li> <p>\u7b80\u5355\u6613\u7528\uff1aAnsible\u7684\u8bed\u6cd5\u975e\u5e38\u5bb9\u6613\u7406\u89e3\u548c\u5b66\u4e60\uff0c\u56e0\u6b64\u5373\u4f7f\u6ca1\u6709\u7f16\u7a0b\u80cc\u666f\u7684\u4eba\u4e5f\u80fd\u8f7b\u677e\u4f7f\u7528\u5b83\u3002</p> </li> <li> <p>\u9ad8\u6548\uff1aAnsible\u53ef\u4ee5\u652f\u6301\u5e76\u884c\u6267\u884c\u4efb\u52a1\uff0c\u8fd9\u6709\u52a9\u4e8e\u63d0\u9ad8\u6267\u884c\u901f\u5ea6\u3002</p> </li> <li> <p>\u5b89\u5168\uff1aAnsible\u4f7f\u7528SSH\u534f\u8bae\u6765\u7ba1\u7406\u7cfb\u7edf\uff0c\u8fd9\u610f\u5473\u7740\u5b89\u5168\u6027\u975e\u5e38\u9ad8\uff0c\u4e14\u652f\u6301\u591a\u79cd\u8ba4\u8bc1\u548c\u52a0\u5bc6\u534f\u8bae\uff0c\u4f8b\u5982Kerberos\u548cLDAP\u3002</p> </li> <li> <p>\u53ef\u6269\u5c55\u6027\uff1aAnsible\u662f\u4e00\u4e2a\u5f00\u6e90\u5de5\u5177\uff0c\u56e0\u6b64\u6709\u5f88\u591a\u7684\u793e\u533a\u548c\u63d2\u4ef6\u652f\u6301\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\u529f\u80fd\u548c\u6269\u5c55\u6027\u3002</p> </li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Ansible/01_%E7%AE%80%E4%BB%8B.html#ansible_4","title":"Ansible\u7ec4\u4ef6","text":"<ul> <li> <p>Inventory\uff1a\u662fAnsible\u7684\u4e00\u4e2a\u6838\u5fc3\u6982\u5ff5\uff0c\u5b83\u5b9a\u4e49\u4e86Ansible\u53ef\u4ee5\u7ba1\u7406\u7684\u4e3b\u673a\u5217\u8868\u3002\u8fd9\u4e2a\u5217\u8868\u53ef\u4ee5\u5305\u62ec\u5355\u4e2a\u4e3b\u673a\u6216\u4e00\u4e2a\u4e3b\u673a\u7ec4\u3002</p> </li> <li> <p>Playbooks\uff1a\u662fAnsible\u7684\u53e6\u4e00\u4e2a\u6838\u5fc3\u6982\u5ff5\uff0c\u5b83\u5b9a\u4e49\u4e86Ansible\u7684\u5404\u79cd\u4efb\u52a1\u548c\u64cd\u4f5c\u3002\u5b83\u4f7f\u7528YAML\u683c\u5f0f\u7f16\u5199\uff0c\u53ef\u4ee5\u88ab\u89c6\u4e3a\u4e00\u7cfb\u5217\u7684\u6307\u4ee4\u548c\u4efb\u52a1\u3002</p> </li> <li> <p>Modules\uff1a\u662fAnsible\u7684\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u5b83\u7528\u4e8e\u6267\u884c\u5404\u79cd\u64cd\u4f5c\u3002\u4f8b\u5982\uff0c\u6709\u4e00\u4e2a\u6587\u4ef6\u6a21\u5757\u53ef\u4ee5\u7528\u4e8e\u914d\u7f6e\u548c\u7ba1\u7406\u6587\u4ef6\u3002\u53e6\u5916\u8fd8\u6709\u5f88\u591a\u5176\u4ed6\u7684\u6a21\u5757\uff0c\u5982ping\u6a21\u5757\uff0cyum\u6a21\u5757\uff0c\u7b49\u7b49\u3002</p> </li> <li> <p>Roles\uff1a\u662f\u4e00\u7ec4Playbooks\uff0c\u7528\u4e8e\u6267\u884c\u4e00\u7cfb\u5217\u7279\u5b9a\u7c7b\u578b\u7684\u4efb\u52a1\u3002\u5b83\u4eec\u53ef\u4ee5\u91cd\u590d\u4f7f\u7528\uff0c\u53ef\u79fb\u690d\uff0c\u5e76\u4e14\u6613\u4e8e\u7ef4\u62a4\u3002</p> </li> <li> <p>Ansible Galaxy\uff1a\u662fAnsible\u793e\u533a\u7684\u4e00\u4e2a\u7ba1\u7406\u548c\u53d1\u73b0\u89d2\u8272\u548c\u63d2\u4ef6\u7684\u4e2d\u5fc3\u3002\u901a\u8fc7\u4f7f\u7528Ansible Galaxy\uff0c\u4f60\u53ef\u4ee5\u67e5\u627e\u548c\u5b89\u88c5\u5176\u4ed6\u7528\u6237\u7f16\u5199\u7684\u89d2\u8272\u548c\u63d2\u4ef6\uff0c\u4ee5\u4fbf\u5feb\u901f\u914d\u7f6e\u548c\u7ba1\u7406\u7cfb\u7edf\u3002</p> </li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Ansible/01_%E7%AE%80%E4%BB%8B.html#ansible_5","title":"\u5982\u4f55\u4f7f\u7528Ansible","text":"<p>\u4f7f\u7528Ansible\u7684\u4e00\u822c\u8fc7\u7a0b\u662f\uff1a</p> <ol> <li>\u7f16\u5199Inventory\u6587\u4ef6\uff0c\u5b9a\u4e49\u60a8\u8981\u7ba1\u7406\u7684\u4e3b\u673a\u5217\u8868\u3002</li> <li>\u7f16\u5199Playbook\uff0c\u5b9a\u4e49\u8981\u6267\u884c\u7684\u64cd\u4f5c\u548c\u4efb\u52a1\u3002</li> <li>\u8fd0\u884cPlaybook\uff0c\u5e76\u5c06\u5176\u53d1\u9001\u5230Ansible\u4e3b\u673a\u4ee5\u6267\u884c\u4efb\u52a1\u3002</li> </ol> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u57fa\u672c\u7684\u4f8b\u5b50\uff0c\u7528\u4e8e\u5b89\u88c5nginx\uff1a</p> <ol> <li>\u521b\u5efa\u4e00\u4e2a\u540d\u4e3ainventory\u7684\u6587\u4ef6\uff0c\u6307\u5b9a\u8981\u5b89\u88c5nginx\u7684\u4e3b\u673a\u5217\u8868\uff1a</li> </ol> <pre><code>[web]\nwebserver1\nwebserver2\n</code></pre> <ol> <li>\u521b\u5efa\u4e00\u4e2a\u540d\u4e3ainstall_nginx.yml\u7684Playbook\uff0c\u5176\u4e2d\u5305\u542b\u5b89\u88c5nginx\u7684\u4efb\u52a1\uff1a</li> </ol> <pre><code>---\n- name: Install nginx\n  hosts: web\n  become: yes\n  tasks:\n    - name: Install nginx\n      apt:\n        name: nginx\n        state: latest\n</code></pre> <ol> <li>\u8fd0\u884cPlaybook\uff1a</li> </ol> <pre><code>ansible-playbook -i inventory install_nginx.yml\n</code></pre> <ol> <li>\u5f53\u6267\u884c\u5b8c\u6210\u540e\uff0c\u60a8\u5c06\u5728\u60a8\u6307\u5b9a\u7684\u4e3b\u673a\u4e0a\u5b89\u88c5\u4e86nginx\u3002</li> </ol>"},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Ansible/01_%E7%AE%80%E4%BB%8B.html#_1","title":"\u603b\u7ed3","text":"<p>Ansible\u662f\u4e00\u79cd\u529f\u80fd\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u81ea\u52a8\u5316\u914d\u7f6e\u3001\u90e8\u7f72\u548c\u7ba1\u7406\u8ba1\u7b97\u673a\u7cfb\u7edf\u548c\u7f51\u7edc\u8bbe\u5907\u3002\u5b83\u5177\u6709\u4ee3\u7406\u65e0\u3001\u7b80\u5355\u6613\u7528\u3001\u9ad8\u6548\u3001\u5b89\u5168\u548c\u53ef\u6269\u5c55\u6027\u7b49\u7279\u70b9\u3002Ansible\u7684\u6838\u5fc3\u7ec4\u4ef6\u5305\u62ecInventory\u3001Playbooks\u3001Modules\u548cRoles\u3002\u4f7f\u7528Ansible\u53ef\u4ee5\u8f7b\u677e\u5730\u81ea\u52a8\u5316\u60a8\u7684IT\u6d41\u7a0b\uff0c\u63d0\u9ad8\u7cfb\u7edf\u7ba1\u7406\u7684\u6548\u7387\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Ansible/Ansible.html","title":"Ansible","text":"<p>Ansible\u662f\u4e00\u6b3eIT\u81ea\u52a8\u5316\u5de5\u5177\u3002\u5b83\u53ef\u4ee5\u914d\u7f6e\u7cfb\u7edf\u3001\u90e8\u7f72\u8f6f\u4ef6\uff0c\u5e76\u7f16\u6392\u66f4\u9ad8\u7ea7\u7684IT\u4efb\u52a1\uff0c\u5982\u6301\u7eed\u90e8\u7f72\u6216\u96f6\u505c\u673a\u6eda\u52a8\u66f4\u65b0\u3002</p> <p>Ansible\u7684\u4e3b\u8981\u76ee\u6807\u662f\u7b80\u5355\u6613\u7528\u3002\u5b83\u8fd8\u4e13\u6ce8\u4e8e\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\uff0c\u91c7\u7528\u6700\u5c11\u7684\u79fb\u52a8\u90e8\u4ef6\uff0c\u4f7f\u7528OpenSSH\u8fdb\u884c\u4f20\u8f93\uff08\u5176\u4ed6\u4f20\u8f93\u548c\u62c9\u53d6\u6a21\u5f0f\u4f5c\u4e3a\u66ff\u4ee3\u65b9\u6848\uff09\uff0c\u5e76\u8bbe\u8ba1\u4e86\u4e00\u79cd\u8bed\u8a00\u4ee5\u4fbf\u4eba\u7c7b\u5ba1\u8ba1\u2014\u2014\u5373\u4f7f\u90a3\u4e9b\u4e0d\u719f\u6089\u8be5\u7a0b\u5e8f\u7684\u4eba\u4e5f\u80fd\u8f7b\u677e\u7406\u89e3\u3002</p> <p>\u6211\u4eec\u8ba4\u4e3a\u7b80\u5355\u9002\u7528\u4e8e\u6240\u6709\u89c4\u6a21\u7684\u73af\u5883\uff0c\u56e0\u6b64\u6211\u4eec\u9762\u5411\u5404\u79cd\u7c7b\u578b\u7e41\u5fd9\u7528\u6237\u8fdb\u884c\u8bbe\u8ba1\uff1a\u5f00\u53d1\u4eba\u5458\u3001\u7cfb\u7edf\u7ba1\u7406\u5458\u3001\u53d1\u5e03\u5de5\u7a0b\u5e08\u3001IT\u7ecf\u7406\u4ee5\u53ca\u4ecb\u4e8e\u5176\u4e2d\u7684\u6240\u6709\u4eba\u3002 Ansible\u9002\u5408\u7ba1\u7406\u6240\u6709\u73af\u5883\uff0c\u4ece\u53ea\u6709\u51e0\u4e2a\u5b9e\u4f8b\u7684\u5c0f\u578b\u8bbe\u7f6e\u5230\u62e5\u6709\u6570\u5343\u4e2a\u5b9e\u4f8b\u7684\u4f01\u4e1a\u73af\u5883\u3002</p> <p>\u60a8\u53ef\u4ee5\u5728\u7531Red Hat\u4e3b\u529e\u4e14\u9488\u5bf9\u6240\u6709Ansible\u8d21\u732e\u8005\u3001\u7528\u6237\u548c\u5ba2\u6237\u4e3e\u529e\u5e74\u5ea6\u6d3b\u52a8\u201cAnsibleFest\u201d\u4e2d\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002 AnsibleFest\u662f\u4e0e\u4ed6\u4eba\u8054\u7cfb\u3001\u5b66\u4e60\u65b0\u6280\u80fd\u5e76\u627e\u5230\u65b0\u670b\u53cb\u81ea\u52a8\u5316\u4ea4\u6d41\u4e4b\u5730\u3002</p> <p>Ansible\u4ee5\u65e0\u4ee3\u7406\u65b9\u5f0f\u7ba1\u7406\u673a\u5668\u3002\u6c38\u8fdc\u4e0d\u4f1a\u51fa\u73b0\u5982\u4f55\u5347\u7ea7\u8fdc\u7a0b\u5b88\u62a4\u7a0b\u5e8f\u6216\u65e0\u6cd5\u7ba1\u7406\u7cfb\u7edf\u56e0\u4e3a\u5b88\u62a4\u7a0b\u5e8f\u5df2\u88ab\u5378\u8f7d\u7b49\u95ee\u9898\u3002\u6b64\u5916\uff0c\u7531\u4e8eAnsible\u4f7f\u7528OpenSSH\uff08\u7528\u4e8eSSH\uff08Secure Shell\uff09\u534f\u8bae\u7684\u5f00\u6e90\u8fde\u63a5\u5de5\u5177\uff09\uff0c\u5b89\u5168\u98ce\u9669\u5927\u5927\u964d\u4f4e\u3002</p> <p>Ansible\u662f\u5206\u6563\u5f0f\u7684\u2014\u2014\u5b83\u4f9d\u8d56\u4e8e\u60a8\u73b0\u6709\u7684\u64cd\u4f5c\u7cfb\u7edf\u51ed\u636e\u6765\u63a7\u5236\u5bf9\u8fdc\u7a0b\u673a\u5668\u7684\u8bbf\u95ee\u6743\u9650\u3002\u5982\u679c\u9700\u8981\uff0cAnsible\u53ef\u4ee5\u8f7b\u677e\u8fde\u63a5Kerberos\u3001LDAP\u548c\u5176\u4ed6\u96c6\u4e2d\u8eab\u4efd\u9a8c\u8bc1\u7ba1\u7406\u7cfb\u7edf\u3002</p> <p>\u672c\u6587\u6863\u6db5\u76d6\u4e86\u672c\u9875\u9762\u5de6\u4e0a\u89d2\u6240\u793a\u7248\u672c\u7684Ansible\u3002\u6211\u4eec\u7ef4\u62a4\u591a\u4e2a\u7248\u672c\u7684Ansible\u548cAnsible\u6587\u6863\uff0c\u8bf7\u786e\u4fdd\u60a8\u6b63\u5728\u4f7f\u7528\u8986\u76d6\u60a8\u6b63\u5728\u4f7f\u7528\u7684Ansible\u7248\u672c\u7684\u6587\u6863\u7248\u672c\u3002\u5bf9\u4e8e\u6700\u8fd1\u6dfb\u52a0\u529f\u80fd\uff0c\u6211\u4eec\u4f1a\u6ce8\u660e\u6dfb\u52a0\u8be5\u529f\u80fd\u65f6\u6240\u9700\u6c42\u7684 Ansible \u7248\u672c\u3002</p> <p>\u6bcf\u5e74\u7ea6\u53d1\u5e03\u4e24\u6b21\u65b0\u7248\u4e3b\u8981\u66f4\u65b0\u3002\u6838\u5fc3\u5e94\u7528\u7a0b\u5e8f\u5728\u8bed\u8a00\u8bbe\u8ba1\u548c\u8bbe\u7f6e\u65b9\u9762\u76f8\u5bf9\u4fdd\u5b88\u5730\u53d1\u5c55\u6f14\u53d8\uff0c\u5e76\u4e14\u81ea2.10\u4ee5\u6765\u8d21\u732e\u8005\u66f4\u5feb\u5730\u5f00\u53d1\u5e76\u66f4\u6539\u6258\u7ba1\u5728\u96c6\u5408\u4e2d\u6a21\u5757\u548c\u63d2\u4ef6\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Ansible/Ansible.html#ansible_1","title":"\u5f00\u59cb\u4f7f\u7528Ansible","text":"<p>Ansible\u81ea\u52a8\u5316\u7ba1\u7406\u8fdc\u7a0b\u7cfb\u7edf\u5e76\u63a7\u5236\u5176\u6240\u9700\u72b6\u6001\u3002\u4e00\u4e2a\u57fa\u672c\u7684Ansible\u73af\u5883\u6709\u4e09\u4e2a\u4e3b\u8981\u7ec4\u4ef6\uff1a</p> <ul> <li> <p>\u63a7\u5236\u8282\u70b9(Control node)   \u5b89\u88c5\u4e86Ansible\u7684\u7cfb\u7edf\u3002\u60a8\u5728\u63a7\u5236\u8282\u70b9\u4e0a\u8fd0\u884c\u8bf8\u5982ansible\u6216ansible-inventory\u4e4b\u7c7b\u7684\u547d\u4ee4\u3002</p> </li> <li> <p>\u6258\u7ba1\u8282\u70b9(Managed node)   \u7531Ansible\u63a7\u5236\u7684\u8fdc\u7a0b\u7cfb\u7edf\u6216\u4e3b\u673a\u3002</p> </li> <li> <p>\u6e05\u5355(Inventory)   \u903b\u8f91\u4e0a\u7ec4\u7ec7\u7684\u53d7\u7ba1\u8282\u70b9\u5217\u8868\u3002\u60a8\u5728\u63a7\u5236\u8282\u70b9\u4e0a\u521b\u5efa\u6e05\u5355\uff0c\u4ee5\u63cf\u8ff0\u5bf9Ansible\u8fdb\u884c\u4e3b\u673a\u90e8\u7f72\u3002</p> </li> </ul> <p></p> <ol> <li>\u5b89\u88c5Ansible</li> </ol> <pre><code>python3 -m pip install ansible\n</code></pre> <ol> <li>\u901a\u8fc7\u5c06\u4e00\u4e2a\u6216\u591a\u4e2a\u8fdc\u7a0b\u7cfb\u7edf\u7684IP\u5730\u5740\u6216\u5b8c\u5168\u9650\u5b9a\u57df\u540d\uff08FQDN\uff09\u6dfb\u52a0\u5230<code>/etc/ansible/hosts</code>\u4e2d\u6765\u521b\u5efa\u6e05\u5355\u3002\u4ee5\u4e0b\u793a\u4f8b\u5c06KVM\u4e2d\u4e09\u53f0\u865a\u62df\u673a\u7684IP\u5730\u5740\u6dfb\u52a0\u5230\u6e05\u5355\u4e2d\uff1a</li> </ol> <pre><code>[myvirtualmachines]\n192.0.2.50\n192.0.2.51\n192.0.2.52\n</code></pre> <ol> <li>\u9a8c\u8bc1\u60a8\u6e05\u5355\u4e2d\u7684\u4e3b\u673a\u3002</li> </ol> <pre><code>ansible all --list-hosts \n</code></pre> <pre><code>hosts (1):\n  192.0.2.50\n  192.0.2.51\n  192.0.2.52\n</code></pre> <ol> <li> <p>\u8bbe\u7f6eSSH\u8fde\u63a5\uff0c\u4ee5\u4fbfAnsible\u53ef\u4ee5\u8fde\u63a5\u5230\u6258\u7ba1\u8282\u70b9\u3002</p> <ul> <li>\u5c06\u60a8\u7684\u516c\u5171SSH\u5bc6\u94a5\u6dfb\u52a0\u5230\u6bcf\u4e2a\u8fdc\u7a0b\u7cfb\u7edf\u4e0a\u7684authorized_keys\u6587\u4ef6\u4e2d\u3002</li> <li>\u6d4b\u8bd5SSH\u8fde\u63a5\uff0c\u4f8b\u5982\uff1a    <pre><code>ssh username@192.0.2.50\n</code></pre>    \u5982\u679c\u63a7\u5236\u8282\u70b9\u4e0a\u7684\u7528\u6237\u540d\u4e0e\u4e3b\u673a\u4e0a\u4e0d\u540c\uff0c\u5219\u9700\u8981\u5728ansible\u547d\u4ee4\u4e2d\u4f20\u9012-u\u9009\u9879\u3002</li> </ul> </li> <li> <p>\u5bf9managed nodes\u8fdb\u884c Ping \u6d4b\u8bd5</p> </li> </ol> <pre><code>ansible all -m ping\n</code></pre> <pre><code>192.0.2.50 | SUCCESS =&gt; {\n  \"ansible_facts\": {\n    \"discovered_interpreter_python\": \"/usr/bin/python3\"\n    },\n    \"changed\": false,\n    \"ping\": \"pong\"\n    }\n192.0.2.51 | SUCCESS =&gt; {\n  \"ansible_facts\": {\n    \"discovered_interpreter_python\": \"/usr/bin/python3\"\n    },\n    \"changed\": false,\n    \"ping\": \"pong\"\n    }\n192.0.2.52 | SUCCESS =&gt; {\n  \"ansible_facts\": {\n    \"discovered_interpreter_python\": \"/usr/bin/python3\"\n    },\n    \"changed\": false,\n    \"ping\": \"pong\"\n    }\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Ansible/Ansible.html#building_an_inventory","title":"\u6784\u5efa\u6e05\u5355(Building an inventory)","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Ansible/Ansible.html#_1","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Ansibl\u4e2d\u6587\u5b98\u65b9\u6587\u6863</li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Github%20Action/GithubAction.html","title":"Github Action","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/CI%20CD/Jenkins/Jenkins.html","title":"Jenkins","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E8%BF%81%E7%A7%BB%E7%9B%AE%E5%BD%95.html","title":"Docker \u8fc1\u79fb\u76ee\u5f55","text":"<p>\u5b89\u88c5\u5b8cDocker\u540e\uff0c\u9ed8\u8ba4\u5b58\u50a8\u8def\u5f84\u5728 <code>/var/lib/docker</code> \u76ee\u5f55\uff0c\u6839\u76ee\u5f55\u6302\u8f7d\u5230\u4e00\u4e2a\u786c\u76d8\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u8d44\u6e90\u4e0d\u591f\u7528\u3002\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u8fc1\u79fbdocker\u9ed8\u8ba4\u7684\u76ee\u5f55\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u770b\u78c1\u76d8\u5360\u7528\u60c5\u51b5\u3002 <pre><code>df -h\n</code></pre></p> <p></p> <ol> <li>\u505c\u6b62Docker\u670d\u52a1</li> </ol> <pre><code>systemctl stop docker\n</code></pre> <ol> <li>\u521b\u5efadocker\u65b0\u76ee\u5f55</li> </ol> <pre><code>mkdir -p /data/docker/lib\n</code></pre> <ol> <li>\u5b89\u88c5\u8fc1\u79fb\u8f6f\u4ef6\u5305</li> </ol> <pre><code>yum install rsync -y\n</code></pre> <ol> <li>\u5f00\u59cb\u8fc1\u79fb</li> </ol> <pre><code># \u5b89\u88c5 screen \u5de5\u5177\nyum install screen -y\n# \u6253\u5f00\u4e00\u4e2a\u65b0\u7a97\u53e3 \u7136\u540e\u8f93\u5165\u547d\u4ee4\u5c31\u4e0d\u6015ssh\u8fde\u63a5\u4e2d\u65ad\u4e86\nscreen -S sync\n# \u5f00\u59cb\u8fc1\u79fb\nrsync -avzP /var/lib/docker /data/docker/lib/\n</code></pre> <p></p> <ol> <li>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 </li> </ol> <p>\u9996\u5148\u67e5\u770b\u4e00\u4e0b service \u6587\u4ef6\u8def\u5f84\uff1a</p> <pre><code>systemctl status docker\n</code></pre> <p></p> <p>\u663e\u793a service \u6587\u4ef6\u8def\u5f84\u4e3a\uff1a <code>/etc/systemd/system/docker.service</code></p> <pre><code># \u9996\u5148\u5907\u4efd\u4e00\u4e0b\u539f\u6765\u7684\u914d\u7f6e\u6587\u4ef6\ncp /etc/systemd/system/docker.service /etc/systemd/system/docker.service.bak\n# \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\nvim /etc/systemd/system/docker.service\n</code></pre> <p>\u5728 <code>ExecStart=/usr/bin/dockerd</code> \u540e\u6dfb\u52a0 <code>--data-root=/data/docker/lib/docker</code></p> <p></p> <ol> <li>\u91cd\u542fDocker</li> </ol> <pre><code># \u91cd\u65b0\u52a0\u8f7dservice\nsystemctl daemon-reload\n# \u91cd\u542fdocker\nsystemctl restart docker\n# \u67e5\u770bdocker\u72b6\u6001\nsystemctl status docker\n</code></pre> <ol> <li>\u786e\u8ba4docker\u6ca1\u6709\u95ee\u9898\uff0c\u5220\u9664\u539f\u76ee\u5f55</li> </ol> <pre><code>rm -rf /var/lib/docker\n</code></pre> <p>\u5728\u5220\u9664\u7684\u65f6\u5019\u5982\u679c\u63d0\u793a<code>cannot remove '/var/lib/docker/overlay2/xxxxxxx/merged': Device or resource busy</code>\u3002\u9700\u8981\u5148\u53d6\u6d88\u6302\u8f7d\u518d\u5220\u9664\u3002</p> <p>\u4f7f\u7528<code>df -h</code>\u547d\u4ee4\u67e5\u770b\u53d1\u73b0\u6709\u5f88\u591a\u6302\u8f7d\u3002</p> <p></p> <p>\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u53d6\u6d88\u6302\u8f7d <pre><code>umount /var/lib/docker/overlay2/*/merged\n</code></pre></p> <p>\u518d\u6b21\u6267\u884c\u5220\u9664\u547d\u4ee4\uff0c\u5373\u53ef\u5220\u9664\u6210\u529f\u3002 <pre><code>rm -rf /var/lib/docker\n</code></pre></p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/docker-compose%20env%E7%9B%B8%E5%85%B3.html","title":"Docker-compose Env\u76f8\u5173","text":"<p>\u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u901a\u8fc7Compose\u6587\u4ef6\u6216CLI\u5904\u7406\u3002\u4e24\u8005\u90fd\u6709\u591a\u79cd\u65b9\u6cd5\u53ef\u4ee5\u66ff\u6362\u6216\u8bbe\u7f6e\u60a8\u7684\u73af\u5883\u53d8\u91cf\u3002\u4e0b\u9762\u8fdb\u884c\u4e86\u6982\u8ff0\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/docker-compose%20env%E7%9B%B8%E5%85%B3.html#compose","title":"Compose\u6587\u4ef6","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/docker-compose%20env%E7%9B%B8%E5%85%B3.html#env","title":"\u4f7f\u7528<code>.env</code>\u6587\u4ef6\u8fdb\u884c\u66ff\u6362","text":"<p>\u5982\u679c\u60a8\u9700\u8981\u5b58\u50a8\u591a\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u5219<code>.env</code>\u6587\u4ef6\u975e\u5e38\u6709\u7528\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u793a\u4f8b\uff1a</p> <pre><code>$ cat .env\nTAG=v1.5\n\n$ cat docker-compose.yml\nservices:\n  web:\n    image: \"webapp:${TAG}\"\n</code></pre> <p>\u5f53\u60a8\u8fd0\u884c <code>docker compose up</code> \u547d\u4ee4\u65f6\uff0cCompose \u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684 <code>web</code> \u670d\u52a1\u4f1a\u4f7f\u7528\u5728 <code>.env</code> \u6587\u4ef6\u4e2d\u8bbe\u7f6e\u7684\u955c\u50cf <code>webapp:v1.5</code>\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7 config \u547d\u4ee4 \u6765\u9a8c\u8bc1\u8fd9\u4e00\u70b9\uff0c\u8be5\u547d\u4ee4\u5c06\u5e94\u7528\u7a0b\u5e8f\u914d\u7f6e\u89e3\u6790\u540e\u8f93\u51fa\u5230\u7ec8\u7aef\uff1a <pre><code>$ docker compose config\n\nservices:\n  web:\n    image: 'webapp:v1.5'\n</code></pre></p> <p><code>.env</code> \u6587\u4ef6\u5e94\u8be5\u653e\u7f6e\u5728\u9879\u76ee\u76ee\u5f55\u7684\u6839\u76ee\u5f55\uff0c\u4e0e\u60a8\u7684 <code>docker-compose.yml</code> \u6587\u4ef6\u76f8\u90bb\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u4e4b\u4e00\u6765\u4f7f\u7528\u66ff\u4ee3\u8def\u5f84\uff1a - CLI \u4e2d\u7684 <code>--file</code> \u9009\u9879 - CLI \u4e2d\u7684 <code>--env-file</code> \u9009\u9879 - Compose \u6587\u4ef6\u4e2d\u7684 <code>env_file</code> \u5c5e\u6027</p> <p>\u6709\u5173\u73af\u5883\u6587\u4ef6\u683c\u5f0f\u5316\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 Use an environment file\u3002</p> <p>\u91cd\u8981</p> <p>\u6765\u81ea <code>.env</code> \u6587\u4ef6\u7684\u66ff\u6362\u662f Docker Compose CLI \u7684\u529f\u80fd\u3002</p> <p>\u5728\u8fd0\u884c <code>docker stack deploy</code> \u65f6\uff0cSwarm \u4e0d\u652f\u6301\u6b64\u529f\u80fd\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/docker-compose%20env%E7%9B%B8%E5%85%B3.html#environment","title":"\u4f7f\u7528 <code>environment</code> \u5c5e\u6027","text":"<p>\u60a8\u53ef\u4ee5\u5728 Compose \u6587\u4ef6\u4e2d\u4f7f\u7528 <code>environment</code> \u5c5e\u6027 \u4e3a\u670d\u52a1\u7684\u5bb9\u5668\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u3002\u5b83\u4e0e <code>docker run -e VARIABLE=VALUE ...</code> \u7684\u65b9\u5f0f\u76f8\u540c\u3002 <pre><code>web:\n  environment:\n    - DEBUG=1\n</code></pre></p> <p>\u60a8\u53ef\u4ee5\u9009\u62e9\u4e0d\u8bbe\u7f6e\u503c\uff0c\u5e76\u5c06\u73af\u5883\u53d8\u91cf\u76f4\u63a5\u4f20\u9012\u5230\u670d\u52a1\u7684\u5bb9\u5668\u4e2d\u3002\u5b83\u4e0e <code>docker run -e VARIABLE ...</code> \u7684\u5de5\u4f5c\u65b9\u5f0f\u76f8\u540c\uff1a</p> <pre><code>web:\n  environment:\n    - DEBUG\n</code></pre> <p>\u5bb9\u5668\u4e2d <code>DEBUG</code> \u53d8\u91cf\u7684\u503c\u53d6\u81ea\u5728 Compose \u8fd0\u884c\u65f6 shell \u4e2d\u76f8\u540c\u53d8\u91cf\u7684\u503c\u3002</p> <p>\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 <code>environment</code> \u5c5e\u6027\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/docker-compose%20env%E7%9B%B8%E5%85%B3.html#env_file","title":"\u4f7f\u7528 <code>env_file</code> \u5c5e\u6027","text":"<p>\u60a8\u53ef\u4ee5\u901a\u8fc7 <code>env_file</code> \u9009\u9879\u4ece\u5916\u90e8\u6587\u4ef6\u4f20\u9012\u591a\u4e2a\u73af\u5883\u53d8\u91cf\u5230\u670d\u52a1\u7684\u5bb9\u5668\u4e2d\u3002\u8fd9\u4e0e <code>docker run --env-file=FILE ...</code> \u7684\u5de5\u4f5c\u65b9\u5f0f\u76f8\u540c\uff1a</p> <pre><code>web:\n  env_file:\n    - web-variables.env\n</code></pre> <p>\u5982\u679c\u6307\u5b9a\u4e86\u591a\u4e2a\u6587\u4ef6\uff0c\u5219\u6309\u987a\u5e8f\u8fdb\u884c\u8bc4\u4f30\uff0c\u5e76\u4e14\u53ef\u4ee5\u8986\u76d6\u5148\u524d\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u7684\u503c\u3002</p> <p>\u6ce8\u610f</p> <p>\u4f7f\u7528\u6b64\u9009\u9879\u540e\uff0c\u6587\u4ef6\u4e2d\u58f0\u660e\u7684\u73af\u5883\u53d8\u91cf\u4e0d\u80fd\u5728Compose\u6587\u4ef6\u4e2d\u5355\u72ec\u5f15\u7528\u6216\u7528\u4e8e\u914d\u7f6eCompose\u3002</p> <p>\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1<code>env_file</code>\u5c5e\u6027\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/docker-compose%20env%E7%9B%B8%E5%85%B3.html#shell","title":"\u4eceshell\u66ff\u6362","text":"<p>\u60a8\u53ef\u4ee5\u5728shell\u4e2d\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u6765\u586b\u5145Compose\u6587\u4ef6\u5185\u90e8\u7684\u503c\u3002 Compose\u4f7f\u7528\u8fd0\u884c\u201cdocker compose\u201d\u7684shell\u73af\u5883\u4e2d\u7684\u53d8\u91cf\u503c\u3002</p> <p>\u4f8b\u5982\uff0c\u5047\u8bbeshell\u5305\u542b<code>POSTGRES_VERSION=9.3</code>\u5e76\u4e14\u60a8\u63d0\u4f9b\u4ee5\u4e0b\u914d\u7f6e\uff1a</p> <pre><code>db:\n  image: \"postgres:${POSTGRES_VERSION}\"\n</code></pre> <p>\u5f53\u60a8\u4ee5\u6b64\u914d\u7f6e\u8fd0\u884c<code>docker compose up</code>\u65f6\uff0cCompose\u4f1a\u67e5\u627eShell\u4e2d\u7684 <code>POSTGRES_VERSION</code> \u73af\u5883\u53d8\u91cf\u5e76\u8fdb\u884c\u66ff\u6362\u3002\u5bf9\u4e8e\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u5728\u8fd0\u884c\u8be5\u914d\u7f6e\u4e4b\u524d\uff0cCompose\u5c06\u955c\u50cf\u89e3\u6790\u4e3a <code>postgres:9.3</code>.</p> <p>\u5982\u679c\u672a\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u5219Compose\u5c06\u5176\u66ff\u6362\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5982\u679c\u672a\u8bbe\u7f6e <code>POSTGRES_VERSION</code>, \u5219image\u9009\u9879\u7684\u503c\u4e3a <code>postgres:</code>.</p> <p>\u6ce8\u610f</p> <p><code>postgres:</code>\u4e0d\u662f\u6709\u6548\u7684\u6620\u50cf\u5f15\u7528\u3002 Docker\u671f\u671b\u6ca1\u6709\u6807\u8bb0\uff08tag\uff09 \u7684\u5f15\u7528\uff08\u5982\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a\u6700\u65b0\u56fe\u50cf\uff09\uff0c\u6216\u8005\u5e26\u6709\u6807\u8bb0\uff08tag\uff09 \uff0c\u4f8b\u5982\uff1a postgres:15.</p> <p>\u91cd\u8981</p> <p>Shell\u73af\u5883\u4e2d\u8bbe\u7f6e\u7684\u503c\u4f18\u5148\u4e8e<code>.env</code> \u6587\u4ef6\u3001'environment' \u5c5e\u6027\u548c 'env_file' \u5c5e\u6027 \u4e2d\u8bbe\u7f6e \u7684 \u503c \u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1\u73af\u5883\u53d8\u91cf\u4f18\u5148\u7ea7\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/docker-compose%20env%E7%9B%B8%E5%85%B3.html#cli","title":"CLI","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/docker-compose%20env%E7%9B%B8%E5%85%B3.html#--env-file","title":"\u4f7f\u7528 <code>--env-file</code> \u8fdb\u884c\u66ff\u6362","text":"<p>\u60a8\u53ef\u4ee5\u5728 \u73af\u5883\u6587\u4ef6 \u4e2d\u8bbe\u7f6e\u591a\u4e2a\u73af\u5883\u53d8\u91cf\u7684\u9ed8\u8ba4\u503c\uff0c\u7136\u540e\u5c06\u8be5\u6587\u4ef6\u4f5c\u4e3aCLI\u4e2d\u7684\u53c2\u6570\u4f20\u9012\u3002</p> <p>\u6b64\u65b9\u6cd5\u7684\u4f18\u70b9\u662f\u60a8\u53ef\u4ee5\u5c06\u6587\u4ef6\u5b58\u50a8\u5728\u4efb\u4f55\u4f4d\u7f6e\u5e76\u4ee5\u9002\u5f53\u7684\u540d\u79f0\u547d\u540d\uff0c\u4f8b\u5982 <code>.env.ci</code>, <code>.env.dev</code>, <code>.env.prod</code>. \u6b64\u6587\u4ef6\u8def\u5f84\u76f8\u5bf9\u4e8e\u6267\u884cDocker Compose\u547d\u4ee4\u65f6\u6240\u5728\u7684\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002\u4f7f\u7528 <code>-- env-file</code> \u9009\u9879\u6765\u4f20\u9012\u6587\u4ef6\u8def\u5f84\uff1a</p> <pre><code>$ docker compose --env-file ./config/.env.dev up\n</code></pre> <p>\u4e0b\u9762\u793a\u4f8b\u4e2d\u6709\u4e24\u4e2a\u73af\u5883\u6587\u4ef6\uff1a<code>. env</code>\u548c<code>. env.dev</code>\u3002\u90fd\u4e3a\u201cTAG\u201d\u8bbe\u7f6e\u4e86\u4e0d\u540c\u7684\u503c\u3002</p> <pre><code>$ cat .env\nTAG=v1.5\n\n$ cat ./config/.env.dev\nTAG=v1.6\n\n\n$ cat docker-compose.yml\nservices:\n  web:\n    image: \"webapp:${TAG}\"\n</code></pre> <p>\u5982\u679c\u672a\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528 <code>-- env-file</code> \uff0c\u5219\u9ed8\u8ba4\u52a0\u8f7d <code>. env</code> \u6587\u4ef6\uff1a</p> <pre><code>$ docker compose config \nservices:\n  web:\n    image: 'webapp:v1.5'\n</code></pre> <p>\u901a\u8fc7\u4f20\u9012 <code>-- env-file</code> \u53c2\u6570\u8986\u76d6\u9ed8\u8ba4\u6587\u4ef6\u8def\u5f84\uff1a</p> <pre><code>$ docker compose --env-file ./config/.env.dev config \nservices:\n  web:\n    image: 'webapp:v1.6'\n</code></pre> <p>\u5f53\u4f20\u9012\u65e0\u6548\u7684\u6587\u4ef6\u8def\u5f84\u4f5c\u4e3a <code>-- env- file</code> \u53c2\u6570\u65f6\uff0cCompose\u4f1a\u8fd4\u56de\u9519\u8bef\uff1a</p> <pre><code>$ docker compose --env-file ./doesnotexist/.env.dev  config \nERROR: Couldn't find env file: /home/user/./doesnotexist/.env.dev\n</code></pre> <p>\u91cd\u8981</p> <p>Shell\u73af\u5883\u4e2d\u8bbe\u7f6e\u7684\u503c\u4f18\u5148\u4e8e\u5728CLI\u4e2d\u4f7f\u7528 <code>-- env-file</code> \u53c2\u6570\u65f6\u8bbe\u7f6e\u7684\u503c\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1\u73af\u5883\u53d8\u91cf\u4f18\u5148\u7ea7\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/docker-compose%20env%E7%9B%B8%E5%85%B3.html#docker_compose_run_--env","title":"\u4f7f\u7528 <code>docker compose run --env</code> \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf","text":"<p>\u4e0e <code>docker run -- env</code> \u7c7b\u4f3c\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>docker compose run -- env</code> \u6216\u5176\u7b80\u5199\u5f62\u5f0f <code>docker compose run -e</code> \u5728\u4e00\u6b21\u6027\u5bb9\u5668\u4e2d\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>$ docker compose run -e DEBUG=1 web python console.py\n</code></pre> <p>\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4e0d\u7ed9\u5b83\u4e00\u4e2a\u503c\u6765\u4eceshell\u4f20\u9012\u4e00\u4e2a\u53d8\u91cf\uff1a</p> <pre><code>$ docker compose run -e DEBUG web python console.py\n</code></pre> <p>\u5bb9\u5668\u4e2dDEBUG\u53d8\u91cf\u7684\u503c\u53d6\u81eaCompose\u8fd0\u884c\u65f6\u6240\u5728shell\u4e2d\u76f8\u540c\u53d8\u91cf\u7684\u503c\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/docker-compose%20env%E7%9B%B8%E5%85%B3.html#_1","title":"\u6837\u4f8b","text":"<p>\u5047\u8bbe\u6709\u4e00\u4e2a<code>cdp</code>\u9879\u76ee\uff0c\u5176\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b:</p> <pre><code>[root@host cdp]# ll -al\ntotal 32\ndrwxr-xr-x 3 root root 4096 May 19 10:56 .\ndrwx------ 3 hive livy 4096 May 18 16:51 ..\n-rw-r--r-- 1 root root  727 May 19 10:56 cdp-service-swap.conf\n-rw-r--r-- 1 root root  879 May 18 17:39 cdp-web.env\n-rw-r--r-- 1 root root 1347 May 18 17:39 docker-compose.yaml\n-rw-r--r-- 1 root root  914 May 18 17:42 .env\n-rw-r--r-- 1 root root 1021 May 18 17:41 common.env\n</code></pre> <p>\u5176\u4e2d<code>common.env</code>\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code># \u516c\u5171\u914d\u7f6e\nTZ=Asia/Shanghai\n# MySQL\u6570\u636e\u5e93\u914d\u7f6e\n# MySQL\u6570\u636e\u5e93\u7528\u6237\u540d\nSPRING_DATASOURCE_USERNAME=root\n# MySQL\u6570\u636e\u5e93\u5bc6\u7801\nSPRING_DATASOURCE_PASSWORD=123456\n</code></pre></p> <p>\u5176\u4e2d<code>.env</code>\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code># RSYNC\u670d\u52a1\u914d\u7f6e\n# RSYNC\u670d\u52a1\u955c\u50cf\nRSYNC_IMAGE=harbor_domin/rsync:vx.y.z\n# rsyncd\u7684\u670d\u52a1\u5730\u5740\nRSYNC_DOMAIN_1=127.0.0.1\n#RSYNC_DOMAIN_2=127.0.0.1\n#RSYNC_DOMAIN_3=127.0.0.1\n\n# ElasticSearch\u670d\u52a1\u914d\u7f6e\nES_IMAGE=harbor_domin/es:vx.y.z\n# ES\u6302\u8f7d\u76ee\u5f55\nES_VOLUME=/data/docker/volumes/es\n# ES REST\u670d\u52a1\u7aef\u53e3\nES_REST_PORT=9200\n# ES\u5185\u90e8\u901a\u4fe1\u7aef\u53e3\nES_INTERNAL_PORT=9300\n\n# svn\u670d\u52a1\u914d\u7f6e\nSVN_IMAGE=harbor_domin/svn:vx.y.z\n# svn\u6302\u8f7d\u76ee\u5f55\nSVN_VOLUME=/data/docker/volumes/svn\n# svn\u670d\u52a1\u7aef\u53e3\nSVN_PORT=80\n\n# cdp-es\u670d\u52a1\u914d\u7f6e\n# cdp-es\u670d\u52a1\u955c\u50cf\nCDP_ES_IMAGE=harbor_domin/cdp-es:vx.y.z\n\n# cdp-web\u670d\u52a1\u914d\u7f6e\n# cdp-web\u670d\u52a1\u955c\u50cf\nCDP_WEB_IMAGE=harbor_domin/cdp-web:vx.y.z\n\n# cdp-service\u670d\u52a1\u914d\u7f6e\n# cdp-service\u670d\u52a1\u955c\u50cf\nCDP_SERVICE_IMAGE=harbor_domin/cdp-service:vx.y.z\n# cdp-service\u670d\u52a1MySQL\u914d\u7f6e\u6587\u4ef6\nCDP_SERVICE_VOLUME=./cdp-service-swap.conf\n</code></pre></p> <p>\u5176\u4e2d<code>cdp-web.env</code>\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>SPRING_DATASOURCE_URL=jdbc:mysql://domain.db:3306/db_cdp_web?characterEncoding=UTF-8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;zeroDateTimeBehavior=convertToNull&amp;connectTimeout=6000&amp;socketTimeout=6000\n</code></pre></p> <p>\u5176\u4e2d<code>cdp-service-swap.conf</code>\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>- connectionURL : jdbc:mysql://domain.db:3306/db_cdp_service?serverTimezone=GMT%2B8&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false\n  driversClass : com.mysql.jdbc.Driver\n  username : root\n  password : 123456\n  minPoolSize : 1\n  maxPoolSize : 30\n  idleTimeout : 30\n  queryTimeout : 20\n  insertUpdateTimeout : 10\n\n- connectionURL : jdbc:mysql://domain.db:3306/db_cdp_service?serverTimezone=GMT%2B8&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false\n  driversClass : com.mysql.jdbc.Driver\n  username : root\n  password : 123456\n  minPoolSize : 1\n  maxPoolSize : 30\n  idleTimeout : 30\n  queryTimeout : 20\n  insertUpdateTimeout : 10\n  readonly : true\n</code></pre></p> <p>\u5176\u4e2d<code>docker-compose.yaml</code>\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>version: '3.3'\nservices:\n  rsync:\n    tty: true\n    image: ${RSYNC_IMAGE}\n    container_name: rsync\n    network_mode: host\n    volumes:\n      - /opt/soft/cdp_job_jar:/opt/soft/cdp_job_jar\n    extra_hosts:\n      # rsyncd\u96c6\u7fa4\u7684\u670d\u52a1\u5730\u5740\n      - domain.rsyncd1:${RSYNC_DOMAIN_1}\n#      - domain.rsyncd2:${RSYNC_DOMAIN_2}\n #     - domain.rsyncd3:${RSYNC_DOMAIN_3}\n  es:\n    image: ${ES_IMAGE}\n    container_name: es\n    restart: always\n    environment:\n      TZ: Asia/Shanghai\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n      - ${ES_VOLUME}:/usr/share/elasticsearch/data\n    ports:\n      - \"${ES_REST_PORT}:9200\"\n      - \"${ES_INTERNAL_PORT}:9300\"\n  svn:\n    image: ${SVN_IMAGE}\n    container_name: svn\n    restart: always\n    environment:\n      TZ: Asia/Shanghai\n    volumes:\n      - ${SVN_VOLUME}:/svn\n    ports:\n      - ${SVN_PORT}:80\n  cdp-es:\n    container_name: cdp-es\n    image: ${CDP_ES_IMAGE}\n    restart: always\n    network_mode: \"host\"\n    environment:\n      - TZ=Asia/Shanghai\n  cdp-web:\n    container_name: cdp-web\n    image: ${CDP_WEB_IMAGE}\n    restart: always\n    network_mode: \"host\"\n    env_file:\n      - common.env\n      - cdp-web.env\n  cdp-service:\n    container_name: cdp-service\n    image: ${CDP_SERVICE_IMAGE}\n    restart: always\n    network_mode: \"host\"\n    volumes:\n      - ${CDP_SERVICE_VOLUME}:/opt/config/swap.config\n    environment:\n      - TZ=Asia/Shanghai\n</code></pre></p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/docker-compose%20env%E7%9B%B8%E5%85%B3.html#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Ways to set environment variables in Compose</li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%91%BD%E4%BB%A4%E8%AF%B4%E6%98%8E.html","title":"Docker \u547d\u4ee4\u8bf4\u660e","text":"<pre><code>docker --help\n\n\u7528\u6cd5:  docker [\u9009\u9879] \u547d\u4ee4\n\nDocker \u662f\u4e00\u4e2a\u81ea\u7ed9\u81ea\u8db3\u7684\u5bb9\u5668\u8fd0\u884c\u65f6\n\n\u5e38\u7528\u547d\u4ee4:\n  run         \u4ece\u955c\u50cf\u521b\u5efa\u5e76\u8fd0\u884c\u65b0\u5bb9\u5668\n  exec        \u5728\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u4e2d\u6267\u884c\u547d\u4ee4\n  ps          \u5217\u51fa\u5bb9\u5668  \n  build       \u4eceDockerfile\u521b\u5efa\u955c\u50cf\n  pull        \u4ece\u4ed3\u5e93\u4e0b\u8f7d\u955c\u50cf\n  push        \u4e0a\u4f20\u955c\u50cf\u5230\u4ed3\u5e93\n  images      \u5217\u51fa\u955c\u50cf\n  login       \u767b\u5f55\u5230\u4ed3\u5e93\n  logout      \u4ece\u4ed3\u5e93\u767b\u51fa\n  search      \u5728Docker Hub\u4e2d\u641c\u7d22\u955c\u50cf\n  version     \u663e\u793aDocker\u7248\u672c\u4fe1\u606f\n  info        \u663e\u793a\u7cfb\u7edf\u8303\u56f4\u7684\u4fe1\u606f\n\n\u7ba1\u7406\u547d\u4ee4:\n  builder     \u7ba1\u7406\u6784\u5efa\n  buildx*     Docker Buildx (Docker Inc., v0.10.4)\n  compose*    Docker Compose (Docker Inc., v2.17.2)\n  container   \u7ba1\u7406\u5bb9\u5668\n  context     \u7ba1\u7406\u4e0a\u4e0b\u6587\n  image       \u7ba1\u7406\u955c\u50cf\n  manifest    \u7ba1\u7406Docker\u955c\u50cf\u6e05\u5355\u548c\u6e05\u5355\u5217\u8868\n  network     \u7ba1\u7406\u7f51\u7edc\n  plugin      \u7ba1\u7406\u63d2\u4ef6\n  system      \u7ba1\u7406Docker\n  trust       \u7ba1\u7406\u5bf9Docker\u955c\u50cf\u7684\u4fe1\u4efb\n  volume      \u7ba1\u7406\u5377\n\n\u96c6\u7fa4\u547d\u4ee4:\n  swarm       \u7ba1\u7406\u96c6\u7fa4\n\n\u547d\u4ee4:\n  attach      \u5c06\u672c\u5730\u6807\u51c6\u8f93\u5165\u3001\u8f93\u51fa\u548c\u9519\u8bef\u6d41\u9644\u52a0\u5230\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\n  commit      \u57fa\u4e8e\u5bb9\u5668\u7684\u66f4\u6539\u521b\u5efa\u65b0\u955c\u50cf\n  cp          \u5728\u5bb9\u5668\u548c\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e4b\u95f4\u590d\u5236\u6587\u4ef6/\u6587\u4ef6\u5939\n  create      \u521b\u5efa\u65b0\u5bb9\u5668\n  diff        \u68c0\u67e5\u5bb9\u5668\u6587\u4ef6\u7cfb\u7edf\u4e0a\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u66f4\u6539\n  events      \u4ece\u670d\u52a1\u5668\u83b7\u53d6\u5b9e\u65f6\u4e8b\u4ef6\n  export      \u5bfc\u51fa\u5bb9\u5668\u7684\u6587\u4ef6\u7cfb\u7edf\u4e3atar\u5b58\u6863,\u548cimport\u547d\u4ee4\u7ec4\u5408\u4f7f\u7528\n  history     \u663e\u793a\u955c\u50cf\u7684\u5386\u53f2\u8bb0\u5f55\n  import      \u4ecetar\u5305\u5bfc\u5165\u5185\u5bb9\u4ee5\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u955c\u50cf,\u548cexport\u547d\u4ee4\u7ec4\u5408\u4f7f\u7528\n  inspect     \u8fd4\u56deDocker\u5bf9\u8c61\u7684\u4f4e\u7ea7\u522b\u4fe1\u606f\n  kill        \u6740\u6b7b\u4e00\u4e2a\u6216\u591a\u4e2a\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\n  load        \u4ecetar\u5b58\u6863\u6216STDIN\u52a0\u8f7d\u955c\u50cf,\u548csave\u547d\u4ee4\u7ec4\u5408\u4f7f\u7528\n  logs        \u83b7\u53d6\u5bb9\u5668\u7684\u65e5\u5fd7\n  pause       \u6682\u505c\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\u4e2d\u7684\u6240\u6709\u8fdb\u7a0b\n  port        \u5217\u51fa\u7aef\u53e3\u6620\u5c04\u6216\u5bb9\u5668\u7684\u7279\u5b9a\u6620\u5c04\n  rename      \u91cd\u547d\u540d\u5bb9\u5668\n  restart     \u91cd\u542f\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\n  rm          \u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\n  rmi         \u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u955c\u50cf\n  save        \u5c06\u4e00\u4e2a\u6216\u591a\u4e2a\u955c\u50cf\u4fdd\u5b58\u5230tar\u5b58\u6863(\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f20\u8f93\u5230STDOUT),\u548cload\u547d\u4ee4\u7ec4\u5408\u4f7f\u7528\n  start       \u542f\u52a8\u4e00\u4e2a\u6216\u591a\u4e2a\u5df2\u505c\u6b62\u7684\u5bb9\u5668\n  stats       \u663e\u793a\u5bb9\u5668\u8d44\u6e90\u4f7f\u7528\u7edf\u8ba1\u7684\u5b9e\u65f6\u6d41\n  stop        \u505c\u6b62\u4e00\u4e2a\u6216\u591a\u4e2a\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\n  tag         \u521b\u5efatag\n  top         \u663e\u793a\u5bb9\u5668\u4e2d\u8fd0\u884c\u7684\u8fdb\u7a0b\n  unpause     \u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\u4e2d\u6062\u590d\u6240\u6709\u8fdb\u7a0b\n  update      \u66f4\u65b0\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\u7684\u914d\u7f6e\n  wait        \u963b\u585e\u76f4\u5230\u4e00\u4e2a\u6216\u591a\u4e2a\u5bb9\u5668\u505c\u6b62,\u7136\u540e\u6253\u5370\u5b83\u4eec\u7684\u9000\u51fa\u4ee3\u7801  \n\n\u5168\u5c40\u9009\u9879:\n      --config string      \u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u7684\u4f4d\u7f6e (\u9ed8\u8ba4\u503c \"/root/.docker\")\n  -c, --context string     \u7528\u4e8e\u8fde\u63a5\u5230\u5b88\u62a4\u7a0b\u5e8f\u7684\u4e0a\u4e0b\u6587\u540d\u79f0(\u8986\u76d6DOCKER_HOST\u73af\u5883\u53d8\u91cf\u548c\u4f7f\u7528\"docker context use\"\u8bbe\u7f6e\u7684\u9ed8\u8ba4\u4e0a\u4e0b\u6587)\n  -D, --debug              \u542f\u7528\u8c03\u8bd5\u6a21\u5f0f\n  -H, --host list          \u8981\u8fde\u63a5\u7684\u5b88\u62a4\u7a0b\u5e8f\u5957\u63a5\u5b57\n  -l, --log-level string   \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b(\"debug\", \"info\", \"warn\", \"error\", \"fatal\") (\u9ed8\u8ba4\u503c \"info\")\n      --tls                \u4f7f\u7528TLS;\u7531--tlsverify\u9690\u542b\n      --tlscacert string   \u4fe1\u4efb\u7531\u6b64CA\u7b7e\u540d\u7684\u8bc1\u4e66(\u9ed8\u8ba4\u503c \"/root/.docker/ca.pem\")\n      --tlscert string     TLS\u8bc1\u4e66\u6587\u4ef6\u7684\u8def\u5f84(\u9ed8\u8ba4\u503c \"/root/.docker/cert.pem\")\n      --tlskey string      TLS\u5bc6\u94a5\u6587\u4ef6\u7684\u8def\u5f84(\u9ed8\u8ba4\u503c \"/root/.docker/key.pem\")  \n      --tlsverify          \u4f7f\u7528TLS\u5e76\u9a8c\u8bc1\u8fdc\u7a0b\n  -v, --version            \u6253\u5370\u7248\u672c\u4fe1\u606f\u5e76\u9000\u51fa\n\n\u8fd0\u884c 'docker \u547d\u4ee4 --help' \u83b7\u53d6\u6709\u5173\u547d\u4ee4\u7684\u66f4\u591a\u4fe1\u606f\u3002\n\n\u8981\u83b7\u53d6\u6709\u5173\u5982\u4f55\u4f7f\u7528Docker\u7684\u66f4\u591a\u5e2e\u52a9,\u8bf7\u8bbf\u95ee https://docs.docker.com/go/guides/\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%9F%BA%E7%A1%80.html","title":"Docker\u57fa\u7840","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%9F%BA%E7%A1%80.html#docker_1","title":"Docker\u7684\u53d1\u5c55","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%9F%BA%E7%A1%80.html#_1","title":"\u5bb9\u5668\u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\uff1f","text":"<p>\u5728\u6ca1\u6709 Docker \u51fa\u73b0\u4e4b\u524d\uff0c\u4e1a\u52a1\u90fd\u662f\u57fa\u4e8e\u5e94\u7528\u7684\u3002\u5927\u90e8\u5206\u5e94\u7528\u90fd\u662f\u8fd0\u884c\u5728\u670d\u52a1\u5668\u4e0a\u7684\u3002\u4e1a\u52a1\u90e8\u95e8\u9700\u8981\u6dfb\u52a0\u65b0\u7684\u5e94\u7528\uff0c\u5c31\u5f97\u91c7\u8d2d\u65b0\u7684\u670d\u52a1\u5668\u6765\u8fd0\u884c\u65b0\u7684\u5e94\u7528\u3002</p> <p>\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u91c7\u8d2d\u7684\u65f6\u5019\u90fd\u4f1a\u91c7\u8d2d\u6027\u80fd\u5927\u4e8e\u9700\u6c42\u7684\u7684\u670d\u52a1\u5668\u3002\u800c\u5927\u90e8\u5206\u670d\u52a1\u5668\u7684\u957f\u671f\u8d1f\u8f7d\u90fd\u5728 5%-10% \u7684\u6c34\u5e73\u3002 \u5bfc\u81f4\u8d44\u6e90\u4e25\u91cd\u7684\u6d6a\u8d39\u3002</p> <p>\u540e\u9762 Vmware \u516c\u53f8 \u53d1\u5e03\u4e86\u865a\u62df\u673a\uff0c\u865a\u62df\u673a\u53ef\u4ee5\u5728\u4e00\u4e2a\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u591a\u4e2a\u865a\u62df\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002\u865a\u62df\u673a\u53ef\u80fd\u5171\u4eab\u670d\u52a1\u5668\u7684\u8d44\u6e90\u3002\u65b0\u589e\u5e94\u7528\u7684\u65f6\u5019\u5c31\u4e0d\u9700\u8981\u91c7\u8d2d\u65b0\u7684\u670d\u52a1\u5668\u3002\u76f4\u63a5\u65b0\u589e\u4e00\u4e2a\u865a\u62df\u673a\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u4f46\u662f\u865a\u62df\u673a\u6bcf\u4e00\u4e2a\u865a\u62df\u673a\u90fd\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5360\u7528\u989d\u5916\u7684CPU\uff0c\u5185\u5b58\uff0c\u5b58\u50a8\u7b49\u8d44\u6e90\u3002\u5e76\u4e14\u865a\u62df\u673a\u7684\u542f\u52a8\u65f6\u95f4\u6bd4\u8f83\u4e45\u3002\u53ef\u79fb\u690d\u6027\u8f83\u5dee\u3002</p> <p>\u6240\u6709\u518d\u540e\u6765\u5c31\u51fa\u73b0\u4e86\u5bb9\u5668\u6280\u672f\u3002Docker \u662f\u5176\u4e2d\u6700\u6d41\u884c\u7684\u6280\u672f\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%9F%BA%E7%A1%80.html#_2","title":"\u5bb9\u5668\u7684\u4f18\u70b9","text":"<ul> <li>\u5bb9\u5668\u542f\u52a8\u5feb\uff1a \u5bb9\u5668\u7684\u542f\u52a8\u901f\u5ea6\u662f\u79d2\u7ea7\u522b\u7684\uff0c\u865a\u62df\u673a\u542f\u52a8\u7684\u65f6\u95f4\u662f\u5206\u949f\u7ea7\u522b\u3002</li> <li>\u8d44\u6e90\u5360\u7528\u5c11\uff1a\u540c\u4e00\u4e2a\u5bbf\u4e3b\u673a\u4e0a\u7684\u5bb9\u5668\u5171\u4eabCPU\uff0c\u5185\u5b58\uff0c\u786c\u76d8\u7b49\u8d44\u6e90\uff0c\u5bb9\u5668\u5360\u7528\u7684\u8d44\u6e90\u5c0f</li> <li>\u53ef\u690d\u6027\u597d\uff1a\u5bb9\u5668\u955c\u50cf\u6784\u5efa\u597d\u4e4b\u540e\uff0c\u53ef\u4ee5\u5feb\u901f\u7684\u90e8\u7f72\u5230\u5176\u4ed6\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u53ef\u4ee5\u51cf\u5c11\u73af\u5883\u4f9d\u8d56\u4e0d\u540c\u5e26\u6765\u7684BUG\u3002</li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%9F%BA%E7%A1%80.html#docker_2","title":"Docker\u4ecb\u7ecd","text":"<p>Docker \u5f00\u6e90\u9879\u76ee\u5730\u5740\u4e3a: https://github.com/moby/moby</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%9F%BA%E7%A1%80.html#docker_3","title":"Docker\u67b6\u6784","text":"<p>Docker \u4f7f\u7528\u5ba2\u6237\u7aef-\u670d\u52a1\u5668\u67b6\u6784\u3002 Docker \u5ba2\u6237\u7aef\u4e0e Docker \u5b88\u62a4\u8fdb\u7a0b\u901a\u4fe1\uff0c\u540e\u8005\u8d1f\u8d23\u6784\u5efa\u3001\u8fd0\u884c\u548c\u5206\u53d1 Docker \u5bb9\u5668\u7684\u7e41\u91cd\u5de5\u4f5c\u3002</p> <p>Docker \u5ba2\u6237\u7aef\u548c\u5b88\u62a4\u8fdb\u7a0b\u53ef\u4ee5\u5728\u540c\u4e00\u7cfb\u7edf\u4e0a\u8fd0\u884c\uff0c\u4e5f\u53ef\u4ee5\u5c06 Docker \u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u8fdc\u7a0b Docker \u5b88\u62a4\u8fdb\u7a0b\u3002 </p> <p>Docker \u5ba2\u6237\u7aef\u548c\u5b88\u62a4\u8fdb\u7a0b\u4f7f\u7528 REST API \u901a\u8fc7 UNIX \u5957\u63a5\u5b57\u6216\u7f51\u7edc\u63a5\u53e3\u8fdb\u884c\u901a\u4fe1\u3002</p> <p>\u53e6\u4e00\u4e2a Docker \u5ba2\u6237\u7aef\u662f Docker Compose\uff0c\u5b83\u5141\u8bb8\u60a8\u4f7f\u7528\u7531\u4e00\u7ec4\u5bb9\u5668\u7ec4\u6210\u7684\u5e94\u7528\u7a0b\u5e8f\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%9F%BA%E7%A1%80.html#docker_daemon_dockerd","title":"Docker daemon ( dockerd )","text":"<p>Docker \u5b88\u62a4\u8fdb\u7a0b ( dockerd ) \u4fa6\u542c Docker API \u8bf7\u6c42\u5e76\u7ba1\u7406 Docker \u5bf9\u8c61\uff0c\u4f8b\u5982\u6620\u50cf\u3001\u5bb9\u5668\u3001\u7f51\u7edc\u548c\u5377\u3002\u5b88\u62a4\u8fdb\u7a0b\u8fd8\u53ef\u4ee5\u4e0e\u5176\u4ed6\u5b88\u62a4\u8fdb\u7a0b\u901a\u4fe1\u6765\u7ba1\u7406 Docker \u670d\u52a1\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%9F%BA%E7%A1%80.html#docker_client_docker","title":"Docker client ( docker )","text":"<p>Docker \u5ba2\u6237\u7aef ( docker ) \u662f\u8bb8\u591a Docker \u7528\u6237\u4e0e Docker \u4ea4\u4e92\u7684\u4e3b\u8981\u65b9\u5f0f\u3002\u5f53\u60a8\u4f7f\u7528 docker run \u7b49\u547d\u4ee4\u65f6\uff0c\u5ba2\u6237\u7aef\u4f1a\u5c06\u8fd9\u4e9b\u547d\u4ee4\u53d1\u9001\u5230 dockerd \uff0c\u7531\u540e\u8005\u6267\u884c\u8fd9\u4e9b\u547d\u4ee4\u3002 docker \u547d\u4ee4\u4f7f\u7528 Docker API\u3002 Docker \u5ba2\u6237\u7aef\u53ef\u4ee5\u4e0e\u591a\u4e2a\u5b88\u62a4\u8fdb\u7a0b\u901a\u4fe1\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%9F%BA%E7%A1%80.html#docker_registries_docker","title":"Docker registries (Docker\u6ce8\u518c\u4e2d\u5fc3)","text":"<p>Docker \u6ce8\u518c\u4e2d\u5fc3\uff0c\u4e00\u822c\u53eb\u505aDocker\u4ed3\u5e93\uff0c\u7528\u6765\u5b58\u50a8 Docker \u955c\u50cf\u3002 Docker Hub \u662f\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u4f7f\u7528\u7684\u516c\u5171\u6ce8\u518c\u4e2d\u5fc3\uff0cDocker \u9ed8\u8ba4\u5728 Docker Hub \u4e0a\u67e5\u627e\u955c\u50cf\u3002\u53ef\u4ee5\u4f7f\u7528 Harbor \u642d\u5efa\u79c1\u6709\u7684 Docker \u4ed3\u5e93\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%9F%BA%E7%A1%80.html#docker_4","title":"Docker \u5bf9\u8c61","text":"<p>\u5f53\u4f7f\u7528 Docker \u65f6\uff0c\u60a8\u6b63\u5728\u521b\u5efa\u548c\u4f7f\u7528\u955c\u50cf(image)\u3001\u5bb9\u5668(container)\u3001\u7f51\u7edc(network)\u3001\u5377(volumes)\u3001\u63d2\u4ef6(plugin)\u548c\u5176\u4ed6\u5bf9\u8c61\u3002</p> <ul> <li>\u955c\u50cf(image)\uff1a\u955c\u50cf\u662f\u4e00\u4e2a\u53ea\u8bfb\u6a21\u677f\uff0c\u5176\u4e2d\u5305\u542b\u7528\u4e8e\u521b\u5efa Docker \u5bb9\u5668\u7684\u6307\u4ee4\u3002\u901a\u5e38\uff0c\u955c\u50cf\u57fa\u4e8e\u67d0\u4e2a\u955c\u50cf\uff0c\u5e76\u5e26\u6709\u989d\u5916\u7684\u81ea\u5b9a\u4e49\u5185\u5bb9\u3002</li> <li>\u5bb9\u5668(container): \u5bb9\u5668\u662f\u4e00\u4e2a\u955c\u50cf\u7684\u53ef\u8fd0\u884c\u5b9e\u4f8b\u3002\u53ef\u4ee5\u4f7f\u7528 Docker API \u6216 CLI \u521b\u5efa\u3001\u542f\u52a8\u3001\u505c\u6b62\u3001\u79fb\u52a8\u6216\u5220\u9664\u5bb9\u5668\u3002\u53ef\u4ee5\u5c06\u5bb9\u5668\u8fde\u63a5\u5230\u4e00\u4e2a\u6216\u591a\u4e2a\u7f51\u7edc\uff0c\u6dfb\u52a0\u5b58\u50a8\uff0c\u751a\u81f3\u53ef\u4ee5\u57fa\u4e8e\u5176\u5f53\u524d\u72b6\u6001\u521b\u5efa\u65b0\u7684\u955c\u50cf\u3002</li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%9F%BA%E7%A1%80.html#docker_engine","title":"Docker Engine","text":"<p>Docker \u5f15\u64ce\u662f\u8fd0\u884c\u7ba1\u7406Docker\u5bb9\u5668\u7684\u6838\u5fc3\u8f6f\u4ef6\u3002</p> <p>Docker Engine \u662f\u4e00\u79cd\u5f00\u6e90\u5bb9\u5668\u5316\u6280\u672f\uff0c\u7528\u4e8e\u6784\u5efa\u548c\u5bb9\u5668\u5316\u5e94\u7528\u7a0b\u5e8f\u3002 Docker Engine \u5145\u5f53\u5ba2\u6237\u7aef-\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\uff0c\u5177\u6709\uff1a</p> <ul> <li>\u5177\u6709\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u5b88\u62a4\u8fdb\u7a0b <code>dockerd</code> \u3002</li> <li>\u4e0e Docker \u5b88\u62a4\u8fdb\u7a0b\u901a\u4fe1\u7684APIs</li> <li>\u547d\u4ee4\u884c\u63a5\u53e3 (CLI) \u5ba2\u6237\u7aef <code>docker</code>\u3002</li> </ul> <p>CLI \u4f7f\u7528 Docker API \u901a\u8fc7\u811a\u672c\u6216\u547d\u4ee4\u6765\u63a7\u5236Docker \u5b88\u62a4\u7a0b\u5e8f\u6216\u4e0e\u4e4b\u4ea4\u4e92\u3002\u5b88\u62a4\u8fdb\u7a0b\u521b\u5efa\u5e76\u7ba1\u7406 Docker \u5bf9\u8c61\uff0c\u4f8b\u5982\u6620\u50cf\u3001\u5bb9\u5668\u3001\u7f51\u7edc\u548c\u5377\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Docker/Docker%E5%9F%BA%E7%A1%80/Docker%E5%9F%BA%E7%A1%80.html#docker_5","title":"Docker \u5de5\u4f5c\u6d41\u7a0b","text":"<ol> <li>\u7f16\u5199Dockerfile</li> <li>\u6784\u5efaDocker\u955c\u50cf</li> <li>\u8fd0\u884cDocker\u5bb9\u5668</li> <li>\u63a8\u9001\u955c\u50cf\u5230\u4ed3\u5e93/\u4fdd\u5b58\u955c\u50cf\u4e3atar\u5305</li> </ol>"},{"location":"07_%E8%BF%90%E7%BB%B4/Kubernetes/Kubernetes%E5%9F%BA%E7%A1%80/Kubernetes%E5%9F%BA%E7%A1%80.html","title":"Kubernets\u57fa\u7840","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/01_Bash%E5%B8%B8%E7%94%A8.html","title":"Bash\u5e38\u7528","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/01_Bash%E5%B8%B8%E7%94%A8.html#_1","title":"\u53d8\u91cf","text":"<p>\u4f7f\u7528<code>\u53d8\u91cf\u540d=\u53d8\u91cf\u503c</code> \u7684\u65b9\u5f0f\u5b9a\u4e49\u53d8\u91cf\uff0c\u4f7f\u7528<code>$\u53d8\u91cf\u540d</code>\u6216\u8005<code>${\u53d8\u91cf\u540d}</code>\u7684\u65b9\u5f0f\u83b7\u53d6\u53d8\u91cf\u7684\u503c\u3002</p> <p> **\u6ce8\u610f**\uff1a\u7b49\u53f7\u4e24\u8fb9\u4e0d\u80fd\u6709\u7a7a\u683c\u3002</p> <pre><code># \u5b9a\u4e49\u4e24\u4e2a\u53d8\u91cf a \u548c b\na=1\nb=\"hello world\"\n\n# \u6253\u5370\u53d8\u91cf\u7684\u503c \u7c7b\u4f3c\u4e8ePython\u4e2d\u7684print\u51fd\u6570\necho \"a: ${a}\"\necho \"b: $b\"\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/01_Bash%E5%B8%B8%E7%94%A8.html#_2","title":"\u6253\u5370\u8f93\u51fa","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/01_Bash%E5%B8%B8%E7%94%A8.html#echo","title":"echo","text":"<p>\u5728<code>Bash shell</code> \u4e2d\uff0c<code>echo</code> \u547d\u4ee4\u662f\u7528\u4e8e\u5c06\u6587\u672c\u8f93\u51fa\u5230\u7ec8\u7aef\u7684\u57fa\u672c\u547d\u4ee4\u3002\u53ef\u4ee5\u4f7f\u7528 <code>echo</code> \u547d\u4ee4\u6765\u5728<code>shell</code>\u4e2d\u6253\u5370\u6d88\u606f\u6216\u53d8\u91cf\u503c\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>echo</code> \u547d\u4ee4\u4f1a\u5728\u8f93\u51fa\u6587\u672c\u7684\u672b\u5c3e\u6dfb\u52a0\u4e00\u4e2a\u6362\u884c\u7b26\u3002\u5982\u679c\u4e0d\u60f3\u5728\u8f93\u51fa\u7684\u672b\u5c3e\u6dfb\u52a0\u6362\u884c\u7b26\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>-n</code> \u9009\u9879\u3002</p> <p><code>echo</code> \u547d\u4ee4\u7684 <code>-e</code> \u9009\u9879\u662f\u7528\u4e8e\u542f\u7528\u89e3\u91ca\u53cd\u659c\u6760-\u63a7\u5236\u5b57\u7b26\u7684\u7279\u6b8a\u5904\u7406\uff0c\u53ef\u4ee5\u7528\u6765\u8f93\u51fa\u5177\u6709\u7279\u6b8a\u683c\u5f0f\u7684\u6587\u672c</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u57fa\u672c\u7684 echo \u547d\u4ee4\u7528\u6cd5\uff1a <pre><code># \u6253\u5370\u6587\u672c\necho \"Hello, World!\"\n\n# \u6253\u5370\u53d8\u91cf\u503c\nvar1=\"Hello\"\nvar2=\"World\"\necho \"${var1}, ${var2}!\"\n\n# \u6253\u5370\u591a\u884c\u6587\u672c\necho \"Line 1\nLine 2\nLine 3\"\n\n# \u6253\u5370\u5e26\u6709\u8f6c\u4e49\u5b57\u7b26\u7684\u6587\u672c\necho \"This is a \\\"quoted\\\" text.\"\n\n# \u4e0d\u8f93\u51fa\u884c\u5c3e\u7684\u6362\u884c\u7b26\necho -n \"This is a text without a trailing newline.\"\n\n# \u8f93\u51fa\u5230 stderr\necho \"This is an error message.\" &gt;&amp;2\n\n# \u8f93\u51fa\u5230\u6587\u4ef6\necho \"This is a text.\" &gt; output.txt\n\n# \u591a\u4e2a\u53c2\u6570\u5408\u5e76\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\u4ee5\u4e00\u4e2a\u7a7a\u683c\u5206\u9694\necho \"Hello\" \"World\"\n# \u7b49\u4ef7\u4e8e\necho \"Hello World\"\n\n# \u8f93\u51fa\u5e26\u6709\u7279\u6b8a\u683c\u5f0f\u7684\u6587\u672c\necho -e \"This is a \\033[1;31mred\\033[0m text.\"\n\n# \u8f93\u51fa\u4e00\u4e2a\u5236\u8868\u7b26\necho -e \"Name\\tAge\"\n\n# \u8f93\u51fa\u4e00\u4e2a\u6362\u884c\u7b26\necho -e \"Line 1\\nLine 2\"\n</code></pre></p> <p>\u5728 Bash shell \u4e2d\uff0c<code>echo</code> \u547d\u4ee4\u7684 <code>-e</code> \u9009\u9879\u53ef\u4ee5\u7528\u4e8e\u8f93\u51fa\u5e26\u6709\u7279\u6b8a\u683c\u5f0f\u7684\u6587\u672c\uff0c\u5305\u62ec\u6587\u672c\u989c\u8272\u3002\u53ef\u4ee5\u4f7f\u7528 ANSI \u8f6c\u4e49\u5e8f\u5217\u6765\u6307\u5b9a\u8f93\u51fa\u7684\u6587\u672c\u989c\u8272\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u89c1 ANSI \u8f6c\u4e49\u5e8f\u5217\uff1a</p> <ul> <li><code>\\033[0m</code>\uff1a\u91cd\u7f6e\u6240\u6709\u7684\u6587\u672c\u5c5e\u6027</li> <li><code>\\033[1m</code>\uff1a\u5c06\u6587\u672c\u8bbe\u7f6e\u4e3a\u7c97\u4f53</li> <li><code>\\033[4m</code>\uff1a\u5c06\u6587\u672c\u8bbe\u7f6e\u4e3a\u4e0b\u5212\u7ebf</li> <li><code>\\033[31m</code>\uff1a\u5c06\u6587\u672c\u8bbe\u7f6e\u4e3a\u7ea2\u8272</li> <li><code>\\033[32m</code>\uff1a\u5c06\u6587\u672c\u8bbe\u7f6e\u4e3a\u7eff\u8272</li> <li><code>\\033[33m</code>\uff1a\u5c06\u6587\u672c\u8bbe\u7f6e\u4e3a\u9ec4\u8272</li> <li><code>\\033[34m</code>\uff1a\u5c06\u6587\u672c\u8bbe\u7f6e\u4e3a\u84dd\u8272</li> <li><code>\\033[35m</code>\uff1a\u5c06\u6587\u672c\u8bbe\u7f6e\u4e3a\u6d0b\u7ea2\u8272</li> <li><code>\\033[36m</code>\uff1a\u5c06\u6587\u672c\u8bbe\u7f6e\u4e3a\u9752\u8272</li> </ul> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u793a\u4f8b\uff0c\u6f14\u793a\u5982\u4f55\u4f7f\u7528 ANSI \u8f6c\u4e49\u5e8f\u5217\u5c06\u6587\u672c\u8f93\u51fa\u6210\u7279\u5b9a\u7684\u989c\u8272\uff1a</p> <pre><code># \u5c06\u6587\u672c\u989c\u8272\u8bbe\u7f6e\u4e3a\u9ec4\u8272\necho -e \"\\033[33mThis is yellow text\\033[0m\"\n\n# \u5c06\u6587\u672c\u989c\u8272\u8bbe\u7f6e\u4e3a\u7ea2\u8272\u3001\u80cc\u666f\u989c\u8272\u8bbe\u7f6e\u4e3a\u84dd\u8272\necho -e \"\\033[31;44mThis is red text on blue background\\033[0m\"\n\n# \u5c06\u6587\u672c\u989c\u8272\u8bbe\u7f6e\u4e3a\u7eff\u8272\u3001\u80cc\u666f\u989c\u8272\u8bbe\u7f6e\u4e3a\u7070\u8272\necho -e \"\\033[32;40mThis is green text on gray background\\033[0m\"\n\n# \u5c06\u6587\u672c\u989c\u8272\u8bbe\u7f6e\u4e3a\u7c97\u4f53\u7684\u7c89\u8272\necho -e \"\\033[1;35mThis is bold magenta text\\033[0m\"\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c<code>\\033</code> \u8868\u793a\u8f6c\u4e49\u5b57\u7b26\uff0c\u540e\u9762\u7684\u6570\u5b57\u8868\u793a\u9700\u8981\u8bbe\u7f6e\u7684\u6587\u672c\u5c5e\u6027\u3002\u4f7f\u7528\u5206\u53f7\u53ef\u4ee5\u540c\u65f6\u8bbe\u7f6e\u591a\u79cd\u5c5e\u6027\uff0c\u4ee5\u5728\u4e00\u884c\u547d\u4ee4\u4e2d\u5b9e\u73b0\u591a\u79cd\u989c\u8272\u548c\u5176\u4ed6\u6837\u5f0f\u7684\u6df7\u5408\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c<code>\\033[0m</code> \u5e94\u8be5\u5728\u6bcf\u6b21\u8bbe\u7f6e\u6587\u672c\u989c\u8272\u540e\u91cd\u7f6e\u989c\u8272\uff0c\u4ee5\u907f\u514d\u5728\u4e0b\u4e00\u4e2a\u884c\u4e2d\u663e\u793a\u9519\u8bef\u7684\u989c\u8272\u3002</p> <p>\u603b\u4e4b\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 ANSI \u8f6c\u4e49\u5e8f\u5217\u5728 Bash shell \u4e2d\u5c06\u6587\u672c\u8f93\u51fa\u6210\u7279\u5b9a\u7684\u989c\u8272\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/01_Bash%E5%B8%B8%E7%94%A8.html#printf","title":"printf","text":"<p>\u5728 Bash shell \u4e2d\uff0c<code>printf</code> \u662f\u4e00\u4e2a\u529f\u80fd\u5f3a\u5927\u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u6839\u636e\u683c\u5f0f\u5b57\u7b26\u4e32\u548c\u53c2\u6570\u6765\u683c\u5f0f\u5316\u548c\u6253\u5370\u6570\u636e\u3002<code>printf</code> \u547d\u4ee4\u4e0e <code>echo</code> \u547d\u4ee4\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u5b83\u53ef\u4ee5\u66f4\u597d\u5730\u63a7\u5236\u5b57\u7b26\u4e32\u683c\u5f0f\uff0c\u5e76\u5141\u8bb8\u60a8\u6307\u5b9a\u8f93\u51fa\u7684\u5b57\u6bb5\u5bbd\u5ea6\u3001\u586b\u5145\u5b57\u7b26\u3001\u5c0f\u6570\u7cbe\u5ea6\u3001\u5bf9\u9f50\u65b9\u5f0f\u548c\u5176\u4ed6\u7ec6\u8282\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684 <code>printf</code> \u547d\u4ee4\u7528\u6cd5\uff1a</p> <pre><code># \u6253\u5370\u666e\u901a\u6587\u672c\nprintf \"Hello, World!\\n\"\n\n# \u586b\u5145\u5b57\u7b26\u4e32\nprintf \"%-10s %-10s %-10s\\n\" \"Name\" \"Age\" \"Gender\"\nprintf \"%-10s %-10s %-10s\\n\" \"Bob\" \"18\" \"Male\"\nprintf \"%-10s %-10s %-10s\\n\" \"Alice\" \"21\" \"Female\"\n\n# \u6307\u5b9a\u5b57\u6bb5\u5bbd\u5ea6\u548c\u7cbe\u5ea6\nprintf \"%10s %10s %10s\\n\" \"Name\" \"Age\" \"Salary\"\nprintf \"%10s %10.2f %10d\\n\" \"Bob\" 1200.75 5000\nprintf \"%10s %10.2f %10d\\n\" \"Alice\" 1500.50 8000\n\n# \u63a7\u5236\u5c0f\u6570\u4f4d\u6570\nprintf \"%.3f\\n\" 3.1415926\n\n# \u8f93\u51fa\u5341\u516d\u8fdb\u5236\u6570\nprintf \"Hex: %x, %X\\n\" 255 255\n\n# \u8f93\u51fa\u516b\u8fdb\u5236\u6570\nprintf \"Octal: %o\\n\" 255\n\n# \u8f93\u51fa\u79d1\u5b66\u8ba1\u6570\u6cd5\nprintf \"%e\\n\" 1230000\n\n# \u8f93\u51fa\u767e\u5206\u6bd4\nprintf \"%d%%\\n\" 50\n</code></pre> <p>\u5728\u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff1a</p> <ul> <li><code>%s</code> \u8868\u793a\u5b57\u7b26\u4e32\u5360\u4f4d\u7b26</li> <li><code>%d</code> \u8868\u793a\u6574\u6570\u5360\u4f4d\u7b26</li> <li><code>%f</code> \u8868\u793a\u6d6e\u70b9\u6570\u5360\u4f4d\u7b26</li> <li><code>%x</code>, <code>%X</code> \u8868\u793a\u5341\u516d\u8fdb\u5236\u6570\u5360\u4f4d\u7b26</li> <li><code>%o</code> \u8868\u793a\u516b\u8fdb\u5236\u6570\u5360\u4f4d\u7b26</li> <li><code>%e</code>, <code>%E</code> \u8868\u793a\u79d1\u5b66\u8ba1\u6570\u6cd5\u5360\u4f4d\u7b26</li> <li><code>%c</code> \u8868\u793a\u5b57\u7b26</li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/01_Bash%E5%B8%B8%E7%94%A8.html#for","title":"for\u5faa\u73af\u7528\u6cd5","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/01_Bash%E5%B8%B8%E7%94%A8.html#_3","title":"\u6839\u636e\u7d22\u5f15\u904d\u5386\u6570\u7ec4","text":"<pre><code># \u5b9a\u4e49\u4e00\u4e2a\u6570\u7ec4\uff0c\u6570\u7ec4\u7684\u5143\u7d20\u7528\u7a7a\u683c\u5206\u9694\nlist=(\"a\" \"b\" \"c\")\n# \u904d\u5386\u6570\u7ec4 i \u4e3a\u7d22\u5f15\nfor i in ${!list[@]}\ndo\n    echo \"index: $i\"\n    # \u83b7\u53d6\u7d22\u5f15\u5bf9\u5e94\u7684\u503c\n    item=${list[$i]}\n    echo \"item: ${item}\"\ndone\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/01_Bash%E5%B8%B8%E7%94%A8.html#_4","title":"\u76f4\u63a5\u904d\u5386\u6570\u7ec4","text":"<pre><code># \u5b9a\u4e49\u6570\u7ec4\nlist=(\"a\" \"b\" \"c\")\n# \u904d\u5386\u6570\u7ec4 item \u4e3a\u5217\u8868\u7684\u5143\u7d20\nfor item in ${list[@]}\ndo\n    echo \"item: $item\"\ndone\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/01_Bash%E5%B8%B8%E7%94%A8.html#_5","title":"Bash\u5e38\u7528","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/02_Bash%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html","title":"02 Bash\u57fa\u7840\u8bed\u6cd5","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/02_Bash%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html#_1","title":"\u547d\u4ee4\u683c\u5f0f","text":"<p>\u547d\u4ee4\u884c\u73af\u5883\u4e2d\uff0c\u4e3b\u8981\u901a\u8fc7\u4f7f\u7528 Shell \u547d\u4ee4\uff0c\u8fdb\u884c\u5404\u79cd\u64cd\u4f5c\u3002Shell \u547d\u4ee4\u57fa\u672c\u90fd\u662f\u4e0b\u9762\u7684\u683c\u5f0f\u3002</p> <pre><code>$ command [ arg1 ... [ argN ]]\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>command</code>\u662f\u5177\u4f53\u7684\u547d\u4ee4\u6216\u8005\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\uff0c<code>arg1 ... argN</code>\u662f\u4f20\u9012\u7ed9\u547d\u4ee4\u7684\u53c2\u6570\uff0c\u5b83\u4eec\u662f\u53ef\u9009\u7684\u3002</p> <pre><code>$ ls -l\n</code></pre> <p>\u4e0a\u9762\u8fd9\u4e2a\u547d\u4ee4\u4e2d\uff0c<code>ls</code>\u662f\u547d\u4ee4\uff0c<code>-l</code>\u662f\u53c2\u6570\u3002</p> <p>\u6709\u4e9b\u53c2\u6570\u662f\u547d\u4ee4\u7684\u914d\u7f6e\u9879\uff0c\u8fd9\u4e9b\u914d\u7f6e\u9879\u4e00\u822c\u90fd\u4ee5\u4e00\u4e2a\u8fde\u8bcd\u7ebf\u5f00\u5934\uff0c\u6bd4\u5982\u4e0a\u9762\u7684<code>-l</code>\u3002\u540c\u4e00\u4e2a\u914d\u7f6e\u9879\u5f80\u5f80\u6709\u957f\u548c\u77ed\u4e24\u79cd\u5f62\u5f0f\uff0c\u6bd4\u5982<code>-l</code>\u662f\u77ed\u5f62\u5f0f\uff0c<code>--list</code>\u662f\u957f\u5f62\u5f0f\uff0c\u5b83\u4eec\u7684\u4f5c\u7528\u5b8c\u5168\u76f8\u540c\u3002\u77ed\u5f62\u5f0f\u4fbf\u4e8e\u624b\u52a8\u8f93\u5165\uff0c\u957f\u5f62\u5f0f\u4e00\u822c\u7528\u5728\u811a\u672c\u4e4b\u4e2d\uff0c\u53ef\u8bfb\u6027\u66f4\u597d\uff0c\u5229\u4e8e\u89e3\u91ca\u81ea\u8eab\u7684\u542b\u4e49\u3002</p> <pre><code># \u77ed\u5f62\u5f0f\n$ ls -r\n\n# \u957f\u5f62\u5f0f\n$ ls --reverse\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c<code>-r</code>\u662f\u77ed\u5f62\u5f0f\uff0c<code>--reverse</code>\u662f\u957f\u5f62\u5f0f\uff0c\u4f5c\u7528\u5b8c\u5168\u4e00\u6837\u3002\u524d\u8005\u4fbf\u4e8e\u8f93\u5165\uff0c\u540e\u8005\u4fbf\u4e8e\u7406\u89e3\u3002</p> <p>Bash \u5355\u4e2a\u547d\u4ee4\u4e00\u822c\u90fd\u662f\u4e00\u884c\uff0c\u7528\u6237\u6309\u4e0b\u56de\u8f66\u952e\uff0c\u5c31\u5f00\u59cb\u6267\u884c\u3002\u6709\u4e9b\u547d\u4ee4\u6bd4\u8f83\u957f\uff0c\u5199\u6210\u591a\u884c\u4f1a\u6709\u5229\u4e8e\u9605\u8bfb\u548c\u7f16\u8f91\uff0c\u8fd9\u65f6\u53ef\u4ee5\u5728\u6bcf\u4e00\u884c\u7684\u7ed3\u5c3e\u52a0\u4e0a\u53cd\u659c\u6760\uff0cBash \u5c31\u4f1a\u5c06\u4e0b\u4e00\u884c\u8ddf\u5f53\u524d\u884c\u653e\u5728\u4e00\u8d77\u89e3\u91ca\u3002</p> <pre><code>$ echo foo bar\n\n# \u7b49\u540c\u4e8e\n$ echo foo \\\nbar\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/02_Bash%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html#_2","title":"\u7a7a\u683c","text":"<p>Bash \u4f7f\u7528\u7a7a\u683c\uff08\u6216 Tab \u952e\uff09\u533a\u5206\u4e0d\u540c\u7684\u53c2\u6570\u3002</p> <pre><code>$ command foo bar\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c<code>foo</code>\u548c<code>bar</code>\u4e4b\u95f4\u6709\u4e00\u4e2a\u7a7a\u683c\uff0c\u6240\u4ee5 Bash \u8ba4\u4e3a\u5b83\u4eec\u662f\u4e24\u4e2a\u53c2\u6570\u3002</p> <p>\u5982\u679c\u53c2\u6570\u4e4b\u95f4\u6709\u591a\u4e2a\u7a7a\u683c\uff0cBash \u4f1a\u81ea\u52a8\u5ffd\u7565\u591a\u4f59\u7684\u7a7a\u683c\u3002</p> <pre><code>$ echo this is a     test\nthis is a test\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c<code>a</code>\u548c<code>test</code>\u4e4b\u95f4\u6709\u591a\u4e2a\u7a7a\u683c\uff0cBash \u4f1a\u5ffd\u7565\u591a\u4f59\u7684\u7a7a\u683c\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/02_Bash%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html#_3","title":"\u5206\u53f7","text":"<p>\u5206\u53f7\uff08<code>;</code>\uff09\u662f\u547d\u4ee4\u7684\u7ed3\u675f\u7b26\uff0c\u4f7f\u5f97\u4e00\u884c\u53ef\u4ee5\u653e\u7f6e\u591a\u4e2a\u547d\u4ee4\uff0c\u4e0a\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u7ed3\u675f\u540e\uff0c\u518d\u6267\u884c\u7b2c\u4e8c\u4e2a\u547d\u4ee4\u3002</p> <pre><code>$ clear; ls\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0cBash \u5148\u6267\u884c<code>clear</code>\u547d\u4ee4\uff0c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u518d\u6267\u884c<code>ls</code>\u547d\u4ee4\u3002</p> <p>\u6ce8\u610f\uff0c\u4f7f\u7528\u5206\u53f7\u65f6\uff0c\u7b2c\u4e8c\u4e2a\u547d\u4ee4\u603b\u662f\u63a5\u7740\u7b2c\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\uff0c\u4e0d\u7ba1\u7b2c\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u6210\u529f\u6216\u5931\u8d25\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/02_Bash%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html#_4","title":"\u547d\u4ee4\u7684\u7ec4\u5408\u7b26<code>&amp;&amp;</code>\u548c<code>||</code>","text":"<p>\u9664\u4e86\u5206\u53f7\uff0cBash \u8fd8\u63d0\u4f9b\u4e24\u4e2a\u547d\u4ee4\u7ec4\u5408\u7b26<code>&amp;&amp;</code>\u548c<code>||</code>\uff0c\u5141\u8bb8\u66f4\u597d\u5730\u63a7\u5236\u591a\u4e2a\u547d\u4ee4\u4e4b\u95f4\u7684\u7ee7\u53d1\u5173\u7cfb\u3002</p> <pre><code>Command1 &amp;&amp; Command2\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u7684\u610f\u601d\u662f\uff0c\u5982\u679c<code>Command1</code>\u547d\u4ee4\u8fd0\u884c\u6210\u529f\uff0c\u5219\u7ee7\u7eed\u8fd0\u884c<code>Command2</code>\u547d\u4ee4\u3002</p> <pre><code>Command1 || Command2\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u7684\u610f\u601d\u662f\uff0c\u5982\u679c<code>Command1</code>\u547d\u4ee4\u8fd0\u884c\u5931\u8d25\uff0c\u5219\u7ee7\u7eed\u8fd0\u884c<code>Command2</code>\u547d\u4ee4\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u4f8b\u5b50\u3002</p> <pre><code>$ cat filelist.txt ; ls -l filelist.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u53ea\u8981<code>cat</code>\u547d\u4ee4\u6267\u884c\u7ed3\u675f\uff0c\u4e0d\u7ba1\u6210\u529f\u6216\u5931\u8d25\uff0c\u90fd\u4f1a\u7ee7\u7eed\u6267\u884c<code>ls</code>\u547d\u4ee4\u3002</p> <pre><code>$ cat filelist.txt &amp;&amp; ls -l filelist.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u53ea\u6709<code>cat</code>\u547d\u4ee4\u6267\u884c\u6210\u529f\uff0c\u624d\u4f1a\u7ee7\u7eed\u6267\u884c<code>ls</code>\u547d\u4ee4\u3002\u5982\u679c<code>cat</code>\u6267\u884c\u5931\u8d25\uff08\u6bd4\u5982\u4e0d\u5b58\u5728\u6587\u4ef6<code>flielist.txt</code>\uff09\uff0c\u90a3\u4e48<code>ls</code>\u547d\u4ee4\u5c31\u4e0d\u4f1a\u6267\u884c\u3002</p> <pre><code>$ mkdir foo || mkdir bar\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u53ea\u6709<code>mkdir foo</code>\u547d\u4ee4\u6267\u884c\u5931\u8d25\uff08\u6bd4\u5982<code>foo</code>\u76ee\u5f55\u5df2\u7ecf\u5b58\u5728\uff09\uff0c\u624d\u4f1a\u7ee7\u7eed\u6267\u884c<code>mkdir bar</code>\u547d\u4ee4\u3002\u5982\u679c<code>mkdir foo</code>\u547d\u4ee4\u6267\u884c\u6210\u529f\uff0c\u5c31\u4e0d\u4f1a\u521b\u5efa<code>bar</code>\u76ee\u5f55\u4e86\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/02_Bash%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html#type","title":"type \u547d\u4ee4","text":"<p>Bash \u672c\u8eab\u5185\u7f6e\u4e86\u5f88\u591a\u547d\u4ee4\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u6267\u884c\u5916\u90e8\u7a0b\u5e8f\u3002\u600e\u4e48\u77e5\u9053\u4e00\u4e2a\u547d\u4ee4\u662f\u5185\u7f6e\u547d\u4ee4\uff0c\u8fd8\u662f\u5916\u90e8\u7a0b\u5e8f\u5462\uff1f</p> <p><code>type</code>\u547d\u4ee4\u7528\u6765\u5224\u65ad\u547d\u4ee4\u7684\u6765\u6e90\u3002</p> <pre><code>$ type echo\necho is a shell builtin\n$ type ls\nls is hashed (/bin/ls)\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>type</code>\u547d\u4ee4\u544a\u8bc9\u6211\u4eec\uff0c<code>echo</code>\u662f\u5185\u90e8\u547d\u4ee4\uff0c<code>ls</code>\u662f\u5916\u90e8\u7a0b\u5e8f\uff08<code>/bin/ls</code>\uff09\u3002</p> <p><code>type</code>\u547d\u4ee4\u672c\u8eab\u4e5f\u662f\u5185\u7f6e\u547d\u4ee4\u3002</p> <pre><code>$ type type\ntype is a shell builtin\n</code></pre> <p>\u5982\u679c\u8981\u67e5\u770b\u4e00\u4e2a\u547d\u4ee4\u7684\u6240\u6709\u5b9a\u4e49\uff0c\u53ef\u4ee5\u4f7f\u7528<code>type</code>\u547d\u4ee4\u7684<code>-a</code>\u53c2\u6570\u3002</p> <pre><code>$ type -a echo\necho is shell builtin\necho is /usr/bin/echo\necho is /bin/echo\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c<code>echo</code>\u547d\u4ee4\u65e2\u662f\u5185\u7f6e\u547d\u4ee4\uff0c\u4e5f\u6709\u5bf9\u5e94\u7684\u5916\u90e8\u7a0b\u5e8f\u3002</p> <p><code>type</code>\u547d\u4ee4\u7684<code>-t</code>\u53c2\u6570\uff0c\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u547d\u4ee4\u7684\u7c7b\u578b\uff1a\u522b\u540d\uff08alias\uff09\uff0c\u5173\u952e\u8bcd\uff08keyword\uff09\uff0c\u51fd\u6570\uff08function\uff09\uff0c\u5185\u7f6e\u547d\u4ee4\uff08builtin\uff09\u548c\u6587\u4ef6\uff08file\uff09\u3002</p> <pre><code>$ type -t bash\nfile\n$ type -t if\nkeyword\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>bash</code>\u662f\u6587\u4ef6\uff0c<code>if</code>\u662f\u5173\u952e\u8bcd\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/02_Bash%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html#_5","title":"\u5feb\u6377\u952e","text":"<p>Bash \u63d0\u4f9b\u5f88\u591a\u5feb\u6377\u952e\uff0c\u53ef\u4ee5\u5927\u5927\u65b9\u4fbf\u64cd\u4f5c\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u6700\u5e38\u7528\u7684\u5feb\u6377\u952e\uff0c\u5b8c\u6574\u7684\u4ecb\u7ecd\u53c2\u89c1\u300a\u884c\u64cd\u4f5c\u300b\u4e00\u7ae0\u3002</p> <ul> <li><code>Ctrl + L</code>\uff1a\u6e05\u9664\u5c4f\u5e55\u5e76\u5c06\u5f53\u524d\u884c\u79fb\u5230\u9875\u9762\u9876\u90e8\u3002</li> <li><code>Ctrl + C</code>\uff1a\u4e2d\u6b62\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u547d\u4ee4\u3002</li> <li><code>Shift + PageUp</code>\uff1a\u5411\u4e0a\u6eda\u52a8\u3002</li> <li><code>Shift + PageDown</code>\uff1a\u5411\u4e0b\u6eda\u52a8\u3002</li> <li><code>Ctrl + U</code>\uff1a\u4ece\u5149\u6807\u4f4d\u7f6e\u5220\u9664\u5230\u884c\u9996\u3002</li> <li><code>Ctrl + K</code>\uff1a\u4ece\u5149\u6807\u4f4d\u7f6e\u5220\u9664\u5230\u884c\u5c3e\u3002</li> <li><code>Ctrl + W</code>\uff1a\u5220\u9664\u5149\u6807\u4f4d\u7f6e\u524d\u4e00\u4e2a\u5355\u8bcd\u3002</li> <li><code>Ctrl + D</code>\uff1a\u5173\u95ed Shell \u4f1a\u8bdd\u3002</li> <li><code>\u2191</code>\uff0c<code>\u2193</code>\uff1a\u6d4f\u89c8\u5df2\u6267\u884c\u547d\u4ee4\u7684\u5386\u53f2\u8bb0\u5f55\u3002</li> </ul> <p>\u9664\u4e86\u4e0a\u9762\u7684\u5feb\u6377\u952e\uff0cBash \u8fd8\u5177\u6709\u81ea\u52a8\u8865\u5168\u529f\u80fd\u3002\u547d\u4ee4\u8f93\u5165\u5230\u4e00\u534a\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u6309\u4e0b Tab \u952e\uff0cBash \u4f1a\u81ea\u52a8\u5b8c\u6210\u5269\u4e0b\u7684\u90e8\u5206\u3002\u6bd4\u5982\uff0c\u8f93\u5165<code>tou</code>\uff0c\u7136\u540e\u6309\u4e00\u4e0b Tab \u952e\uff0cBash \u4f1a\u81ea\u52a8\u8865\u4e0a<code>ch</code>\u3002</p> <p>\u9664\u4e86\u547d\u4ee4\u7684\u81ea\u52a8\u8865\u5168\uff0cBash \u8fd8\u652f\u6301\u8def\u5f84\u7684\u81ea\u52a8\u8865\u5168\u3002\u6709\u65f6\uff0c\u9700\u8981\u8f93\u5165\u5f88\u957f\u7684\u8def\u5f84\uff0c\u8fd9\u65f6\u53ea\u9700\u8981\u8f93\u5165\u524d\u9762\u7684\u90e8\u5206\uff0c\u7136\u540e\u6309\u4e0b Tab \u952e\uff0c\u5c31\u4f1a\u81ea\u52a8\u8865\u5168\u540e\u9762\u7684\u90e8\u5206\u3002\u5982\u679c\u6709\u591a\u4e2a\u53ef\u80fd\u7684\u9009\u62e9\uff0c\u6309\u4e24\u6b21 Tab \u952e\uff0cBash \u4f1a\u663e\u793a\u6240\u6709\u9009\u9879\uff0c\u8ba9\u4f60\u9009\u62e9\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html","title":"Bash\u7684\u6a21\u5f0f\u6269\u5c55","text":"<p>\u672c\u6587\u8f6c\u8f7d\u81ea Bash \u7684\u6a21\u5f0f\u6269\u5c55 by \u7f51\u9053</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_1","title":"\u7b80\u4ecb","text":"<p>Shell \u63a5\u6536\u5230\u7528\u6237\u8f93\u5165\u7684\u547d\u4ee4\u4ee5\u540e\uff0c\u4f1a\u6839\u636e\u7a7a\u683c\u5c06\u7528\u6237\u7684\u8f93\u5165\uff0c\u62c6\u5206\u6210\u4e00\u4e2a\u4e2a\u8bcd\u5143\uff08token\uff09\u3002\u7136\u540e\uff0cShell \u4f1a\u6269\u5c55\u8bcd\u5143\u91cc\u9762\u7684\u7279\u6b8a\u5b57\u7b26\uff0c\u6269\u5c55\u5b8c\u6210\u540e\u624d\u4f1a\u8c03\u7528\u76f8\u5e94\u7684\u547d\u4ee4\u3002</p> <p>\u8fd9\u79cd\u7279\u6b8a\u5b57\u7b26\u7684\u6269\u5c55\uff0c\u79f0\u4e3a\u6a21\u5f0f\u6269\u5c55\uff08globbing\uff09\u3002\u5176\u4e2d\u6709\u4e9b\u7528\u5230\u901a\u914d\u7b26\uff0c\u53c8\u79f0\u4e3a\u901a\u914d\u7b26\u6269\u5c55\uff08wildcard expansion\uff09\u3002Bash \u4e00\u5171\u63d0\u4f9b\u516b\u79cd\u6269\u5c55\u3002</p> <ul> <li>\u6ce2\u6d6a\u7ebf\u6269\u5c55</li> <li><code>?</code> \u5b57\u7b26\u6269\u5c55</li> <li><code>*</code> \u5b57\u7b26\u6269\u5c55</li> <li>\u65b9\u62ec\u53f7\u6269\u5c55</li> <li>\u5927\u62ec\u53f7\u6269\u5c55</li> <li>\u53d8\u91cf\u6269\u5c55</li> <li>\u5b50\u547d\u4ee4\u6269\u5c55</li> <li>\u7b97\u672f\u6269\u5c55</li> </ul> <p>\u672c\u7ae0\u4ecb\u7ecd\u8fd9\u516b\u79cd\u6269\u5c55\u3002</p> <p>Bash \u662f\u5148\u8fdb\u884c\u6269\u5c55\uff0c\u518d\u6267\u884c\u547d\u4ee4\u3002\u56e0\u6b64\uff0c\u6269\u5c55\u7684\u7ed3\u679c\u662f\u7531 Bash \u8d1f\u8d23\u7684\uff0c\u4e0e\u6240\u8981\u6267\u884c\u7684\u547d\u4ee4\u65e0\u5173\u3002\u547d\u4ee4\u672c\u8eab\u5e76\u4e0d\u5b58\u5728\u53c2\u6570\u6269\u5c55\uff0c\u6536\u5230\u4ec0\u4e48\u53c2\u6570\u5c31\u539f\u6837\u6267\u884c\u3002\u8fd9\u4e00\u70b9\u52a1\u5fc5\u9700\u8981\u8bb0\u4f4f\u3002</p> <p>\u6a21\u5757\u6269\u5c55\u7684\u82f1\u6587\u5355\u8bcd\u662f<code>globbing</code>\uff0c\u8fd9\u4e2a\u8bcd\u6765\u81ea\u4e8e\u65e9\u671f\u7684 Unix \u7cfb\u7edf\u6709\u4e00\u4e2a<code>/etc/glob</code>\u6587\u4ef6\uff0c\u4fdd\u5b58\u6269\u5c55\u7684\u6a21\u677f\u3002\u540e\u6765 Bash \u5185\u7f6e\u4e86\u8fd9\u4e2a\u529f\u80fd\uff0c\u4f46\u662f\u8fd9\u4e2a\u540d\u5b57\u5c31\u4fdd\u7559\u4e86\u4e0b\u6765\u3002</p> <p>\u6a21\u5f0f\u6269\u5c55\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5173\u7cfb\u662f\uff0c\u6a21\u5f0f\u6269\u5c55\u65e9\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f\u51fa\u73b0\uff0c\u53ef\u4ee5\u770b\u4f5c\u662f\u539f\u59cb\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002\u5b83\u7684\u529f\u80fd\u6ca1\u6709\u6b63\u5219\u90a3\u4e48\u5f3a\u5927\u7075\u6d3b\uff0c\u4f46\u662f\u4f18\u70b9\u662f\u7b80\u5355\u548c\u65b9\u4fbf\u3002</p> <p>Bash \u5141\u8bb8\u7528\u6237\u5173\u95ed\u6269\u5c55\u3002</p> <pre><code>$ set -o noglob\n# \u6216\u8005\n$ set -f\n</code></pre> <p>\u4e0b\u9762\u7684\u547d\u4ee4\u53ef\u4ee5\u91cd\u65b0\u6253\u5f00\u6269\u5c55\u3002</p> <pre><code>$ set +o noglob\n# \u6216\u8005\n$ set +f\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_2","title":"\u6ce2\u6d6a\u7ebf\u6269\u5c55","text":"<p>\u6ce2\u6d6a\u7ebf<code>~</code>\u4f1a\u81ea\u52a8\u6269\u5c55\u6210\u5f53\u524d\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u3002</p> <pre><code>$ echo ~\n/home/me\n</code></pre> <p><code>~/dir</code>\u8868\u793a\u6269\u5c55\u6210\u4e3b\u76ee\u5f55\u7684\u67d0\u4e2a\u5b50\u76ee\u5f55\uff0c<code>dir</code>\u662f\u4e3b\u76ee\u5f55\u91cc\u9762\u7684\u4e00\u4e2a\u5b50\u76ee\u5f55\u540d\u3002</p> <pre><code># \u8fdb\u5165 /home/me/foo \u76ee\u5f55\n$ cd ~/foo\n</code></pre> <p><code>~user</code>\u8868\u793a\u6269\u5c55\u6210\u7528\u6237<code>user</code>\u7684\u4e3b\u76ee\u5f55\u3002</p> <pre><code>$ echo ~foo\n/home/foo\n\n$ echo ~root\n/root\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0cBash \u4f1a\u6839\u636e\u6ce2\u6d6a\u53f7\u540e\u9762\u7684\u7528\u6237\u540d\uff0c\u8fd4\u56de\u8be5\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u3002</p> <p>\u5982\u679c<code>~user</code>\u7684<code>user</code>\u662f\u4e0d\u5b58\u5728\u7684\u7528\u6237\u540d\uff0c\u5219\u6ce2\u6d6a\u53f7\u6269\u5c55\u4e0d\u8d77\u4f5c\u7528\u3002</p> <pre><code>$ echo ~nonExistedUser\n~nonExistedUser\n</code></pre> <p><code>~+</code>\u4f1a\u6269\u5c55\u6210\u5f53\u524d\u6240\u5728\u7684\u76ee\u5f55\uff0c\u7b49\u540c\u4e8e<code>pwd</code>\u547d\u4ee4\u3002</p> <pre><code>$ cd ~/foo\n$ echo ~+\n/home/me/foo\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_3","title":"<code>?</code> \u5b57\u7b26\u6269\u5c55","text":"<p><code>?</code>\u5b57\u7b26\u4ee3\u8868\u6587\u4ef6\u8def\u5f84\u91cc\u9762\u7684\u4efb\u610f\u5355\u4e2a\u5b57\u7b26\uff0c\u4e0d\u5305\u62ec\u7a7a\u5b57\u7b26\u3002\u6bd4\u5982\uff0c<code>Data???</code>\u5339\u914d\u6240\u6709<code>Data</code>\u540e\u9762\u8ddf\u7740\u4e09\u4e2a\u5b57\u7b26\u7684\u6587\u4ef6\u540d\u3002</p> <pre><code># \u5b58\u5728\u6587\u4ef6 a.txt \u548c b.txt\n$ ls ?.txt\na.txt b.txt\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c<code>?</code>\u8868\u793a\u5355\u4e2a\u5b57\u7b26\uff0c\u6240\u4ee5\u4f1a\u540c\u65f6\u5339\u914d<code>a.txt</code>\u548c<code>b.txt</code>\u3002</p> <p>\u5982\u679c\u5339\u914d\u591a\u4e2a\u5b57\u7b26\uff0c\u5c31\u9700\u8981\u591a\u4e2a<code>?</code>\u8fde\u7528\u3002</p> <pre><code># \u5b58\u5728\u6587\u4ef6 a.txt\u3001b.txt \u548c ab.txt\n$ ls ??.txt\nab.txt\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c<code>??</code>\u5339\u914d\u4e86\u4e24\u4e2a\u5b57\u7b26\u3002</p> <p><code>?</code> \u5b57\u7b26\u6269\u5c55\u5c5e\u4e8e\u6587\u4ef6\u540d\u6269\u5c55\uff0c\u53ea\u6709\u6587\u4ef6\u786e\u5b9e\u5b58\u5728\u7684\u524d\u63d0\u4e0b\uff0c\u624d\u4f1a\u53d1\u751f\u6269\u5c55\u3002\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u6269\u5c55\u5c31\u4e0d\u4f1a\u53d1\u751f\u3002</p> <pre><code># \u5f53\u524d\u76ee\u5f55\u6709 a.txt \u6587\u4ef6\n$ echo ?.txt\na.txt\n\n# \u5f53\u524d\u76ee\u5f55\u4e3a\u7a7a\u76ee\u5f55\n$ echo ?.txt\n?.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c<code>?.txt</code>\u53ef\u4ee5\u6269\u5c55\u6210\u6587\u4ef6\u540d\uff0c<code>echo</code>\u547d\u4ee4\u4f1a\u8f93\u51fa\u6269\u5c55\u540e\u7684\u7ed3\u679c\uff1b\u5982\u679c\u4e0d\u80fd\u6269\u5c55\u6210\u6587\u4ef6\u540d\uff0c<code>echo</code>\u5c31\u4f1a\u539f\u6837\u8f93\u51fa<code>?.txt</code>\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_4","title":"<code>*</code> \u5b57\u7b26\u6269\u5c55","text":"<p><code>*</code>\u5b57\u7b26\u4ee3\u8868\u6587\u4ef6\u8def\u5f84\u91cc\u9762\u7684\u4efb\u610f\u6570\u91cf\u7684\u4efb\u610f\u5b57\u7b26\uff0c\u5305\u62ec\u96f6\u4e2a\u5b57\u7b26\u3002</p> <pre><code># \u5b58\u5728\u6587\u4ef6 a.txt\u3001b.txt \u548c ab.txt\n$ ls *.txt\na.txt b.txt ab.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>*.txt</code>\u4ee3\u8868\u540e\u7f00\u540d\u4e3a<code>.txt</code>\u7684\u6240\u6709\u6587\u4ef6\u3002</p> <p>\u5982\u679c\u60f3\u8f93\u51fa\u5f53\u524d\u76ee\u5f55\u7684\u6240\u6709\u6587\u4ef6\uff0c\u76f4\u63a5\u7528<code>*</code>\u5373\u53ef\u3002</p> <pre><code>$ ls *\n</code></pre> <p><code>*</code>\u53ef\u4ee5\u5339\u914d\u7a7a\u5b57\u7b26\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <pre><code># \u5b58\u5728\u6587\u4ef6 a.txt\u3001b.txt \u548c ab.txt\n$ ls a*.txt\na.txt ab.txt\n\n$ ls *b*\nb.txt ab.txt\n</code></pre> <p>\u6ce8\u610f\uff0c<code>*</code>\u4e0d\u4f1a\u5339\u914d\u9690\u85cf\u6587\u4ef6\uff08\u4ee5<code>.</code>\u5f00\u5934\u7684\u6587\u4ef6\uff09\uff0c\u5373<code>ls *</code>\u4e0d\u4f1a\u8f93\u51fa\u9690\u85cf\u6587\u4ef6\u3002</p> <p>\u5982\u679c\u8981\u5339\u914d\u9690\u85cf\u6587\u4ef6\uff0c\u9700\u8981\u5199\u6210<code>.*</code>\u3002</p> <pre><code># \u663e\u793a\u6240\u6709\u9690\u85cf\u6587\u4ef6\n$ echo .*\n</code></pre> <p>\u5982\u679c\u8981\u5339\u914d\u9690\u85cf\u6587\u4ef6\uff0c\u540c\u65f6\u8981\u6392\u9664<code>.</code>\u548c<code>..</code>\u8fd9\u4e24\u4e2a\u7279\u6b8a\u7684\u9690\u85cf\u6587\u4ef6\uff0c\u53ef\u4ee5\u4e0e\u65b9\u62ec\u53f7\u6269\u5c55\u7ed3\u5408\u4f7f\u7528\uff0c\u5199\u6210<code>.[!.]*</code>\u3002</p> <pre><code>$ echo .[!.]*\n</code></pre> <p>\u6ce8\u610f\uff0c<code>*</code>\u5b57\u7b26\u6269\u5c55\u5c5e\u4e8e\u6587\u4ef6\u540d\u6269\u5c55\uff0c\u53ea\u6709\u6587\u4ef6\u786e\u5b9e\u5b58\u5728\u7684\u524d\u63d0\u4e0b\u624d\u4f1a\u6269\u5c55\u3002\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u5c31\u4f1a\u539f\u6837\u8f93\u51fa\u3002</p> <pre><code># \u5f53\u524d\u76ee\u5f55\u4e0d\u5b58\u5728 c \u5f00\u5934\u7684\u6587\u4ef6\n$ echo c*.txt\nc*.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u5f53\u524d\u76ee\u5f55\u91cc\u9762\u6ca1\u6709<code>c</code>\u5f00\u5934\u7684\u6587\u4ef6\uff0c\u5bfc\u81f4<code>c*.txt</code>\u4f1a\u539f\u6837\u8f93\u51fa\u3002</p> <p><code>*</code>\u53ea\u5339\u914d\u5f53\u524d\u76ee\u5f55\uff0c\u4e0d\u4f1a\u5339\u914d\u5b50\u76ee\u5f55\u3002</p> <pre><code># \u5b50\u76ee\u5f55\u6709\u4e00\u4e2a a.txt\n# \u65e0\u6548\u7684\u5199\u6cd5\n$ ls *.txt\n\n# \u6709\u6548\u7684\u5199\u6cd5\n$ ls */*.txt\n</code></pre> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u6587\u672c\u6587\u4ef6\u5728\u5b50\u76ee\u5f55\uff0c<code>*.txt</code>\u4e0d\u4f1a\u4ea7\u751f\u5339\u914d\uff0c\u5fc5\u987b\u5199\u6210<code>*/*.txt</code>\u3002\u6709\u51e0\u5c42\u5b50\u76ee\u5f55\uff0c\u5c31\u5fc5\u987b\u5199\u51e0\u5c42\u661f\u53f7\u3002</p> <p>Bash 4.0 \u5f15\u5165\u4e86\u4e00\u4e2a\u53c2\u6570<code>globstar</code>\uff0c\u5f53\u8be5\u53c2\u6570\u6253\u5f00\u65f6\uff0c\u5141\u8bb8<code>**</code>\u5339\u914d\u96f6\u4e2a\u6216\u591a\u4e2a\u5b50\u76ee\u5f55\u3002\u56e0\u6b64\uff0c<code>**/*.txt</code>\u53ef\u4ee5\u5339\u914d\u9876\u5c42\u7684\u6587\u672c\u6587\u4ef6\u548c\u4efb\u610f\u6df1\u5ea6\u5b50\u76ee\u5f55\u7684\u6587\u672c\u6587\u4ef6\u3002\u8be6\u7ec6\u4ecb\u7ecd\u8bf7\u770b\u540e\u9762<code>shopt</code>\u547d\u4ee4\u7684\u4ecb\u7ecd\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_5","title":"\u65b9\u62ec\u53f7\u6269\u5c55","text":"<p>\u65b9\u62ec\u53f7\u6269\u5c55\u7684\u5f62\u5f0f\u662f<code>[...]</code>\uff0c\u53ea\u6709\u6587\u4ef6\u786e\u5b9e\u5b58\u5728\u7684\u524d\u63d0\u4e0b\u624d\u4f1a\u6269\u5c55\u3002\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u5c31\u4f1a\u539f\u6837\u8f93\u51fa\u3002\u62ec\u53f7\u4e4b\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\u3002\u6bd4\u5982\uff0c<code>[aeiou]</code>\u53ef\u4ee5\u5339\u914d\u4e94\u4e2a\u5143\u97f3\u5b57\u6bcd\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u3002</p> <pre><code># \u5b58\u5728\u6587\u4ef6 a.txt \u548c b.txt\n$ ls [ab].txt\na.txt b.txt\n\n# \u53ea\u5b58\u5728\u6587\u4ef6 a.txt\n$ ls [ab].txt\na.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>[ab]</code>\u53ef\u4ee5\u5339\u914d<code>a</code>\u6216<code>b</code>\uff0c\u524d\u63d0\u662f\u786e\u5b9e\u5b58\u5728\u76f8\u5e94\u7684\u6587\u4ef6\u3002</p> <p>\u65b9\u62ec\u53f7\u6269\u5c55\u5c5e\u4e8e\u6587\u4ef6\u540d\u5339\u914d\uff0c\u5373\u6269\u5c55\u540e\u7684\u7ed3\u679c\u5fc5\u987b\u7b26\u5408\u73b0\u6709\u7684\u6587\u4ef6\u8def\u5f84\u3002\u5982\u679c\u4e0d\u5b58\u5728\u5339\u914d\uff0c\u5c31\u4f1a\u4fdd\u6301\u539f\u6837\uff0c\u4e0d\u8fdb\u884c\u6269\u5c55\u3002</p> <pre><code># \u4e0d\u5b58\u5728\u6587\u4ef6 a.txt \u548c b.txt\n$ ls [ab].txt\nls: \u65e0\u6cd5\u8bbf\u95ee'[ab].txt': \u6ca1\u6709\u90a3\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e\u6269\u5c55\u540e\u7684\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c<code>[ab].txt</code>\u5c31\u539f\u6837\u8f93\u51fa\u4e86\uff0c\u5bfc\u81f4<code>ls</code>\u547d\u540d\u62a5\u9519\u3002</p> <p>\u65b9\u62ec\u53f7\u6269\u5c55\u8fd8\u6709\u4e24\u79cd\u53d8\u4f53\uff1a<code>[^...]</code>\u548c<code>[!...]</code>\u3002\u5b83\u4eec\u8868\u793a\u5339\u914d\u4e0d\u5728\u65b9\u62ec\u53f7\u91cc\u9762\u7684\u5b57\u7b26\uff0c\u8fd9\u4e24\u79cd\u5199\u6cd5\u662f\u7b49\u4ef7\u7684\u3002\u6bd4\u5982\uff0c<code>[^abc]</code>\u6216<code>[!abc]</code>\u8868\u793a\u5339\u914d\u9664\u4e86<code>a</code>\u3001<code>b</code>\u3001<code>c</code>\u4ee5\u5916\u7684\u5b57\u7b26\u3002</p> <pre><code># \u5b58\u5728 aaa\u3001bbb\u3001aba \u4e09\u4e2a\u6587\u4ef6\n$ ls ?[!a]?\naba bbb\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c<code>[!a]</code>\u8868\u793a\u6587\u4ef6\u540d\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e0d\u662f<code>a</code>\u7684\u6587\u4ef6\u540d\uff0c\u6240\u4ee5\u8fd4\u56de\u4e86<code>aba</code>\u548c<code>bbb</code>\u4e24\u4e2a\u6587\u4ef6\u3002</p> <p>\u6ce8\u610f\uff0c\u5982\u679c\u9700\u8981\u5339\u914d<code>[</code>\u5b57\u7b26\uff0c\u53ef\u4ee5\u653e\u5728\u65b9\u62ec\u53f7\u5185\uff0c\u6bd4\u5982<code>[[aeiou]</code>\u3002\u5982\u679c\u9700\u8981\u5339\u914d\u8fde\u5b57\u53f7<code>-</code>\uff0c\u53ea\u80fd\u653e\u5728\u65b9\u62ec\u53f7\u5185\u90e8\u7684\u5f00\u5934\u6216\u7ed3\u5c3e\uff0c\u6bd4\u5982<code>[-aeiou]</code>\u6216<code>[aeiou-]</code>\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#start-end","title":"[start-end] \u6269\u5c55","text":"<p>\u65b9\u62ec\u53f7\u6269\u5c55\u6709\u4e00\u4e2a\u7b80\u5199\u5f62\u5f0f<code>[start-end]</code>\uff0c\u8868\u793a\u5339\u914d\u4e00\u4e2a\u8fde\u7eed\u7684\u8303\u56f4\u3002\u6bd4\u5982\uff0c<code>[a-c]</code>\u7b49\u540c\u4e8e<code>[abc]</code>\uff0c<code>[0-9]</code>\u5339\u914d<code>[0123456789]</code>\u3002</p> <pre><code># \u5b58\u5728\u6587\u4ef6 a.txt\u3001b.txt \u548c c.txt\n$ ls [a-c].txt\na.txt\nb.txt\nc.txt\n\n# \u5b58\u5728\u6587\u4ef6 report1.txt\u3001report2.txt \u548c report3.txt\n$ ls report[0-9].txt\nreport1.txt\nreport2.txt\nreport3.txt\n...\n</code></pre> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u7528\u7b80\u5199\u7684\u4f8b\u5b50\u3002</p> <ul> <li><code>[a-z]</code>\uff1a\u6240\u6709\u5c0f\u5199\u5b57\u6bcd\u3002</li> <li><code>[a-zA-Z]</code>\uff1a\u6240\u6709\u5c0f\u5199\u5b57\u6bcd\u4e0e\u5927\u5199\u5b57\u6bcd\u3002</li> <li><code>[a-zA-Z0-9]</code>\uff1a\u6240\u6709\u5c0f\u5199\u5b57\u6bcd\u3001\u5927\u5199\u5b57\u6bcd\u4e0e\u6570\u5b57\u3002</li> <li><code>[abc]*</code>\uff1a\u6240\u6709\u4ee5<code>a</code>\u3001<code>b</code>\u3001<code>c</code>\u5b57\u7b26\u4e4b\u4e00\u5f00\u5934\u7684\u6587\u4ef6\u540d\u3002</li> <li><code>program.[co]</code>\uff1a\u6587\u4ef6<code>program.c</code>\u4e0e\u6587\u4ef6<code>program.o</code>\u3002</li> <li><code>BACKUP.[0-9][0-9][0-9]</code>\uff1a\u6240\u6709\u4ee5<code>BACKUP.</code>\u5f00\u5934\uff0c\u540e\u9762\u662f\u4e09\u4e2a\u6570\u5b57\u7684\u6587\u4ef6\u540d\u3002</li> </ul> <p>\u8fd9\u79cd\u7b80\u5199\u5f62\u5f0f\u6709\u4e00\u4e2a\u5426\u5b9a\u5f62\u5f0f<code>[!start-end]</code>\uff0c\u8868\u793a\u5339\u914d\u4e0d\u5c5e\u4e8e\u8fd9\u4e2a\u8303\u56f4\u7684\u5b57\u7b26\u3002\u6bd4\u5982\uff0c<code>[!a-zA-Z]</code>\u8868\u793a\u5339\u914d\u975e\u82f1\u6587\u5b57\u6bcd\u7684\u5b57\u7b26\u3002</p> <pre><code>$ ls report[!1\u20133].txt\nreport4.txt report5.txt\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>[!1-3]</code>\u8868\u793a\u6392\u96641\u30012\u548c3\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_6","title":"\u5927\u62ec\u53f7\u6269\u5c55","text":"<p>\u5927\u62ec\u53f7\u6269\u5c55<code>{...}</code>\u8868\u793a\u5206\u522b\u6269\u5c55\u6210\u5927\u62ec\u53f7\u91cc\u9762\u7684\u6240\u6709\u503c\uff0c\u5404\u4e2a\u503c\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u5206\u9694\u3002\u6bd4\u5982\uff0c<code>{1,2,3}</code>\u6269\u5c55\u6210<code>1 2 3</code>\u3002</p> <pre><code>$ echo {1,2,3}\n1 2 3\n\n$ echo d{a,e,i,u,o}g\ndag deg dig dug dog\n\n$ echo Front-{A,B,C}-Back\nFront-A-Back Front-B-Back Front-C-Back\n</code></pre> <p>\u6ce8\u610f\uff0c\u5927\u62ec\u53f7\u6269\u5c55\u4e0d\u662f\u6587\u4ef6\u540d\u6269\u5c55\u3002\u5b83\u4f1a\u6269\u5c55\u6210\u6240\u6709\u7ed9\u5b9a\u7684\u503c\uff0c\u800c\u4e0d\u7ba1\u662f\u5426\u6709\u5bf9\u5e94\u7684\u6587\u4ef6\u5b58\u5728\u3002</p> <pre><code>$ ls {a,b,c}.txt\nls: \u65e0\u6cd5\u8bbf\u95ee'a.txt': \u6ca1\u6709\u90a3\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\nls: \u65e0\u6cd5\u8bbf\u95ee'b.txt': \u6ca1\u6709\u90a3\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\nls: \u65e0\u6cd5\u8bbf\u95ee'c.txt': \u6ca1\u6709\u90a3\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u5373\u4f7f\u4e0d\u5b58\u5728\u5bf9\u5e94\u7684\u6587\u4ef6\uff0c<code>{a,b,c}</code>\u4f9d\u7136\u6269\u5c55\u6210\u4e09\u4e2a\u6587\u4ef6\u540d\uff0c\u5bfc\u81f4<code>ls</code>\u547d\u4ee4\u62a5\u4e86\u4e09\u4e2a\u9519\u8bef\u3002</p> <p>\u53e6\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\u662f\uff0c\u5927\u62ec\u53f7\u5185\u90e8\u7684\u9017\u53f7\u524d\u540e\u4e0d\u80fd\u6709\u7a7a\u683c\u3002\u5426\u5219\uff0c\u5927\u62ec\u53f7\u6269\u5c55\u4f1a\u5931\u6548\u3002</p> <pre><code>$ echo {1 , 2}\n{1 , 2}\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u9017\u53f7\u524d\u540e\u6709\u7a7a\u683c\uff0cBash \u5c31\u4f1a\u8ba4\u4e3a\u8fd9\u4e0d\u662f\u5927\u62ec\u53f7\u6269\u5c55\uff0c\u800c\u662f\u4e09\u4e2a\u72ec\u7acb\u7684\u53c2\u6570\u3002</p> <p>\u9017\u53f7\u524d\u9762\u53ef\u4ee5\u6ca1\u6709\u503c\uff0c\u8868\u793a\u6269\u5c55\u7684\u7b2c\u4e00\u9879\u4e3a\u7a7a\u3002</p> <pre><code>$ cp a.log{,.bak}\n\n# \u7b49\u540c\u4e8e\n# cp a.log a.log.bak\n</code></pre> <p>\u5927\u62ec\u53f7\u53ef\u4ee5\u5d4c\u5957\u3002</p> <pre><code>$ echo {j{p,pe}g,png}\njpg jpeg png\n\n$ echo a{A{1,2},B{3,4}}b\naA1b aA2b aB3b aB4b\n</code></pre> <p>\u5927\u62ec\u53f7\u4e5f\u53ef\u4ee5\u4e0e\u5176\u4ed6\u6a21\u5f0f\u8054\u7528\uff0c\u5e76\u4e14\u603b\u662f\u5148\u4e8e\u5176\u4ed6\u6a21\u5f0f\u8fdb\u884c\u6269\u5c55\u3002</p> <pre><code>$ echo /bin/{cat,b*}\n/bin/cat /bin/b2sum /bin/base32 /bin/base64 ... ...\n\n# \u57fa\u672c\u7b49\u540c\u4e8e\n$ echo /bin/cat;echo /bin/b*\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u4f1a\u5148\u8fdb\u884c\u5927\u62ec\u53f7\u6269\u5c55\uff0c\u7136\u540e\u8fdb\u884c<code>*</code>\u6269\u5c55\uff0c\u7b49\u540c\u4e8e\u6267\u884c\u4e24\u6761<code>echo</code>\u547d\u4ee4\u3002</p> <p>\u5927\u62ec\u53f7\u53ef\u4ee5\u7528\u4e8e\u591a\u5b57\u7b26\u7684\u6a21\u5f0f\uff0c\u65b9\u62ec\u53f7\u4e0d\u884c\uff08\u53ea\u80fd\u5339\u914d\u5355\u5b57\u7b26\uff09\u3002</p> <pre><code>$ echo {cat,dog}\ncat dog\n</code></pre> <p>\u7531\u4e8e\u5927\u62ec\u53f7\u6269\u5c55<code>{...}</code>\u4e0d\u662f\u6587\u4ef6\u540d\u6269\u5c55\uff0c\u6240\u4ee5\u5b83\u603b\u662f\u4f1a\u6269\u5c55\u7684\u3002\u8fd9\u4e0e\u65b9\u62ec\u53f7\u6269\u5c55<code>[...]</code>\u5b8c\u5168\u4e0d\u540c\uff0c\u5982\u679c\u5339\u914d\u7684\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u65b9\u62ec\u53f7\u5c31\u4e0d\u4f1a\u6269\u5c55\u3002\u8fd9\u4e00\u70b9\u8981\u6ce8\u610f\u533a\u5206\u3002</p> <pre><code># \u4e0d\u5b58\u5728 a.txt \u548c b.txt\n$ echo [ab].txt\n[ab].txt\n\n$ echo {a,b}.txt\na.txt b.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u4e0d\u5b58\u5728<code>a.txt</code>\u548c<code>b.txt</code>\uff0c\u90a3\u4e48<code>[ab].txt</code>\u5c31\u4f1a\u53d8\u6210\u4e00\u4e2a\u666e\u901a\u7684\u6587\u4ef6\u540d\uff0c\u800c<code>{a,b}.txt</code>\u53ef\u4ee5\u7167\u6837\u6269\u5c55\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#startend","title":"{start..end} \u6269\u5c55","text":"<p>\u5927\u62ec\u53f7\u6269\u5c55\u6709\u4e00\u4e2a\u7b80\u5199\u5f62\u5f0f<code>{start..end}</code>\uff0c\u8868\u793a\u6269\u5c55\u6210\u4e00\u4e2a\u8fde\u7eed\u5e8f\u5217\u3002\u6bd4\u5982\uff0c<code>{a..z}</code>\u53ef\u4ee5\u6269\u5c55\u621026\u4e2a\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd\u3002</p> <pre><code>$ echo {a..c}\na b c\n\n$ echo d{a..d}g\ndag dbg dcg ddg\n\n$ echo {1..4}\n1 2 3 4\n\n$ echo Number_{1..5}\nNumber_1 Number_2 Number_3 Number_4 Number_5\n</code></pre> <p>\u8fd9\u79cd\u7b80\u5199\u5f62\u5f0f\u652f\u6301\u9006\u5e8f\u3002</p> <pre><code>$ echo {c..a}\nc b a\n\n$ echo {5..1}\n5 4 3 2 1\n</code></pre> <p>\u6ce8\u610f\uff0c\u5982\u679c\u9047\u5230\u65e0\u6cd5\u7406\u89e3\u7684\u7b80\u5199\uff0c\u5927\u62ec\u53f7\u6a21\u5f0f\u5c31\u4f1a\u539f\u6837\u8f93\u51fa\uff0c\u4e0d\u4f1a\u6269\u5c55\u3002</p> <pre><code>$ echo {a1..3c}\n{a1..3c}\n</code></pre> <p>\u8fd9\u79cd\u7b80\u5199\u5f62\u5f0f\u53ef\u4ee5\u5d4c\u5957\u4f7f\u7528\uff0c\u5f62\u6210\u590d\u6742\u7684\u6269\u5c55\u3002</p> <pre><code>$ echo .{mp{3..4},m4{a,b,p,v}}\n.mp3 .mp4 .m4a .m4b .m4p .m4v\n</code></pre> <p>\u5927\u62ec\u53f7\u6269\u5c55\u7684\u5e38\u89c1\u7528\u9014\u4e3a\u65b0\u5efa\u4e00\u7cfb\u5217\u76ee\u5f55\u3002</p> <pre><code>$ mkdir {2007..2009}-{01..12}\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4f1a\u65b0\u5efa36\u4e2a\u5b50\u76ee\u5f55\uff0c\u6bcf\u4e2a\u5b50\u76ee\u5f55\u7684\u540d\u5b57\u90fd\u662f\u201d\u5e74\u4efd-\u6708\u4efd\u201c\u3002</p> <p>\u8fd9\u4e2a\u5199\u6cd5\u7684\u53e6\u4e00\u4e2a\u5e38\u89c1\u7528\u9014\uff0c\u662f\u76f4\u63a5\u7528\u4e8e<code>for</code>\u5faa\u73af\u3002</p> <pre><code>for i in {1..4}\ndo\n  echo $i\ndone\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4f1a\u5faa\u73af4\u6b21\u3002</p> <p>\u5982\u679c\u6574\u6570\u524d\u9762\u6709\u524d\u5bfc<code>0</code>\uff0c\u6269\u5c55\u8f93\u51fa\u7684\u6bcf\u4e00\u9879\u90fd\u6709\u524d\u5bfc<code>0</code>\u3002</p> <pre><code>$ echo {01..5}\n01 02 03 04 05\n\n$ echo {001..5}\n001 002 003 004 005\n</code></pre> <p>\u8fd9\u79cd\u7b80\u5199\u5f62\u5f0f\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u53cc\u70b9\u53f7\uff08<code>start..end..step</code>\uff09\uff0c\u7528\u6765\u6307\u5b9a\u6269\u5c55\u7684\u6b65\u957f\u3002</p> <pre><code>$ echo {0..8..2}\n0 2 4 6 8\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u5c06<code>0</code>\u6269\u5c55\u5230<code>8</code>\uff0c\u6bcf\u6b21\u9012\u589e\u7684\u957f\u5ea6\u4e3a<code>2</code>\uff0c\u6240\u4ee5\u4e00\u5171\u8f93\u51fa5\u4e2a\u6570\u5b57\u3002</p> <p>\u591a\u4e2a\u7b80\u5199\u5f62\u5f0f\u8fde\u7528\uff0c\u4f1a\u6709\u5faa\u73af\u5904\u7406\u7684\u6548\u679c\u3002</p> <pre><code>$ echo {a..c}{1..3}\na1 a2 a3 b1 b2 b3 c1 c2 c3\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_7","title":"\u53d8\u91cf\u6269\u5c55","text":"<p>Bash \u5c06\u7f8e\u5143\u7b26\u53f7<code>$</code>\u5f00\u5934\u7684\u8bcd\u5143\u89c6\u4e3a\u53d8\u91cf\uff0c\u5c06\u5176\u6269\u5c55\u6210\u53d8\u91cf\u503c\uff0c\u8be6\u89c1\u300aBash \u53d8\u91cf\u300b\u4e00\u7ae0\u3002</p> <pre><code>$ echo $SHELL\n/bin/bash\n</code></pre> <p>\u53d8\u91cf\u540d\u9664\u4e86\u653e\u5728\u7f8e\u5143\u7b26\u53f7\u540e\u9762\uff0c\u4e5f\u53ef\u4ee5\u653e\u5728<code>${}</code>\u91cc\u9762\u3002</p> <pre><code>$ echo ${SHELL}\n/bin/bash\n</code></pre> <p><code>${!string*}</code>\u6216<code>${!string@}</code>\u8fd4\u56de\u6240\u6709\u5339\u914d\u7ed9\u5b9a\u5b57\u7b26\u4e32<code>string</code>\u7684\u53d8\u91cf\u540d\u3002</p> <pre><code>$ echo ${!S*}\nSECONDS SHELL SHELLOPTS SHLVL SSH_AGENT_PID SSH_AUTH_SOCK\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>${!S*}</code>\u6269\u5c55\u6210\u6240\u6709\u4ee5<code>S</code>\u5f00\u5934\u7684\u53d8\u91cf\u540d\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_8","title":"\u5b50\u547d\u4ee4\u6269\u5c55","text":"<p><code>$(...)</code>\u53ef\u4ee5\u6269\u5c55\u6210\u53e6\u4e00\u4e2a\u547d\u4ee4\u7684\u8fd0\u884c\u7ed3\u679c\uff0c\u8be5\u547d\u4ee4\u7684\u6240\u6709\u8f93\u51fa\u90fd\u4f1a\u4f5c\u4e3a\u8fd4\u56de\u503c\u3002</p> <pre><code>$ echo $(date)\nTue Jan 28 00:01:13 CST 2020\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>$(date)</code>\u8fd4\u56de<code>date</code>\u547d\u4ee4\u7684\u8fd0\u884c\u7ed3\u679c\u3002</p> <p>\u8fd8\u6709\u53e6\u4e00\u79cd\u8f83\u8001\u7684\u8bed\u6cd5\uff0c\u5b50\u547d\u4ee4\u653e\u5728\u53cd\u5f15\u53f7\u4e4b\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u6269\u5c55\u6210\u547d\u4ee4\u7684\u8fd0\u884c\u7ed3\u679c\u3002</p> <pre><code>$ echo `date`\nTue Jan 28 00:01:13 CST 2020\n</code></pre> <p><code>$(...)</code>\u53ef\u4ee5\u5d4c\u5957\uff0c\u6bd4\u5982<code>$(ls $(pwd))</code>\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_9","title":"\u7b97\u672f\u6269\u5c55","text":"<p><code>$((...))</code>\u53ef\u4ee5\u6269\u5c55\u6210\u6574\u6570\u8fd0\u7b97\u7684\u7ed3\u679c\uff0c\u8be6\u89c1\u300aBash \u7684\u7b97\u672f\u8fd0\u7b97\u300b\u4e00\u7ae0\u3002</p> <pre><code>$ echo $((2 + 2))\n4\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_10","title":"\u5b57\u7b26\u7c7b","text":"<p><code>[[:class:]]</code>\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\u7c7b\uff0c\u6269\u5c55\u6210\u67d0\u4e00\u7c7b\u7279\u5b9a\u5b57\u7b26\u4e4b\u4e2d\u7684\u4e00\u4e2a\u3002\u5e38\u7528\u7684\u5b57\u7b26\u7c7b\u5982\u4e0b\u3002</p> <ul> <li><code>[[:alnum:]]</code>\uff1a\u5339\u914d\u4efb\u610f\u82f1\u6587\u5b57\u6bcd\u4e0e\u6570\u5b57</li> <li><code>[[:alpha:]]</code>\uff1a\u5339\u914d\u4efb\u610f\u82f1\u6587\u5b57\u6bcd</li> <li><code>[[:blank:]]</code>\uff1a\u7a7a\u683c\u548c Tab \u952e\u3002</li> <li><code>[[:cntrl:]]</code>\uff1aASCII \u7801 0-31 \u7684\u4e0d\u53ef\u6253\u5370\u5b57\u7b26\u3002</li> <li><code>[[:digit:]]</code>\uff1a\u5339\u914d\u4efb\u610f\u6570\u5b57 0-9\u3002</li> <li><code>[[:graph:]]</code>\uff1aA-Z\u3001a-z\u30010-9 \u548c\u6807\u70b9\u7b26\u53f7\u3002</li> <li><code>[[:lower:]]</code>\uff1a\u5339\u914d\u4efb\u610f\u5c0f\u5199\u5b57\u6bcd a-z\u3002</li> <li><code>[[:print:]]</code>\uff1aASCII \u7801 32-127 \u7684\u53ef\u6253\u5370\u5b57\u7b26\u3002</li> <li><code>[[:punct:]]</code>\uff1a\u6807\u70b9\u7b26\u53f7\uff08\u9664\u4e86 A-Z\u3001a-z\u30010-9 \u7684\u53ef\u6253\u5370\u5b57\u7b26\uff09\u3002</li> <li><code>[[:space:]]</code>\uff1a\u7a7a\u683c\u3001Tab\u3001LF\uff0810\uff09\u3001VT\uff0811\uff09\u3001FF\uff0812\uff09\u3001CR\uff0813\uff09\u3002</li> <li><code>[[:upper:]]</code>\uff1a\u5339\u914d\u4efb\u610f\u5927\u5199\u5b57\u6bcd A-Z\u3002</li> <li><code>[[:xdigit:]]</code>\uff1a16\u8fdb\u5236\u5b57\u7b26\uff08A-F\u3001a-f\u30010-9\uff09\u3002</li> </ul> <p>\u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\u3002</p> <pre><code>$ echo [[:upper:]]*\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u8f93\u51fa\u6240\u6709\u5927\u5199\u5b57\u6bcd\u5f00\u5934\u7684\u6587\u4ef6\u540d\u3002</p> <p>\u5b57\u7b26\u7c7b\u7684\u7b2c\u4e00\u4e2a\u65b9\u62ec\u53f7\u540e\u9762\uff0c\u53ef\u4ee5\u52a0\u4e0a\u611f\u53f9\u53f7<code>!</code>\uff0c\u8868\u793a\u5426\u5b9a\u3002\u6bd4\u5982\uff0c<code>[![:digit:]]</code>\u5339\u914d\u6240\u6709\u975e\u6570\u5b57\u3002</p> <pre><code>$ echo [![:digit:]]*\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u8f93\u51fa\u6240\u6709\u4e0d\u4ee5\u6570\u5b57\u5f00\u5934\u7684\u6587\u4ef6\u540d\u3002</p> <p>\u5b57\u7b26\u7c7b\u4e5f\u5c5e\u4e8e\u6587\u4ef6\u540d\u6269\u5c55\uff0c\u5982\u679c\u6ca1\u6709\u5339\u914d\u7684\u6587\u4ef6\u540d\uff0c\u5b57\u7b26\u7c7b\u5c31\u4f1a\u539f\u6837\u8f93\u51fa\u3002</p> <pre><code># \u4e0d\u5b58\u5728\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\u7684\u6587\u4ef6\n$ echo [[:upper:]]*\n[[:upper:]]*\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e\u6ca1\u6709\u53ef\u5339\u914d\u7684\u6587\u4ef6\uff0c\u5b57\u7b26\u7c7b\u5c31\u539f\u6837\u8f93\u51fa\u4e86\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_11","title":"\u4f7f\u7528\u6ce8\u610f\u70b9","text":"<p>\u901a\u914d\u7b26\u6709\u4e00\u4e9b\u4f7f\u7528\u6ce8\u610f\u70b9\uff0c\u4e0d\u53ef\u4e0d\u77e5\u3002</p> <p>\uff081\uff09\u901a\u914d\u7b26\u662f\u5148\u89e3\u91ca\uff0c\u518d\u6267\u884c\u3002</p> <p>Bash \u63a5\u6536\u5230\u547d\u4ee4\u4ee5\u540e\uff0c\u53d1\u73b0\u91cc\u9762\u6709\u901a\u914d\u7b26\uff0c\u4f1a\u8fdb\u884c\u901a\u914d\u7b26\u6269\u5c55\uff0c\u7136\u540e\u518d\u6267\u884c\u547d\u4ee4\u3002</p> <pre><code>$ ls a*.txt\nab.txt\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u7684\u6267\u884c\u8fc7\u7a0b\u662f\uff0cBash \u5148\u5c06<code>a*.txt</code>\u6269\u5c55\u6210<code>ab.txt</code>\uff0c\u7136\u540e\u518d\u6267\u884c<code>ls ab.txt</code>\u3002</p> <p>\uff082\uff09\u6587\u4ef6\u540d\u6269\u5c55\u5728\u4e0d\u5339\u914d\u65f6\uff0c\u4f1a\u539f\u6837\u8f93\u51fa\u3002</p> <p>\u6587\u4ef6\u540d\u6269\u5c55\u5728\u6ca1\u6709\u53ef\u5339\u914d\u7684\u6587\u4ef6\u65f6\uff0c\u4f1a\u539f\u6837\u8f93\u51fa\u3002</p> <pre><code># \u4e0d\u5b58\u5728 r \u5f00\u5934\u7684\u6587\u4ef6\u540d\n$ echo r*\nr*\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u4e0d\u5b58\u5728<code>r</code>\u5f00\u5934\u7684\u6587\u4ef6\u540d\uff0c<code>r*</code>\u4f1a\u539f\u6837\u8f93\u51fa\u3002</p> <p>\u4e0b\u9762\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <pre><code>$ ls *.csv\nls: *.csv: No such file or directory\n</code></pre> <p>\u53e6\u5916\uff0c\u524d\u9762\u5df2\u7ecf\u8bf4\u8fc7\uff0c\u5927\u62ec\u53f7\u6269\u5c55<code>{...}</code>\u4e0d\u662f\u6587\u4ef6\u540d\u6269\u5c55\u3002</p> <p>\uff083\uff09\u53ea\u9002\u7528\u4e8e\u5355\u5c42\u8def\u5f84\u3002</p> <p>\u6240\u6709\u6587\u4ef6\u540d\u6269\u5c55\u53ea\u5339\u914d\u5355\u5c42\u8def\u5f84\uff0c\u4e0d\u80fd\u8de8\u76ee\u5f55\u5339\u914d\uff0c\u5373\u65e0\u6cd5\u5339\u914d\u5b50\u76ee\u5f55\u91cc\u9762\u7684\u6587\u4ef6\u3002\u6216\u8005\u8bf4\uff0c<code>?</code>\u6216<code>*</code>\u8fd9\u6837\u7684\u901a\u914d\u7b26\uff0c\u4e0d\u80fd\u5339\u914d\u8def\u5f84\u5206\u9694\u7b26\uff08<code>/</code>\uff09\u3002</p> <p>\u5982\u679c\u8981\u5339\u914d\u5b50\u76ee\u5f55\u91cc\u9762\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002</p> <pre><code>$ ls */*.txt\n</code></pre> <p>Bash 4.0 \u65b0\u589e\u4e86\u4e00\u4e2a<code>globstar</code>\u53c2\u6570\uff0c\u5141\u8bb8<code>**</code>\u5339\u914d\u96f6\u4e2a\u6216\u591a\u4e2a\u5b50\u76ee\u5f55\uff0c\u8be6\u89c1\u540e\u9762<code>shopt</code>\u547d\u4ee4\u7684\u4ecb\u7ecd\u3002</p> <p>\uff084\uff09\u6587\u4ef6\u540d\u53ef\u4ee5\u4f7f\u7528\u901a\u914d\u7b26\u3002</p> <p>Bash \u5141\u8bb8\u6587\u4ef6\u540d\u4f7f\u7528\u901a\u914d\u7b26\uff0c\u5373\u6587\u4ef6\u540d\u5305\u62ec\u7279\u6b8a\u5b57\u7b26\u3002\u8fd9\u65f6\u5f15\u7528\u6587\u4ef6\u540d\uff0c\u9700\u8981\u628a\u6587\u4ef6\u540d\u653e\u5728\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\u91cc\u9762\u3002</p> <pre><code>$ touch 'fo*'\n$ ls\nfo*\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u521b\u5efa\u4e86\u4e00\u4e2a<code>fo*</code>\u6587\u4ef6\uff0c\u8fd9\u65f6<code>*</code>\u5c31\u662f\u6587\u4ef6\u540d\u7684\u4e00\u90e8\u5206\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_12","title":"\u91cf\u8bcd\u8bed\u6cd5","text":"<p>\u91cf\u8bcd\u8bed\u6cd5\u7528\u6765\u63a7\u5236\u6a21\u5f0f\u5339\u914d\u7684\u6b21\u6570\u3002\u5b83\u53ea\u6709\u5728 Bash \u7684<code>extglob</code>\u53c2\u6570\u6253\u5f00\u7684\u60c5\u51b5\u4e0b\u624d\u80fd\u4f7f\u7528\uff0c\u4e0d\u8fc7\u4e00\u822c\u662f\u9ed8\u8ba4\u6253\u5f00\u7684\u3002\u4e0b\u9762\u7684\u547d\u4ee4\u53ef\u4ee5\u67e5\u8be2\u3002</p> <pre><code>$ shopt extglob\nextglob         on\n</code></pre> <p>\u5982\u679c<code>extglob</code>\u53c2\u6570\u662f\u5173\u95ed\u7684\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6253\u5f00\u3002</p> <pre><code>$ shopt -s extglob\n</code></pre> <p>\u91cf\u8bcd\u8bed\u6cd5\u6709\u4e0b\u9762\u51e0\u4e2a\u3002</p> <ul> <li><code>?(pattern-list)</code>\uff1a\u6a21\u5f0f\u5339\u914d\u96f6\u6b21\u6216\u4e00\u6b21\u3002</li> <li><code>*(pattern-list)</code>\uff1a\u6a21\u5f0f\u5339\u914d\u96f6\u6b21\u6216\u591a\u6b21\u3002</li> <li><code>+(pattern-list)</code>\uff1a\u6a21\u5f0f\u5339\u914d\u4e00\u6b21\u6216\u591a\u6b21\u3002</li> <li><code>@(pattern-list)</code>\uff1a\u53ea\u5339\u914d\u4e00\u6b21\u6a21\u5f0f\u3002</li> <li><code>!(pattern-list)</code>\uff1a\u5339\u914d\u7ed9\u5b9a\u6a21\u5f0f\u4ee5\u5916\u7684\u4efb\u4f55\u5185\u5bb9\u3002</li> </ul> <pre><code>$ ls abc?(.)txt\nabctxt abc.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>?(.)</code>\u5339\u914d\u96f6\u4e2a\u6216\u4e00\u4e2a\u70b9\u3002</p> <pre><code>$ ls abc?(def)\nabc abcdef\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>?(def)</code>\u5339\u914d\u96f6\u4e2a\u6216\u4e00\u4e2a<code>def</code>\u3002</p> <pre><code>$ ls abc@(.txt|.php)\nabc.php abc.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>@(.txt|.php)</code>\u5339\u914d\u6587\u4ef6\u6709\u4e14\u53ea\u6709\u4e00\u4e2a<code>.txt</code>\u6216<code>.php</code>\u540e\u7f00\u540d\u3002</p> <pre><code>$ ls abc+(.txt)\nabc.txt abc.txt.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>+(.txt)</code>\u5339\u914d\u6587\u4ef6\u6709\u4e00\u4e2a\u6216\u591a\u4e2a<code>.txt</code>\u540e\u7f00\u540d\u3002</p> <pre><code>$ ls a!(b).txt\na.txt abb.txt ac.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>!(b)</code>\u8868\u793a\u5339\u914d\u5355\u4e2a\u5b57\u6bcd<code>b</code>\u4ee5\u5916\u7684\u4efb\u610f\u5185\u5bb9\uff0c\u6240\u4ee5\u9664\u4e86<code>ab.txt</code>\u4ee5\u5916\uff0c\u5176\u4ed6\u6587\u4ef6\u540d\u90fd\u80fd\u5339\u914d\u3002</p> <p>\u91cf\u8bcd\u8bed\u6cd5\u4e5f\u5c5e\u4e8e\u6587\u4ef6\u540d\u6269\u5c55\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u53ef\u5339\u914d\u7684\u6587\u4ef6\uff0c\u5c31\u4f1a\u539f\u6837\u8f93\u51fa\u3002</p> <pre><code># \u6ca1\u6709 abc \u5f00\u5934\u7684\u6587\u4ef6\u540d\n$ ls abc?(def)\nls: \u65e0\u6cd5\u8bbf\u95ee'abc?(def)': \u6ca1\u6709\u90a3\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e\u6ca1\u6709\u53ef\u5339\u914d\u7684\u6587\u4ef6\uff0c<code>abc?(def)</code>\u5c31\u539f\u6837\u8f93\u51fa\uff0c\u5bfc\u81f4<code>ls</code>\u547d\u4ee4\u62a5\u9519\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#shopt","title":"shopt \u547d\u4ee4","text":"<p><code>shopt</code>\u547d\u4ee4\u53ef\u4ee5\u8c03\u6574 Bash \u7684\u884c\u4e3a\u3002\u5b83\u6709\u597d\u51e0\u4e2a\u53c2\u6570\u8ddf\u901a\u914d\u7b26\u6269\u5c55\u6709\u5173\u3002</p> <p><code>shopt</code>\u547d\u4ee4\u7684\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\u3002</p> <pre><code># \u6253\u5f00\u67d0\u4e2a\u53c2\u6570\n$ shopt -s [optionname]\n\n# \u5173\u95ed\u67d0\u4e2a\u53c2\u6570\n$ shopt -u [optionname]\n\n# \u67e5\u8be2\u67d0\u4e2a\u53c2\u6570\u5173\u95ed\u8fd8\u662f\u6253\u5f00\n$ shopt [optionname]\n</code></pre> <p>\uff081\uff09dotglob \u53c2\u6570</p> <p><code>dotglob</code>\u53c2\u6570\u53ef\u4ee5\u8ba9\u6269\u5c55\u7ed3\u679c\u5305\u62ec\u9690\u85cf\u6587\u4ef6\uff08\u5373\u70b9\u5f00\u5934\u7684\u6587\u4ef6\uff09\u3002</p> <p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u6269\u5c55\u7ed3\u679c\u4e0d\u5305\u62ec\u9690\u85cf\u6587\u4ef6\u3002</p> <pre><code>$ ls *\nabc.txt\n</code></pre> <p>\u6253\u5f00<code>dotglob</code>\uff0c\u5c31\u4f1a\u5305\u62ec\u9690\u85cf\u6587\u4ef6\u3002</p> <pre><code>$ shopt -s dotglob\n$ ls *\nabc.txt .config\n</code></pre> <p>\uff082\uff09nullglob \u53c2\u6570</p> <p><code>nullglob</code>\u53c2\u6570\u53ef\u4ee5\u8ba9\u901a\u914d\u7b26\u4e0d\u5339\u914d\u4efb\u4f55\u6587\u4ef6\u540d\u65f6\uff0c\u8fd4\u56de\u7a7a\u5b57\u7b26\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u901a\u914d\u7b26\u4e0d\u5339\u914d\u4efb\u4f55\u6587\u4ef6\u540d\u65f6\uff0c\u4f1a\u4fdd\u6301\u4e0d\u53d8\u3002</p> <pre><code>$ rm b*\nrm: \u65e0\u6cd5\u5220\u9664'b*': \u6ca1\u6709\u90a3\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e\u5f53\u524d\u76ee\u5f55\u4e0d\u5305\u62ec<code>b</code>\u5f00\u5934\u7684\u6587\u4ef6\u540d\uff0c\u5bfc\u81f4<code>b*</code>\u4e0d\u4f1a\u53d1\u751f\u6587\u4ef6\u540d\u6269\u5c55\uff0c\u4fdd\u6301\u539f\u6837\u4e0d\u53d8\uff0c\u6240\u4ee5<code>rm</code>\u547d\u4ee4\u62a5\u9519\u6ca1\u6709<code>b*</code>\u8fd9\u4e2a\u6587\u4ef6\u3002</p> <p>\u6253\u5f00<code>nullglob</code>\u53c2\u6570\uff0c\u5c31\u53ef\u4ee5\u8ba9\u4e0d\u5339\u914d\u7684\u901a\u914d\u7b26\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002</p> <pre><code>$ shopt -s nullglob\n$ rm b*\nrm: \u7f3a\u5c11\u64cd\u4f5c\u6570\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e\u6ca1\u6709<code>b*</code>\u5339\u914d\u7684\u6587\u4ef6\u540d\uff0c\u6240\u4ee5<code>rm b*</code>\u6269\u5c55\u6210\u4e86<code>rm</code>\uff0c\u5bfc\u81f4\u62a5\u9519\u53d8\u6210\u4e86\u201d\u7f3a\u5c11\u64cd\u4f5c\u6570\u201c\u3002</p> <p>\uff083\uff09failglob \u53c2\u6570</p> <p><code>failglob</code>\u53c2\u6570\u4f7f\u5f97\u901a\u914d\u7b26\u4e0d\u5339\u914d\u4efb\u4f55\u6587\u4ef6\u540d\u65f6\uff0cBash \u4f1a\u76f4\u63a5\u62a5\u9519\uff0c\u800c\u4e0d\u662f\u8ba9\u5404\u4e2a\u547d\u4ee4\u53bb\u5904\u7406\u3002</p> <pre><code>$ shopt -s failglob\n$ rm b*\nbash: \u65e0\u5339\u914d: b*\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u6253\u5f00<code>failglob</code>\u4ee5\u540e\uff0c\u7531\u4e8e<code>b*</code>\u4e0d\u5339\u914d\u4efb\u4f55\u6587\u4ef6\u540d\uff0cBash \u76f4\u63a5\u62a5\u9519\u4e86\uff0c\u4e0d\u518d\u8ba9<code>rm</code>\u547d\u4ee4\u53bb\u5904\u7406\u3002</p> <p>\uff084\uff09extglob \u53c2\u6570</p> <p><code>extglob</code>\u53c2\u6570\u4f7f\u5f97 Bash \u652f\u6301 ksh \u7684\u4e00\u4e9b\u6269\u5c55\u8bed\u6cd5\u3002\u5b83\u9ed8\u8ba4\u5e94\u8be5\u662f\u6253\u5f00\u7684\u3002</p> <pre><code>$ shopt extglob\nextglob         on\n</code></pre> <p>\u5b83\u7684\u4e3b\u8981\u5e94\u7528\u662f\u652f\u6301\u91cf\u8bcd\u8bed\u6cd5\u3002\u5982\u679c\u4e0d\u5e0c\u671b\u652f\u6301\u91cf\u8bcd\u8bed\u6cd5\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5173\u95ed\u3002</p> <pre><code>$ shopt -u extglob\n</code></pre> <p>\uff085\uff09nocaseglob \u53c2\u6570</p> <p><code>nocaseglob</code>\u53c2\u6570\u53ef\u4ee5\u8ba9\u901a\u914d\u7b26\u6269\u5c55\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002</p> <pre><code>$ shopt -s nocaseglob\n$ ls /windows/program*\n/windows/ProgramData\n/windows/Program Files\n/windows/Program Files (x86)\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u6253\u5f00<code>nocaseglob</code>\u4ee5\u540e\uff0c<code>program*</code>\u5c31\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u4e86\uff0c\u53ef\u4ee5\u5339\u914d<code>ProgramData</code>\u7b49\u3002</p> <p>\uff086\uff09globstar \u53c2\u6570</p> <p><code>globstar</code>\u53c2\u6570\u53ef\u4ee5\u4f7f\u5f97<code>**</code>\u5339\u914d\u96f6\u4e2a\u6216\u591a\u4e2a\u5b50\u76ee\u5f55\u3002\u8be5\u53c2\u6570\u9ed8\u8ba4\u662f\u5173\u95ed\u7684\u3002</p> <p>\u5047\u8bbe\u6709\u4e0b\u9762\u7684\u6587\u4ef6\u7ed3\u6784\u3002</p> <pre><code>a.txt\nsub1/b.txt\nsub1/sub2/c.txt\n</code></pre> <p>\u4e0a\u9762\u7684\u6587\u4ef6\u7ed3\u6784\u4e2d\uff0c\u9876\u5c42\u76ee\u5f55\u3001\u7b2c\u4e00\u7ea7\u5b50\u76ee\u5f55<code>sub1</code>\u3001\u7b2c\u4e8c\u7ea7\u5b50\u76ee\u5f55<code>sub1\\sub2</code>\u91cc\u9762\u5404\u6709\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\u3002\u8bf7\u95ee\u600e\u6837\u624d\u80fd\u4f7f\u7528\u901a\u914d\u7b26\uff0c\u5c06\u5b83\u4eec\u663e\u793a\u51fa\u6765\uff1f</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u53ea\u80fd\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002</p> <pre><code>$ ls *.txt */*.txt */*/*.txt\na.txt  sub1/b.txt  sub1/sub2/c.txt\n</code></pre> <p>\u8fd9\u662f\u56e0\u4e3a<code>*</code>\u53ea\u5339\u914d\u5f53\u524d\u76ee\u5f55\uff0c\u5982\u679c\u8981\u5339\u914d\u5b50\u76ee\u5f55\uff0c\u53ea\u80fd\u4e00\u5c42\u5c42\u5199\u51fa\u6765\u3002</p> <p>\u6253\u5f00<code>globstar</code>\u53c2\u6570\u4ee5\u540e\uff0c<code>**</code>\u5339\u914d\u96f6\u4e2a\u6216\u591a\u4e2a\u5b50\u76ee\u5f55\u3002\u56e0\u6b64\uff0c<code>**/*.txt</code>\u5c31\u53ef\u4ee5\u5f97\u5230\u60f3\u8981\u7684\u7ed3\u679c\u3002</p> <pre><code>$ shopt -s globstar\n$ ls **/*.txt\na.txt  sub1/b.txt  sub1/sub2/c.txt\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/03_%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95.html#_13","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li> <p>Bash \u7684\u6a21\u5f0f\u6269\u5c55</p> </li> <li> <p>Think You Understand Wildcards? Think Again</p> </li> <li>Advanced Wildcard Patterns Most People Don\u2019t Know</li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/04_%E5%BC%95%E5%8F%B7%E5%92%8C%E8%BD%AC%E4%B9%89.html","title":"\u5f15\u53f7\u548c\u8f6c\u4e49","text":"<p>\u672c\u6587\u8f6c\u8f7d\u81ea \u5f15\u53f7\u548c\u8f6c\u4e49 by \u7f51\u9053</p> <p>Bash \u53ea\u6709\u4e00\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u5c31\u662f\u5b57\u7b26\u4e32\u3002\u4e0d\u7ba1\u7528\u6237\u8f93\u5165\u4ec0\u4e48\u6570\u636e\uff0cBash \u90fd\u89c6\u4e3a\u5b57\u7b26\u4e32\u3002\u56e0\u6b64\uff0c\u5b57\u7b26\u4e32\u76f8\u5173\u7684\u5f15\u53f7\u548c\u8f6c\u4e49\uff0c\u5bf9 Bash \u6765\u8bf4\u5c31\u975e\u5e38\u91cd\u8981\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/04_%E5%BC%95%E5%8F%B7%E5%92%8C%E8%BD%AC%E4%B9%89.html#_2","title":"\u8f6c\u4e49","text":"<p>\u67d0\u4e9b\u5b57\u7b26\u5728 Bash \u91cc\u9762\u6709\u7279\u6b8a\u542b\u4e49\uff08\u6bd4\u5982<code>$</code>\u3001<code>&amp;</code>\u3001<code>*</code>\uff09\u3002</p> <pre><code>$ echo $date\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u8f93\u51fa<code>$date</code>\u4e0d\u4f1a\u6709\u4efb\u4f55\u7ed3\u679c\uff0c\u56e0\u4e3a<code>$</code>\u662f\u4e00\u4e2a\u7279\u6b8a\u5b57\u7b26\u3002</p> <p>\u5982\u679c\u60f3\u8981\u539f\u6837\u8f93\u51fa\u8fd9\u4e9b\u7279\u6b8a\u5b57\u7b26\uff0c\u5c31\u5fc5\u987b\u5728\u5b83\u4eec\u524d\u9762\u52a0\u4e0a\u53cd\u659c\u6760\uff0c\u4f7f\u5176\u53d8\u6210\u666e\u901a\u5b57\u7b26\u3002\u8fd9\u5c31\u53eb\u505a\u201c\u8f6c\u4e49\u201d\uff08escape\uff09\u3002</p> <pre><code>$ echo \\$date\n$date\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c\u53ea\u6709\u5728\u7279\u6b8a\u5b57\u7b26<code>$</code>\u524d\u9762\u52a0\u53cd\u659c\u6760\uff0c\u624d\u80fd\u539f\u6837\u8f93\u51fa\u3002</p> <p>\u53cd\u659c\u6760\u672c\u8eab\u4e5f\u662f\u7279\u6b8a\u5b57\u7b26\uff0c\u5982\u679c\u60f3\u8981\u539f\u6837\u8f93\u51fa\u53cd\u659c\u6760\uff0c\u5c31\u9700\u8981\u5bf9\u5b83\u81ea\u8eab\u8f6c\u4e49\uff0c\u8fde\u7eed\u4f7f\u7528\u4e24\u4e2a\u53cd\u659c\u7ebf\uff08<code>\\\\</code>\uff09\u3002</p> <pre><code>$ echo \\\\\n\\\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u8f93\u51fa\u4e86\u53cd\u659c\u6760\u672c\u8eab\u3002</p> <p>\u53cd\u659c\u6760\u9664\u4e86\u7528\u4e8e\u8f6c\u4e49\uff0c\u8fd8\u53ef\u4ee5\u8868\u793a\u4e00\u4e9b\u4e0d\u53ef\u6253\u5370\u7684\u5b57\u7b26\u3002</p> <ul> <li><code>\\a</code>\uff1a\u54cd\u94c3</li> <li><code>\\b</code>\uff1a\u9000\u683c</li> <li><code>\\n</code>\uff1a\u6362\u884c</li> <li><code>\\r</code>\uff1a\u56de\u8f66</li> <li><code>\\t</code>\uff1a\u5236\u8868\u7b26</li> </ul> <p>\u5982\u679c\u60f3\u8981\u5728\u547d\u4ee4\u884c\u4f7f\u7528\u8fd9\u4e9b\u4e0d\u53ef\u6253\u5370\u7684\u5b57\u7b26\uff0c\u53ef\u4ee5\u628a\u5b83\u4eec\u653e\u5728\u5f15\u53f7\u91cc\u9762\uff0c\u7136\u540e\u4f7f\u7528<code>echo</code>\u547d\u4ee4\u7684<code>-e</code>\u53c2\u6570\u3002</p> <pre><code>$ echo a\\tb\natb\n\n$ echo -e \"a\\tb\"\na        b\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u547d\u4ee4\u884c\u76f4\u63a5\u8f93\u51fa\u4e0d\u53ef\u6253\u5370\u5b57\u7b26<code>\\t</code>\uff0cBash \u4e0d\u80fd\u6b63\u786e\u89e3\u91ca\u3002\u5fc5\u987b\u628a\u5b83\u4eec\u653e\u5728\u5f15\u53f7\u4e4b\u4e2d\uff0c\u7136\u540e\u4f7f\u7528<code>echo</code>\u547d\u4ee4\u7684<code>-e</code>\u53c2\u6570\u3002</p> <p>\u6362\u884c\u7b26\u662f\u4e00\u4e2a\u7279\u6b8a\u5b57\u7b26\uff0c\u8868\u793a\u547d\u4ee4\u7684\u7ed3\u675f\uff0cBash \u6536\u5230\u8fd9\u4e2a\u5b57\u7b26\u4ee5\u540e\uff0c\u5c31\u4f1a\u5bf9\u8f93\u5165\u7684\u547d\u4ee4\u8fdb\u884c\u89e3\u91ca\u6267\u884c\u3002\u6362\u884c\u7b26\u524d\u9762\u52a0\u4e0a\u53cd\u659c\u6760\u8f6c\u4e49\uff0c\u5c31\u4f7f\u5f97\u6362\u884c\u7b26\u53d8\u6210\u4e00\u4e2a\u666e\u901a\u5b57\u7b26\uff0cBash \u4f1a\u5c06\u5176\u5f53\u4f5c\u957f\u5ea6\u4e3a<code>0</code>\u7684\u7a7a\u5b57\u7b26\u5904\u7406\uff0c\u4ece\u800c\u53ef\u4ee5\u5c06\u4e00\u884c\u547d\u4ee4\u5199\u6210\u591a\u884c\u3002</p> <pre><code>$ mv \\\n/path/to/foo \\\n/path/to/bar\n\n# \u7b49\u540c\u4e8e\n$ mv /path/to/foo /path/to/bar\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u4e00\u6761\u547d\u4ee4\u8fc7\u957f\uff0c\u5c31\u53ef\u4ee5\u5728\u884c\u5c3e\u4f7f\u7528\u53cd\u659c\u6760\uff0c\u5c06\u5176\u6539\u5199\u6210\u591a\u884c\u3002\u8fd9\u662f\u5e38\u89c1\u7684\u591a\u884c\u547d\u4ee4\u7684\u5199\u6cd5\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/04_%E5%BC%95%E5%8F%B7%E5%92%8C%E8%BD%AC%E4%B9%89.html#_3","title":"\u5355\u5f15\u53f7","text":"<p>Bash \u5141\u8bb8\u5b57\u7b26\u4e32\u653e\u5728\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\u4e4b\u4e2d\uff0c\u52a0\u4ee5\u5f15\u7528\u3002</p> <p>\u5355\u5f15\u53f7\u7528\u4e8e\u4fdd\u7559\u5b57\u7b26\u7684\u5b57\u9762\u542b\u4e49\uff0c\u5404\u79cd\u7279\u6b8a\u5b57\u7b26\u5728\u5355\u5f15\u53f7\u91cc\u9762\uff0c\u90fd\u4f1a\u53d8\u4e3a\u666e\u901a\u5b57\u7b26\uff0c\u6bd4\u5982\u661f\u53f7\uff08<code>*</code>\uff09\u3001\u7f8e\u5143\u7b26\u53f7\uff08<code>$</code>\uff09\u3001\u53cd\u659c\u6760\uff08<code>\\</code>\uff09\u7b49\u3002</p> <pre><code>$ echo '*'\n*\n\n$ echo '$USER'\n$USER\n\n$ echo '$((2+2))'\n$((2+2))\n\n$ echo '$(echo foo)'\n$(echo foo)\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c\u5355\u5f15\u53f7\u4f7f\u5f97 Bash \u6269\u5c55\u3001\u53d8\u91cf\u5f15\u7528\u3001\u7b97\u672f\u8fd0\u7b97\u548c\u5b50\u547d\u4ee4\uff0c\u90fd\u5931\u6548\u4e86\u3002\u5982\u679c\u4e0d\u4f7f\u7528\u5355\u5f15\u53f7\uff0c\u5b83\u4eec\u90fd\u4f1a\u88ab Bash \u81ea\u52a8\u6269\u5c55\u3002</p> <p>\u7531\u4e8e\u53cd\u659c\u6760\u5728\u5355\u5f15\u53f7\u91cc\u9762\u53d8\u6210\u4e86\u666e\u901a\u5b57\u7b26\uff0c\u6240\u4ee5\u5982\u679c\u5355\u5f15\u53f7\u4e4b\u4e2d\uff0c\u8fd8\u8981\u4f7f\u7528\u5355\u5f15\u53f7\uff0c\u4e0d\u80fd\u4f7f\u7528\u8f6c\u4e49\uff0c\u9700\u8981\u5728\u5916\u5c42\u7684\u5355\u5f15\u53f7\u524d\u9762\u52a0\u4e0a\u4e00\u4e2a\u7f8e\u5143\u7b26\u53f7\uff08<code>$</code>\uff09\uff0c\u7136\u540e\u518d\u5bf9\u91cc\u5c42\u7684\u5355\u5f15\u53f7\u8f6c\u4e49\u3002</p> <pre><code># \u4e0d\u6b63\u786e\n$ echo it's\n\n# \u4e0d\u6b63\u786e\n$ echo 'it\\'s'\n\n# \u6b63\u786e\n$ echo $'it\\'s'\n</code></pre> <p>\u4e0d\u8fc7\uff0c\u66f4\u5408\u7406\u7684\u65b9\u6cd5\u662f\u6539\u5728\u53cc\u5f15\u53f7\u4e4b\u4e2d\u4f7f\u7528\u5355\u5f15\u53f7\u3002</p> <pre><code>$ echo \"it's\"\nit's\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/04_%E5%BC%95%E5%8F%B7%E5%92%8C%E8%BD%AC%E4%B9%89.html#_4","title":"\u53cc\u5f15\u53f7","text":"<p>\u53cc\u5f15\u53f7\u6bd4\u5355\u5f15\u53f7\u5bbd\u677e\uff0c\u5927\u90e8\u5206\u7279\u6b8a\u5b57\u7b26\u5728\u53cc\u5f15\u53f7\u91cc\u9762\uff0c\u90fd\u4f1a\u5931\u53bb\u7279\u6b8a\u542b\u4e49\uff0c\u53d8\u6210\u666e\u901a\u5b57\u7b26\u3002</p> <pre><code>$ echo \"*\"\n*\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u901a\u914d\u7b26<code>*</code>\u662f\u4e00\u4e2a\u7279\u6b8a\u5b57\u7b26\uff0c\u653e\u5728\u53cc\u5f15\u53f7\u4e4b\u4e2d\uff0c\u5c31\u53d8\u6210\u4e86\u666e\u901a\u5b57\u7b26\uff0c\u4f1a\u539f\u6837\u8f93\u51fa\u3002\u8fd9\u4e00\u70b9\u9700\u8981\u7279\u522b\u7559\u610f\uff0c\u8fd9\u610f\u5473\u7740\uff0c\u53cc\u5f15\u53f7\u91cc\u9762\u4e0d\u4f1a\u8fdb\u884c\u6587\u4ef6\u540d\u6269\u5c55\u3002</p> <p>\u4f46\u662f\uff0c\u4e09\u4e2a\u7279\u6b8a\u5b57\u7b26\u9664\u5916\uff1a\u7f8e\u5143\u7b26\u53f7\uff08<code>$</code>\uff09\u3001\u53cd\u5f15\u53f7\uff08<code>``\uff09\u548c\u53cd\u659c\u6760\uff08</code>`\uff09\u3002\u8fd9\u4e09\u4e2a\u5b57\u7b26\u5728\u53cc\u5f15\u53f7\u4e4b\u4e2d\uff0c\u4f9d\u7136\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u4f1a\u88ab Bash \u81ea\u52a8\u6269\u5c55\u3002</p> <pre><code>$ echo \"$SHELL\"\n/bin/bash\n\n$ echo \"`date`\"\nMon Jan 27 13:33:18 CST 2020\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u7f8e\u5143\u7b26\u53f7\uff08<code>$</code>\uff09\u548c\u53cd\u5f15\u53f7\uff08```\uff09\u5728\u53cc\u5f15\u53f7\u4e2d\uff0c\u90fd\u4fdd\u6301\u7279\u6b8a\u542b\u4e49\u3002\u7f8e\u5143\u7b26\u53f7\u7528\u6765\u5f15\u7528\u53d8\u91cf\uff0c\u53cd\u5f15\u53f7\u5219\u662f\u6267\u884c\u5b50\u547d\u4ee4\u3002</p> <pre><code>$ echo \"I'd say: \\\"hello!\\\"\"\nI'd say: \"hello!\"\n\n$ echo \"\\\\\"\n\\\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u53cd\u659c\u6760\u5728\u53cc\u5f15\u53f7\u4e4b\u4e2d\u4fdd\u6301\u7279\u6b8a\u542b\u4e49\uff0c\u7528\u6765\u8f6c\u4e49\u3002\u6240\u4ee5\uff0c\u53ef\u4ee5\u4f7f\u7528\u53cd\u659c\u6760\uff0c\u5728\u53cc\u5f15\u53f7\u4e4b\u4e2d\u63d2\u5165\u53cc\u5f15\u53f7\uff0c\u6216\u8005\u63d2\u5165\u53cd\u659c\u6760\u672c\u8eab\u3002</p> <p>\u6362\u884c\u7b26\u5728\u53cc\u5f15\u53f7\u4e4b\u4e2d\uff0c\u4f1a\u5931\u53bb\u7279\u6b8a\u542b\u4e49\uff0cBash \u4e0d\u518d\u5c06\u5176\u89e3\u91ca\u4e3a\u547d\u4ee4\u7684\u7ed3\u675f\uff0c\u53ea\u662f\u4f5c\u4e3a\u666e\u901a\u7684\u6362\u884c\u7b26\u3002\u6240\u4ee5\u53ef\u4ee5\u5229\u7528\u53cc\u5f15\u53f7\uff0c\u5728\u547d\u4ee4\u884c\u8f93\u5165\u591a\u884c\u6587\u672c\u3002</p> <pre><code>$ echo \"hello\nworld\"\nhello\nworld\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0cBash \u6b63\u5e38\u60c5\u51b5\u4e0b\u4f1a\u5c06\u6362\u884c\u7b26\u89e3\u91ca\u4e3a\u547d\u4ee4\u7ed3\u675f\uff0c\u4f46\u662f\u6362\u884c\u7b26\u5728\u53cc\u5f15\u53f7\u4e4b\u4e2d\u5c31\u5931\u53bb\u4e86\u8fd9\u79cd\u7279\u6b8a\u4f5c\u7528\uff0c\u53ea\u7528\u6765\u6362\u884c\uff0c\u6240\u4ee5\u53ef\u4ee5\u8f93\u5165\u591a\u884c\u3002<code>echo</code>\u547d\u4ee4\u4f1a\u5c06\u6362\u884c\u7b26\u539f\u6837\u8f93\u51fa\uff0c\u663e\u793a\u7684\u65f6\u5019\u6b63\u5e38\u89e3\u91ca\u4e3a\u6362\u884c\u3002</p> <p>\u53cc\u5f15\u53f7\u7684\u53e6\u4e00\u4e2a\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u5408\u662f\uff0c\u6587\u4ef6\u540d\u5305\u542b\u7a7a\u683c\u3002\u8fd9\u65f6\u5c31\u5fc5\u987b\u4f7f\u7528\u53cc\u5f15\u53f7\uff08\u6216\u5355\u5f15\u53f7\uff09\uff0c\u5c06\u6587\u4ef6\u540d\u653e\u5728\u91cc\u9762\u3002</p> <pre><code>$ ls \"two words.txt\"\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c<code>two words.txt</code>\u662f\u4e00\u4e2a\u5305\u542b\u7a7a\u683c\u7684\u6587\u4ef6\u540d\uff0c\u5982\u679c\u4e0d\u653e\u5728\u53cc\u5f15\u53f7\u91cc\u9762\uff0c\u5c31\u4f1a\u88ab Bash \u5f53\u4f5c\u4e24\u4e2a\u6587\u4ef6\u3002</p> <p>\u53cc\u5f15\u53f7\u4f1a\u539f\u6837\u4fdd\u5b58\u591a\u4f59\u7684\u7a7a\u683c\u3002</p> <pre><code>$ echo \"this is a     test\"\nthis is a     test\n</code></pre> <p>\u53cc\u5f15\u53f7\u8fd8\u6709\u4e00\u4e2a\u4f5c\u7528\uff0c\u5c31\u662f\u4fdd\u5b58\u539f\u59cb\u547d\u4ee4\u7684\u8f93\u51fa\u683c\u5f0f\u3002</p> <pre><code># \u5355\u884c\u8f93\u51fa\n$ echo $(cal)\n\u4e00\u6708 2020 \u65e5 \u4e00 \u4e8c \u4e09 \u56db \u4e94 \u516d 1 2 3 ... 31\n\n# \u539f\u59cb\u683c\u5f0f\u8f93\u51fa\n$ echo \"$(cal)\"\n      \u4e00\u6708 2020\n\u65e5 \u4e00 \u4e8c \u4e09 \u56db \u4e94 \u516d\n          1  2  3  4\n 5  6  7  8  9 10 11\n12 13 14 15 16 17 18\n19 20 21 22 23 24 25\n26 27 28 29 30 31\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c<code>$(cal)</code>\u4e0d\u653e\u5728\u53cc\u5f15\u53f7\u4e4b\u4e2d\uff0c<code>echo</code>\u5c31\u4f1a\u5c06\u6240\u6709\u7ed3\u679c\u4ee5\u5355\u884c\u8f93\u51fa\uff0c\u4e22\u5f03\u4e86\u6240\u6709\u539f\u59cb\u7684\u683c\u5f0f\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/04_%E5%BC%95%E5%8F%B7%E5%92%8C%E8%BD%AC%E4%B9%89.html#here","title":"Here \u6587\u6863","text":"<p>Here \u6587\u6863\uff08here document\uff09\u662f\u4e00\u79cd\u8f93\u5165\u591a\u884c\u5b57\u7b26\u4e32\u7684\u65b9\u6cd5\uff0c\u683c\u5f0f\u5982\u4e0b\u3002</p> <pre><code>&lt;&lt; token\ntext\ntoken\n</code></pre> <p>\u5b83\u7684\u683c\u5f0f\u5206\u6210\u5f00\u59cb\u6807\u8bb0\uff08<code>&lt;&lt; token</code>\uff09\u548c\u7ed3\u675f\u6807\u8bb0\uff08<code>token</code>\uff09\u3002\u5f00\u59cb\u6807\u8bb0\u662f\u4e24\u4e2a\u5c0f\u4e8e\u53f7 + Here \u6587\u6863\u7684\u540d\u79f0\uff0c\u540d\u79f0\u53ef\u4ee5\u968f\u610f\u53d6\uff0c\u540e\u9762\u5fc5\u987b\u662f\u4e00\u4e2a\u6362\u884c\u7b26\uff1b\u7ed3\u675f\u6807\u8bb0\u662f\u5355\u72ec\u4e00\u884c\u9876\u683c\u5199\u7684 Here \u6587\u6863\u540d\u79f0\uff0c\u5982\u679c\u4e0d\u662f\u9876\u683c\uff0c\u7ed3\u675f\u6807\u8bb0\u4e0d\u8d77\u4f5c\u7528\u3002\u4e24\u8005\u4e4b\u95f4\u5c31\u662f\u591a\u884c\u5b57\u7b26\u4e32\u7684\u5185\u5bb9\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u901a\u8fc7 Here \u6587\u6863\u8f93\u51fa HTML \u4ee3\u7801\u7684\u4f8b\u5b50\u3002</p> <pre><code>$ cat &lt;&lt; _EOF_\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;\n    The title of your page\n    &lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    Your page content goes here.\n&lt;/body&gt;\n&lt;/html&gt;\n_EOF_\n</code></pre> <p>Here \u6587\u6863\u5185\u90e8\u4f1a\u53d1\u751f\u53d8\u91cf\u66ff\u6362\uff0c\u540c\u65f6\u652f\u6301\u53cd\u659c\u6760\u8f6c\u4e49\uff0c\u4f46\u662f\u4e0d\u652f\u6301\u901a\u914d\u7b26\u6269\u5c55\uff0c\u53cc\u5f15\u53f7\u548c\u5355\u5f15\u53f7\u4e5f\u5931\u53bb\u8bed\u6cd5\u4f5c\u7528\uff0c\u53d8\u6210\u4e86\u666e\u901a\u5b57\u7b26\u3002</p> <pre><code>$ foo='hello world'\n$ cat &lt;&lt; _example_\n$foo\n\"$foo\"\n'$foo'\n_example_\n\nhello world\n\"hello world\"\n'hello world'\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u53d8\u91cf<code>$foo</code>\u53d1\u751f\u4e86\u66ff\u6362\uff0c\u4f46\u662f\u53cc\u5f15\u53f7\u548c\u5355\u5f15\u53f7\u90fd\u539f\u6837\u8f93\u51fa\u4e86\uff0c\u8868\u660e\u5b83\u4eec\u5df2\u7ecf\u5931\u53bb\u4e86\u5f15\u7528\u7684\u529f\u80fd\u3002</p> <p>\u5982\u679c\u4e0d\u5e0c\u671b\u53d1\u751f\u53d8\u91cf\u66ff\u6362\uff0c\u53ef\u4ee5\u628a Here \u6587\u6863\u7684\u5f00\u59cb\u6807\u8bb0\u653e\u5728\u5355\u5f15\u53f7\u4e4b\u4e2d\u3002</p> <pre><code>$ foo='hello world'\n$ cat &lt;&lt; '_example_'\n$foo\n\"$foo\"\n'$foo'\n_example_\n\n$foo\n\"$foo\"\n'$foo'\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0cHere \u6587\u6863\u7684\u5f00\u59cb\u6807\u8bb0\uff08<code>_example_</code>\uff09\u653e\u5728\u5355\u5f15\u53f7\u4e4b\u4e2d\uff0c\u5bfc\u81f4\u53d8\u91cf\u66ff\u6362\u5931\u6548\u4e86\u3002</p> <p>Here \u6587\u6863\u7684\u672c\u8d28\u662f\u91cd\u5b9a\u5411\uff0c\u5b83\u5c06\u5b57\u7b26\u4e32\u91cd\u5b9a\u5411\u8f93\u51fa\u7ed9\u67d0\u4e2a\u547d\u4ee4\uff0c\u76f8\u5f53\u4e8e\u5305\u542b\u4e86<code>echo</code>\u547d\u4ee4\u3002</p> <pre><code>$ command &lt;&lt; token\n  string\ntoken\n\n# \u7b49\u540c\u4e8e\n\n$ echo string | command\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cHere \u6587\u6863\u76f8\u5f53\u4e8e<code>echo</code>\u547d\u4ee4\u7684\u91cd\u5b9a\u5411\u3002</p> <p>\u6240\u4ee5\uff0cHere \u5b57\u7b26\u4e32\u53ea\u9002\u5408\u90a3\u4e9b\u53ef\u4ee5\u63a5\u53d7\u6807\u51c6\u8f93\u5165\u4f5c\u4e3a\u53c2\u6570\u7684\u547d\u4ee4\uff0c\u5bf9\u4e8e\u5176\u4ed6\u547d\u4ee4\u65e0\u6548\uff0c\u6bd4\u5982<code>echo</code>\u547d\u4ee4\u5c31\u4e0d\u80fd\u7528 Here \u6587\u6863\u4f5c\u4e3a\u53c2\u6570\u3002</p> <pre><code>$ echo &lt;&lt; _example_\nhello\n_example_\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e0d\u4f1a\u6709\u4efb\u4f55\u8f93\u51fa\uff0c\u56e0\u4e3a Here \u6587\u6863\u5bf9\u4e8e<code>echo</code>\u547d\u4ee4\u65e0\u6548\u3002</p> <p>\u6b64\u5916\uff0cHere \u6587\u6863\u4e5f\u4e0d\u80fd\u4f5c\u4e3a\u53d8\u91cf\u7684\u503c\uff0c\u53ea\u80fd\u7528\u4e8e\u547d\u4ee4\u7684\u53c2\u6570\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/04_%E5%BC%95%E5%8F%B7%E5%92%8C%E8%BD%AC%E4%B9%89.html#here_1","title":"Here \u5b57\u7b26\u4e32","text":"<p>Here \u6587\u6863\u8fd8\u6709\u4e00\u4e2a\u53d8\u4f53\uff0c\u53eb\u505a Here \u5b57\u7b26\u4e32\uff08Here string\uff09\uff0c\u4f7f\u7528\u4e09\u4e2a\u5c0f\u4e8e\u53f7\uff08<code>&lt;&lt;&lt;</code>\uff09\u8868\u793a\u3002</p> <pre><code>&lt;&lt;&lt; string\n</code></pre> <p>\u5b83\u7684\u4f5c\u7528\u662f\u5c06\u5b57\u7b26\u4e32\u901a\u8fc7\u6807\u51c6\u8f93\u5165\uff0c\u4f20\u9012\u7ed9\u547d\u4ee4\u3002</p> <p>\u6709\u4e9b\u547d\u4ee4\u76f4\u63a5\u63a5\u53d7\u7ed9\u5b9a\u7684\u53c2\u6570\uff0c\u4e0e\u901a\u8fc7\u6807\u51c6\u8f93\u5165\u63a5\u53d7\u53c2\u6570\uff0c\u7ed3\u679c\u662f\u4e0d\u4e00\u6837\u7684\u3002\u6240\u4ee5\u624d\u6709\u4e86\u8fd9\u4e2a\u8bed\u6cd5\uff0c\u4f7f\u5f97\u5c06\u5b57\u7b26\u4e32\u901a\u8fc7\u6807\u51c6\u8f93\u5165\u4f20\u9012\u7ed9\u547d\u4ee4\u66f4\u65b9\u4fbf\uff0c\u6bd4\u5982<code>cat</code>\u547d\u4ee4\u53ea\u63a5\u53d7\u6807\u51c6\u8f93\u5165\u4f20\u5165\u7684\u5b57\u7b26\u4e32\u3002</p> <pre><code>$ cat &lt;&lt;&lt; 'hi there'\n# \u7b49\u540c\u4e8e\n$ echo 'hi there' | cat\n</code></pre> <p>\u4e0a\u9762\u7684\u7b2c\u4e00\u79cd\u8bed\u6cd5\u4f7f\u7528\u4e86 Here \u5b57\u7b26\u4e32\uff0c\u8981\u6bd4\u7b2c\u4e8c\u79cd\u8bed\u6cd5\u770b\u4e0a\u53bb\u8bed\u4e49\u66f4\u597d\uff0c\u4e5f\u66f4\u7b80\u6d01\u3002</p> <pre><code>$ md5sum &lt;&lt;&lt; 'ddd'\n# \u7b49\u540c\u4e8e\n$ echo 'ddd' | md5sum\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>md5sum</code>\u547d\u4ee4\u53ea\u80fd\u63a5\u53d7\u6807\u51c6\u8f93\u5165\u4f5c\u4e3a\u53c2\u6570\uff0c\u4e0d\u80fd\u76f4\u63a5\u5c06\u5b57\u7b26\u4e32\u653e\u5728\u547d\u4ee4\u540e\u9762\uff0c\u4f1a\u88ab\u5f53\u4f5c\u6587\u4ef6\u540d\uff0c\u5373<code>md5sum ddd</code>\u91cc\u9762\u7684<code>ddd</code>\u4f1a\u88ab\u89e3\u91ca\u6210\u6587\u4ef6\u540d\u3002\u8fd9\u65f6\u5c31\u53ef\u4ee5\u7528 Here \u5b57\u7b26\u4e32\uff0c\u5c06\u5b57\u7b26\u4e32\u4f20\u7ed9<code>md5sum</code>\u547d\u4ee4\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/04_%E5%BC%95%E5%8F%B7%E5%92%8C%E8%BD%AC%E4%B9%89.html#_5","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u5f15\u53f7\u548c\u8f6c\u4e49</li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html","title":"Bash \u53d8\u91cf","text":"<p>\u672c\u6587\u8f6c\u8f7d\u81ea Bash \u53d8\u91cf by \u7f51\u9053</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#_1","title":"\u7b80\u4ecb","text":"<p>Bash \u53d8\u91cf\u5206\u6210\u73af\u5883\u53d8\u91cf\u548c\u81ea\u5b9a\u4e49\u53d8\u91cf\u4e24\u7c7b\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#_2","title":"\u73af\u5883\u53d8\u91cf","text":"<p>\u73af\u5883\u53d8\u91cf\u662f Bash \u73af\u5883\u81ea\u5e26\u7684\u53d8\u91cf\uff0c\u8fdb\u5165 Shell \u65f6\u5df2\u7ecf\u5b9a\u4e49\u597d\u4e86\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002\u5b83\u4eec\u901a\u5e38\u662f\u7cfb\u7edf\u5b9a\u4e49\u597d\u7684\uff0c\u4e5f\u53ef\u4ee5\u7531\u7528\u6237\u4ece\u7236 Shell \u4f20\u5165\u5b50 Shell\u3002</p> <p><code>env</code>\u547d\u4ee4\u6216<code>printenv</code>\u547d\u4ee4\uff0c\u53ef\u4ee5\u663e\u793a\u6240\u6709\u73af\u5883\u53d8\u91cf\u3002</p> <pre><code>$ env\n# \u6216\u8005\n$ printenv\n</code></pre> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u73af\u5883\u53d8\u91cf\u3002</p> <ul> <li><code>BASHPID</code>\uff1aBash \u8fdb\u7a0b\u7684\u8fdb\u7a0b ID\u3002</li> <li><code>BASHOPTS</code>\uff1a\u5f53\u524d Shell \u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u7528<code>shopt</code>\u547d\u4ee4\u4fee\u6539\u3002</li> <li><code>DISPLAY</code>\uff1a\u56fe\u5f62\u73af\u5883\u7684\u663e\u793a\u5668\u540d\u5b57\uff0c\u901a\u5e38\u662f<code>:0</code>\uff0c\u8868\u793a X Server \u7684\u7b2c\u4e00\u4e2a\u663e\u793a\u5668\u3002</li> <li><code>EDITOR</code>\uff1a\u9ed8\u8ba4\u7684\u6587\u672c\u7f16\u8f91\u5668\u3002</li> <li><code>HOME</code>\uff1a\u7528\u6237\u7684\u4e3b\u76ee\u5f55\u3002</li> <li><code>HOST</code>\uff1a\u5f53\u524d\u4e3b\u673a\u7684\u540d\u79f0\u3002</li> <li><code>IFS</code>\uff1a\u8bcd\u4e0e\u8bcd\u4e4b\u95f4\u7684\u5206\u9694\u7b26\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u683c\u3002</li> <li><code>LANG</code>\uff1a\u5b57\u7b26\u96c6\u4ee5\u53ca\u8bed\u8a00\u7f16\u7801\uff0c\u6bd4\u5982<code>zh_CN.UTF-8</code>\u3002</li> <li><code>PATH</code>\uff1a\u7531\u5192\u53f7\u5206\u5f00\u7684\u76ee\u5f55\u5217\u8868\uff0c\u5f53\u8f93\u5165\u53ef\u6267\u884c\u7a0b\u5e8f\u540d\u540e\uff0c\u4f1a\u641c\u7d22\u8fd9\u4e2a\u76ee\u5f55\u5217\u8868\u3002</li> <li><code>PS1</code>\uff1aShell \u63d0\u793a\u7b26\u3002</li> <li><code>PS2</code>\uff1a \u8f93\u5165\u591a\u884c\u547d\u4ee4\u65f6\uff0c\u6b21\u8981\u7684 Shell \u63d0\u793a\u7b26\u3002</li> <li><code>PWD</code>\uff1a\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002</li> <li><code>RANDOM</code>\uff1a\u8fd4\u56de\u4e00\u4e2a0\u523032767\u4e4b\u95f4\u7684\u968f\u673a\u6570\u3002</li> <li><code>SHELL</code>\uff1aShell \u7684\u540d\u5b57\u3002</li> <li><code>SHELLOPTS</code>\uff1a\u542f\u52a8\u5f53\u524d Shell \u7684<code>set</code>\u547d\u4ee4\u7684\u53c2\u6570\uff0c\u53c2\u89c1\u300aset \u547d\u4ee4\u300b\u4e00\u7ae0\u3002</li> <li><code>TERM</code>\uff1a\u7ec8\u7aef\u7c7b\u578b\u540d\uff0c\u5373\u7ec8\u7aef\u4eff\u771f\u5668\u6240\u7528\u7684\u534f\u8bae\u3002</li> <li><code>UID</code>\uff1a\u5f53\u524d\u7528\u6237\u7684 ID \u7f16\u53f7\u3002</li> <li><code>USER</code>\uff1a\u5f53\u524d\u7528\u6237\u7684\u7528\u6237\u540d\u3002</li> </ul> <p>\u5f88\u591a\u73af\u5883\u53d8\u91cf\u5f88\u5c11\u53d1\u751f\u53d8\u5316\uff0c\u800c\u4e14\u662f\u53ea\u8bfb\u7684\uff0c\u53ef\u4ee5\u89c6\u4e3a\u5e38\u91cf\u3002\u7531\u4e8e\u5b83\u4eec\u7684\u53d8\u91cf\u540d\u5168\u90e8\u90fd\u662f\u5927\u5199\uff0c\u6240\u4ee5\u4f20\u7edf\u4e0a\uff0c\u5982\u679c\u7528\u6237\u8981\u81ea\u5df1\u5b9a\u4e49\u4e00\u4e2a\u5e38\u91cf\uff0c\u4e5f\u4f1a\u4f7f\u7528\u5168\u90e8\u5927\u5199\u7684\u53d8\u91cf\u540d\u3002</p> <p>\u6ce8\u610f\uff0cBash \u53d8\u91cf\u540d\u533a\u5206\u5927\u5c0f\u5199\uff0c<code>HOME</code>\u548c<code>home</code>\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u53d8\u91cf\u3002</p> <p>\u67e5\u770b\u5355\u4e2a\u73af\u5883\u53d8\u91cf\u7684\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528<code>printenv</code>\u547d\u4ee4\u6216<code>echo</code>\u547d\u4ee4\u3002</p> <pre><code>$ printenv PATH\n# \u6216\u8005\n$ echo $PATH\n</code></pre> <p>\u6ce8\u610f\uff0c<code>printenv</code>\u547d\u4ee4\u540e\u9762\u7684\u53d8\u91cf\u540d\uff0c\u4e0d\u7528\u52a0\u524d\u7f00<code>$</code>\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#_3","title":"\u81ea\u5b9a\u4e49\u53d8\u91cf","text":"<p>\u81ea\u5b9a\u4e49\u53d8\u91cf\u662f\u7528\u6237\u5728\u5f53\u524d Shell \u91cc\u9762\u81ea\u5df1\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u4ec5\u5728\u5f53\u524d Shell \u53ef\u7528\u3002\u4e00\u65e6\u9000\u51fa\u5f53\u524d Shell\uff0c\u8be5\u53d8\u91cf\u5c31\u4e0d\u5b58\u5728\u4e86\u3002</p> <p><code>set</code>\u547d\u4ee4\u53ef\u4ee5\u663e\u793a\u6240\u6709\u53d8\u91cf\uff08\u5305\u62ec\u73af\u5883\u53d8\u91cf\u548c\u81ea\u5b9a\u4e49\u53d8\u91cf\uff09\uff0c\u4ee5\u53ca\u6240\u6709\u7684 Bash \u51fd\u6570\u3002</p> <pre><code>$ set\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#_4","title":"\u521b\u5efa\u53d8\u91cf","text":"<p>\u7528\u6237\u521b\u5efa\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u53d8\u91cf\u540d\u5fc5\u987b\u9075\u5b88\u4e0b\u9762\u7684\u89c4\u5219\u3002</p> <ul> <li>\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u5b57\u7b26\u7ec4\u6210\u3002</li> <li>\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5fc5\u987b\u662f\u4e00\u4e2a\u5b57\u6bcd\u6216\u4e00\u4e2a\u4e0b\u5212\u7ebf\uff0c\u4e0d\u80fd\u662f\u6570\u5b57\u3002</li> <li>\u4e0d\u5141\u8bb8\u51fa\u73b0\u7a7a\u683c\u548c\u6807\u70b9\u7b26\u53f7\u3002</li> </ul> <p>\u53d8\u91cf\u58f0\u660e\u7684\u8bed\u6cd5\u5982\u4e0b\u3002</p> <pre><code>variable=value\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c\u7b49\u53f7\u5de6\u8fb9\u662f\u53d8\u91cf\u540d\uff0c\u53f3\u8fb9\u662f\u53d8\u91cf\u3002\u6ce8\u610f\uff0c\u7b49\u53f7\u4e24\u8fb9\u4e0d\u80fd\u6709\u7a7a\u683c\u3002</p> <p>\u5982\u679c\u53d8\u91cf\u7684\u503c\u5305\u542b\u7a7a\u683c\uff0c\u5219\u5fc5\u987b\u5c06\u503c\u653e\u5728\u5f15\u53f7\u4e2d\u3002</p> <pre><code>myvar=\"hello world\"\n</code></pre> <p>Bash \u6ca1\u6709\u6570\u636e\u7c7b\u578b\u7684\u6982\u5ff5\uff0c\u6240\u6709\u7684\u53d8\u91cf\u503c\u90fd\u662f\u5b57\u7b26\u4e32\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u81ea\u5b9a\u4e49\u53d8\u91cf\u7684\u4f8b\u5b50\u3002</p> <pre><code>a=z                     # \u53d8\u91cf a \u8d4b\u503c\u4e3a\u5b57\u7b26\u4e32 z\nb=\"a string\"            # \u53d8\u91cf\u503c\u5305\u542b\u7a7a\u683c\uff0c\u5c31\u5fc5\u987b\u653e\u5728\u5f15\u53f7\u91cc\u9762\nc=\"a string and $b\"     # \u53d8\u91cf\u503c\u53ef\u4ee5\u5f15\u7528\u5176\u4ed6\u53d8\u91cf\u7684\u503c\nd=\"\\t\\ta string\\n\"      # \u53d8\u91cf\u503c\u53ef\u4ee5\u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\ne=$(ls -l foo.txt)      # \u53d8\u91cf\u503c\u53ef\u4ee5\u662f\u547d\u4ee4\u7684\u6267\u884c\u7ed3\u679c\nf=$((5 * 7))            # \u53d8\u91cf\u503c\u53ef\u4ee5\u662f\u6570\u5b66\u8fd0\u7b97\u7684\u7ed3\u679c\n</code></pre> <p>\u53d8\u91cf\u53ef\u4ee5\u91cd\u590d\u8d4b\u503c\uff0c\u540e\u9762\u7684\u8d4b\u503c\u4f1a\u8986\u76d6\u524d\u9762\u7684\u8d4b\u503c\u3002</p> <pre><code>$ foo=1\n$ foo=2\n$ echo $foo\n2\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u53d8\u91cf<code>foo</code>\u7684\u7b2c\u4e8c\u6b21\u8d4b\u503c\u4f1a\u8986\u76d6\u7b2c\u4e00\u6b21\u8d4b\u503c\u3002</p> <p>\u5982\u679c\u540c\u4e00\u884c\u5b9a\u4e49\u591a\u4e2a\u53d8\u91cf\uff0c\u5fc5\u987b\u4f7f\u7528\u5206\u53f7\uff08<code>;</code>\uff09\u5206\u9694\u3002</p> <pre><code>$ foo=1;bar=2\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u540c\u4e00\u884c\u5b9a\u4e49\u4e86<code>foo</code>\u548c<code>bar</code>\u4e24\u4e2a\u53d8\u91cf\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#_5","title":"\u8bfb\u53d6\u53d8\u91cf","text":"<p>\u8bfb\u53d6\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u76f4\u63a5\u5728\u53d8\u91cf\u540d\u524d\u52a0\u4e0a<code>$</code>\u5c31\u53ef\u4ee5\u4e86\u3002</p> <pre><code>$ foo=bar\n$ echo $foo\nbar\n</code></pre> <p>\u6bcf\u5f53 Shell \u770b\u5230\u4ee5<code>$</code>\u5f00\u5934\u7684\u5355\u8bcd\u65f6\uff0c\u5c31\u4f1a\u5c1d\u8bd5\u8bfb\u53d6\u8fd9\u4e2a\u53d8\u91cf\u540d\u5bf9\u5e94\u7684\u503c\u3002</p> <p>\u5982\u679c\u53d8\u91cf\u4e0d\u5b58\u5728\uff0cBash \u4e0d\u4f1a\u62a5\u9519\uff0c\u800c\u4f1a\u8f93\u51fa\u7a7a\u5b57\u7b26\u3002</p> <p>\u7531\u4e8e<code>$</code>\u5728 Bash \u4e2d\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u628a\u5b83\u5f53\u4f5c\u7f8e\u5143\u7b26\u53f7\u4f7f\u7528\u65f6\uff0c\u4e00\u5b9a\u8981\u975e\u5e38\u5c0f\u5fc3\uff0c</p> <pre><code>$ echo The total is $100.00\nThe total is 00.00\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u7684\u539f\u610f\u662f\u8f93\u5165<code>$100</code>\uff0c\u4f46\u662f Bash \u5c06<code>$1</code>\u89e3\u91ca\u6210\u4e86\u53d8\u91cf\uff0c\u8be5\u53d8\u91cf\u4e3a\u7a7a\uff0c\u56e0\u6b64\u8f93\u5165\u5c31\u53d8\u6210\u4e86<code>00.00</code>\u3002\u6240\u4ee5\uff0c\u5982\u679c\u8981\u4f7f\u7528<code>$</code>\u7684\u539f\u4e49\uff0c\u9700\u8981\u5728<code>$</code>\u524d\u9762\u653e\u4e0a\u53cd\u659c\u6760\uff0c\u8fdb\u884c\u8f6c\u4e49\u3002</p> <pre><code>$ echo The total is \\$100.00\nThe total is $100.00\n</code></pre> <p>\u8bfb\u53d6\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u53d8\u91cf\u540d\u4e5f\u53ef\u4ee5\u4f7f\u7528\u82b1\u62ec\u53f7<code>{}</code>\u5305\u56f4\uff0c\u6bd4\u5982<code>$a</code>\u4e5f\u53ef\u4ee5\u5199\u6210<code>${a}</code>\u3002\u8fd9\u79cd\u5199\u6cd5\u53ef\u4ee5\u7528\u4e8e\u53d8\u91cf\u540d\u4e0e\u5176\u4ed6\u5b57\u7b26\u8fde\u7528\u7684\u60c5\u51b5\u3002</p> <pre><code>$ a=foo\n$ echo $a_file\n\n$ echo ${a}_file\nfoo_file\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf\u540d<code>a_file</code>\u4e0d\u4f1a\u6709\u4efb\u4f55\u8f93\u51fa\uff0c\u56e0\u4e3a Bash \u5c06\u5176\u6574\u4e2a\u89e3\u91ca\u4e3a\u53d8\u91cf\uff0c\u800c\u8fd9\u4e2a\u53d8\u91cf\u662f\u4e0d\u5b58\u5728\u7684\u3002\u53ea\u6709\u7528\u82b1\u62ec\u53f7\u533a\u5206<code>$a</code>\uff0cBash \u624d\u80fd\u6b63\u786e\u89e3\u8bfb\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u8bfb\u53d6\u53d8\u91cf\u7684\u8bed\u6cd5<code>$foo</code>\uff0c\u53ef\u4ee5\u770b\u4f5c\u662f<code>${foo}</code>\u7684\u7b80\u5199\u5f62\u5f0f\u3002</p> <p>\u5982\u679c\u53d8\u91cf\u7684\u503c\u672c\u8eab\u4e5f\u662f\u53d8\u91cf\uff0c\u53ef\u4ee5\u4f7f\u7528<code>${!varname}</code>\u7684\u8bed\u6cd5\uff0c\u8bfb\u53d6\u6700\u7ec8\u7684\u503c\u3002</p> <pre><code>$ myvar=USER\n$ echo ${!myvar}\nruanyf\n</code></pre> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u53d8\u91cf<code>myvar</code>\u7684\u503c\u662f<code>USER</code>\uff0c<code>${!myvar}</code>\u7684\u5199\u6cd5\u5c06\u5176\u5c55\u5f00\u6210\u6700\u7ec8\u7684\u503c\u3002</p> <p>\u5982\u679c\u53d8\u91cf\u503c\u5305\u542b\u8fde\u7eed\u7a7a\u683c\uff08\u6216\u5236\u8868\u7b26\u548c\u6362\u884c\u7b26\uff09\uff0c\u6700\u597d\u653e\u5728\u53cc\u5f15\u53f7\u91cc\u9762\u8bfb\u53d6\u3002</p> <pre><code>$ a=\"1 2  3\"\n$ echo $a\n1 2 3\n$ echo \"$a\"\n1 2  3\n</code></pre> <p>\u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u53d8\u91cf<code>a</code>\u7684\u503c\u5305\u542b\u4e24\u4e2a\u8fde\u7eed\u7a7a\u683c\u3002\u5982\u679c\u76f4\u63a5\u8bfb\u53d6\uff0cShell \u4f1a\u5c06\u8fde\u7eed\u7a7a\u683c\u5408\u5e76\u6210\u4e00\u4e2a\u3002\u53ea\u6709\u653e\u5728\u53cc\u5f15\u53f7\u91cc\u9762\u8bfb\u53d6\uff0c\u624d\u80fd\u4fdd\u6301\u539f\u6765\u7684\u683c\u5f0f\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#_6","title":"\u5220\u9664\u53d8\u91cf","text":"<p><code>unset</code>\u547d\u4ee4\u7528\u6765\u5220\u9664\u4e00\u4e2a\u53d8\u91cf\u3002</p> <pre><code>unset NAME\n</code></pre> <p>\u8fd9\u4e2a\u547d\u4ee4\u4e0d\u662f\u5f88\u6709\u7528\u3002\u56e0\u4e3a\u4e0d\u5b58\u5728\u7684 Bash \u53d8\u91cf\u4e00\u5f8b\u7b49\u4e8e\u7a7a\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u5373\u4f7f<code>unset</code>\u547d\u4ee4\u5220\u9664\u4e86\u53d8\u91cf\uff0c\u8fd8\u662f\u53ef\u4ee5\u8bfb\u53d6\u8fd9\u4e2a\u53d8\u91cf\uff0c\u503c\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002</p> <p>\u6240\u4ee5\uff0c\u5220\u9664\u4e00\u4e2a\u53d8\u91cf\uff0c\u4e5f\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u53d8\u91cf\u8bbe\u6210\u7a7a\u5b57\u7b26\u4e32\u3002</p> <pre><code>$ foo=''\n$ foo=\n</code></pre> <p>\u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\uff0c\u90fd\u662f\u5220\u9664\u4e86\u53d8\u91cf<code>foo</code>\u3002\u7531\u4e8e\u4e0d\u5b58\u5728\u7684\u503c\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u540e\u4e00\u79cd\u5199\u6cd5\u53ef\u4ee5\u5728\u7b49\u53f7\u53f3\u8fb9\u4e0d\u5199\u4efb\u4f55\u503c\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#export","title":"\u8f93\u51fa\u53d8\u91cf\uff0cexport \u547d\u4ee4","text":"<p>\u7528\u6237\u521b\u5efa\u7684\u53d8\u91cf\u4ec5\u53ef\u7528\u4e8e\u5f53\u524d Shell\uff0c\u5b50 Shell \u9ed8\u8ba4\u8bfb\u53d6\u4e0d\u5230\u7236 Shell \u5b9a\u4e49\u7684\u53d8\u91cf\u3002\u4e3a\u4e86\u628a\u53d8\u91cf\u4f20\u9012\u7ed9\u5b50 Shell\uff0c\u9700\u8981\u4f7f\u7528<code>export</code>\u547d\u4ee4\u3002\u8fd9\u6837\u8f93\u51fa\u7684\u53d8\u91cf\uff0c\u5bf9\u4e8e\u5b50 Shell \u6765\u8bf4\u5c31\u662f\u73af\u5883\u53d8\u91cf\u3002</p> <p><code>export</code>\u547d\u4ee4\u7528\u6765\u5411\u5b50 Shell \u8f93\u51fa\u53d8\u91cf\u3002</p> <pre><code>NAME=foo\nexport NAME\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u8f93\u51fa\u4e86\u53d8\u91cf<code>NAME</code>\u3002\u53d8\u91cf\u7684\u8d4b\u503c\u548c\u8f93\u51fa\u4e5f\u53ef\u4ee5\u5728\u4e00\u4e2a\u6b65\u9aa4\u4e2d\u5b8c\u6210\u3002</p> <pre><code>export NAME=value\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u6267\u884c\u540e\uff0c\u5f53\u524d Shell \u53ca\u968f\u540e\u65b0\u5efa\u7684\u5b50 Shell\uff0c\u90fd\u53ef\u4ee5\u8bfb\u53d6\u53d8\u91cf<code>$NAME</code>\u3002</p> <p>\u5b50 Shell \u5982\u679c\u4fee\u6539\u7ee7\u627f\u7684\u53d8\u91cf\uff0c\u4e0d\u4f1a\u5f71\u54cd\u7236 Shell\u3002</p> <pre><code># \u8f93\u51fa\u53d8\u91cf $foo\n$ export foo=bar\n\n# \u65b0\u5efa\u5b50 Shell\n$ bash\n\n# \u8bfb\u53d6 $foo\n$ echo $foo\nbar\n\n# \u4fee\u6539\u7ee7\u627f\u7684\u53d8\u91cf\n$ foo=baz\n\n# \u9000\u51fa\u5b50 Shell\n$ exit\n\n# \u8bfb\u53d6 $foo\n$ echo $foo\nbar\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u5b50 Shell \u4fee\u6539\u4e86\u7ee7\u627f\u7684\u53d8\u91cf<code>$foo</code>\uff0c\u5bf9\u7236 Shell \u6ca1\u6709\u5f71\u54cd\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#_7","title":"\u7279\u6b8a\u53d8\u91cf","text":"<p>Bash \u63d0\u4f9b\u4e00\u4e9b\u7279\u6b8a\u53d8\u91cf\u3002\u8fd9\u4e9b\u53d8\u91cf\u7684\u503c\u7531 Shell \u63d0\u4f9b\uff0c\u7528\u6237\u4e0d\u80fd\u8fdb\u884c\u8d4b\u503c\u3002</p> <p>\uff081\uff09<code>$?</code></p> <p><code>$?</code>\u4e3a\u4e0a\u4e00\u4e2a\u547d\u4ee4\u7684\u9000\u51fa\u7801\uff0c\u7528\u6765\u5224\u65ad\u4e0a\u4e00\u4e2a\u547d\u4ee4\u662f\u5426\u6267\u884c\u6210\u529f\u3002\u8fd4\u56de\u503c\u662f<code>0</code>\uff0c\u8868\u793a\u4e0a\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u6210\u529f\uff1b\u5982\u679c\u4e0d\u662f\u96f6\uff0c\u8868\u793a\u4e0a\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u5931\u8d25\u3002</p> <pre><code>$ ls doesnotexist\nls: doesnotexist: No such file or directory\n\n$ echo $?\n1\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>ls</code>\u547d\u4ee4\u67e5\u770b\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u6587\u4ef6\uff0c\u5bfc\u81f4\u62a5\u9519\u3002<code>$?</code>\u4e3a1\uff0c\u8868\u793a\u4e0a\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u5931\u8d25\u3002</p> <p>\uff082\uff09<code>$$</code></p> <p><code>$$</code>\u4e3a\u5f53\u524d Shell \u7684\u8fdb\u7a0b ID\u3002</p> <pre><code>$ echo $$\n10662\n</code></pre> <p>\u8fd9\u4e2a\u7279\u6b8a\u53d8\u91cf\u53ef\u4ee5\u7528\u6765\u547d\u540d\u4e34\u65f6\u6587\u4ef6\u3002</p> <pre><code>LOGFILE=/tmp/output_log.$$\n</code></pre> <p>\uff083\uff09<code>$_</code></p> <p><code>$_</code>\u4e3a\u4e0a\u4e00\u4e2a\u547d\u4ee4\u7684\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u3002</p> <pre><code>$ grep dictionary /usr/share/dict/words\ndictionary\n\n$ echo $_\n/usr/share/dict/words\n</code></pre> <p>\uff084\uff09<code>$!</code></p> <p><code>$!</code>\u4e3a\u6700\u8fd1\u4e00\u4e2a\u540e\u53f0\u6267\u884c\u7684\u5f02\u6b65\u547d\u4ee4\u7684\u8fdb\u7a0b ID\u3002</p> <pre><code>$ firefox &amp;\n[1] 11064\n\n$ echo $!\n11064\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>firefox</code>\u662f\u540e\u53f0\u8fd0\u884c\u7684\u547d\u4ee4\uff0c<code>$!</code>\u8fd4\u56de\u8be5\u547d\u4ee4\u7684\u8fdb\u7a0b ID\u3002</p> <p>\uff085\uff09<code>$0</code></p> <p><code>$0</code>\u4e3a\u5f53\u524d Shell \u7684\u540d\u79f0\uff08\u5728\u547d\u4ee4\u884c\u76f4\u63a5\u6267\u884c\u65f6\uff09\u6216\u8005\u811a\u672c\u540d\uff08\u5728\u811a\u672c\u4e2d\u6267\u884c\u65f6\uff09\u3002</p> <pre><code>$ echo $0\nbash\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>$0</code>\u8fd4\u56de\u5f53\u524d\u8fd0\u884c\u7684\u662f Bash\u3002</p> <p>\uff086\uff09<code>$-</code></p> <p><code>$-</code>\u4e3a\u5f53\u524d Shell \u7684\u542f\u52a8\u53c2\u6570\u3002</p> <pre><code>$ echo $-\nhimBHs\n</code></pre> <p>\uff087\uff09<code>$@</code>\u548c<code>$#</code></p> <p><code>$#</code>\u8868\u793a\u811a\u672c\u7684\u53c2\u6570\u6570\u91cf\uff0c<code>$@</code>\u8868\u793a\u811a\u672c\u7684\u53c2\u6570\u503c\uff0c\u53c2\u89c1\u811a\u672c\u4e00\u7ae0\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#_8","title":"\u53d8\u91cf\u7684\u9ed8\u8ba4\u503c","text":"<p>Bash \u63d0\u4f9b\u56db\u4e2a\u7279\u6b8a\u8bed\u6cd5\uff0c\u8ddf\u53d8\u91cf\u7684\u9ed8\u8ba4\u503c\u6709\u5173\uff0c\u76ee\u7684\u662f\u4fdd\u8bc1\u53d8\u91cf\u4e0d\u4e3a\u7a7a\u3002</p> <pre><code>${varname:-word}\n</code></pre> <p>\u4e0a\u9762\u8bed\u6cd5\u7684\u542b\u4e49\u662f\uff0c\u5982\u679c\u53d8\u91cf<code>varname</code>\u5b58\u5728\u4e14\u4e0d\u4e3a\u7a7a\uff0c\u5219\u8fd4\u56de\u5b83\u7684\u503c\uff0c\u5426\u5219\u8fd4\u56de<code>word</code>\u3002\u5b83\u7684\u76ee\u7684\u662f\u8fd4\u56de\u4e00\u4e2a\u9ed8\u8ba4\u503c\uff0c\u6bd4\u5982<code>${count:-0}</code>\u8868\u793a\u53d8\u91cf<code>count</code>\u4e0d\u5b58\u5728\u65f6\u8fd4\u56de<code>0</code>\u3002</p> <pre><code>${varname:=word}\n</code></pre> <p>\u4e0a\u9762\u8bed\u6cd5\u7684\u542b\u4e49\u662f\uff0c\u5982\u679c\u53d8\u91cf<code>varname</code>\u5b58\u5728\u4e14\u4e0d\u4e3a\u7a7a\uff0c\u5219\u8fd4\u56de\u5b83\u7684\u503c\uff0c\u5426\u5219\u5c06\u5b83\u8bbe\u4e3a<code>word</code>\uff0c\u5e76\u4e14\u8fd4\u56de<code>word</code>\u3002\u5b83\u7684\u76ee\u7684\u662f\u8bbe\u7f6e\u53d8\u91cf\u7684\u9ed8\u8ba4\u503c\uff0c\u6bd4\u5982<code>${count:=0}</code>\u8868\u793a\u53d8\u91cf<code>count</code>\u4e0d\u5b58\u5728\u65f6\u8fd4\u56de<code>0</code>\uff0c\u4e14\u5c06<code>count</code>\u8bbe\u4e3a<code>0</code>\u3002</p> <pre><code>${varname:+word}\n</code></pre> <p>\u4e0a\u9762\u8bed\u6cd5\u7684\u542b\u4e49\u662f\uff0c\u5982\u679c\u53d8\u91cf\u540d\u5b58\u5728\u4e14\u4e0d\u4e3a\u7a7a\uff0c\u5219\u8fd4\u56de<code>word</code>\uff0c\u5426\u5219\u8fd4\u56de\u7a7a\u503c\u3002\u5b83\u7684\u76ee\u7684\u662f\u6d4b\u8bd5\u53d8\u91cf\u662f\u5426\u5b58\u5728\uff0c\u6bd4\u5982<code>${count:+1}</code>\u8868\u793a\u53d8\u91cf<code>count</code>\u5b58\u5728\u65f6\u8fd4\u56de<code>1</code>\uff08\u8868\u793a<code>true</code>\uff09\uff0c\u5426\u5219\u8fd4\u56de\u7a7a\u503c\u3002</p> <pre><code>${varname:?message}\n</code></pre> <p>\u4e0a\u9762\u8bed\u6cd5\u7684\u542b\u4e49\u662f\uff0c\u5982\u679c\u53d8\u91cf<code>varname</code>\u5b58\u5728\u4e14\u4e0d\u4e3a\u7a7a\uff0c\u5219\u8fd4\u56de\u5b83\u7684\u503c\uff0c\u5426\u5219\u6253\u5370\u51fa<code>varname: message</code>\uff0c\u5e76\u4e2d\u65ad\u811a\u672c\u7684\u6267\u884c\u3002\u5982\u679c\u7701\u7565\u4e86<code>message</code>\uff0c\u5219\u8f93\u51fa\u9ed8\u8ba4\u7684\u4fe1\u606f\u201cparameter null or not set.\u201d\u3002\u5b83\u7684\u76ee\u7684\u662f\u9632\u6b62\u53d8\u91cf\u672a\u5b9a\u4e49\uff0c\u6bd4\u5982<code>${count:?\"undefined!\"}</code>\u8868\u793a\u53d8\u91cf<code>count</code>\u672a\u5b9a\u4e49\u65f6\u5c31\u4e2d\u65ad\u6267\u884c\uff0c\u629b\u51fa\u9519\u8bef\uff0c\u8fd4\u56de\u7ed9\u5b9a\u7684\u62a5\u9519\u4fe1\u606f<code>undefined!</code>\u3002</p> <p>\u4e0a\u9762\u56db\u79cd\u8bed\u6cd5\u5982\u679c\u7528\u5728\u811a\u672c\u4e2d\uff0c\u53d8\u91cf\u540d\u7684\u90e8\u5206\u53ef\u4ee5\u7528\u6570\u5b57<code>1</code>\u5230<code>9</code>\uff0c\u8868\u793a\u811a\u672c\u7684\u53c2\u6570\u3002</p> <pre><code>filename=${1:?\"filename missing.\"}\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u51fa\u73b0\u5728\u811a\u672c\u4e2d\uff0c<code>1</code>\u8868\u793a\u811a\u672c\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002\u5982\u679c\u8be5\u53c2\u6570\u4e0d\u5b58\u5728\uff0c\u5c31\u9000\u51fa\u811a\u672c\u5e76\u62a5\u9519\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#declare","title":"declare \u547d\u4ee4","text":"<p><code>declare</code>\u547d\u4ee4\u53ef\u4ee5\u58f0\u660e\u4e00\u4e9b\u7279\u6b8a\u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u4e3a\u53d8\u91cf\u8bbe\u7f6e\u4e00\u4e9b\u9650\u5236\uff0c\u6bd4\u5982\u58f0\u660e\u53ea\u8bfb\u7c7b\u578b\u7684\u53d8\u91cf\u548c\u6574\u6570\u7c7b\u578b\u7684\u53d8\u91cf\u3002</p> <p>\u5b83\u7684\u8bed\u6cd5\u5f62\u5f0f\u5982\u4e0b\u3002</p> <pre><code>declare OPTION VARIABLE=value\n</code></pre> <p><code>declare</code>\u547d\u4ee4\u7684\u4e3b\u8981\u53c2\u6570\uff08OPTION\uff09\u5982\u4e0b\u3002</p> <ul> <li><code>-a</code>\uff1a\u58f0\u660e\u6570\u7ec4\u53d8\u91cf\u3002</li> <li><code>-f</code>\uff1a\u8f93\u51fa\u6240\u6709\u51fd\u6570\u5b9a\u4e49\u3002</li> <li><code>-F</code>\uff1a\u8f93\u51fa\u6240\u6709\u51fd\u6570\u540d\u3002</li> <li><code>-i</code>\uff1a\u58f0\u660e\u6574\u6570\u53d8\u91cf\u3002</li> <li><code>-l</code>\uff1a\u58f0\u660e\u53d8\u91cf\u4e3a\u5c0f\u5199\u5b57\u6bcd\u3002</li> <li><code>-p</code>\uff1a\u67e5\u770b\u53d8\u91cf\u4fe1\u606f\u3002</li> <li><code>-r</code>\uff1a\u58f0\u660e\u53ea\u8bfb\u53d8\u91cf\u3002</li> <li><code>-u</code>\uff1a\u58f0\u660e\u53d8\u91cf\u4e3a\u5927\u5199\u5b57\u6bcd\u3002</li> <li><code>-x</code>\uff1a\u8be5\u53d8\u91cf\u8f93\u51fa\u4e3a\u73af\u5883\u53d8\u91cf\u3002</li> </ul> <p><code>declare</code>\u547d\u4ee4\u5982\u679c\u7528\u5728\u51fd\u6570\u4e2d\uff0c\u58f0\u660e\u7684\u53d8\u91cf\u53ea\u5728\u51fd\u6570\u5185\u90e8\u6709\u6548\uff0c\u7b49\u540c\u4e8e<code>local</code>\u547d\u4ee4\u3002</p> <p>\u4e0d\u5e26\u4efb\u4f55\u53c2\u6570\u65f6\uff0c<code>declare</code>\u547d\u4ee4\u8f93\u51fa\u5f53\u524d\u73af\u5883\u7684\u6240\u6709\u53d8\u91cf\uff0c\u5305\u62ec\u51fd\u6570\u5728\u5185\uff0c\u7b49\u540c\u4e8e\u4e0d\u5e26\u6709\u4efb\u4f55\u53c2\u6570\u7684<code>set</code>\u547d\u4ee4\u3002</p> <pre><code>$ declare\n</code></pre> <p>\uff081\uff09<code>-i</code>\u53c2\u6570</p> <p><code>-i</code>\u53c2\u6570\u58f0\u660e\u6574\u6570\u53d8\u91cf\u4ee5\u540e\uff0c\u53ef\u4ee5\u76f4\u63a5\u8fdb\u884c\u6570\u5b66\u8fd0\u7b97\u3002</p> <pre><code>$ declare -i val1=12 val2=5\n$ declare -i result\n$ result=val1*val2\n$ echo $result\n60\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u53d8\u91cf<code>result</code>\u4e0d\u58f0\u660e\u4e3a\u6574\u6570\uff0c<code>val1*val2</code>\u4f1a\u88ab\u5f53\u4f5c\u5b57\u9762\u91cf\uff0c\u4e0d\u4f1a\u8fdb\u884c\u6574\u6570\u8fd0\u7b97\u3002\u53e6\u5916\uff0c<code>val1</code>\u548c<code>val2</code>\u5176\u5b9e\u4e0d\u9700\u8981\u58f0\u660e\u4e3a\u6574\u6570\uff0c\u56e0\u4e3a\u53ea\u8981<code>result</code>\u58f0\u660e\u4e3a\u6574\u6570\uff0c\u5b83\u7684\u8d4b\u503c\u5c31\u4f1a\u81ea\u52a8\u89e3\u91ca\u4e3a\u6574\u6570\u8fd0\u7b97\u3002</p> <p>\u6ce8\u610f\uff0c\u4e00\u4e2a\u53d8\u91cf\u58f0\u660e\u4e3a\u6574\u6570\u4ee5\u540e\uff0c\u4f9d\u7136\u53ef\u4ee5\u88ab\u6539\u5199\u4e3a\u5b57\u7b26\u4e32\u3002</p> <pre><code>$ declare -i var=12\n$ var=foo\n$ echo $var\n0\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u53d8\u91cf<code>var</code>\u58f0\u660e\u4e3a\u6574\u6570\uff0c\u8986\u76d6\u4ee5\u540e\uff0cBash \u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u4f1a\u8d4b\u4ee5\u4e0d\u786e\u5b9a\u7684\u503c\uff0c\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\u53ef\u80fd\u8f93\u51fa0\uff0c\u4e5f\u53ef\u80fd\u8f93\u51fa\u7684\u662f3\u3002</p> <p>\uff082\uff09<code>-x</code>\u53c2\u6570</p> <p><code>-x</code>\u53c2\u6570\u7b49\u540c\u4e8e<code>export</code>\u547d\u4ee4\uff0c\u53ef\u4ee5\u8f93\u51fa\u4e00\u4e2a\u53d8\u91cf\u4e3a\u5b50 Shell \u7684\u73af\u5883\u53d8\u91cf\u3002</p> <pre><code>$ declare -x foo\n# \u7b49\u540c\u4e8e\n$ export foo\n</code></pre> <p>\uff083\uff09<code>-r</code>\u53c2\u6570</p> <p><code>-r</code>\u53c2\u6570\u53ef\u4ee5\u58f0\u660e\u53ea\u8bfb\u53d8\u91cf\uff0c\u65e0\u6cd5\u6539\u53d8\u53d8\u91cf\u503c\uff0c\u4e5f\u4e0d\u80fd<code>unset</code>\u53d8\u91cf\u3002</p> <pre><code>$ declare -r bar=1\n\n$ bar=2\nbash: bar\uff1a\u53ea\u8bfb\u53d8\u91cf\n$ echo $?\n1\n\n$ unset bar\nbash: bar\uff1a\u53ea\u8bfb\u53d8\u91cf\n$ echo $?\n1\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u540e\u4e24\u4e2a\u8d4b\u503c\u8bed\u53e5\u90fd\u4f1a\u62a5\u9519\uff0c\u547d\u4ee4\u6267\u884c\u5931\u8d25\u3002</p> <p>\uff084\uff09<code>-u</code>\u53c2\u6570</p> <p><code>-u</code>\u53c2\u6570\u58f0\u660e\u53d8\u91cf\u4e3a\u5927\u5199\u5b57\u6bcd\uff0c\u53ef\u4ee5\u81ea\u52a8\u628a\u53d8\u91cf\u503c\u8f6c\u6210\u5927\u5199\u5b57\u6bcd\u3002</p> <pre><code>$ declare -u foo\n$ foo=upper\n$ echo $foo\nUPPER\n</code></pre> <p>\uff085\uff09<code>-l</code>\u53c2\u6570</p> <p><code>-l</code>\u53c2\u6570\u58f0\u660e\u53d8\u91cf\u4e3a\u5c0f\u5199\u5b57\u6bcd\uff0c\u53ef\u4ee5\u81ea\u52a8\u628a\u53d8\u91cf\u503c\u8f6c\u6210\u5c0f\u5199\u5b57\u6bcd\u3002</p> <pre><code>$ declare -l bar\n$ bar=LOWER\n$ echo $bar\nlower\n</code></pre> <p>\uff086\uff09<code>-p</code>\u53c2\u6570</p> <p><code>-p</code>\u53c2\u6570\u8f93\u51fa\u53d8\u91cf\u4fe1\u606f\u3002</p> <pre><code>$ foo=hello\n$ declare -p foo\ndeclare -- foo=\"hello\"\n$ declare -p bar\nbar\uff1a\u672a\u627e\u5230\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>declare -p</code>\u53ef\u4ee5\u8f93\u51fa\u5df2\u5b9a\u4e49\u53d8\u91cf\u7684\u503c\uff0c\u5bf9\u4e8e\u672a\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u4f1a\u63d0\u793a\u627e\u4e0d\u5230\u3002</p> <p>\u5982\u679c\u4e0d\u63d0\u4f9b\u53d8\u91cf\u540d\uff0c<code>declare -p</code>\u8f93\u51fa\u6240\u6709\u53d8\u91cf\u7684\u4fe1\u606f\u3002</p> <pre><code>$ declare -p\n</code></pre> <p>\uff087\uff09<code>-f</code>\u53c2\u6570</p> <p><code>-f</code>\u53c2\u6570\u8f93\u51fa\u5f53\u524d\u73af\u5883\u7684\u6240\u6709\u51fd\u6570\uff0c\u5305\u62ec\u5b83\u7684\u5b9a\u4e49\u3002</p> <pre><code>$ declare -f\n</code></pre> <p>\uff088\uff09<code>-F</code>\u53c2\u6570</p> <p><code>-F</code>\u53c2\u6570\u8f93\u51fa\u5f53\u524d\u73af\u5883\u7684\u6240\u6709\u51fd\u6570\u540d\uff0c\u4e0d\u5305\u542b\u51fd\u6570\u5b9a\u4e49\u3002</p> <pre><code>$ declare -F\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#readonly","title":"readonly \u547d\u4ee4","text":"<p><code>readonly</code>\u547d\u4ee4\u7b49\u540c\u4e8e<code>declare -r</code>\uff0c\u7528\u6765\u58f0\u660e\u53ea\u8bfb\u53d8\u91cf\uff0c\u4e0d\u80fd\u6539\u53d8\u53d8\u91cf\u503c\uff0c\u4e5f\u4e0d\u80fd<code>unset</code>\u53d8\u91cf\u3002</p> <pre><code>$ readonly foo=1\n$ foo=2\nbash: foo\uff1a\u53ea\u8bfb\u53d8\u91cf\n$ echo $?\n1\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u66f4\u6539\u53ea\u8bfb\u53d8\u91cf<code>foo</code>\u4f1a\u62a5\u9519\uff0c\u547d\u4ee4\u6267\u884c\u5931\u8d25\u3002</p> <p><code>readonly</code>\u547d\u4ee4\u6709\u4e09\u4e2a\u53c2\u6570\u3002</p> <ul> <li><code>-f</code>\uff1a\u58f0\u660e\u7684\u53d8\u91cf\u4e3a\u51fd\u6570\u540d\u3002</li> <li><code>-p</code>\uff1a\u6253\u5370\u51fa\u6240\u6709\u7684\u53ea\u8bfb\u53d8\u91cf\u3002</li> <li><code>-a</code>\uff1a\u58f0\u660e\u7684\u53d8\u91cf\u4e3a\u6570\u7ec4\u3002</li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#let","title":"let \u547d\u4ee4","text":"<p><code>let</code>\u547d\u4ee4\u58f0\u660e\u53d8\u91cf\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u6267\u884c\u7b97\u672f\u8868\u8fbe\u5f0f\u3002</p> <pre><code>$ let foo=1+2\n$ echo $foo\n3\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>let</code>\u547d\u4ee4\u53ef\u4ee5\u76f4\u63a5\u8ba1\u7b97<code>1 + 2</code>\u3002</p> <p><code>let</code>\u547d\u4ee4\u7684\u53c2\u6570\u8868\u8fbe\u5f0f\u5982\u679c\u5305\u542b\u7a7a\u683c\uff0c\u5c31\u9700\u8981\u4f7f\u7528\u5f15\u53f7\u3002</p> <pre><code>$ let \"foo = 1 + 2\"\n</code></pre> <p><code>let</code>\u53ef\u4ee5\u540c\u65f6\u5bf9\u591a\u4e2a\u53d8\u91cf\u8d4b\u503c\uff0c\u8d4b\u503c\u8868\u8fbe\u5f0f\u4e4b\u95f4\u4f7f\u7528\u7a7a\u683c\u5206\u9694\u3002</p> <pre><code>$ let \"v1 = 1\" \"v2 = v1++\"\n$ echo $v1,$v2\n2,1\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>let</code>\u58f0\u660e\u4e86\u4e24\u4e2a\u53d8\u91cf<code>v1</code>\u548c<code>v2</code>\uff0c\u5176\u4e2d<code>v2</code>\u7b49\u4e8e<code>v1++</code>\uff0c\u8868\u793a\u5148\u8fd4\u56de<code>v1</code>\u7684\u503c\uff0c\u7136\u540e<code>v1</code>\u81ea\u589e\u3002</p> <p>\u8fd9\u79cd\u8bed\u6cd5\u652f\u6301\u7684\u8fd0\u7b97\u7b26\uff0c\u53c2\u8003\u300aBash \u7684\u7b97\u672f\u8fd0\u7b97\u300b\u4e00\u7ae0\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Bash%E5%9F%BA%E7%A1%80/05_Bash%20%E5%8F%98%E9%87%8F.html#_9","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Bash \u53d8\u91cf</li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/CentOS%207%20%E5%8D%87%E7%BA%A7%20GCC%2011.html","title":"CentOS 7 \u5347\u7ea7 GCC 11","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/CentOS%207%20%E5%8D%87%E7%BA%A7%20GCC%2011.html#yum","title":"\u8bbe\u7f6eyum\u6e90","text":"<p>\u9996\u5148\u8bbe\u7f6eSCLO yum\u6e90\u4e3a\u963f\u91cc\u4e91\u7684yum\u6e90</p> <pre><code>vim /etc/yum.repos.d/CentOS-SCLo-rh.repo\n</code></pre> <p>\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code># CentOS-SCLo-rh.repo\n#\n# Please see http://wiki.centos.org/SpecialInterestGroup/SCLo for more\n# information\n\n[centos-sclo-rh]\nname=CentOS-7 - SCLo rh\nbaseurl=http://mirrors.aliyun.com/centos/7/sclo/$basearch/rh/\ngpgcheck=1\nenabled=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo\n\n[centos-sclo-rh-testing]\nname=CentOS-7 - SCLo rh Testing\nbaseurl=http://mirrors.aliyun.com/centos/7/sclo/$basearch/rh/\ngpgcheck=0\nenabled=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo\n\n[centos-sclo-rh-source]\nname=CentOS-7 - SCLo rh Sources\nbaseurl=http://vault.centos.org/centos/7/sclo/Source/rh/\ngpgcheck=1\nenabled=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo\n\n[centos-sclo-rh-debuginfo]\nname=CentOS-7 - SCLo rh Debuginfo\nbaseurl=http://debuginfo.centos.org/centos/7/sclo/$basearch/\ngpgcheck=1\nenabled=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo\n</code></pre> <p>\u7136\u540e\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u66f4\u65b0<code>yum</code>\u6e90\uff1a</p> <pre><code>yum update -y\nyum makecache\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/CentOS%207%20%E5%8D%87%E7%BA%A7%20GCC%2011.html#gcc","title":"\u5378\u8f7d\u65e7\u7684gcc","text":"<p>\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u4f1a\u5c06<code>gcc</code>,<code>g++</code>,<code>gdb</code>\u90fd\u5378\u8f7d\u6389\u3002</p> <pre><code>yum remove gcc\n</code></pre> <p>\u5378\u8f7d\u4e4b\u540e\u53ef\u4ee5\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u770b\u662f\u5426\u5378\u8f7d\u6210\u529f\u3002</p> <pre><code>[root@gpu01 ~]# gcc -v\n-bash: /bin/gcc: No such file or directory\n[root@gpu01 ~]# g++ -v\n-bash: /bin/g++: No such file or directory\n[root@gpu01 ~]# gdb -v\n-bash: gdb: command not found\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/CentOS%207%20%E5%8D%87%E7%BA%A7%20GCC%2011.html#gcc_1","title":"\u5b89\u88c5\u65b0\u7684gcc","text":"<p>\u9996\u5148\u901a\u8fc7<code>yum</code>\u67e5\u770b SCL \u8f6f\u4ef6\u6e90\u63d0\u4f9b\u4e86\u54ea\u4e9b\u8f6f\u4ef6\u96c6\uff1a</p> <pre><code>yum list all --enablerepo='centos-sclo-rh' | grep \"devtoolset-11\"\n</code></pre> <p></p> <p>\u5b89\u88c5\u9700\u8981\u7684\u5de5\u5177\u94fe\uff08\u5982\u679c\u9700\u8981\u5b89\u88c5gcc 11\uff0c\u5c31\u4e0bdevtoolset-11-toolchain\uff1b\u5982\u679c\u9700\u8981\u5b89\u88c5gcc10\uff0c\u5c31\u4e0bdevtoolset-10-toolchain\uff1bgcc 9\u3001gcc 8\u7b49\u4ee5\u6b64\u7c7b\u63a8</p> <pre><code># \u76f4\u63a5\u4e0b\u8f7d\u5f00\u53d1\u7684\u5de5\u5177\u94fe\uff0c\u5b83\u4f1a\u81ea\u52a8\u628a gcc, gcc-c++, make, gdb \u7b49\u4f9d\u8d56\u4e5f\u90fd\u5b8c\u6574\u4e0b\u8f7d\u4e0b\u6765 \nsudo yum install -y devtoolset-11-toolchain\n</code></pre> <p>\u542f\u7528\u9ad8\u7248\u672c gcc</p> <pre><code># \u542f\u7528\u5bf9\u5e94\u7248\u672c\u7684\u5de5\u5177\u94fe\nsudo scl enable devtoolset-11 bash\n# \u67e5\u770b\u7248\u672c\u4fe1\u606f\ngcc -v\n</code></pre> <p>\u67e5\u770b\u7248\u672c\u4fe1\u606f\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code># \u67e5\u770b GCC \u7248\u672c\n(dis) [root@gpu01 ~]# gcc -v\nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/opt/rh/devtoolset-11/root/usr/libexec/gcc/x86_64-redhat-linux/11/lto-wrapper\nTarget: x86_64-redhat-linux\nConfigured with: ../configure --enable-bootstrap --enable-languages=c,c++,fortran,lto --prefix=/opt/rh/devtoolset-11/root/usr --mandir=/opt/rh/devtoolset-11/root/usr/share/man --infodir=/opt/rh/devtoolset-11/root/usr/share/info --with-bugurl=http://bugzilla.redhat.com/bugzilla --enable-shared --enable-threads=posix --enable-checking=release --enable-multilib --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-linker-build-id --with-gcc-major-version-only --with-linker-hash-style=gnu --with-default-libstdcxx-abi=gcc4-compatible --enable-plugin --enable-initfini-array --with-isl=/builddir/build/BUILD/gcc-11.2.1-20220127/obj-x86_64-redhat-linux/isl-install --enable-gnu-indirect-function --with-tune=generic --with-arch_32=x86-64 --build=x86_64-redhat-linux\nThread model: posix\nSupported LTO compression algorithms: zlib\ngcc version 11.2.1 20220127 (Red Hat 11.2.1-9) (GCC) \n\n# \u67e5\u770b G++ \u7248\u672c\n(dis) [root@gpu01 ~]# g++ -v\nUsing built-in specs.\nCOLLECT_GCC=g++\nCOLLECT_LTO_WRAPPER=/opt/rh/devtoolset-11/root/usr/libexec/gcc/x86_64-redhat-linux/11/lto-wrapper\nTarget: x86_64-redhat-linux\nConfigured with: ../configure --enable-bootstrap --enable-languages=c,c++,fortran,lto --prefix=/opt/rh/devtoolset-11/root/usr --mandir=/opt/rh/devtoolset-11/root/usr/share/man --infodir=/opt/rh/devtoolset-11/root/usr/share/info --with-bugurl=http://bugzilla.redhat.com/bugzilla --enable-shared --enable-threads=posix --enable-checking=release --enable-multilib --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-linker-build-id --with-gcc-major-version-only --with-linker-hash-style=gnu --with-default-libstdcxx-abi=gcc4-compatible --enable-plugin --enable-initfini-array --with-isl=/builddir/build/BUILD/gcc-11.2.1-20220127/obj-x86_64-redhat-linux/isl-install --enable-gnu-indirect-function --with-tune=generic --with-arch_32=x86-64 --build=x86_64-redhat-linux\nThread model: posix\nSupported LTO compression algorithms: zlib\ngcc version 11.2.1 20220127 (Red Hat 11.2.1-9) (GCC) \n\n# \u67e5\u770b GDB \u7248\u672c\n(dis) [root@gpu01 ~]# gdb -v\nGNU gdb (GDB) Red Hat Enterprise Linux 10.2-6.el7\nCopyright (C) 2021 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E7%A1%80.html","title":"Linux\u547d\u4ee4\u57fa\u7840","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E7%A1%80.html#_1","title":"\u547d\u4ee4\u683c\u5f0f","text":"<p>\u547d\u4ee4\u884c\u73af\u5883\u4e2d\uff0c\u4e3b\u8981\u901a\u8fc7\u4f7f\u7528 Shell \u547d\u4ee4\uff0c\u8fdb\u884c\u5404\u79cd\u64cd\u4f5c\u3002Shell \u547d\u4ee4\u57fa\u672c\u90fd\u662f\u4e0b\u9762\u7684\u683c\u5f0f\u3002</p> <pre><code>$ command [ arg1 ... [ argN ]]\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>command</code>\u662f\u5177\u4f53\u7684\u547d\u4ee4\u6216\u8005\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\uff0c<code>arg1 ... argN</code>\u662f\u4f20\u9012\u7ed9\u547d\u4ee4\u7684\u53c2\u6570\uff0c\u5b83\u4eec\u662f\u53ef\u9009\u7684\u3002</p> <pre><code>$ ls -l\n</code></pre> <p>\u4e0a\u9762\u8fd9\u4e2a\u547d\u4ee4\u4e2d\uff0c<code>ls</code>\u662f\u547d\u4ee4\uff0c<code>-l</code>\u662f\u53c2\u6570\u3002</p> <p>\u6709\u4e9b\u53c2\u6570\u662f\u547d\u4ee4\u7684\u914d\u7f6e\u9879\uff0c\u8fd9\u4e9b\u914d\u7f6e\u9879\u4e00\u822c\u90fd\u4ee5\u4e00\u4e2a\u8fde\u8bcd\u7ebf\u5f00\u5934\uff0c\u6bd4\u5982\u4e0a\u9762\u7684<code>-l</code>\u3002\u540c\u4e00\u4e2a\u914d\u7f6e\u9879\u5f80\u5f80\u6709\u957f\u548c\u77ed\u4e24\u79cd\u5f62\u5f0f\uff0c\u6bd4\u5982<code>-l</code>\u662f\u77ed\u5f62\u5f0f\uff0c<code>--list</code>\u662f\u957f\u5f62\u5f0f\uff0c\u5b83\u4eec\u7684\u4f5c\u7528\u5b8c\u5168\u76f8\u540c\u3002\u77ed\u5f62\u5f0f\u4fbf\u4e8e\u624b\u52a8\u8f93\u5165\uff0c\u957f\u5f62\u5f0f\u4e00\u822c\u7528\u5728\u811a\u672c\u4e4b\u4e2d\uff0c\u53ef\u8bfb\u6027\u66f4\u597d\uff0c\u5229\u4e8e\u89e3\u91ca\u81ea\u8eab\u7684\u542b\u4e49\u3002</p> <pre><code># \u77ed\u5f62\u5f0f\n$ ls -r\n\n# \u957f\u5f62\u5f0f\n$ ls --reverse\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c<code>-r</code>\u662f\u77ed\u5f62\u5f0f\uff0c<code>--reverse</code>\u662f\u957f\u5f62\u5f0f\uff0c\u4f5c\u7528\u5b8c\u5168\u4e00\u6837\u3002\u524d\u8005\u4fbf\u4e8e\u8f93\u5165\uff0c\u540e\u8005\u4fbf\u4e8e\u7406\u89e3\u3002</p> <p>Bash \u5355\u4e2a\u547d\u4ee4\u4e00\u822c\u90fd\u662f\u4e00\u884c\uff0c\u7528\u6237\u6309\u4e0b\u56de\u8f66\u952e\uff0c\u5c31\u5f00\u59cb\u6267\u884c\u3002\u6709\u4e9b\u547d\u4ee4\u6bd4\u8f83\u957f\uff0c\u5199\u6210\u591a\u884c\u4f1a\u6709\u5229\u4e8e\u9605\u8bfb\u548c\u7f16\u8f91\uff0c\u8fd9\u65f6\u53ef\u4ee5\u5728\u6bcf\u4e00\u884c\u7684\u7ed3\u5c3e\u52a0\u4e0a\u53cd\u659c\u6760\uff0cBash \u5c31\u4f1a\u5c06\u4e0b\u4e00\u884c\u8ddf\u5f53\u524d\u884c\u653e\u5728\u4e00\u8d77\u89e3\u91ca\u3002</p> <pre><code>$ echo foo bar\n\n# \u7b49\u540c\u4e8e\n$ echo foo \\\nbar\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E7%A1%80.html#_2","title":"\u7a7a\u683c","text":"<p>Bash \u4f7f\u7528\u7a7a\u683c\uff08\u6216 Tab \u952e\uff09\u533a\u5206\u4e0d\u540c\u7684\u53c2\u6570\u3002</p> <pre><code>$ command foo bar\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c<code>foo</code>\u548c<code>bar</code>\u4e4b\u95f4\u6709\u4e00\u4e2a\u7a7a\u683c\uff0c\u6240\u4ee5 Bash \u8ba4\u4e3a\u5b83\u4eec\u662f\u4e24\u4e2a\u53c2\u6570\u3002</p> <p>\u5982\u679c\u53c2\u6570\u4e4b\u95f4\u6709\u591a\u4e2a\u7a7a\u683c\uff0cBash \u4f1a\u81ea\u52a8\u5ffd\u7565\u591a\u4f59\u7684\u7a7a\u683c\u3002</p> <pre><code>$ echo this is a     test\nthis is a test\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c<code>a</code>\u548c<code>test</code>\u4e4b\u95f4\u6709\u591a\u4e2a\u7a7a\u683c\uff0cBash \u4f1a\u5ffd\u7565\u591a\u4f59\u7684\u7a7a\u683c\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E7%A1%80.html#_3","title":"\u5206\u53f7","text":"<p>\u5206\u53f7\uff08<code>;</code>\uff09\u662f\u547d\u4ee4\u7684\u7ed3\u675f\u7b26\uff0c\u4f7f\u5f97\u4e00\u884c\u53ef\u4ee5\u653e\u7f6e\u591a\u4e2a\u547d\u4ee4\uff0c\u4e0a\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u7ed3\u675f\u540e\uff0c\u518d\u6267\u884c\u7b2c\u4e8c\u4e2a\u547d\u4ee4\u3002</p> <pre><code>$ clear; ls\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0cBash \u5148\u6267\u884c<code>clear</code>\u547d\u4ee4\uff0c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u518d\u6267\u884c<code>ls</code>\u547d\u4ee4\u3002</p> <p>\u6ce8\u610f\uff0c\u4f7f\u7528\u5206\u53f7\u65f6\uff0c\u7b2c\u4e8c\u4e2a\u547d\u4ee4\u603b\u662f\u63a5\u7740\u7b2c\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\uff0c\u4e0d\u7ba1\u7b2c\u4e00\u4e2a\u547d\u4ee4\u6267\u884c\u6210\u529f\u6216\u5931\u8d25\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E7%A1%80.html#_4","title":"\u547d\u4ee4\u7684\u7ec4\u5408\u7b26<code>&amp;&amp;</code>\u548c<code>||</code>","text":"<p>\u9664\u4e86\u5206\u53f7\uff0cBash \u8fd8\u63d0\u4f9b\u4e24\u4e2a\u547d\u4ee4\u7ec4\u5408\u7b26<code>&amp;&amp;</code>\u548c<code>||</code>\uff0c\u5141\u8bb8\u66f4\u597d\u5730\u63a7\u5236\u591a\u4e2a\u547d\u4ee4\u4e4b\u95f4\u7684\u7ee7\u53d1\u5173\u7cfb\u3002</p> <pre><code>Command1 &amp;&amp; Command2\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u7684\u610f\u601d\u662f\uff0c\u5982\u679c<code>Command1</code>\u547d\u4ee4\u8fd0\u884c\u6210\u529f\uff0c\u5219\u7ee7\u7eed\u8fd0\u884c<code>Command2</code>\u547d\u4ee4\u3002</p> <pre><code>Command1 || Command2\n</code></pre> <p>\u4e0a\u9762\u547d\u4ee4\u7684\u610f\u601d\u662f\uff0c\u5982\u679c<code>Command1</code>\u547d\u4ee4\u8fd0\u884c\u5931\u8d25\uff0c\u5219\u7ee7\u7eed\u8fd0\u884c<code>Command2</code>\u547d\u4ee4\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u4f8b\u5b50\u3002</p> <pre><code>$ cat filelist.txt ; ls -l filelist.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u53ea\u8981<code>cat</code>\u547d\u4ee4\u6267\u884c\u7ed3\u675f\uff0c\u4e0d\u7ba1\u6210\u529f\u6216\u5931\u8d25\uff0c\u90fd\u4f1a\u7ee7\u7eed\u6267\u884c<code>ls</code>\u547d\u4ee4\u3002</p> <pre><code>$ cat filelist.txt &amp;&amp; ls -l filelist.txt\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u53ea\u6709<code>cat</code>\u547d\u4ee4\u6267\u884c\u6210\u529f\uff0c\u624d\u4f1a\u7ee7\u7eed\u6267\u884c<code>ls</code>\u547d\u4ee4\u3002\u5982\u679c<code>cat</code>\u6267\u884c\u5931\u8d25\uff08\u6bd4\u5982\u4e0d\u5b58\u5728\u6587\u4ef6<code>flielist.txt</code>\uff09\uff0c\u90a3\u4e48<code>ls</code>\u547d\u4ee4\u5c31\u4e0d\u4f1a\u6267\u884c\u3002</p> <pre><code>$ mkdir foo || mkdir bar\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u53ea\u6709<code>mkdir foo</code>\u547d\u4ee4\u6267\u884c\u5931\u8d25\uff08\u6bd4\u5982<code>foo</code>\u76ee\u5f55\u5df2\u7ecf\u5b58\u5728\uff09\uff0c\u624d\u4f1a\u7ee7\u7eed\u6267\u884c<code>mkdir bar</code>\u547d\u4ee4\u3002\u5982\u679c<code>mkdir foo</code>\u547d\u4ee4\u6267\u884c\u6210\u529f\uff0c\u5c31\u4e0d\u4f1a\u521b\u5efa<code>bar</code>\u76ee\u5f55\u4e86\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E7%A1%80.html#type","title":"type \u547d\u4ee4","text":"<p>Bash \u672c\u8eab\u5185\u7f6e\u4e86\u5f88\u591a\u547d\u4ee4\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u6267\u884c\u5916\u90e8\u7a0b\u5e8f\u3002\u600e\u4e48\u77e5\u9053\u4e00\u4e2a\u547d\u4ee4\u662f\u5185\u7f6e\u547d\u4ee4\uff0c\u8fd8\u662f\u5916\u90e8\u7a0b\u5e8f\u5462\uff1f</p> <p><code>type</code>\u547d\u4ee4\u7528\u6765\u5224\u65ad\u547d\u4ee4\u7684\u6765\u6e90\u3002</p> <pre><code>$ type echo\necho is a shell builtin\n$ type ls\nls is hashed (/bin/ls)\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c<code>type</code>\u547d\u4ee4\u544a\u8bc9\u6211\u4eec\uff0c<code>echo</code>\u662f\u5185\u90e8\u547d\u4ee4\uff0c<code>ls</code>\u662f\u5916\u90e8\u7a0b\u5e8f\uff08<code>/bin/ls</code>\uff09\u3002</p> <p><code>type</code>\u547d\u4ee4\u672c\u8eab\u4e5f\u662f\u5185\u7f6e\u547d\u4ee4\u3002</p> <pre><code>$ type type\ntype is a shell builtin\n</code></pre> <p>\u5982\u679c\u8981\u67e5\u770b\u4e00\u4e2a\u547d\u4ee4\u7684\u6240\u6709\u5b9a\u4e49\uff0c\u53ef\u4ee5\u4f7f\u7528<code>type</code>\u547d\u4ee4\u7684<code>-a</code>\u53c2\u6570\u3002</p> <pre><code>$ type -a echo\necho is shell builtin\necho is /usr/bin/echo\necho is /bin/echo\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c<code>echo</code>\u547d\u4ee4\u65e2\u662f\u5185\u7f6e\u547d\u4ee4\uff0c\u4e5f\u6709\u5bf9\u5e94\u7684\u5916\u90e8\u7a0b\u5e8f\u3002</p> <p><code>type</code>\u547d\u4ee4\u7684<code>-t</code>\u53c2\u6570\uff0c\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u547d\u4ee4\u7684\u7c7b\u578b\uff1a\u522b\u540d\uff08alias\uff09\uff0c\u5173\u952e\u8bcd\uff08keyword\uff09\uff0c\u51fd\u6570\uff08function\uff09\uff0c\u5185\u7f6e\u547d\u4ee4\uff08builtin\uff09\u548c\u6587\u4ef6\uff08file\uff09\u3002</p> <pre><code>$ type -t bash\nfile\n$ type -t if\nkeyword\n</code></pre> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c<code>bash</code>\u662f\u6587\u4ef6\uff0c<code>if</code>\u662f\u5173\u952e\u8bcd\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E5%91%BD%E4%BB%A4%E5%9F%BA%E7%A1%80.html#_5","title":"\u5feb\u6377\u952e","text":"<p>Bash \u63d0\u4f9b\u5f88\u591a\u5feb\u6377\u952e\uff0c\u53ef\u4ee5\u5927\u5927\u65b9\u4fbf\u64cd\u4f5c\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u6700\u5e38\u7528\u7684\u5feb\u6377\u952e\uff0c\u5b8c\u6574\u7684\u4ecb\u7ecd\u53c2\u89c1\u300a\u884c\u64cd\u4f5c\u300b\u4e00\u7ae0\u3002</p> <ul> <li><code>Ctrl + L</code>\uff1a\u6e05\u9664\u5c4f\u5e55\u5e76\u5c06\u5f53\u524d\u884c\u79fb\u5230\u9875\u9762\u9876\u90e8\u3002</li> <li><code>Ctrl + C</code>\uff1a\u4e2d\u6b62\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u547d\u4ee4\u3002</li> <li><code>Shift + PageUp</code>\uff1a\u5411\u4e0a\u6eda\u52a8\u3002</li> <li><code>Shift + PageDown</code>\uff1a\u5411\u4e0b\u6eda\u52a8\u3002</li> <li><code>Ctrl + U</code>\uff1a\u4ece\u5149\u6807\u4f4d\u7f6e\u5220\u9664\u5230\u884c\u9996\u3002</li> <li><code>Ctrl + K</code>\uff1a\u4ece\u5149\u6807\u4f4d\u7f6e\u5220\u9664\u5230\u884c\u5c3e\u3002</li> <li><code>Ctrl + W</code>\uff1a\u5220\u9664\u5149\u6807\u4f4d\u7f6e\u524d\u4e00\u4e2a\u5355\u8bcd\u3002</li> <li><code>Ctrl + D</code>\uff1a\u5173\u95ed Shell \u4f1a\u8bdd\u3002</li> <li><code>\u2191</code>\uff0c<code>\u2193</code>\uff1a\u6d4f\u89c8\u5df2\u6267\u884c\u547d\u4ee4\u7684\u5386\u53f2\u8bb0\u5f55\u3002</li> </ul> <p>\u9664\u4e86\u4e0a\u9762\u7684\u5feb\u6377\u952e\uff0cBash \u8fd8\u5177\u6709\u81ea\u52a8\u8865\u5168\u529f\u80fd\u3002\u547d\u4ee4\u8f93\u5165\u5230\u4e00\u534a\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u6309\u4e0b Tab \u952e\uff0cBash \u4f1a\u81ea\u52a8\u5b8c\u6210\u5269\u4e0b\u7684\u90e8\u5206\u3002\u6bd4\u5982\uff0c\u8f93\u5165<code>tou</code>\uff0c\u7136\u540e\u6309\u4e00\u4e0b Tab \u952e\uff0cBash \u4f1a\u81ea\u52a8\u8865\u4e0a<code>ch</code>\u3002</p> <p>\u9664\u4e86\u547d\u4ee4\u7684\u81ea\u52a8\u8865\u5168\uff0cBash \u8fd8\u652f\u6301\u8def\u5f84\u7684\u81ea\u52a8\u8865\u5168\u3002\u6709\u65f6\uff0c\u9700\u8981\u8f93\u5165\u5f88\u957f\u7684\u8def\u5f84\uff0c\u8fd9\u65f6\u53ea\u9700\u8981\u8f93\u5165\u524d\u9762\u7684\u90e8\u5206\uff0c\u7136\u540e\u6309\u4e0b Tab \u952e\uff0c\u5c31\u4f1a\u81ea\u52a8\u8865\u5168\u540e\u9762\u7684\u90e8\u5206\u3002\u5982\u679c\u6709\u591a\u4e2a\u53ef\u80fd\u7684\u9009\u62e9\uff0c\u6309\u4e24\u6b21 Tab \u952e\uff0cBash \u4f1a\u663e\u793a\u6240\u6709\u9009\u9879\uff0c\u8ba9\u4f60\u9009\u62e9\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E5%9F%BA%E7%A1%80.html","title":"Linux\u57fa\u7840","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E5%9F%BA%E7%A1%80.html#ps1","title":"\u914d\u7f6e<code>PS1</code>","text":"<p>\u7f16\u8f91 <code>/etc/profile</code> \u6587\u4ef6,\u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9: <pre><code>PS1='\\[\\033[01;35;1m\\][\\u\\[\\033[00;00;1m\\]@\\[\\033[01;35;1m\\]\\h \\[\\033[01;37;1m\\]\\W\\[\\033[01;35;1m\\]]\\$\\[\\e[m\\] '\n</code></pre></p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86.html","title":"Linux\u7528\u6237\u7ba1\u7406","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86.html#_1","title":"\u65b0\u5efa\u7528\u6237","text":"<p>useradd\u547d\u4ee4\u7528\u4e8e\u65b0\u5efa\u7528\u6237,\u53c2\u6570\u5982\u4e0b:</p> <ul> <li>-m \u521b\u5efa\u7528\u6237\u4e3b\u76ee\u5f55, \u5982\u679c\u4e0d\u5b58\u5728\u4f1a\u81ea\u52a8\u521b\u5efa</li> <li>-s \u6307\u5b9a\u7528\u6237\u7684 shell</li> <li>-g \u6307\u5b9a\u7528\u6237\u521d\u59cb\u7ec4</li> <li>-G \u6307\u5b9a\u7528\u6237\u9644\u52a0\u7ec4,\u591a\u4e2a\u7ec4\u7528\u9017\u53f7\u5206\u9694,\u6ca1\u6709\u7a7a\u683c</li> <li>-p \u6307\u5b9a\u7528\u6237\u7684\u5bc6\u7801</li> </ul> <pre><code># \u65b0\u5efa\u7528\u6237user1,\u5bc6\u7801\u4e3a123456,\u7528\u6237\u4e3b\u76ee\u5f55\u4e3a/home/user1,\u7528\u6237\u521d\u59cb\u7ec4\u4e3aroot,\u7528\u6237\u9644\u52a0\u7ec4\u4e3aroot\nuseradd -m -s /bin/bash -g root -G root -p $(openssl passwd -1 '123456') user1\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86.html#sudo","title":"\u8bbe\u7f6e\u7528\u6237sudo\u4e0d\u8f93\u5165\u5bc6\u7801","text":"<p>\u9996\u5148\u9700\u8981\u767b\u5f55\u5230 <code>root</code> \u7528\u6237,\u5c06\u7528\u6237\u52a0\u5165 <code>sudoers</code>, \u7f16\u8f91 <code>/etc/sudoers</code> \u6587\u4ef6</p> <pre><code>vi /etc/sudoers\n</code></pre> <p>\u79fb\u52a8\u5149\u6807\uff0c\u5230 <code>root ALL=(ALL) ALL</code>\u7684\u4e0b\u4e00\u884c\uff0c\u6309 <code>a</code>\uff0c\u8fdb\u5165 <code>append</code> \u6a21\u5f0f\uff0c\u8f93\u5165 <pre><code>your_user_name ALL=(ALL) NOPASSWD: ALL\n</code></pre> \u7136\u540e\u4fee\u6539<code>%wheel  ALL=(ALL)       ALL</code>\u4e3a\u4e0b\u9762\u7684\u5185\u5bb9 <pre><code>%wheel  ALL=(ALL) NOPASSWD: ALL\n</code></pre></p> <p>\u7136\u540e\u6309 <code>Esc</code>\uff0c\u518d\u8f93\u5165 <code>:wq!</code> \u4fdd\u5b58\u5e76\u9000\u51fa\u6587\u4ef6 \u8fd9\u6837\u5c31\u628a\u81ea\u5df1\u52a0\u5165\u4e86sudo\u7ec4\uff0c\u53ef\u4ee5\u4f7f\u7528sudo\u547d\u4ee4\u4e0d\u9700\u8981\u5bc6\u7801\u4e86\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86.html#su","title":"\u8bbe\u7f6e\u7528\u6237su\u514d\u5bc6","text":"<p>\u521b\u5efa <code>wheel</code> \u7ec4,\u5e76\u5c06\u7528\u6237\u52a0\u5165 <code>wheel</code> \u7ec4</p> <pre><code>usermod -G wheel your_user_name\n</code></pre> <p>\u7136\u540e\u4fee\u6539<code>su</code>\u7684\u914d\u7f6e\u6587\u4ef6<code>/etc/pam.d/su</code>\uff1a <pre><code>vi /etc/pam.d/su\n</code></pre> \u5c06<code>#auth            sufficient      pam_wheel.so trust use_uid</code>\u7684\u6ce8\u91ca\u53d6\u6d88\u6389 <pre><code>auth            sufficient      pam_wheel.so trust use_uid\n</code></pre> \u81f3\u6b64\u4f60\u53ef\u4ee5\u4f7f\u7528su root\u547d\u4ee4\u4e14\u4e0d\u9700\u8981\u8f93\u5165\u5bc6\u7801\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Linux%E8%BF%9B%E7%A8%8Bspawn%E5%92%8Cfork%E7%9A%84%E5%8C%BA%E5%88%AB.html","title":"Linux\u8fdb\u7a0bspawn\u548cfork\u7684\u533a\u522b.md","text":"<p>\u5728 Linux \u4e2d,spawn \u548c fork \u90fd\u662f\u521b\u5efa\u65b0\u8fdb\u7a0b\u7684\u65b9\u5f0f,\u4f46\u6709\u4e00\u4e9b\u533a\u522b:</p> <ul> <li> <p>fork</p> <ul> <li>fork() \u662f\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u521b\u5efa\u4e00\u4e2a\u4e0e\u7236\u8fdb\u7a0b\u51e0\u4e4e\u5b8c\u5168\u76f8\u540c\u7684\u5b50\u8fdb\u7a0b\u3002</li> <li>\u5b50\u8fdb\u7a0b\u662f\u7236\u8fdb\u7a0b\u7684\u4e00\u4e2a\u5b8c\u6574\u590d\u5236,\u9664\u4e86\u4e00\u4e9b\u6807\u8bc6(\u5982\u8fdb\u7a0bID)\u4e0d\u540c\u5916,\u4e24\u4e2a\u8fdb\u7a0b\u7684\u4ee3\u7801\u6bb5\u3001\u6570\u636e\u6bb5\u3001\u5806\u6808\u7b49\u90fd\u662f\u76f8\u540c\u7684\u3002</li> <li>\u5728 fork \u4e4b\u540e,\u7236\u5b50\u8fdb\u7a0b\u540c\u65f6\u7ee7\u7eed\u6267\u884c,\u4f46\u6267\u884c\u8def\u5f84\u53ef\u4ee5\u4e0d\u540c\u3002</li> <li>fork \u662fUnix/Linux\u4e2d\u6700\u5e38\u89c1\u7684\u521b\u5efa\u65b0\u8fdb\u7a0b\u7684\u65b9\u5f0f\u3002</li> </ul> </li> <li> <p>spawn</p> <ul> <li>spawn \u5b9e\u9645\u4e0a\u662f\u6267\u884c\u4e00\u4e2a\u5168\u65b0\u7684\u7a0b\u5e8f,\u8fd9\u4e2a\u65b0\u7a0b\u5e8f\u4e0e\u7236\u8fdb\u7a0b\u4ee3\u7801\u662f\u4e0d\u540c\u7684\u3002</li> <li>\u5f53\u4f7f\u7528 spawn \u65f6,\u5185\u6838\u4f1a\u4e3a\u65b0\u7a0b\u5e8f\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u52a0\u8f7d\u7a0b\u5e8f\u4ee3\u7801\u548c\u6570\u636e\u3002</li> <li>spawn \u901a\u5e38\u7528\u4e8e\u542f\u52a8\u65b0\u7684\u7a0b\u5e8f,\u800c\u4e0d\u662f\u590d\u5236\u73b0\u6709\u8fdb\u7a0b\u3002</li> </ul> </li> </ul> <p>\u6240\u4ee5\u5728 Linux \u4e2d:</p> <ul> <li>fork \u7528\u4e8e\u5c06\u73b0\u6709\u8fdb\u7a0b\u590d\u5236\u51fa\u4e00\u4e2a\u51e0\u4e4e\u5b8c\u5168\u76f8\u540c\u7684\u5b50\u8fdb\u7a0b,\u4e24\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u5171\u4eab\u90e8\u5206\u8d44\u6e90\u3002</li> <li>spawn \u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u5168\u65b0\u7684\u8fdb\u7a0b\u6765\u6267\u884c\u4e0d\u540c\u7684\u7a0b\u5e8f,\u65b0\u65e7\u8fdb\u7a0b\u5b8c\u5168\u72ec\u7acb,\u8d44\u6e90\u4e0d\u5171\u4eab\u3002</li> </ul> <p>fork \u901a\u5e38\u7528\u4e8e\u521b\u5efa\u5b50\u8fdb\u7a0b\u4ee5\u5b9e\u73b0\u5e76\u53d1,\u800c spawn \u66f4\u9002\u5408\u542f\u52a8\u65b0\u7684\u7a0b\u5e8f\u6216\u547d\u4ee4\u3002\u4e8c\u8005\u6709\u4e9b\u91cd\u53e0\u4f46\u672c\u8d28\u4e0d\u540c\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/SSH%E9%85%8D%E7%BD%AE.html","title":"SSH\u914d\u7f6e","text":"<p>SSH \u914d\u7f6e\u6587\u4ef6\u4f4d\u4e8e <code>/etc/ssh/sshd_config</code>\uff0c\u4fee\u6539\u540e\u9700\u8981\u91cd\u542f SSH \u670d\u52a1\u624d\u80fd\u751f\u6548\u3002</p> <p>\u5185\u5bb9\u5982\u4e0b:</p> <pre><code>#   $OpenBSD: ssh_config,v 1.30 2016/02/20 23:06:23 sobrado Exp $\n\n# This is the ssh client system-wide configuration file.  See\n# ssh_config(5) for more information.  This file provides defaults for\n# users, and the values can be changed in per-user configuration files\n# or on the command line.\n\n# Configuration data is parsed as follows:\n#  1. command line options\n#  2. user-specific file\n#  3. system-wide file\n# Any configuration value is only changed the first time it is set.\n# Thus, host-specific definitions should be at the beginning of the\n# configuration file, and defaults at the end.\n\n# Site-wide defaults for some commonly used options.  For a comprehensive\n# list of available options, their meanings and defaults, please see the\n# ssh_config(5) man page.\n\n# Host *\n#   ForwardAgent no\n#   ForwardX11 no\n#   RhostsRSAAuthentication no\n#   RSAAuthentication yes\n#   PasswordAuthentication yes\n#   HostbasedAuthentication no\n#   GSSAPIAuthentication no\n#   GSSAPIDelegateCredentials no\n#   GSSAPIKeyExchange no\n#   GSSAPITrustDNS no\n#   BatchMode no\n#   CheckHostIP yes\n#   AddressFamily any\n#   ConnectTimeout 0\n#   StrictHostKeyChecking ask\n#   IdentityFile ~/.ssh/identity\n#   IdentityFile ~/.ssh/id_rsa\n#   IdentityFile ~/.ssh/id_dsa\n#   IdentityFile ~/.ssh/id_ecdsa\n#   IdentityFile ~/.ssh/id_ed25519\n#   Port 22\n#   Protocol 2\n#   Cipher 3des\n#   Ciphers aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc\n#   MACs hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160\n#   EscapeChar ~\n#   Tunnel no\n#   TunnelDevice any:any\n#   PermitLocalCommand no\n#   VisualHostKey no\n#   ProxyCommand ssh -q -W %h:%p gateway.example.com\n#   RekeyLimit 1G 1h\n#\n# Uncomment this if you want to use .local domain\n# Host *.local\n#   CheckHostIP no\n\nHost *\n    GSSAPIAuthentication yes\n# If this option is set to yes then remote X11 clients will have full access\n# to the original X11 display. As virtually no X11 client supports the untrusted\n# mode correctly we set this to yes.\n    ForwardX11Trusted yes\n# Send locale-related environment variables\n    SendEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES\n    SendEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT\n    SendEnv LC_IDENTIFICATION LC_ALL LANGUAGE\n    SendEnv XMODIFIERS\n</code></pre> <p>\u5176\u4e2d\u4e00\u4e9b\u914d\u7f6e\u9879\u7684\u542b\u4e49\u5982\u4e0b: <pre><code>Port 22:\u8bbe\u7f6esshd\u76d1\u542c\u7684\u7aef\u53e3\u53f7\u3002\nListenAddress 192.168.2.1 \uff1a\u8bbe\u7f6esshd\u670d\u52a1\u5668\u7ed1\u5b9a\u7684IP\u5730\u5740\u3002\nHostKey /etc/ssh/ssh_host_key:\u8bbe\u7f6e\u5305\u542b\u8ba1\u7b97\u673a\u79c1\u4eba\u5bc6\u94a5\u7684\u6587\u4ef6\u3002\nServerKeyBits  1024\uff1a\u5b9a\u4e49\u670d\u52a1\u5668\u5bc6\u94a5\u7684\u4f4d\u6570\u3002\nLoginGraceTime 600\uff1a\u8bbe\u7f6e\u5982\u679c\u7528\u6237\u4e0d\u80fd\u6210\u529f\u767b\u5165\uff0c\u518d\u65ad\u5f00\u4e4b\u524d\u670d\u52a1\u5668\u9700\u8981\u7b49\u5f85\u7684\u65f6\u95f4\uff08\u79d2\uff09\u3002\nKeyRegenerationInterval  3600\uff1a\u8bbe\u7f6e\u5728\u591a\u5c11\u79d2\u4e4b\u540e\u81ea\u52a8\u91cd\u65b0\u751f\u6210\u670d\u52a1\u5668\u7684\u5bc6\u94a5\nPermitRootLogin no \uff1a\u8bbe\u7f6eroot\u80fd\u4e0d\u80fd\u7528ssh\u767b\u5165\u3002\u8fd9\u4e2a\u9009\u9879\u8bbe\u6210yes\u8868\u793a\u4e0d\u5141\u8bb8root\u767b\u5f55\u3002\nIgnoreRhosts yes\uff1a\u8bbe\u7f6e\u9a8c\u8bc1\u7684\u65f6\u5019\u662f\u5426\u4f7f\u7528\u201crhosts\u201d\u548c\u201cshosts\u201d\u6587\u4ef6\u3002\nIgnoreuserKnownHosts yes \uff1a\u8bbe\u7f6essh daemon\u662f\u5426\u5728\u8fdb\u884cRhostsRSAAAuthentication\u5b89\u5168\u8ba4\u8bc1\u7684\u65f6\u5019\u5ffd\u7565\u7528\u6237\u7684\u201c\uffe5HOME/.ssh/known_hosts\u201d\nStrictModes yes\uff1a\u8bbe\u7f6essh\u5728\u63a5\u6536\u767b\u5165\u8bf7\u6c42\u4e4b\u524d\u662f\u5426\u68c0\u67e5\u7528\u6237\u5bb6\u76ee\u5f55\u548crhosts\u6587\u4ef6\u7684\u6743\u9650\u548c\u6240\u6709\u6743\uff0c\u8fd9\u901a\u5e38\u662f\u5fc5\u8981\u7684\uff0c\u56e0\u4e3a\u65b0\u624b\u7ecf\u5e38\u4f1a\u628a\u81ea\u5df1\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u8bbe\u6210\u4efb\u4f55\u4eba\u90fd\u6709\u5199\u7684\u6743\u9650\u3002\nX11Forwarding no\uff1a\u8bbe\u7f6e\u662f\u5426\u5141\u8bb8X11\u8f6c\u53d1\nPrintMotd yes\uff1a\u8bbe\u7f6esshd\u662f\u5426\u5728\u7528\u6237\u767b\u5165\u7684\u65f6\u5019\u663e\u793a\u201c/etc/motd\u201d\u4e2d\u7684\u4fe1\u606f\u3002\nSyslogFacility AUTH\uff1a\u8bbe\u7f6e\u5728\u8bb0\u5f55\u6765\u7740sshd\u7684\u6d88\u606f\u7684\u65f6\u5019\uff0c\u662f\u5426\u7ed9\u51fa\u201cfacility code\u201d\u3002\nLogLevel INFO \u8bbe\u7f6e\u8bb0\u5f55sshd\u65e5\u5fd7\u6d88\u606f\u7684\u5c42\u6b21\u3002INFO\u662f\u4e00\u4e2a\u597d\u7684\u9009\u62e9\uff0c\u67e5\u770bsshd\u7684man\u5e2e\u52a9\u9875\u3002\n\u4ee5\u83b7\u5f97\u66f4\u591a\u7684\u4fe1\u606f\u3002\nRhostsAuthentication no \uff1a\u8bbe\u7f6e\u53ea\u7528rhosts\u6216/etc/hosts.equiv\u8fdb\u884c\u9a8c\u8bc1\u662f\u5426\u5df2\u7ecf\u8db3\u591f\u4e86\u3002\nRhostsRSAAuthentication no\uff1a\u8bbe\u7f6e\u662f\u5426rhosts\u6216/etc/hosts.equiv\u52a0\u4e0aRSA\u8fdb\u884c\u5b89\u5168\u9a8c\u8bc1\u3002\nRSAAuthentication yes \uff1a\u8bbe\u7f6e\u662f\u5426\u9884\u5148\u53ea\u6709RSA\u5b89\u5168\u9a8c\u8bc1\u3002\nPasswordAuthentication yes\uff1a\u8bbe\u7f6e\u662f\u5426\u9884\u5148\u53e3\u4ee4\u9a8c\u8bc1\u3002\nPermitEmptyPasswords no\uff1a\u8bbe\u7f6e\u662f\u5426\u5141\u8bb8\u7528\u53e3\u4ee4\u4e3a\u7a7a\u7684\u8d26\u53f7\u767b\u5165\u3002\nAllowUsers admin\uff1a\u540e\u9762\u53ef\u4ee5\u8ddf\u7740\u4efb\u610f\u7684\u6570\u91cf\u7684\u7528\u6237\u540d\u7684\u5339\u914d\u7a9c\uff08patterns\uff09\u6216user@host\u8fd9\u6837\u7684\u5339\u914d\u4e32\uff0c\u8fd9\u4e9b\u5b57\u7b26\u4e32\u7528\u7a7a\u683c\u9694\u5f00\u3002\u4e3b\u673a\u540d\u53ef\u4ee5\u662fDNS\u540d\u6216IP\u5730\u5740\u3002\n</code></pre></p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html","title":"\u5b89\u88c5Nvidia\u663e\u5361\u9a71\u52a8\u548cCUDA Toolkit","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#nvidia","title":"\u5b89\u88c5Nvidia\u663e\u5361\u9a71\u52a8","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_1","title":"\u67e5\u770b\u7cfb\u7edf\u548c\u663e\u5361\u4fe1\u606f","text":""},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_2","title":"\u67e5\u770b\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f","text":"<pre><code>$ uname -m &amp;&amp; cat /etc/*release\nx86_64\nCentOS Linux release 7.9.2009 (Core)\nNAME=\"CentOS Linux\"\nVERSION=\"7 (Core)\"\nID=\"centos\"\nID_LIKE=\"rhel fedora\"\nVERSION_ID=\"7\"\nPRETTY_NAME=\"CentOS Linux 7 (Core)\"\nANSI_COLOR=\"0;31\"\nCPE_NAME=\"cpe:/o:centos:centos:7\"\nHOME_URL=\"https://www.centos.org/\"\nBUG_REPORT_URL=\"https://bugs.centos.org/\"\n\nCENTOS_MANTISBT_PROJECT=\"CentOS-7\"\nCENTOS_MANTISBT_PROJECT_VERSION=\"7\"\nREDHAT_SUPPORT_PRODUCT=\"centos\"\nREDHAT_SUPPORT_PRODUCT_VERSION=\"7\"\n\nCentOS Linux release 7.9.2009 (Core)\nCentOS Linux release 7.9.2009 (Core)\n</code></pre> <p><code>x86_64</code> \u8868\u793a\u5728 64 \u4f4d\u7cfb\u7edf\u4e0a\u8fd0\u884c\u3002\u4e0b\u9762\u662f Linux \u53d1\u884c\u7248\u7684\u4fe1\u606f\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_3","title":"\u67e5\u770b\u5185\u6838\u7248\u672c","text":"<p>CUDA \u9a71\u52a8\u7a0b\u5e8f\u8981\u6c42\u5728\u5b89\u88c5\u9a71\u52a8\u7a0b\u5e8f\u65f6\u4ee5\u53ca\u91cd\u5efa\u9a71\u52a8\u7a0b\u5e8f\u65f6\u5b89\u88c5\u5185\u6838\u8fd0\u884c\u7248\u672c\u7684\u5185\u6838\u5934\u6587\u4ef6\u548c\u5f00\u53d1\u5305\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u7684\u7cfb\u7edf\u8fd0\u884c\u5185\u6838\u7248\u672c 3.17.4-301\uff0c\u5219\u8fd8\u5fc5\u987b\u5b89\u88c5 3.17.4-301 \u5185\u6838\u5934\u6587\u4ef6\u548c\u5f00\u53d1\u5305\u3002</p> <pre><code>$ uname -r\n3.10.0-1160.el7.x86_64\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_4","title":"\u67e5\u770b\u663e\u5361\u578b\u53f7","text":"<pre><code>$ lspci | grep -i nvidia\n3b:00.0 3D controller: NVIDIA Corporation GV100GL [Tesla V100S PCIe 32GB] (rev a1)\n86:00.0 3D controller: NVIDIA Corporation GV100GL [Tesla V100S PCIe 32GB] (rev a1)\n</code></pre> <p>\u5982\u679c\u63d0\u793a <code>lspci: command not found</code>\uff0c\u9700\u8981\u5b89\u88c5<code>pciutils</code>\u5de5\u5177\u5305</p> <pre><code>yum install pciutils -y\n</code></pre> <p>\u5982\u679c\u60a8\u6ca1\u6709\u770b\u5230\u4efb\u4f55\u8bbe\u7f6e\uff0c\u5728\u547d\u4ee4\u884c\u8f93\u5165 <code>update-pciids</code>\uff08\u901a\u5e38\u5728 <code>/sbin</code> \u4e2d\u627e\u5230\uff09\u6765\u66f4\u65b0 Linux \u7ef4\u62a4\u7684 PCI \u786c\u4ef6\u6570\u636e\u5e93\uff0c\u7136\u540e\u91cd\u65b0\u8fd0\u884c\u4e4b\u524d\u7684 <code>lspci</code>\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#nvidia_1","title":"\u4e0b\u8f7dNvidia \u9a71\u52a8\u5b89\u88c5\u6587\u4ef6","text":"<p>\u9996\u5148\u5728 https://www.nvidia.cn/Download/index.aspx?lang=cn \u4e0a\u8f93\u5165\u663e\u5361\u578b\u53f7\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001CUDA Toolkit\u7248\u672c\uff0c\u7136\u540e\u641c\u7d22\uff1a</p> <p>!</p> <p>\u7136\u540e\u70b9\u51fb\u4e0b\u8f7d</p> <p></p> <p>\u4e0b\u8f7d\u94fe\u63a5\u4e3a\uff1a https://cn.download.nvidia.com/tesla/535.154.05/NVIDIA-Linux-x86_64-535.154.05.run</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_5","title":"\u5b89\u88c5\u4f9d\u8d56","text":"<pre><code>yum install -y gcc gcc-c++ kernel-devel-$(uname -r) kernel-headers-$(uname -r)\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#gpu","title":"\u505c\u6b62GPU\u4e0a\u7684\u4efb\u52a1\u548c\u5378\u8f7d\u65e7\u7684\u9a71\u52a8","text":"<p>\u51c6\u5907\u5de5\u4f5c </p> <pre><code># \u5207\u6362\u5230\u7ba1\u7406\u5458\u677c\u4e0b\nsu root \n\n# \u8fd9\u4e2a\u670d\u52a1\u5982\u679c\u6ca1\u6709\u53ef\u4ee5\u4e0d\u7528\u6267\u884c\nsudo service ligthdm stop\n</code></pre> <p><code>kill</code> \u6240\u6709\u4e0e <code>nvidia</code> \u6709\u5173\u7684\u8fdb\u7a0b\uff0c\u5c06\u4e0b\u9762\u7684\u5185\u5bb9\u5199\u5230\u811a\u672c<code>kill-nvidia-process.sh</code>\u4e2d\uff1a</p> <pre><code>echo \"start\"\n\nfuser -v /dev/nvidia* &gt; a.txt\n\necho \"start kill\"\n\nfor i in `cat a.txt`\ndo\n    echo \"start execute kill -9 \"$i\n    kill -9 $i\n    echo \"end ececute kill -9 \"$i\ndone\n\necho \"end\"\n</code></pre> <p>\u6267\u884c\u811a\u672c\uff1a</p> <pre><code>bash kill-nvidia-process.sh\n</code></pre> <p>\u6267\u884c\u5b8c\u4e0a\u9762\u7684\u811a\u672c\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u770b\u662f\u5426\u8fd8\u6709\u8fdb\u7a0b\uff0c\u8f93\u51fa\u4e3a\u7a7a\u8bf4\u660e\u8fdb\u7a0b\u5df2\u7ecf\u5168\u90e8 kill \u4e86\uff1a</p> <pre><code>fuser -v /dev/nvidia*\n</code></pre> <p>\u5378\u8f7d\u65e7\u7684\u9a71\u52a8</p> <pre><code># \u5378\u8f7d\u65e7\u7684\u9a71\u52a8\n/usr/bin/nvidia-uninstall\n</code></pre> <p>\u5378\u8f7d\u65e7\u7684\u9a71\u52a8\uff0c\u5f39\u51fa\u7684\u63d0\u793a\u6846\u9ed8\u8ba4\u4e3a<code>No</code>\uff0c\u8fd9\u91cc\u4e0d\u9700\u8981\u4fee\u6539\uff0c\u76f4\u63a5\u6309Enter\u5373\u53ef\u3002</p> <p></p> <p>\u63a5\u7740\u56de\u8f66</p> <p></p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#nouveau","title":"\u7981\u7528 nouveau \u9a71\u52a8","text":"<p>Nouveau \u662f\u4e00\u4e2a\u5f00\u6e90\u7684 Nvidia \u663e\u5361\u9a71\u52a8\u7a0b\u5e8f\u9879\u76ee\uff0c\u65e8\u5728\u4e3a Linux \u7cfb\u7edf\u63d0\u4f9b\u5bf9 Nvidia \u663e\u5361\u7684\u652f\u6301\u3002\u5728\u5b89\u88c5 Nvidia\u7684\u9a71\u52a8\u4e4b\u524d\u9700\u8981\u5c06 Nouveau \u7684\u9a71\u52a8\u7981\u7528\u6389\u3002</p> <p>\u5982\u679c\u5df2\u7ecf\u7981\u7528\u8fc7 nouveau \u9a71\u52a8\u8fd9\u4e00\u6b65\u4e0d\u9700\u8981\u518d\u6267\u884c\u3002</p> <p>\u7f16\u8f91 <code>/etc/modprobe.d/blacklist.conf</code> \u6587\u4ef6\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>blacklist nouveau\noptions nouveau modeset=0\n</code></pre> <p>\u4f7f\u7528 dracut\u91cd\u65b0\u5efa\u7acb initramfs nouveau \u5e76\u4e14\u5907\u4efd initramfs nouveau image\u955c\u50cf</p> <pre><code>mv /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).img.bak\n</code></pre> <p>\u91cd\u65b0\u5efa\u7acb\u65b0\u7684 the initramfs file:</p> <pre><code>dracut -v /boot/initramfs-$(uname -r).img $(uname -r)\n</code></pre> <p></p> <p>\u7136\u540e\u91cd\u542f\uff1a</p> <pre><code>sudo reboot\n</code></pre> <p>\u91cd\u542f\u540e\uff0c\u6267\u884c\uff1a</p> <pre><code>lsmod | grep nouveau\n</code></pre> <p>\u5982\u679c\u6ca1\u6709\u5c4f\u5e55\u8f93\u51fa\uff0c\u8bf4\u660e\u7981\u7528 <code>nouveau</code> \u6210\u529f\u3002</p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#nvidia_2","title":"\u5b89\u88c5 Nvidia \u9a71\u52a8","text":"<p>\u6267\u884c\u4e0b\u8f7d\u7684\u9a71\u52a8\u5b89\u88c5\u6587\u4ef6<code>NVIDIA-Linux-x86_64-535.154.05.run</code>\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5982\u679c \u68c0\u6d4b\u5230 <code>X server</code> \u5728\u8fd0\u884c\u4e2d\u505c\u6b62\u5b89\u88c5\uff0c\u9700\u8981\u8bbe\u7f6e  <code>-no-x-check</code> \u53c2\u6570\u662f\u5f53 <code>X server</code> \u8fd0\u884c\u4e2d\u7684\u65f6\u5019\u53ef\u4ee5\u7ee7\u7eed\u5b89\u88c5\u3002</p> <pre><code>sh NVIDIA-Linux-x86_64-535.154.05.run -no-x-check \n</code></pre> <p></p> <p>\u63d0\u793a\u6ca1\u6709<code>cc</code>\u547d\u4ee4\uff0c\u9700\u8981\u5b89\u88c5<code>devtoolset-11-toolchain</code>\uff0c\u9996\u5148\u5728<code>/etc/yum.repos.d/CentOS-SCLo-rh.repo</code>\u4e2d\u6dfb\u52a0\u5185\u5bb9\uff1a</p> <pre><code># CentOS-SCLo-rh.repo\n#\n# Please see http://wiki.centos.org/SpecialInterestGroup/SCLo for more\n# information\n\n[centos-sclo-rh]\nname=CentOS-7 - SCLo rh\nbaseurl=http://mirrors.aliyun.com/centos/7/sclo/$basearch/rh/\ngpgcheck=1\nenabled=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo\n\n[centos-sclo-rh-testing]\nname=CentOS-7 - SCLo rh Testing\nbaseurl=http://mirrors.aliyun.com/centos/7/sclo/$basearch/rh/\ngpgcheck=0\nenabled=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo\n\n[centos-sclo-rh-source]\nname=CentOS-7 - SCLo rh Sources\nbaseurl=http://vault.centos.org/centos/7/sclo/Source/rh/\ngpgcheck=1\nenabled=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo\n\n[centos-sclo-rh-debuginfo]\nname=CentOS-7 - SCLo rh Debuginfo\nbaseurl=http://debuginfo.centos.org/centos/7/sclo/$basearch/\ngpgcheck=1\nenabled=0\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-SCLo\n</code></pre> <p>\u7136\u540e\u6267\u884c\uff1a</p> <pre><code>sudo yum install -y devtoolset-11-toolchain\nsudo scl enable devtoolset-11 bash\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u67e5\u8be2\u5b89\u88c5\u7684\u7248\u672c\uff1a</p> <pre><code># \u67e5\u770bcc\u7684\u7248\u672c\ncc -v\n# \u67e5\u770bgcc\u7684\u7248\u672c\ngcc -v\n# \u67e5\u770bg++\u7684\u7248\u672c\ng++ -v\n</code></pre> <p></p> <p>\u518d\u6b21\u6267\u884c\u5b89\u88c5\u547d\u4ee4\uff1a</p> <pre><code>sh NVIDIA-Linux-x86_64-535.154.05.run -no-x-check \n</code></pre> <p>\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u7684\u63d0\u793a\u76f4\u63a5\u4f7f\u7528\u9ed8\u8ba4\u9009\u62e9\u5373\u53ef\uff0c\u4e00\u8def\u56de\u8f66\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u663e\u793a<code>WARNING: nvidia-installer was forced to guess the X library path '/usr/lib64' and X module path '/usr/lib64/xorg/modules'; these paths were not queryable from the system.  If X fails to find        the NVIDIA X driver module, please install the</code>pkg-config<code>utility and the X.Org SDK/development package for your distribution and reinstall the driver.</code>\u76f4\u63a5\u56de\u8f66\u3002</p> <p></p> <p>\u663e\u793a<code>Install NVIDIA's 32-bit compatibility libraries?</code>\u9ed8\u8ba4\u9009\u62e9\u4e3a<code>Yes</code>\uff0c\u76f4\u63a5\u56de\u8f66\u3002</p> <p></p> <p>\u663e\u793a<code>WARNING: This NVIDIA driver package includes Vulkan components, but no Vulkan ICD loader was detected on this system. The NVIDIA Vulkan ICD will not function without the loader. Most    distributions package the Vulkan loader; try installing the \"vulkan-loader\", \"vulkan-icd-loader\", or \"libvulkan1\" package.</code>\u9ed8\u8ba4\u9009\u62e9\u4e3a <code>OK</code>\uff0c\u76f4\u63a5\u56de\u8f66\u3002</p> <p>\u663e\u793a<code>Installation of the NVIDIA Accelerated Graphics Driver for Linux-x86_64 (version: 535.154.05) is now complete.</code>\u9ed8\u8ba4\u9009\u62e9\u4e3a<code>OK</code>\u76f4\u63a5\u56de\u8f66\u3002</p> <p></p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_6","title":"\u9a8c\u8bc1\u5b89\u88c5\u7ed3\u679c","text":"<p>\u4f7f\u7528 <code>nvidia-smi</code> \u547d\u4ee4\u9a8c\u8bc1\uff1a</p> <pre><code>nvidia-smi\n</code></pre> <p></p>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#cuda_toolkit","title":"\u5b89\u88c5CUDA Toolkit\u6587\u6863","text":"<p>CUDA Toolkit\u662f\u7531NVIDIA\u63d0\u4f9b\u7684\u7528\u4e8eGPU\u8ba1\u7b97\u7684\u8f6f\u4ef6\u5f00\u53d1\u5de5\u5177\u5305\u3002\u5b83\u5305\u62ec\u4e86\u4e00\u7cfb\u5217\u7528\u4e8eGPU\u52a0\u901f\u8ba1\u7b97\u7684\u5e93\u3001\u7f16\u8bd1\u5668\u3001\u8c03\u8bd5\u5668\u548c\u5176\u4ed6\u5de5\u5177\uff0c\u4ee5\u4fbf\u5f00\u53d1\u8005\u80fd\u591f\u5229\u7528NVIDIA\u7684GPU\u8fdb\u884c\u5e76\u884c\u8ba1\u7b97\u548c\u9ad8\u6027\u80fd\u8ba1\u7b97\u4efb\u52a1\u3002CUDA Toolkit\u901a\u5e38\u7528\u4e8e\u52a0\u901f\u79d1\u5b66\u8ba1\u7b97\u3001\u6df1\u5ea6\u5b66\u4e60\u3001\u673a\u5668\u5b66\u4e60\u548c\u5176\u4ed6\u9700\u8981\u5927\u89c4\u6a21\u5e76\u884c\u8ba1\u7b97\u7684\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>\u901a\u8fc7 https://developer.nvidia.com/cuda-12-2-2-download-archive \u4e0b\u8f7d\u5bf9\u5e94\u7684\u5b89\u88c5\u5305\uff0c\u6ce8\u610f\u8981\u548cNvidia Driver\u7684\u7248\u672c\u4e00\u81f4\u3002</p> <p></p> <p>\u4e0b\u8f7d\u547d\u4ee4\uff1a</p> <pre><code>wget https://developer.download.nvidia.com/compute/cuda/12.2.2/local_installers/cuda_12.2.2_535.104.05_linux.run\n</code></pre> <p>\u5b89\u88c5\u547d\u4ee4\uff1a</p> <pre><code>sudo sh cuda_12.2.2_535.104.05_linux.run\n</code></pre> <p>\u63a5\u53d7\u534f\u8bae\u8f93\u5165<code>accept</code></p> <p></p> <p>\u5728 Driver \u9009\u9879\u6309\u7a7a\u683c\u53d6\u6d88\u9009\u62e9\uff0c\u7136\u540e\u4f7f\u7528\u65b9\u5411\u952e\u79fb\u52a8\u5230 <code>Install</code>\u9009\u9879\u56de\u8f66\u3002</p> <p></p> <p>\u5b89\u88c5\u5b8c\u6210\u8f93\u51fa\uff1a</p> <p></p> <p>\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u7f16\u8f91 <code>/etc/profile</code>\u6587\u4ef6\uff0c\u8ffd\u52a0\u4e0b\u9762\u7684\u5185\u5bb9\uff1a</p> <pre><code>export PATH=/usr/local/cuda-12.2/bin${PATH:+:${PATH}}\nexport LD_LIBRARY_PATH=/usr/local/cuda-12.2/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}\n</code></pre>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85Nvida%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%92%8CCUDA.html#_7","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u82f1\u4f1f\u8fbe\u5b98\u7f51\u5b89\u88c5\u6587\u6863</li> <li>CentOS 7\u5b89\u88c5Nvidia\u9a71\u52a8</li> </ul>"},{"location":"07_%E8%BF%90%E7%BB%B4/Linux/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"Linux\u5e38\u7528\u547d\u4ee4","text":""},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html","title":"IDEA\u7cfb\u5217\u63d2\u4ef6","text":""},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#_1","title":"\u516c\u5171\u63d2\u4ef6","text":""},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#cmd_support","title":"CMD Support","text":"<p>CMD \u652f\u6301\u63d2\u4ef6</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aCMD Support</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#github_copilot","title":"Github Copilot","text":"<p>GitHub Copilot\u5728\u4f60\u7f16\u7801\u65f6\u63d0\u4f9b\u4eba\u5de5\u667a\u80fd\u914d\u5bf9\u7a0b\u5e8f\u5458\u7684\u81ea\u52a8\u5b8c\u6210\u5f0f\u5efa\u8bae\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u5f00\u59cb\u5199\u4f60\u60f3\u4f7f\u7528\u7684\u4ee3\u7801\uff0c\u6216\u8005\u901a\u8fc7\u5199\u4e00\u4e2a\u81ea\u7136\u8bed\u8a00\u6ce8\u91ca\u6765\u63cf\u8ff0\u4f60\u60f3\u8981\u7684\u4e1c\u897f\uff0c\u6765\u63a5\u6536\u6765\u81eaGitHub Copilot\u7684\u5efa\u8bae\u3002</p> <p>\u63d2\u4ef6\u5730\u5740: Github Copilot</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#kubernets","title":"Kubernets","text":"<p>\u652f\u6301k8s\u7684\u63d2\u4ef6</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aKubernets</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#swagger","title":"Swagger","text":"<p>Swagger\u63d2\u4ef6</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aSwagger</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#translation","title":"Translation","text":"<p>\u7ffb\u8bd1\u63d2\u4ef6</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aTranslation</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#leetcode_editor","title":"LeetCode Editor","text":"<p>LeetCode\u63d2\u4ef6</p> <p>\u63d2\u4ef6\u5730\u5740: LeetCode Editor</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#gittoolbox","title":"GitToolBox","text":"<p>GitToolBox\u662f\u597d\u7528\u7684git\u589e\u5f3a\u5de5\u5177</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aGitToolBox</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#markdown_image_kit","title":"Markdown Image Kit","text":"<p>Markdown Image Kit \u662f\u4e00\u6b3e\u5728 IDEA \u4e2d\u65b9\u4fbf\u9ad8\u6548\u5f97\u7ba1\u7406 Markdown \u6587\u6863\u56fe\u7247\u7684\u63d2\u4ef6\u3002\u53ef\u4ee5\u5c06\u56fe\u7247\u4e0a\u4f20\u5230\u56fe\u5e8a\u3002</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aMarkdown Image Kit</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#env_files_support","title":".env files support","text":"<p>\u652f\u6301.env\u6587\u4ef6\u7684\u63d2\u4ef6</p> <p>\u63d2\u4ef6\u5730\u5740\uff1a.env files support</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#envfile","title":"EnvFile","text":"<p>Env File\u662fJetBrains IDE\u7684\u63d2\u4ef6\uff0c\u5b83\u5141\u8bb8\u60a8\u4ece\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u8fd0\u884c\u914d\u7f6e\u7684\u73af\u5883\u53d8\u91cf\u3002</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aEnvFile</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#ignore","title":".ignore","text":"<p>\u7528\u6765\u751f\u6210\u5404\u79cd.ignore\u6587\u4ef6\u7684\u63d2\u4ef6\uff0c\u4e3b\u8981\u662f\u7528\u6765\u751f\u6210.gitignore\u6587\u4ef6</p> <p>\u63d2\u4ef6\u5730\u5740\uff1a.ignore</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#batch_scripts_support","title":"Batch Scripts Support","text":"<p>\u652f\u6301 Windows \u6279\u5904\u7406\u811a\u672c\u3002</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aBatch Scripts Support</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#codeglance3","title":"CodeGlance3","text":"<p>\u5c06\u7c7b\u4f3c\u4e8eSublime\u4e2d\u627e\u5230\u7684\u4ee3\u7801\u5c0f\u5730\u56fe\u5d4c\u5165\u7f16\u8f91\u5668\u7a97\u683c\u3002\u4f7f\u7528\u60a8\u81ea\u5b9a\u4e49\u7684\u8bed\u6cd5\u9ad8\u4eae\u989c\u8272\uff0c\u9002\u7528\u4e8e\u6d45\u8272\u548c\u6df1\u8272\u4e3b\u9898\u3002</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aCodeGlance3</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#rainbow_brackets","title":"Rainbow Brackets","text":"<p>\u591a\u4e2a\u62ec\u53f7\u7684\u989c\u8272\u4e0d\u540c\uff0c\u65b9\u4fbf\u67e5\u770b </p> <p>\u63d2\u4ef6\u5730\u5740\uff1aRainbow Brackets</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#sonarlint","title":"SonarLint","text":"<p>SonarLint\u662f\u4e00\u6b3e\u514d\u8d39\u7684IDE\u6269\u5c55\uff0c\u53ef\u5b9e\u65f6\u67e5\u627e\u548c\u4fee\u590d\u7f16\u7801\u95ee\u9898\uff0c\u5e76\u50cf\u62fc\u5199\u68c0\u67e5\u5668\u4e00\u6837\u6807\u8bb0\u95ee\u9898\u3002\u5b83\u4e0d\u4ec5\u662f\u4e00\u4e2a\u4ee3\u7801\u68c0\u67e5\u5de5\u5177\uff0c\u8fd8\u63d0\u4f9b\u4e30\u5bcc\u7684\u4e0a\u4e0b\u6587\u6307\u5bfc\uff0c\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u4e86\u89e3\u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\u95ee\u9898\u3001\u8bc4\u4f30\u98ce\u9669\u5e76\u6559\u80b2\u4ed6\u4eec\u5982\u4f55\u89e3\u51b3\u95ee\u9898\u3002\u8fd9\u6709\u52a9\u4e8e\u63d0\u9ad8\u4ed6\u4eec\u7684\u6280\u80fd\u3001\u589e\u5f3a\u751f\u4ea7\u529b\u5e76\u638c\u63e1\u81ea\u5df1\u7684\u4ee3\u7801\uff0c\u5c06\u4ee3\u7801\u68c0\u67e5\u63d0\u5347\u5230\u4e00\u4e2a\u65b0\u6c34\u5e73\u3002</p> <p>\u4e3b\u8981\u662f\u7528\u6765\u68c0\u67e5Python\u4ee3\u7801\u7684\uff0c\u53ef\u4ee5\u68c0\u67e5\u4ee3\u7801\u4e2d\u7684bug\uff0c\u4ee3\u7801\u89c4\u8303\u7b49\u7b49\u3002</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aSonarLint</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#json_parser","title":"Json Parser","text":"<p>\u683c\u5f0f\u5316json\u7684\u63d2\u4ef6</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aJson Parser</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#idea_1","title":"IDEA\u63d2\u4ef6","text":""},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#pycharm","title":"Pycharm\u63d2\u4ef6","text":""},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#ansible","title":"Ansible","text":"<p>Ansible\u63d2\u4ef6</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aAnsible</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#yamlansible_support","title":"YAML/Ansible support","text":"<p>\u4f7f\u7528Jinja2\u6807\u7b7e\u7684YAML/Ansible\u652f\u6301</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aYAML/Ansible support</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#csv_editor","title":"csv Editor","text":"<p>\u7f16\u8f91csv\u6587\u4ef6\u7684\u63d2\u4ef6</p> <p>\u63d2\u4ef6\u5730\u5740\uff1acsv Editor</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#rainbow_csv","title":"Rainbow CSV","text":"<p>\u7528\u4e8e\u5c06CSV\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u4ee5\u4e0d\u540c\u989c\u8272\u8fdb\u884c\u9ad8\u4eae\u663e\u793a\u7684\u63d2\u4ef6\u3002 </p> <p>\u63d2\u4ef6\u5730\u5740\uff1aRainbow CSV</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#makefile_language","title":"Makefile Language","text":"<p>Makefile\u8bed\u8a00\u652f\u6301</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aMakefile Language</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#pydantic","title":"Pydantic","text":"<p>Pydantic\u662f\u4e00\u4e2a\u4f7f\u7528Python\u7c7b\u578b\u6ce8\u91ca\u8fdb\u884c\u6570\u636e\u9a8c\u8bc1\u548c\u8bbe\u7f6e\u7ba1\u7406\u7684\u5e93\u3002\u652f\u6301 pydantic \u7684\u4ee3\u7801\u8865\u5168\u548c\u7c7b\u578b\u68c0\u67e5\u3002</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aPydantic</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#rust","title":"Rust","text":"<p>Rust\u8bed\u8a00\u652f\u6301</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aRust</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#gotemplate","title":"GoTemplate","text":"<p>GoTemplate\u8bed\u8a00\u652f\u6301\uff0c\u4e3b\u8981\u662f\u7528\u6765\u5199helm\u7684\u6a21\u677f\u6587\u4ef6\u7684\u3002</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aGoTemplate</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#logstash_config_files_support","title":"logstash Config Files Support","text":"<p>\u4e00\u6b3e\u4e3aElastic Logstash\u914d\u7f6e\u6587\u4ef6\u6dfb\u52a0\u652f\u6301\u7684\u63d2\u4ef6</p> <p>\u63d2\u4ef6\u5730\u5740\uff1alogstash Config Files Support</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#dash","title":"Dash","text":"<p>\u4e00\u4e2a\u667a\u80fd\u7b80\u5355\u7684\u63d2\u4ef6\uff0c\u4e3a IntelliJ IDEA\u3001RubyMine\u3001WebStorm\u3001PhpStorm\u3001PyCharm\u3001DataGrip\u3001CLion\u3001GoLand \u548c Android Studio \u63d0\u4f9b\u4e86 Dash, Velocity \u6216 Zeal \u7684\u952e\u76d8\u5feb\u6377\u65b9\u5f0f\u8bbf\u95ee\u3002</p> <p>\u63d2\u4ef6\u5730\u5740\uff1aDash</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#webstorm","title":"WebStorm\u63d2\u4ef6","text":""},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%8F%92%E4%BB%B6.html#datagrip","title":"DataGrip\u63d2\u4ef6","text":""},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%BF%80%E6%B4%BB.html","title":"IDEA\u7cfb\u5217\u6fc0\u6d3b","text":"<p>\u4ee5 WebStorm 2022.2.3 \u4e3a\u4f8b</p> <p>2023.3.1 \u7248\u672c\u7684\u6fc0\u6d3b\u53c2\u8003 IntelliJ IDEA\u7834\u89e3\u5b89\u88c5\u6fc0\u6d3b\u6700\u65b0\u6559\u7a0b\uff08\u9644\u7834\u89e3\u5de5\u5177\u53ca\u6fc0\u6d3b\u7801\uff09</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%BF%80%E6%B4%BB.html#webstorm","title":"\u5b89\u88c5 WebStorm","text":"<p>\u70b9\u51fb <code>WebStorm-2022.2.3.exe</code>,\u7136\u540e\u70b9\u51fb<code>next</code>  \u8bbe\u7f6e\u5982\u4e0b:  \u7b49\u5f85\u5b89\u88c5\u5b8c\u6210,\u70b9\u51fb<code>finish</code> </p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%BF%80%E6%B4%BB.html#_1","title":"\u4e0b\u8f7d\u6fc0\u6d3b\u5305","text":"<p>\u6253\u5f00: https://www.jiweichengzhu.com/ide/code</p> <p>\u5173\u6ce8\u8fd9\u4e2a\u535a\u4e3b: \u3010\u96e8\u843d\u65e0\u5f71\u3011\u7684\u5fae\u4fe1\u516c\u4f17\u53f7,\u56de\u590d\u5173\u952e\u5b57\u3010\u4e0b\u8f7d\u3011\u83b7\u53d6\u4e0b\u8f7d\u7801</p> <p>\u6587\u4ef6\u7c7b\u578b\u9009\u62e9<code>ja-netfilter.v3</code>,\u7136\u540e\u8f93\u5165\u4e0b\u8f7d\u7801,\u70b9\u51fb\u4e0b\u8f7d</p> <p></p> <p>\u7136\u540e\u5c06\u538b\u7f29\u5305\u89e3\u538b, \u6211\u8fd9\u91cc\u7528\u7684\u76ee\u5f55\u662f:<code>D:/Program Files/ja-netfilter.v3</code>, \u540e\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u8def\u5f84\u8981\u548c\u8fd9\u4e2a\u8def\u5f84\u4fdd\u6301\u4e00\u81f4.</p> <p></p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%BF%80%E6%B4%BB.html#vmoptions","title":"\u4fee\u6539vmoptions\u6587\u4ef6","text":"<p>vmoptions\u6587\u4ef6\u8def\u5f84\u4e3a:</p> <pre><code>C:\\Program Files\\JetBrains\\WebStorm 2022.2.3\\bin\\webstorm64.exe.vmoptions\n</code></pre> <p>\u4fee\u6539\u540e\u7684\u5185\u5bb9\u5982\u4e0b:</p> <pre><code>-Xms128m\n-Xmx2048m\n-XX:ReservedCodeCacheSize=512m\n-XX:+UseG1GC\n-XX:SoftRefLRUPolicyMSPerMB=50\n-XX:CICompilerCount=2\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:-OmitStackTraceInFastThrow\n-XX:+IgnoreUnrecognizedVMOptions\n-XX:CompileCommand=exclude,com/intellij/openapi/vfs/impl/FilePartNodeRoot,trieDescend\n-ea\n-Dsun.io.useCanonCaches=false\n-Dsun.java2d.metal=true\n-Djbr.catch.SIGABRT=true\n-Djdk.http.auth.tunneling.disabledSchemes=\"\"\n-Djdk.attach.allowAttachSelf=true\n-Djdk.module.illegalAccess.silent=true\n-Dkotlinx.coroutines.debug=off\n\n\n--add-opens=java.base/jdk.internal.org.objectweb.asm=ALL-UNNAMED\n--add-opens=java.base/jdk.internal.org.objectweb.asm.tree=ALL-UNNAMED\n\n\n-javaagent:D:/Program Files/ja-netfilter.v3/ja-netfilter.jar\n</code></pre> <p>\u4fee\u6539\u914d\u7f6e\u4e4b\u540e\u8981\u91cd\u542fIDE,\u8fd9\u4e00\u6b65\u4e00\u5b9a\u8981\u6267\u884c</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/IDEA%E7%B3%BB%E5%88%97%E6%BF%80%E6%B4%BB.html#_2","title":"\u586b\u5165\u6fc0\u6d3b\u7801","text":"<p>\u8fd8\u662f\u6253\u5f00: https://www.jiweichengzhu.com/ide/code</p> <p>\u9009\u62e9\u6587\u4ef6\u7c7b\u578b\u4e0b\u62c9\u6846\u9009\u62e9<code>\u6fc0\u6d3b\u7801</code>,\u7136\u540e\u9009\u62e9 IDE \u4e3a WebStorm, \u7136\u540e\u8f93\u5165\u516c\u4f17\u53f7\u83b7\u53d6\u7684\u4e0b\u8f7d\u7801.</p> <p></p> <p>\u7136\u540e\u70b9\u51fb<code>Help</code>-&gt;<code>Register</code>, \u518d\u70b9\u51fb<code>Activate New License</code> </p> <p>\u9009\u62e9<code>Activation Code</code>\u586b\u5165\u4e0a\u9762\u4e0b\u8f7d\u7684\u6fc0\u6d3b\u7801, <code>Code With Me</code>\u63d2\u4ef6\u4e5f\u9700\u8981\u586b\u5165\u6fc0\u6d3b\u7801</p> <p></p> <p>\u53c2\u8003\u94fe\u63a5: IntelliJ IDEA 2022.2 \u7248\u672c\u6700\u65b02099\u5e74\u6c38\u4e45\u6fc0\u6d3b\u65b9\u6cd5\uff0c\u4eb2\u6d4b\u53ef\u7528\uff0c\u4e5f\u53ef\u4ee5\u5f00\u542f\u65b0UI\u4e86\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/Pycharm%E4%B8%AD%E6%96%87%E6%8C%87%E5%8D%97.html","title":"Pycharm\u4e2d\u6587\u6307\u5357","text":"<p>Pycharm\u4e2d\u6587\u6307\u5357\u662f\u4e00\u672c\u5173\u4e8ePycharm\u7684\u4e2d\u6587\u6307\u5357\uff0c\u672c\u4e66\u7684\u76ee\u7684\u662f\u5e2e\u52a9\u5927\u5bb6\u66f4\u597d\u7684\u4f7f\u7528Pycharm\u3002</p> <p>Pycharm\u4e2d\u6587\u6307\u5357</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ide/vscode%E8%BF%90%E8%A1%8CPython%E7%A8%8B%E5%BA%8F%E6%89%BE%E4%B8%8D%E5%88%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97.html","title":"vscode\u8fd0\u884cPython\u7a0b\u5e8f\u627e\u4e0d\u5230\u81ea\u5b9a\u4e49\u6a21\u5757","text":"<p>vscode \u627e\u4e0d\u5230python\u81ea\u5b9a\u4e49\u6a21\u5757</p> <p>vscode\u4e4b\u6240\u4ee5\u627e\u4e0d\u5230\u81ea\u5b9a\u4e49\u6a21\u5757\uff0c\u4e0e\u5176PYTHONPATH\u6709\u5173\u3002</p> <p>\u9996\u5148\u5728 .vscode \u4e0b\u7684 launch.json \u4e2d\u6dfb\u52a0 <code>\"env\": {\"PYTHONPATH\": \"${workspaceRoot}\"}</code></p> <p>\u5b8c\u6574\u7684 launch.json \u5982\u4e0b\uff1a</p> <pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"name\": \"Python: \u5f53\u524d\u6587\u4ef6\",\n      \"type\": \"python\",\n      \"request\": \"launch\",\n      \"program\": \"${file}\",\n      \"console\": \"integratedTerminal\",\n      \"env\": {\n        \"PYTHONPATH\": \"${workspaceRoot}\"\n      }\n    }\n  ]\n}\n</code></pre> <p>\u5728 .vscode \u4e0b\u7684 setting.json \u4e2d\u6dfb\u52a0</p> <pre><code>{\n  \"terminal.integrated.env.windows\": {\n    \"PYTHONPATH\": \"${workspaceFolder};${env:PYTHONPATH}\"\n  }\n}\n</code></pre>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/Listary.html","title":"Windows\u641c\u7d22\u5de5\u5177Listary","text":"<p>\u4e0b\u8f7d\u5b89\u88c5\u4e4b\u540e\u76f4\u63a5\u6309\u4e24\u6b21<code>ctrl</code>\u5c31\u80fd\u8c03\u51fa\u641c\u7d22\u6846\u641c\u7d22\u4e1c\u897f\u4e86</p> <p></p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/Listary.html#_1","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Listary\u5b98\u7f51</li> <li>Listary \u5b98\u65b9\u6587\u6863\u4e2d\u6587\u7248</li> </ul>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/dism.html","title":"Dism++ \uff0c\u5f3a\u5927\u7684 Windows \u7cfb\u7edf\u4f18\u5316\u5de5\u5177","text":"<p>\u672c\u6587\u8f6c\u8f7d\u81ea Dism++ \uff0c\u5f3a\u5927\u7684 Windows \u7cfb\u7edf\u4f18\u5316\u5de5\u5177 by crystal</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/dism.html#_1","title":"\u524d\u8a00","text":"<p>\u5728\u4ecb\u7ecd Dism++ \u4e4b\u524d\uff0c\u6211\u4eec\u5148\u56de\u60f3\u4e0b\uff0c\u6bcf\u6b21\u5b89\u88c5\u5b8c\u7cfb\u7edf\u540e\uff0c\u90fd\u8981\u5bf9\u7cfb\u7edf\u9009\u9879\u8fdb\u884c\u4e00\u4e9b\u8bbe\u7f6e\u4f18\u5316\uff0c\u597d\u8ba9\u7535\u8111\u66f4\u9002\u5408\u6211\u4eec\u7684\u4f7f\u7528\u4e60\u60ef\uff0c\u540c\u65f6\u53d1\u6325\u5176\u6700\u4f73\u6027\u80fd\u3002</p> <p>\u6bd4\u5982\u5c06 \u201c\u6b64\u7535\u8111\u3001\u56de\u6536\u7ad9\u201d \u653e\u5230\u684c\u9762\u4e0a\u3001\u5173\u95ed\u4e00\u4e9b\u8017\u8d39\u8d44\u6e90\u4f46\u53c8\u7528\u4e0d\u5230\u7684\u529f\u80fd\u7b49\u3002\u53c8\u6216\u8005\u5bf9\u7cfb\u7edf\u8fdb\u884c\u65e5\u5e38\u7ef4\u62a4\u548c\u4fdd\u517b\uff0c\u6bd4\u5982\u6e05\u7406\u5783\u573e\u3001\u7ba1\u7406\u5907\u4efd\u4e0e\u66f4\u65b0\u7b49\u3002</p> <p>\u800c\u8fd9\u4e9b\u9009\u9879\u5f80\u5f80\u5206\u5e03\u5728\u4e0d\u540c\u7684\u5730\u65b9\uff0c\u6709\u7684\u66f4\u662f\u9690\u85cf\u8f83\u6df1\uff0c\u6bd4\u5982\u5173\u95ed Windows Defender\u3001\u5bb6\u5ead\u7ec4\u7b49\uff0c\u5c31\u8981\u6df1\u5165\u7ec4\u7b56\u7565\u3001\u670d\u52a1\u4e2d\u53bb\u67e5\u627e\uff0c\u751a\u81f3\u624b\u52a8\u4fee\u6539\u6ce8\u518c\u8868\uff0c\u5f88\u4e0d\u65b9\u4fbf\uff01</p> <p>\u800c Dism++ \u5c31\u628a\u8fd9\u4e9b\u5e38\u7528\u7684\u8bbe\u7f6e\u96c6\u5408\u4e86\u8d77\u6765\uff0c\u628a\u8fd9\u4e00\u5207\u90fd\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\u65b9\u4fbf\u3002\u672c\u6587\u5c31\u5206\u4eab\u4e0b\u5982\u4f55\u4f7f\u7528 Dism++ \u5168\u65b9\u4f4d\u7ba1\u7406\u4f18\u5316\u6211\u4eec\u7684\u7535\u8111\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/dism.html#dism","title":"Dism++","text":"<p>Dism++ \u662f\u4e00\u6b3e Windows \u7cfb\u7edf\u7ba1\u7406\u4f18\u5316\u5de5\u5177\uff0c\u5b83\u89e3\u51b3\u4e86\u6211\u4eec\u5b89\u88c5\u3001\u7ef4\u62a4\u7cfb\u7edf\u7684\u4e00\u5927\u75db\u70b9\u95ee\u9898\u2014\u2014\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u548c\u4f18\u5316\u3002\u76f8\u5f53\u4e8e\u4e00\u4e2a\u201c\u4e00\u7ad9\u5f0f\u201d\u7ba1\u7406\u4f18\u5316\u5de5\u5177\u96c6\u3002</p> <ul> <li>Github\u5730\u5740\uff1a https://github.com/Chuyu-Team/Dism-Multi-language</li> </ul> <p>\u5b83\u628a\u7528\u6237\u4f7f\u7528\u3001\u8c03\u6574\u9891\u7387\u8f83\u9ad8\u7684\u9009\u9879\u96c6\u5408\u5230\u4e00\u8d77\uff0c\u8ba9\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b83\u5feb\u901f\u5730\u5b8c\u6210\u7535\u8111\u7684\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u548c\u4f18\u5316\uff0c\u800c\u4e0d\u9700\u8981\u4e00\u5c42\u5c42\u5730\u6253\u5f00\u5728\u4e0d\u540c\u4f4d\u7f6e\u7684\u8bbe\u7f6e\u9009\u9879\u9010\u4e2a\u8c03\u6574\uff0c\u6781\u5927\u5730\u65b9\u4fbf\u4e86\u6211\u4eec\u7684\u64cd\u4f5c\u3002</p> <p></p> <p>\u8f6f\u4ef6\u4e3a\u7eff\u8272\u7248\uff0c\u4f53\u79ef\u5c0f\uff0c\u89e3\u538b\u5373\u7528\uff0c\u65b9\u4fbf\u5feb\u6377\uff0c\u6bd4\u8d77\u5404\u79cd\u536b\u58eb\u548c\u7ba1\u5bb6\u8981\u7eaf\u7cb9\u4e0d\u5c11\u3002\u96c6\u6210\u7a7a\u95f4\u6e05\u7406\u3001\u7cfb\u7edf\u7ba1\u7406&amp;\u4f18\u5316\u3001\u70ed\u5907\u4efd\u8fd8\u539f\u3001\u7cfb\u7edf\u6620\u50cf\u8f6c\u5236\u7b49\u529f\u80fd\u4e8e\u4e00\u4f53\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/dism.html#_2","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<p>Dism++ \u7684\u529f\u80fd\u548c\u9009\u9879\u5341\u5206\u4e30\u5bcc\uff0c\u540c\u65f6\u8bf4\u660e\u6bd4\u8f83\u6e05\u6670\uff0c\u5c0f\u767d\u7528\u8d77\u6765\u4e5f\u65e0\u538b\u529b\u3002\u6ce8\u610f\u4e00\u70b9\u5c31\u597d\uff1a\u4e0d\u61c2\u7684\u9009\u9879\u4fdd\u6301\u9ed8\u8ba4\uff01</p> <p></p> <p>\u4e0b\u9762\u5c31\u5206\u4eab\u4e00\u4e9b\u4f7f\u7528\u7ecf\u9a8c\u548c\u8bbe\u7f6e\u65b9\u6cd5\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/dism.html#_3","title":"\u7a7a\u95f4\u56de\u6536","text":"<p>\u6e05\u7406 C \u76d8\u7684\u5783\u573e\u548c\u5197\u4f59\u6587\u4ef6\uff0c\u56de\u6536 C \u76d8\u7a7a\u95f4\u3002\u70b9\u51fb\u9879\u76ee\u540d\u79f0\uff0c\u53f3\u4fa7\u4f1a\u663e\u793a\u8be5\u9879\u7684\u63cf\u8ff0\u548c\u8981\u6e05\u7406\u6587\u4ef6\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\u4e0d\u5efa\u8bae\u9891\u7e41\u6e05\u7406\uff0c\u4e00\u6708\u4e00\u6b21\u5373\u53ef\u3002</p> <p></p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/dism.html#_4","title":"\u4f18\u5316\u8bbe\u7f6e","text":"<p>\u7cfb\u7edf\u4f18\u5316\u9009\u9879\u4e2d\uff0c\u96c6\u5408\u4e86\u5e38\u7528\u7684\u7cfb\u7edf\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u5f00\u5173\uff0c\u6bd4\u5982\u5173\u95ed\u5fae\u8f6f\u5c0f\u5a1c\u3001\u7981\u7528\u5bb6\u5ead\u7ec4\u3001\u542f\u7528 win \u7167\u7247\u67e5\u770b\u5668\u7b49\u3002</p> <p></p> <p>\u4ee5\u4e0b\u662f\u90e8\u5206\u4f18\u5316\u8bbe\u7f6e\uff0c\u4f9b\u53c2\u8003\u3002\u6bd4\u5982\u6211\u5173\u95ed Windows Defender \u662f\u56e0\u4e3a\u4f7f\u7528\u4e86\u5176\u5b83\u5b89\u5168\u8f6f\u4ef6\uff0c\u5e76\u975e\u88f8\u5954\u3002\u8bf7\u6ce8\u610f\u7ed3\u5408\u81ea\u5df1\u7684\u4f7f\u7528\u60c5\u51b5\u6309\u9700\u9009\u62e9\uff0c\u7528\u5230\u7684\u5c31\u4fdd\u7559\uff0c\u7528\u4e0d\u5230\u7684\u53ef\u4ee5\u8003\u8651\u5173\u95ed\u3002</p> <p>\u4efb\u52a1\u680f\u76f8\u5173\u8bbe\u7f6e\uff1a</p> <ul> <li>\u9690\u85cf\u201c\u4efb\u52a1\u89c6\u7a97\u201d\u6309\u94ae \uff08\u53ef\u7528\u5feb\u6377\u952e Win + Tab\uff09</li> <li>\u9690\u85cf\u4efb\u52a1\u680f\u4e0a\u7684\u4eba\u8109</li> <li>\u4efb\u52a1\u680f\u65f6\u949f\u7cbe\u786e\u5230\u79d2</li> </ul> <p>Windows\u4e3b\u9898\u76f8\u5173\u8bbe\u7f6e\uff1a</p> <ul> <li>\u663e\u793a\u5f00\u59cb\u83dc\u5355\u3001\u4efb\u52a1\u680f\u3001\u64cd\u4f5c\u4e2d\u5fc3\u548c\u6807\u9898\u680f\u989c\u8272</li> <li>\u4f7f\u5f00\u59cb\u83dc\u5355\u3001\u4efb\u52a1\u680f\u3001\u64cd\u4f5c\u4e2d\u5fc3\u900f\u660e</li> <li>\u4f18\u5316\u975e\u6d3b\u52a8\u7a97\u53e3\u6807\u9898\u680f\u989c\u8272</li> </ul> <p>\u5b89\u5168\u76f8\u5173\u8bbe\u7f6e\uff1a</p> <ul> <li>\u5c06\u8d26\u6237\u63a7\u5236\u7a0b\u5e8f\uff08UAC\uff09\u8c03\u6574\u4e3a \u2013 \u63a8\u8350</li> <li>\u7981\u7528 Windows Defender\uff08\u5728\u5b89\u88c5\u4e86\u5176\u4ed6\u5b89\u5168\u8f6f\u4ef6\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u8003\u8651\uff09</li> </ul> <p>\u5f00\u59cb\u83dc\u5355\u4ee5\u53ca Windows \u4f53\u9a8c\uff1a</p> <ul> <li>\u4e0d\u5141\u8bb8\u5728\u5f00\u59cb\u83dc\u5355\u663e\u793a\u5efa\u8bae</li> <li>\u5173\u95ed\u5546\u5e97\u5e94\u7528\u63a8\u5e7f</li> <li>\u7981\u6b62\u81ea\u52a8\u5b89\u88c5\u63a8\u8350\u7684\u5e94\u7528\u7a0b\u5e8f</li> <li>\u5173\u95ed\u6e38\u620f\u5f55\u5236\u5de5\u5177</li> <li>\u5173\u95ed\u591a\u5634\u7684\u5c0f\u5a1c</li> </ul> <p>Explorer\uff1a</p> <ul> <li>\u6253\u5f00\u8d44\u6e90\u7ba1\u7406\u5668\u65f6\u663e\u793a\u6b64\u7535\u8111</li> <li>\u9690\u85cf\u5feb\u6377\u65b9\u5f0f\u5c0f\u7bad\u5934</li> <li>\u9690\u85cf\u6b64\u7535\u8111\u4e2d\u89c6\u9891\u3001\u56fe\u7247\u2026\u2026\u4e03\u4e2a\u6587\u4ef6\u5939</li> <li>\u7981\u6b62\u81ea\u52a8\u64ad\u653e</li> <li>\u5173\u95ed\u89c6\u9891\u6587\u4ef6\u9884\u89c8</li> <li>\u5173\u95ed\u97f3\u4e50\u6587\u4ef6\u56fe\u7247\u9884\u89c8</li> <li>\u5c06\u8bed\u8a00\u680f\u9690\u85cf\u5230\u4efb\u52a1\u680f</li> </ul> <p>**\u684c\u9762\u56fe\u6807\u7ba1\u7406\uff1a**\u9009\u62e9\u663e\u793a\u5728\u684c\u9762\u4e0a\u7684\u56fe\u6807\uff08\u6b64\u7535\u8111\u3001\u56de\u6536\u7ad9\u3001\u63a7\u5236\u9762\u677f\u7b49\uff09</p> <p>\u8d44\u6e90\u7ba1\u7406\u5668\u5bfc\u822a\u7a97\u53e3\u56fe\u6807\u7ba1\u7406\uff1a</p> <ul> <li>\u9690\u85cf\u5bfc\u822a\u7a97\u53e3\u4e2d\u7684 \u5e93</li> <li>\u9690\u85cf\u5bfc\u822a\u7a97\u53e3\u4e2d\u7684 \u5bb6\u5ead\u7ec4</li> <li>\u9690\u85cf\u5bfc\u822a\u7a97\u53e3\u4e2d\u7684 \u7f51\u7edc</li> </ul> <p>\u53f3\u952e\u83dc\u5355\u7ba1\u7406\uff1a</p> <ul> <li>\u7981\u7528\u65b0\u5efa\u7684\u201c\u8054\u7cfb\u4eba\u201d</li> <li>\u7981\u7528\u65b0\u5efa\u201cZIP/RAR \u6587\u4ef6\u201d</li> <li>\u7981\u7528\u78c1\u76d8\u7684\u201c\u523b\u5f55\u5230\u5149\u76d8\u201d</li> <li>\u7981\u7528\u6240\u6709\u5bf9\u8c61\u7684\u201c\u5171\u4eab\u201d</li> <li>\u7981\u7528\u6587\u4ef6\u7684\u201c\u753b\u56fe 3D\u201d</li> <li>\u7981\u7528\u6587\u4ef6\u5939\u7684\u201c\u5305\u542b\u5230\u5e93\u4e2d\u201d</li> </ul> <p>Windows Update\uff1a</p> <ul> <li>\u81ea\u52a8\u5b89\u88c5\u65e0\u9700\u91cd\u542f\u7684\u66f4\u65b0</li> <li>\u66f4\u65b0\u6302\u8d77\u65f6\u5982\u679c\u6709\u7528\u6237\u767b\u5f55\u4e0d\u81ea\u52a8\u91cd\u542f\u8ba1\u7b97\u673a</li> <li>Windows \u66f4\u65b0\u4e0d\u5305\u62ec\u9a71\u52a8\u7a0b\u5e8f</li> </ul> <p>**\u8bb0\u4e8b\u672c\uff1a**\u542f\u7528\u81ea\u52a8\u6362\u884c</p> <p>\u7f51\u7edc\u8bbe\u7f6e\uff1a</p> <ul> <li>\u5173\u95ed\u9ed8\u8ba4\u5171\u4eab</li> <li>\u5173\u95ed\u8fdc\u7a0b\u534f\u52a9</li> </ul> <p>\u670d\u52a1\u4f18\u5316\uff1a</p> <ul> <li>\u7981\u7528\u8fdc\u7a0b\u4fee\u6539\u6ce8\u518c\u8868</li> <li>\u7981\u7528\u5bb6\u5ead\u7ec4</li> <li>\u7981\u7528\u5ba2\u6237\u4f53\u9a8c\u6539\u5584\u8ba1\u5212</li> </ul> <p>**Windows \u7167\u7247\u67e5\u770b\u5668\uff1a**\u542f\u7528</p> <p>\u5176\u4ed6\uff1a</p> <ul> <li>\u84dd\u5c4f\u81ea\u52a8\u91cd\u542f</li> <li>\u5173\u95ed\u4f11\u7720</li> </ul>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/dism.html#_5","title":"\u5907\u4efd\u8fd8\u539f","text":"<p>Dism++ \u7684\u5907\u4efd\u8fd8\u539f\u529f\u80fd\u975e\u5e38\u597d\u7528\uff0c\u80fd\u591f\u76f4\u63a5\u5c06\u5f53\u524d\u7cfb\u7edf\u5907\u4efd\u4e3a WIM\u3001ESD \u6587\u4ef6\uff0c\u652f\u6301**\u589e\u91cf\u5907\u4efd**\uff0c\u9a8c\u8bc1\u7cfb\u7edf\u662f\u5426\u53d7\u635f\u548c\u4fee\u590d\u529f\u80fd\uff0c\u53ef\u5728\u201c\u6062\u590d\u529f\u80fd\u201d\u83dc\u5355\u9009\u62e9\u3002</p> <p>\u4e0e\u7cfb\u7edf\u81ea\u5e26\u7684\u5907\u4efd\u529f\u80fd\u5404\u6709\u4f18\u52bf\uff0cDism++ \u53ef\u63a7\u6027\u66f4\u9ad8\u4e00\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u628a WIM\u3001ESD \u5907\u4efd\u6587\u4ef6\u590d\u5236\u5230\u79fb\u52a8\u5b58\u50a8\u8bbe\u5907\u91cc\u4fdd\u5b58\u3002</p> <p>\u5907\u4efd</p> <p>\u7b2c\u4e00\u6b21\u5907\u4efd\u65f6\u9700\u8981\u5148\u521b\u5efa\u4e00\u4e2a wim \u6587\u4ef6\uff0c\u70b9\u51fb\u201c\u6d4f\u89c8\u201d\uff0c\u8f93\u5165\u6587\u4ef6\u540d\u79f0\u5e76\u9009\u62e9\u4fdd\u5b58\u7c7b\u578b -&gt; \u4fdd\u5b58\uff0c\u7136\u540e\u9009\u62e9\u8be5\u6587\u4ef6\uff0c\u5373\u53ef\u5907\u4efd\u5230\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u3002</p> <p>\u4ee5\u540e\u518d\u5907\u4efd\u65f6\uff0c\u5982\u679c wim \u6587\u4ef6\u5b58\u5728\uff0c\u4f1a\u81ea\u52a8**\u589e\u91cf\u5907\u4efd**\u5230\u73b0\u6709\u7684 wim \u6587\u4ef6\u4e2d\uff0c\u8282\u7701\u7a7a\u95f4\u3001\u901f\u5ea6\u4e5f\u66f4\u5feb\u3002</p> <p></p> <p>\u8fd8\u539f</p> <p>\u9700\u8981\u8fd8\u539f\u7cfb\u7edf\u65f6\uff0c\u6253\u5f00\u201c\u6062\u590d\u529f\u80fd\u201d\u83dc\u5355 -&gt; \u7cfb\u7edf\u8fd8\u539f\uff0c\u9009\u62e9 wim \u5907\u4efd\u6587\u4ef6\u540e\uff0c\u6062\u590d\u5373\u53ef\u3002</p> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u5728\u201c\u9009\u9879 -&gt; \u8be6\u7ec6\u8bbe\u7f6e\u201d\u4e2d\uff0c\u542f\u7528\u201c\u6574\u5408\u5f15\u5bfc\u83dc\u5355\u201d\uff0c\u5728\u542f\u52a8\u9879\u4e2d\u6dfb\u52a0 Dism++ \u9009\u9879\u3002\u5f53\u7cfb\u7edf\u65e0\u6cd5\u6b63\u5e38\u542f\u52a8\u65f6\uff0c\u53ef\u901a\u8fc7\u6b64\u9009\u9879\u6062\u590d\u8fd8\u539f\u3002</p> <p></p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/dism.html#_6","title":"\u5de5\u5177\u7bb1","text":"<p>\u5de5\u5177\u7bb1\u4e2d\u662f\u4e00\u4e9b\u7cfb\u7edf\u8f85\u52a9\u5de5\u5177\uff0c\u5982\u7cfb\u7edf\u5907\u4efd\u8fd8\u539f\u3001\u8d26\u6237\u7ba1\u7406\u3001\u5f15\u5bfc\u4fee\u590d\u3001\u6620\u50cf\u4e92\u8f6c\u3001hosts\u7f16\u8f91\u5668\u7b49\u3002</p> <p></p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/dism.html#_7","title":"\u5176\u4ed6","text":"<p>\u542f\u52a8\u9879\u3001\u66f4\u65b0\u3001\u9a71\u52a8\u7ba1\u7406\u548c\u6587\u4ef6\u5173\u8054\u7b49\u529f\u80fd\u5f88\u7b80\u5355\uff0c\u5c31\u4e0d\u518d\u7ec6\u8bf4\u4e86\u3002</p> <p>\u9664\u6b64\u4ee5\u5916\uff0cDism++ \u8fd8\u6709\u5f88\u591a\u9ad8\u7ea7\u7528\u6cd5\uff0c\u5982\u81ea\u5b9a\u4e49\u89c4\u5219\u3001\u5b89\u88c5\u7cfb\u7edf\u3001\u7ed9 ISO \u79bb\u7ebf\u96c6\u6210\u8865\u4e01\u3001\u5c01\u88c5\u955c\u50cf\u7b49\uff0c\u5341\u5206\u5f3a\u5927\uff0c\u6709\u5174\u8da3\u53ef\u4ee5\u81ea\u5df1\u7814\u7a76\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/dism.html#_8","title":"\u7ed3\u8bed","text":"<p>Dism++ \u4e5f\u8bb8\u662f\u6700\u5f3a\u7684 Windows \u7ba1\u7406\u4f18\u5316\u5de5\u5177\uff08\u4e4b\u4e00\uff09\u4e86\uff0c\u7eaf\u7cb9\u5e72\u51c0\uff0c\u529f\u80fd\u5f3a\u5927\u4e30\u5bcc\uff0c\u754c\u9762\u7b80\u6d01\u65e0\u5e7f\u544a\uff0c\u800c\u4e14\u53ea\u6709\u51e0 MB \u5927\u5c0f\u65e0\u9700\u5b89\u88c5\u3002</p> <p>\u4e0d\u4ec5\u53ef\u4ee5\u5e2e\u6211\u4eec\u5feb\u6377\u65b9\u4fbf\u5730\u81ea\u5b9a\u4e49\u8c03\u6574\u7cfb\u7edf\u8bbe\u7f6e\uff0c\u8fd8\u5177\u5907\u5f3a\u5927\u7684\u7cfb\u7edf\u7ef4\u62a4\u529f\u80fd\uff0c\u662f\u4e00\u6b3e\u4e0d\u53ef\u591a\u5f97\u7684\u7cfb\u7edf\u7ba1\u7406\u5229\u5668\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/dism.html#_9","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Dism++ Github\u5730\u5740</li> </ul>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html","title":"Markdown\u7f16\u8f91\u5668Typora","text":"<p>\u672c\u6587\u8f6c\u8f7d\u81ea Typora \u5b8c\u5168\u4f7f\u7528\u8be6\u89e3 by 617</p> <p>Typora \u4e00\u76f4\u662f\u6211\u8ba4\u4e3a\u684c\u9762\u7aef\u7b14\u8bb0\u5e94\u7528\u5e94\u6709\u7684\u7ec8\u6781\u5f62\u6001\u3002\u7528\u6211\u4e4b\u524d \u4e00\u7bc7\u6587\u7ae0 \u4e2d\u7684\u8bdd\u6765\u8bf4\u5c31\u662f\uff0c\u300c\u5b83\u7684**\u529f\u80fd\u4e4b\u5f3a\u5927\u3001\u8bbe\u8ba1\u4e4b\u51b7\u9759\u3001\u4f53\u9a8c\u4e4b\u7f8e\u5999\u3001\u7406\u5ff5\u4e4b\u5148\u8fdb**\uff0c\u6211\u8ba4\u4e3a\u503c\u5f97\u6240\u6709\u7b14\u8bb0\u5e94\u7528\u5382\u5546\u5b66\u4e60\u3002\u300d</p> <p>\u4f46\u4e00\u4ef6\u5f88\u5c34\u5c2c\u7684\u4e8b\u60c5\u662f\uff0c\u7531\u4e8e\u5b83\u6781\u7b80\u7684\u8bbe\u8ba1\u7406\u5ff5\uff0c\u6709\u8bb8\u591a\u4f7f\u7528\u8005\u5e76\u6ca1\u80fd\u5b8c\u5168\u5730\u4e86\u89e3\u5230 Typora \u7684\u5168\u90e8\u5f3a\u5927\u529f\u80fd\u3002\u6211\u60f3\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\u7531\u6d45\u5165\u6df1\u5730\u4ecb\u7ecd Typora \u7684\u529f\u80fd\u4eae\u70b9\u3002\u65e0\u8bba\u4f60\u4ece\u672a\u7528\u8fc7 Typora\uff0c\u8fd8\u662f\u5df2\u7ecf\u4f53\u9a8c\u4e86\u5f88\u4e45\uff0c\u6211\u76f8\u4fe1\u4f60\u90fd\u80fd\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\u53d1\u73b0 Typora \u65b0\u7684\u60ca\u559c\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#typora","title":"Typora \u662f\u4ec0\u4e48\uff1f","text":"<p>Typora \u662f\u4e00\u6b3e**\u652f\u6301\u5b9e\u65f6\u9884\u89c8\u7684 Markdown \u6587\u672c\u7f16\u8f91\u5668**\u3002\u5b83\u6709 OS X\u3001Windows\u3001Linux \u4e09\u4e2a\u5e73\u53f0\u7684\u7248\u672c\uff0c\u5e76\u4e14\u7531\u4e8e\u4ecd\u5728\u6d4b\u8bd5\u4e2d\uff0c\u662f**\u5b8c\u5168\u514d\u8d39**\u7684\u3002</p> <p>\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u5e0c\u671b\u4ee5\u300cTypora \u662f\u4ec0\u4e48\u300d\u8fd9\u4e2a\u95ee\u9898\u4e3a\u7ebf\u7d22\uff0c\u5411\u5927\u5bb6\u5168\u9762\u4ecb\u7ecd\u8fd9\u6b3e\u4ee4\u4eba\u7231\u4e0d\u91ca\u624b\u7684\u7b14\u8bb0\u5e94\u7528\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#markdown","title":"\u4e00\u4e2a Markdown \u6587\u672c\u7f16\u8f91\u5668","text":"<p>Typora \u9996\u5148\u662f\u4e00\u4e2a Markdown \u6587\u672c\u7f16\u8f91\u5668\uff0c\u5b83\u652f\u6301\u4e14\u4ec5\u652f\u6301 Markdown \u8bed\u6cd5\u7684\u6587\u672c\u7f16\u8f91\u3002\u5728 Typora \u5b98\u7f51 \u4e0a\u4ed6\u4eec\u5c06 Typora \u63cf\u8ff0\u4e3a \u300cA truly minimal markdown editor. \u300d\u3002</p> <p>\u5b98\u7f51\u9996\u9875</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#markdown_1","title":"\u5173\u4e8e Markdown","text":"<p>Markdown \u662f\u7528\u6765\u7f16\u5199\u7ed3\u6784\u5316\u6587\u6863\u7684\u4e00\u79cd\u7eaf\u6587\u672c\u683c\u5f0f\uff0c\u5b83\u4f7f\u6211\u4eec\u5728\u53cc\u624b\u4e0d\u79bb\u5f00\u952e\u76d8\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u5bf9\u6587\u672c\u8fdb\u884c\u4e00\u5b9a\u7a0b\u5ea6\u7684\u683c\u5f0f\u6392\u7248\u3002\u4f60\u53ef\u4ee5\u5728 \u8fd9\u7bc7\u6587\u7ae0 \u4e2d\u5feb\u901f\u5165\u95e8 Markdown\u3002</p> <p>\u7531\u4e8e\u76ee\u524d\u8fd8\u6ca1\u6709\u4e00\u4e2a\u6743\u5a01\u673a\u6784\u5bf9 Markdown \u7684\u8bed\u6cd5\u8fdb\u884c\u89c4\u8303\uff0c\u5404\u5e94\u7528\u5382\u5546\u5236\u4f5c\u65f6\u9075\u5faa\u7684 Markdown \u8bed\u6cd5\u4e5f\u662f\u4e0d\u5c3d\u76f8\u540c\u7684\u3002\u5176\u4e2d\u6bd4\u8f83\u53d7\u5230\u8ba4\u53ef\u7684\u662f GFM \u6807\u51c6\uff0c\u5b83\u662f\u7531\u8457\u540d\u4ee3\u7801\u6258\u7ba1\u7f51\u7ad9 GitHub \u6240\u5236\u5b9a\u7684\u3002Typora \u4e3b\u8981\u4f7f\u7528\u7684\u4e5f\u662f GFM \u6807\u51c6\u3002\u540c\u65f6\uff0c\u4f60\u8fd8\u53ef\u4ee5\u5728 <code>\u6587\u4ef6 - \u504f\u597d\u8bbe\u7f6e - Markdown \u8bed\u6cd5\u504f\u597d - \u4e25\u683c\u6a21\u5f0f</code> \u4e2d\u5c06\u6807\u51c6\u8bbe\u7f6e\u4e3a\u300c\u66f4\u4e25\u683c\u5730\u9075\u5faa GFM \u6807\u51c6\u300d\u3002\u5177\u4f53\u5185\u5bb9\u4f60\u53ef\u4ee5\u5728\u5b98\u65b9\u7684 \u8fd9\u7bc7\u6587\u6863 \u4e2d\u67e5\u770b\u3002</p> <p>\u4e25\u683c\u6a21\u5f0f</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_1","title":"\u5199\u5f97\u8212\u670d","text":"<p>\u4e00\u4e2a\u6587\u672c\u7f16\u8f91\u5668\uff0c**\u5199\u5f97\u8212\u670d**\u662f\u5173\u952e\u3002\u6211\u66fe\u8bf4\u8fc7\uff0c\u300c\u66f4\u6709\u8da3\u7684\u662f\uff0c\u4e00\u4e2a\u7b14\u8bb0\u5e94\u7528\u4e0d\u4f1a\u56e0\u4e3a\u5b83\u652f\u6301 Markdown \u8bed\u6cd5\u800c\u9ad8\u7ea7\u6216\u6613\u7528\u5f88\u591a\u3002\u300d\uff0c\u7ec6\u679d\u672b\u8282\u5904\u7684\u4eba\u6027\u5316\u8003\u8651\u624d\u662f\u6700\u91cd\u8981\u7684\u3002\u800c Typora \u7684\u7f16\u8f91\u4f53\u9a8c\u663e\u7136\u662f\u7ecf\u8fc7\u6df1\u601d\u719f\u8651\u8bbe\u8ba1\u7684\u4ea7\u7269\u3002</p> <p>\u6211\u8ba4\u4e3a\uff1a\u4e00\u4e2a\u4f18\u79c0\u7684\u7b14\u8bb0\u5e94\u7528\u5e94\u8be5\u7ed9\u7528\u6237**\u9009\u62e9 Markdown \u8bed\u6cd5\u98ce\u683c\u7684\u6743\u5229**\u3002\u800c Typora \u5728\u8fd9\u4e00\u70b9\u4e0a\u662f\u6211\u76ee\u524d\u89c1\u8fc7\u6240\u6709 Markdown \u7b14\u8bb0\u5e94\u7528\u4e2d\u505a\u5f97\u6700\u597d\u7684\u3002</p> <p>\u6587\u672c\u7f16\u8f91\u8bbe\u7f6e</p> <p>\u901a\u8fc7\u6253\u5f00 <code>\u6587\u4ef6 - \u504f\u597d\u8bbe\u7f6e</code> \u4f60\u4f1a\u53d1\u73b0 Typora \u4e3a\u7f16\u8f91\u4f53\u9a8c\u7684\u8003\u8651\u7ec6\u81f4\u5230\u4e86\u4ee4\u4eba\u53f9\u4e3a\u89c2\u6b62\u7684\u7a0b\u5ea6\u3002Typora \u4e2d\u63d0\u4f9b\u4e86\u5927\u91cf\u6709\u5173 Markdown \u504f\u597d\u7684\u8bbe\u7f6e\uff0c\u636e\u6b64\uff0c\u4f60\u53ef\u4ee5\u6784\u5efa\u4e00\u4e2a\u51e0\u4e4e\u5b8c\u5168\u9002\u5408\u81ea\u5df1\u7684 Markdown \u7f16\u8f91\u5668\u3002\u4e0b\u9762\u6211\u5c06\u4f9d\u6b21\u4ecb\u7ecd\u4e00\u4e9b\u4e0e\u6587\u672c\u7f16\u8f91\u4f53\u9a8c\u6709\u5173\u7684\u529f\u80fd\u4eae\u70b9\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_2","title":"\u667a\u80fd\u6807\u70b9","text":"<p>\u6211\u8ba4\u4e3a\u300c\u667a\u80fd\u6807\u70b9\u300d\u662f\u6bd4\u8f83\u6709\u8da3\u7684\u4e00\u70b9\u3002\u5b83\u53ef\u4ee5\u81ea\u52a8\u5e2e\u4f60\u5c06\u4e0d\u662f\u5f88\u7f8e\u89c2\u7684\u76f4\u5f15\u53f7 <code>\"</code> <code>'</code> \u8f6c\u5316\u4e3a\u66f4\u7f8e\u89c2\u7684\u5f2f\u5f15\u53f7 <code>\u201c</code> <code>\u2018</code> <code>\u2019</code> <code>\u201d</code>\u3002\u5177\u4f53\u5185\u5bb9\u4f60\u53ef\u4ee5\u5728\u5b98\u65b9\u7684 \u8fd9\u7bc7\u6587\u6863 \u4e2d\u67e5\u770b\u3002\u5173\u4e8e\u76f4\u5f2f\u5f15\u53f7\u5728 macOS \u4e0a\u5982\u4f55\u8f93\u5165\u4f60\u4e5f\u53ef\u4ee5\u770b \u8fd9\u7bc7\u6587\u7ae0\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_3","title":"\u56fe\u7247\u63d2\u5165","text":"<p>Typora \u7684\u56fe\u7247\u63d2\u5165\u529f\u80fd\u662f\u5e7f\u53d7\u597d\u8bc4\u7684\u3002\u8981\u77e5\u9053\uff0cMarkdown \u539f\u751f\u4e0d\u592a\u6ce8\u91cd\u56fe\u7247\u63d2\u5165\u7684\u529f\u80fd\uff0c\u4f46\u4f60\u53ef\u4ee5\u5728 Typora \u4e2d\uff1a</p> <ul> <li>\u76f4\u63a5\u4f7f\u7528 <code>\u53f3\u952e - \u590d\u5236 Ctrl + V</code> \u5c06\u7f51\u7edc\u56fe\u7247\u3001\u526a\u8d34\u677f\u56fe\u7247\u590d\u5236\u5230\u6587\u6863\u4e2d</li> <li>\u62d6\u52a8\u672c\u5730\u56fe\u7247\u5230\u6587\u6863\u4e2d</li> </ul> <p>Typora \u4f1a\u81ea\u52a8\u5e2e\u4f60\u63d2\u5165\u7b26\u5408 Markdown \u8bed\u6cd5\u7684\u56fe\u7247\u8bed\u53e5\uff0c\u5e76\u7ed9\u5b83\u52a0\u4e0a\u6807\u9898\u3002</p> <p>\u590d\u5236\u56fe\u7247</p> <p>\u4f60\u4e5f\u5b8c\u5168\u53ef\u4ee5\u4f7f\u7528\u56fe\u5e8a\u6765\u4fdd\u8bc1\u6587\u6863\u5728\u5206\u4eab\u540e\u56fe\u7247\u4ecd\u80fd\u6b63\u5e38\u663e\u793a\u3002</p> <p>\u66f4\u5f3a\u5927\u7684\u662f\uff0cTypora \u652f\u6301\u5728\u62d6\u52a8\u6216 <code>Ctrl + V</code> \u7f51\u7edc\u56fe\u7247\u540e\u81ea\u52a8\u5c06\u5176\u4fdd\u5b58\u5230\u672c\u5730\u3002\u4f60\u53ef\u4ee5\u5728 <code>\u6587\u4ef6 - \u504f\u597d\u8bbe\u7f6e - \u7f16\u8f91\u5668 - \u56fe\u7247\u63d2\u5165</code> \u4e2d\u9009\u62e9\u590d\u5236\u5230\u54ea\u4e2a\u8def\u5f84\uff0c\u4ec0\u4e48\u60c5\u51b5\u4e0b\u9700\u8981\u590d\u5236\u3002</p> <p>\u56fe\u7247\u63d2\u5165</p> <p>\u8fd9\u4e00\u529f\u80fd\u4fdd\u8bc1\u4e86\u5373\u4f7f\u7f51\u7edc\u56fe\u7247\u6e90\u5931\u6548\u4e86\uff0c\u4f60\u8fd8\u6709\u672c\u5730\u7684\u5907\u4efd\u53ef\u7528\u3002\u540c\u65f6\u4e5f\u80fd\u4f7f\u4f60\u7684\u6587\u6863\u6587\u4ef6\u5939\u66f4\u5408\u7406\u3001\u5b8c\u6574\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_4","title":"\u6253\u5b57\u673a\u6a21\u5f0f\u548c\u4e13\u6ce8\u6a21\u5f0f","text":"<p>**\u300c\u6253\u5b57\u673a\u6a21\u5f0f\u300d**\u4f7f\u5f97\u4f60\u6240\u7f16\u8f91\u7684\u90a3\u4e00\u884c\u6c38\u8fdc\u5904\u4e8e\u5c4f\u5e55\u6b63\u4e2d\u3002</p> <p>**\u300c\u4e13\u6ce8\u6a21\u5f0f\u300d**\u4f7f\u4f60\u6b63\u5728\u7f16\u8f91\u7684\u90a3\u4e00\u884c\u4fdd\u7559\u989c\u8272\uff0c\u800c\u5176\u4ed6\u884c\u7684\u5b57\u4f53\u5448\u7070\u8272\u3002</p> <p>\u4f60\u53ef\u4ee5\u5728 <code>\u89c6\u56fe - \u4e13\u6ce8\u6a21\u5f0f / \u6253\u5b57\u673a\u6a21\u5f0f</code> \u4e2d\u52fe\u9009\u4f7f\u7528\u8fd9\u4e24\u4e2a\u6a21\u5f0f\u3002</p> <p>\u4e24\u79cd\u6a21\u5f0f</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_5","title":"\u5b9e\u65f6\u9884\u89c8","text":"<p>\u6211\u60f3\u5f88\u679c\u65ad\u5730\u4e0b\u8fd9\u4e2a\u7ed3\u8bba\uff1a\u5230\u73b0\u5728\u8fd8\u4e0d\u652f\u6301\u7f16\u8f91\u754c\u9762\u5b9e\u65f6\u9884\u89c8\u7684 Markdown \u7f16\u8f91\u5668\u57fa\u672c\u53ef\u4ee5\u9000\u51fa\u5e02\u573a\u4e86\u3002Typora \u5728\u8fd9\u4e00\u65b9\u9762\u663e\u7136\u5df2\u7ecf\u9886\u5148\u4e86\u4e00\u5927\u6b65\u2014\u2014\u4ed6\u4eec\u8fde Markdown \u8bed\u6cd5\u7684\u6807\u8bb0\u90fd\u5728\u5b9e\u65f6\u9884\u89c8\u4e2d\u6d88\u53bb\u4e86\u3002\u5f53\u4f60\u79bb\u5f00\u6b63\u5728\u7f16\u8f91\u7684\u6709\u683c\u5f0f\u7684\u6587\u672c\u6bb5\u540e\uff0cTypora \u4f1a\u81ea\u52a8\u9690\u85cf Markdown \u6807\u8bb0\uff0c\u53ea\u7559\u4e0b**\u300c\u6240\u89c1\u5373\u6240\u5f97\u300d**\u7684\u7f8e\u5999\u3002\u4ed6\u4eec\u628a\u8fd9\u79f0\u4e3a Hybrid View\u3002</p> <p>\u6240\u89c1\u5373\u6240\u5f97</p> <p>\u4e3a\u4e86\u9632\u6b62\u4e00\u4e9b\u7a0b\u5e8f bug \u7684\u53d1\u751f\uff08\u867d\u7136\u5728\u6211\u4f7f\u7528\u4e0b\u6765\u611f\u5230\u662f\u5f88\u5c11\u7684\uff09\u5bfc\u81f4\u683c\u5f0f\u95ee\u9898\u65e0\u6cd5\u4fee\u6539\uff0cTypora \u4fdd\u7559\u4e86\u4e00\u4e2a**\u300c\u6e90\u4ee3\u7801\u6a21\u5f0f\u300d**\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>\u89c6\u56fe - \u6e90\u4ee3\u7801\u6a21\u5f0f</code> \u6216\u5de6\u4e0b\u89d2\u7684 `` \u6309\u94ae\u8fdb\u5165\u3002</p> <p>\u6e90\u4ee3\u7801\u6a21\u5f0f</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_6","title":"\u5927\u7eb2 / \u6587\u4ef6\u4fa7\u8fb9\u680f","text":"<p>\u4fa7\u8fb9\u680f</p> <p>Typora \u4f1a\u6839\u636e\u4f60 Markdown \u6807\u8bb0\u7684 H1\u3001H2\u3001H3\u2026\u2026 \u5404\u7ea7\u6807\u9898\u4e3a\u4f60\u5448\u73b0\u4e00\u4e2a\u5927\u7eb2\u3002</p> <p>\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\u67e5\u770b\u6587\u4ef6\u5939\u4e2d\u7684\u6587\u4ef6\uff0c\u4f46\u7531\u4e8e\u76ee\u524d Typora \u53ea\u652f\u6301\u67e5\u770b md \u6587\u4ef6\uff0c\u56e0\u6b64\u6211\u8ba4\u4e3a\u6587\u4ef6\u4fa7\u8fb9\u680f\u8fd9\u4e2a\u529f\u80fd\u8fd8\u662f\u5f88\u9e21\u808b\u7684\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_7","title":"\u7a7a\u683c\u4e0e\u6362\u884c","text":"<p>Typora \u5728\u7a7a\u683c\u4e0e\u6362\u884c\u90e8\u5206\u4e3b\u8981\u662f\u4f7f\u7528 CommonMark \u4f5c\u4e3a\u6807\u6ce8\u89c4\u8303\u3002\u4e0e\u524d\u6587\u63d0\u5230\u7684 GFM \u4e00\u6837\uff0cCommonMark \u4e5f\u662f\u6bd4\u8f83\u6d41\u884c\u7684 Markdown \u8bed\u8a00\u89c4\u8303\uff08\u89e3\u6790\u5668\uff09\u4e4b\u4e00\u3002</p> <ul> <li>**\u7a7a\u683c\uff1a**\u5728\u8f93\u5165\u8fde\u7eed\u7684\u7a7a\u683c\u540e\uff0cTypora \u4f1a\u5728\u7f16\u8f91\u5668\u89c6\u56fe\u91cc\u4e3a\u4f60\u4fdd\u7559\u8fd9\u4e9b\u7a7a\u683c\uff0c\u4f46\u5f53\u4f60\u6253\u5370\u6216\u5bfc\u51fa\u65f6\uff0c\u8fd9\u4e9b\u7a7a\u683c\u4f1a\u88ab\u7701\u7565\u6210\u4e00\u4e2a\u3002      \u4f60\u53ef\u4ee5\u5728\u6e90\u4ee3\u7801\u6a21\u5f0f\u4e0b\uff0c\u4e3a\u6bcf\u4e2a\u7a7a\u683c\u524d\u52a0\u4e00\u4e2a <code>\\</code> \u8f6c\u4e49\u7b26\uff0c\u6216\u8005\u76f4\u63a5\u4f7f\u7528 HTML \u98ce\u683c\u7684 <code>&amp;nbps;</code> \u6765\u4fdd\u6301\u8fde\u7eed\u7684\u7a7a\u683c\u3002</li> <li>**\u8f6f\u6362\u884c\uff1a**\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u5728 Markdown \u8bed\u6cd5\u4e2d\uff0c\u6362\u884c\uff08line break\uff09\u4e0e\u6362\u6bb5\u662f\u4e0d\u540c\u7684\u3002\u4e14\u6362\u884c\u5206\u4e3a\u8f6f\u6362\u884c\u548c\u786c\u6362\u884c\u3002\u5728 Typora \u4e2d\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>Shift + Enter</code> \u5b8c\u6210\u4e00\u6b21\u8f6f\u6362\u884c\u3002\u8f6f\u6362\u884c\u53ea\u5728\u7f16\u8f91\u754c\u9762\u53ef\u89c1\uff0c\u5f53\u6587\u6863\u88ab\u5bfc\u51fa\u65f6\u6362\u884c\u4f1a\u88ab\u7701\u7565\u3002</li> <li>**\u786c\u6362\u884c\uff1a**\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>\u7a7a\u683c + \u7a7a\u683c + Shift + Enter</code> \u5b8c\u6210\u4e00\u6b21\u786c\u6362\u884c\uff0c\u800c\u8fd9\u4e5f\u662f\u8bb8\u591a Markdown \u7f16\u8f91\u5668\u6240\u539f\u751f\u652f\u6301\u7684\u3002\u786c\u6362\u884c\u5728\u6587\u6863\u88ab\u5bfc\u51fa\u65f6\u5c06\u88ab\u4fdd\u7559\uff0c\u4e14\u6ca1\u6709\u6362\u6bb5\u7684\u6bb5\u540e\u8ddd\u3002</li> <li>**\u6362\u6bb5\uff1a**\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>Enter</code> \u5b8c\u6210\u4e00\u6b21\u6362\u6bb5\u3002Typora \u4f1a\u81ea\u52a8\u5e2e\u4f60\u5b8c\u6210\u4e24\u6b21 <code>Shift + Enter</code> \u7684\u8f6f\u6362\u884c\uff0c\u4ece\u800c\u5b8c\u6210\u4e00\u6b21\u6362\u6bb5\u3002\u8fd9\u4e5f\u610f\u5473\u7740\u5728 Markdown \u8bed\u6cd5\u4e0b\uff0c\u6362\u6bb5\u662f\u901a\u8fc7\u5728\u6bb5\u4e0e\u6bb5\u4e4b\u95f4\u52a0\u5165\u7a7a\u884c\u6765\u5b9e\u73b0\u7684\u3002</li> <li>**Windows \u98ce\u683c\uff08CR+LF\uff09\u4e0e Unix \u98ce\u683c\uff08CR\uff09\u7684\u6362\u884c\u7b26\uff1a**CR \u8868\u793a\u56de\u8f66 <code>\\r</code> \uff0c\u5373\u56de\u5230\u4e00\u884c\u7684\u5f00\u5934\uff0c\u800c LF \u8868\u793a\u6362\u884c <code>\\n</code> \uff0c\u5373\u53e6\u8d77\u4e00\u884c\u3002      \u6240\u4ee5 Windows \u98ce\u683c\u7684\u6362\u884c\u7b26\u672c\u8d28\u662f\u300c\u56de\u8f66 + \u6362\u884c\u300d\uff0c\u800c Unix \u98ce\u683c\u7684\u6362\u884c\u7b26\u662f\u300c\u6362\u884c\u300d\u3002\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48 Unix / Mac \u7cfb\u7edf\u4e0b\u7684\u6587\u4ef6\uff0c\u5982\u679c\u5728 Windows \u7cfb\u7edf\u76f4\u63a5\u6253\u5f00\u4f1a\u5168\u90e8\u5728\u540c\u4e00\u884c\u5185\u3002 \u4f60\u53ef\u4ee5\u5728 <code>\u6587\u4ef6 - \u504f\u597d\u8bbe\u7f6e - \u7f16\u8f91\u5668 - \u9ed8\u8ba4\u6362\u884c\u7b26</code> \u4e2d\u5bf9\u6b64\u8fdb\u884c\u5207\u6362\u3002</li> </ul> <p>\u4e0b\u9644\u4ee5\u4e0a\u5404\u7a7a\u683c\u3001\u6362\u884c\u3001\u6362\u6bb5\u7684\u6d4b\u8bd5\u7ed3\u679c\u56fe\u3002\u5177\u4f53\u5185\u5bb9\u4f60\u53ef\u4ee5\u5728\u5b98\u7f51\u7684 \u8fd9\u7bc7\u6587\u6863 \u4e2d\u67e5\u9605\u3002</p> <p>\u7a7a\u683c\u3001\u6362\u884c\u3001\u6362\u6bb5</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#emoji","title":"emoji \u8868\u60c5","text":"<p>\u5982\u4eca emoji \u8868\u60c5\u8d8a\u6765\u8d8a\u591a\u5730\u51fa\u73b0\u5728\u4e00\u4e9b\u7f51\u7ad9\u6587\u7ae0\u4e2d\uff0c\u4f46\u5728\u684c\u9762\u7aef\uff08\u7279\u522b\u662f Windows \u7cfb\u7edf\uff09\u6587\u672c\u7f16\u8f91\u5668\u4e0a\u63d2\u5165 emoji \u662f\u4e00\u4ef6\u5341\u5206\u9ebb\u70e6\u7684\u4e8b\u60c5\u3002\u5728\u4f7f\u7528 Typora \u4e4b\u524d\uff0c\u6211\u6253\u51fa emoji \u8868\u60c5\u7684\u529e\u6cd5\u57fa\u672c\u6709\u4e24\u4e2a\uff1a</p> <ol> <li>**\u8f93\u5165\u6cd5\u8054\u60f3\uff1a**\u4f18\u70b9\u662f\u6bd4\u8f83\u65b9\u4fbf\uff0c\u4f46\u4f1a\u63d2\u5165\u4e00\u5f20\u56fe\u7247\u800c\u4e0d\u662f\u4e00\u4e2a\u5b57\u7b26\uff0c\u5728\u8bb8\u591a\u60c5\u666f\u4e0b\u90fd\u4e0d\u662f\u5f88\u5408\u9002\u3002 </li> <li>**\u590d\u5236 emoji \u7b26\u53f7\uff1a**\u4f18\u70b9\u662f\u80fd\u4fdd\u8bc1\u7b26\u53f7\u7684\u5f62\u5f0f\uff0c\u4f46\u663e\u7136\u6bcf\u6b21\u7528\u90fd\u9700\u8981\u53bb\u590d\u5236\uff0c\u6bd4\u8f83\u9ebb\u70e6\u3002</li> </ol> <p>\u8f93\u5165\u6cd5\u8054\u60f3</p> <p>\u5728 Typora \u4e2d\uff0c\u4f60\u53ef\u4ee5\u7528 <code>:emoji:</code> \u7684\u5f62\u5f0f\u6765\u6253\u51fa emoji\uff0c\u8f6f\u4ef6\u4f1a\u81ea\u52a8\u7ed9\u51fa\u56fe\u5f62\u7684\u63d0\u793a\uff0c\u8fd8\u662f\u6bd4\u8f83\u597d\u7528\u7684\u3002</p> <p>Typora \u4e2d\u8f93\u5165 emoji</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_8","title":"\u4e00\u4e2a\u5b66\u672f\u6587\u6863\u7f16\u8f91\u5668","text":"<p>\u9664\u4e86\u57fa\u672c\u7684\u6587\u672c\u7f16\u8f91\u4f53\u9a8c\u6781\u4f73\u4e4b\u5916\uff0cTypora \u8fd8\u662f\u4e00\u4e2a\u975e\u5e38\u4f18\u79c0\u7684\u5b66\u672f\u6587\u6863\u7f16\u8f91\u5668\u3002\u5f53\u7136\u4f5c\u4e3a\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u3001\u57fa\u4e8e Markdown \u7684\u7f16\u8f91\u5668\uff0c\u5b83\u4e0d\u80fd\u4e0e\u90a3\u4e9b LaTeX \u7f16\u8f91\u5668\u76f8\u63d0\u5e76\u8bba\uff0c\u4f46\u5b83\u4ecd\u652f\u6301\u4e86\u8bb8\u591a\u53ef\u7528\u4e8e\u5b66\u672f\u5199\u4f5c\u7684\u529f\u80fd\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#latex","title":"LaTeX","text":"<p>LaTeX \u662f\u4e00\u79cd\u57fa\u4e8e TeX \u7684\u6392\u7248\u7cfb\u7edf\uff0c\u7531\u4e8e\u5b83\u6613\u4e8e\u5feb\u901f\u751f\u6210\u590d\u6742\u8868\u683c\u548c\u6570\u5b66\u516c\u5f0f\uff0c\u975e\u5e38\u9002\u7528\u4e8e\u751f\u6210\u9ad8\u5370\u5237\u8d28\u91cf\u7684\u79d1\u6280\u548c\u6570\u5b66\u7c7b\u6587\u6863\u3002\u5982\u679c\u4f60\u5e38\u9605\u8bfb\u6570\u5b66\u3001\u8ba1\u7b97\u673a\u7b49\u9886\u57df\u7684\u5b66\u672f\u8bba\u6587\uff0c\u4f60\u4e00\u5b9a\u5bf9 LaTeX \u4e0d\u964c\u751f\u3002</p> <p>Typora \u539f\u751f\u652f\u6301 LaTeX \u8bed\u6cd5\uff0c\u4f60\u6709\u4e24\u79cd\u65b9\u5f0f\u8f93\u5165 LaTeX \u98ce\u683c\u7684\u6570\u5b66\u516c\u5f0f\uff1a</p> <ol> <li>**\u884c\u5185\u516c\u5f0f\uff08inline\uff09\uff1a**\u7528 <code>$...$</code> \u62ec\u8d77\u516c\u5f0f\uff0c\u516c\u5f0f\u4f1a\u51fa\u73b0\u5728\u884c\u5185\u3002</li> <li>**\u5757\u95f4\u516c\u5f0f\uff08display\uff09\uff1a**\u7528 <code>$$...$$</code> \u62ec\u8d77\u516c\u5f0f\uff08\u6ce8\u610f <code>$$</code> \u540e\u9700\u8981\u6362\u884c\uff09\uff0c\u516c\u5f0f\u4f1a\u9ed8\u8ba4\u663e\u793a\u5728\u884c\u4e2d\u95f4\u3002</li> </ol> <p>\u5177\u4f53\u7684 LaTeX \u8bed\u6cd5\u5728\u6b64\u4e0d\u8d58\u8ff0\u4e86\uff0c\u4f60\u53ef\u4ee5\u5728 \u8fd9\u7bc7\u6587\u7ae0 \u4e2d\u67e5\u770b\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_9","title":"\u4ee3\u7801\u9ad8\u4eae","text":"<p>Typora \u4e2d\u4ee3\u7801\u7684\u63d2\u5165\u4e5f\u53ef\u4ee5\u5206\u4e3a\u884c\u5185\u548c\u5757\u95f4\u4e24\u79cd\uff1a</p> <ol> <li>\u884c\u5185\u4ee3\u7801\uff1a\u7528 <code>...</code> \u6216 <code>...</code> \u62ec\u8d77\u4ee3\u7801\uff0c\u4ee3\u7801\u4f1a\u4ee5\u4e3b\u9898\u4e2d\u8bbe\u7f6e\u7684\u6837\u5f0f\u51fa\u73b0\u5728\u884c\u5185\uff0c\u4f46\u4e0d\u4f1a\u5b9e\u73b0\u4ee3\u7801\u9ad8\u4eae\u3002</li> <li>\u4ee3\u7801\u5757\uff1a\u8f93\u5165 ````` \u540e\u5e76\u8f93\u5165\u8bed\u8a00\u540d\uff0c\u6362\u884c\uff0c\u5f00\u59cb\u5199\u4ee3\u7801\uff0cTypora \u5c31\u4f1a\u81ea\u52a8\u5e2e\u4f60\u5b9e\u73b0\u4ee3\u7801\u9ad8\u4eae\u3002Typora \u539f\u751f\u652f\u6301\u8bb8\u591a\u7f16\u7a0b\u8bed\u8a00\u4ee3\u7801\u5757\u7684\u8bed\u6cd5\u9ad8\u4eae\uff0c\u57fa\u672c\u65e5\u5e38\u5e38\u7528\u7684\u7f16\u7a0b\u8bed\u8a00\u5b83\u90fd\u80fd\u5f88\u597d\u5730\u652f\u6301\u3002      \u9664\u6b64\u4ee5\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u6362\u884c\u5f00\u59cb\u5199\uff0c\u800c\u540e\u518d\u9009\u62e9\u8bed\u8a00\u3002</li> </ol> <p>\u4ee3\u7801\u5757</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_10","title":"\u8868\u683c","text":"<p>\u5728 Markdown \u4e2d\u63d2\u5165\u8868\u683c\u4e00\u76f4\u662f\u4e00\u4ef6\u6bd4\u8f83\u5934\u75bc\u7684\u4e8b\u60c5\u3002\u5728\u4e00\u822c\u7684 Markdown \u7f16\u8f91\u5668\u4e2d\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u7684\u683c\u5f0f\u63d2\u5165\u8868\u683c\uff1a</p> <pre><code>| \u5de6\u5bf9\u9f50 | \u53f3\u5bf9\u9f50 | \u5c45\u4e2d\u5bf9\u9f50 |\n| :-----| ----: | :----: |\n| \u5355\u5143\u683c | \u5355\u5143\u683c | \u5355\u5143\u683c |\n| \u5355\u5143\u683c | \u5355\u5143\u683c | \u5355\u5143\u683c |\n</code></pre> <p>\u4e4d\u4e00\u770b\u8fd8\u633a\u76f4\u89c2\u597d\u7528\u7684\u662f\u5427\uff1f\u4f46\u60f3\u60f3\uff0c\u4e00\u65e6\u8868\u683c\u5185\u5bb9\u5c42\u6b21\u4e0d\u9f50\uff0c\u53c8\u6216\u662f\u8868\u683c\u957f\u5f97\u96be\u4ee5\u4e0b\u624b\uff0c\u76f4\u63a5\u7528\u952e\u76d8\u8f93\u5165\u8868\u683c\u5c31\u663e\u5f97\u5341\u5206\u9ebb\u70e6\u548c\u75db\u82e6\u4e86\u3002</p> <p>\u597d\u5728 Typora \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u56fe\u5f62\u754c\u9762\u7684\u63d2\u5165\u8868\u683c\u7684\u529f\u80fd\uff0c\u4f60\u53ea\u9700\u8981\u5728\u884c\u5185 <code>\u9f20\u6807\u53f3\u952e - \u63d2\u5165 - \u8868\u683c</code> \uff0c\u5e76\u8f93\u5165\u884c\u6570\u548c\u5217\u6570\uff0cTypora \u5c31\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u5f20\u6837\u5f0f\u4e0d\u9519\u7684\u7a7a\u8868\u683c\u3002</p> <p>Typora \u8868\u683c</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_11","title":"\u94fe\u63a5\u5f15\u7528\u4e0e\u811a\u6ce8","text":"<p>**\u94fe\u63a5\u5f15\u7528**\u7c7b\u4f3c\u4e8e\u6211\u4eec\u5e38\u5728\u8bba\u6587\u672b\u5c3e\u770b\u5230\u7684\u300c\u53c2\u8003\u6587\u732e\u300d\u7684\u5199\u6cd5\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>[]:</code> \u7684\u8bed\u6cd5\u6765\u4e3a\u4f60\u7684\u6587\u6863\u52a0\u4e0a\u94fe\u63a5\u5f15\u7528\u3002</p> <p>**\u811a\u6ce8**\u5728\u5c11\u6570\u6d3e\u7684\u6587\u7ae0\u4e2d\u4e5f\u5f88\u5e38\u89c1\uff0c\u5373\u67d0\u6bb5\u8bdd\u7ed3\u5c3e\u53f3\u4e0a\u89d2\u6807\u6709\u6570\u5b57\u6807\u8bb0\uff0c\u9875\u9762\u5e95\u90e8\u8fdb\u884c\u6ce8\u91ca\u7684\u5199\u6cd5\u3002\u4f60\u53ef\u4ee5\u5728\u9700\u8981\u63d2\u5165\u811a\u6ce8\u6807\u53f7\u7684\u4f4d\u7f6e\u5199 <code>[^ number ]</code> \uff0c\u518d\u5728\u4e0b\u65b9\u901a\u8fc7 <code>[^ number ]:</code> \u5728\u6587\u6863\u4e2d\u63d2\u5165\u811a\u6ce8\u3002\u6ce8\u610f\u4e0d\u8981\u9057\u6f0f\u4e86\u811a\u6ce8\u7f16\u53f7 <code>number</code> \u524d\u540e\u7684\u7a7a\u683c\u3002</p> <p>\u94fe\u63a5\u5f15\u7528\u548c\u811a\u6ce8</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_12","title":"\u6587\u4ef6\u7cfb\u7edf","text":"<p>\u9664\u4e86\u524d\u6587\u63d0\u5230\u7684\u6587\u4ef6\u4fa7\u8fb9\u680f\uff0cTypora \u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u8026\u5408\u5ea6\u4e0d\u9ad8\u7684\u6587\u4ef6\u7cfb\u7edf\u3002</p> <ul> <li>**\u5feb\u901f\u6253\u5f00\uff1a**\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>\u6587\u4ef6 - \u5feb\u901f\u6253\u5f00...</code> \u6216 <code>Ctrl + P</code> \u5feb\u6377\u952e\u5feb\u901f\u6253\u5f00\u6700\u8fd1\u7684\u6587\u6863\u3002</li> <li>**\u4fdd\u5b58\uff1a**Typora \u652f\u6301\u81ea\u52a8\u4fdd\u5b58\uff0c\u4e00\u822c\u5f88\u5c11\u6709\u5199\u597d\u7684\u6587\u6863\u4e22\u5931\u7684\u60c5\u51b5\u3002\u540c\u65f6\u5b83\u4e5f\u63d0\u4f9b\u4e86\u8bf8\u5982\u300c\u4fdd\u5b58\u300d\u3001\u300c\u53e6\u5b58\u4e3a\u300d\u3001\u300c\u4fdd\u5b58\u5168\u90e8\u6253\u5f00\u7684\u6587\u4ef6...\u300d\u4e4b\u7c7b\u7684\u529f\u80fd\u3002</li> <li>**\u5bfc\u5165\uff1a**Typora \u652f\u6301\u975e\u5e38\u591a\u7684\u6587\u4ef6\u683c\u5f0f\uff1a.docx, .latex, .tex, .ltx, .rst, .rest, .org, .wiki, .dokuwiki, .textile, .opml, .epub\u3002</li> <li>**\u5bfc\u51fa\uff1a**Typora \u539f\u751f\u652f\u6301\u5bfc\u51fa PDF\uff0cHTML\u7b49\u683c\u5f0f\u3002\u4f60\u53ef\u4ee5\u6839\u636e\u8f6f\u4ef6\u5185\u63d0\u793a\u5b89\u88c5 **Pandoc \u63d2\u4ef6**\u6765\u5bfc\u51fa\u66f4\u591a\u4f8b\u5982 docx\uff0cLaTeX \u7b49\u683c\u5f0f\u3002 </li> </ul> <p>\u5bfc\u51fa</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_13","title":"\u4e00\u4e2a\u4f2a\u88c5\u6210\u6587\u672c\u7f16\u8f91\u5668\u7684\u6d4f\u89c8\u5668","text":"<p>\u5f53\u6211\u7684\u4e00\u4e2a\u670b\u53cb\u95ee\u6211\u300cTypora \u6709\u4ec0\u4e48\u597d\u5199\u7684\uff1f\u300d\u65f6\uff0c\u6211\u56de\u7b54\u300cTypora \u662f\u4e00\u4e2a\u4f2a\u88c5\u6210\u6587\u672c\u7f16\u8f91\u5668\u7684\u6d4f\u89c8\u5668\u300d\u3002\u662f\u7684\uff0c\u4e8b\u5b9e\u4e0a\u5982\u679c\u4f60\u6709\u4e00\u5b9a\u7684\u8ba1\u7b97\u673a\u57fa\u7840\uff0c\u4f60\u53ef\u4ee5\u627e\u5230\u8bb8\u591a\u6709\u5173\u4e8e\u300cTypora \u5176\u5b9e\u662f\u4e00\u4e2a\u6d4f\u89c8\u5668\u300d\u7684\u86db\u4e1d\u9a6c\u8ff9\u3002</p> <p>\u56fe\u7247\u63d2\u5165</p> <p>\u5728\u56fe\u7247\u63d2\u5165\u7684\u9009\u9879\u4e2d\uff0cTypora \u7528\u4e86\u300c\u590d\u5236\u56fe\u7247\u5230 ./${filename}.assets \u6587\u4ef6\u5939\u300d\u7684\u8bf4\u6cd5\uff0c\u800c\u8fd9\u5176\u5b9e\u662f\u7f51\u9875\u524d\u7aef\u5e38\u7528\u7684 Javascript \u5b57\u7b26\u4e32\u6a21\u677f\u8bed\u6cd5\u7684\u98ce\u683c\u3002</p> <p>\u518d\u6bd4\u5982\uff0cTypora \u5c06\u66f4\u9075\u5faa GFM \u6807\u51c6\u7684 Markdown \u8bed\u6cd5\u6a21\u5f0f\u79f0\u4e3a\u300c\u4e25\u683c\u6a21\u5f0f Strict Mode\u300d\uff0c\u8fd9\u4e00\u8bf4\u6cd5\u5e38\u89c1\u4e8e HTML \u548c JavaScript \u7f16\u7a0b\u4e2d\u3002\u7c7b\u4f3c\u300c\u6e90\u4ee3\u7801\u6a21\u5f0f\u300d\u7684\u8bf4\u6cd5\u4e5f\u662f\u540c\u7406\u3002</p> <p>\u5f53\u7136\uff0c\u6700\u660e\u663e\u7684\u4e00\u70b9\u662f\u5f53\u4f60\u6309\u4e0b <code>Shift + F12</code> \u5feb\u6377\u952e\u65f6\uff0c\u9875\u9762\u4f1a\u5f39\u51fa\u4e00\u4e2a\u57fa\u4e8e Chrome \u7684\u5f00\u53d1\u8005\u5de5\u5177\u680f\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u5728\u6d4f\u89c8\u5668\u4e2d\u5e38\u8bf4\u7684\u300c\u5ba1\u67e5\u5143\u7d20\u300d\u3002</p> <p>\u5ba1\u67e5\u5143\u7d20</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#_14","title":"\u4f2a\u88c5\u4ece\u4f55\u800c\u6765\uff1f","text":"<p>\u5f53\u6211\u4eec\u628a\u89c6\u89d2\u653e\u5728\u300cTypora \u662f\u4e00\u4e2a\u652f\u6301 Markdown \u8bed\u8a00\u7684\u6587\u672c\u7f16\u8f91\u5668\u300d\u7684\u51fa\u53d1\u70b9\u6765\u8003\u8651\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e00\u5207\u5c31\u90fd\u663e\u5f97\u5f88\u660e\u767d\u4e86\u3002</p> <p>John Gruber \u5728 2004 \u5e74\u7528 Perl \u521b\u9020\u4e86 Markdown \u8bed\u8a00\uff0c\u8fd9\u4e2a\u8bed\u8a00\u7684\u76ee\u7684\u662f\u5e0c\u671b\u5927\u5bb6\u4f7f\u7528\u300c\u6613\u4e8e\u9605\u8bfb\u3001\u6613\u4e8e\u64b0\u5199\u7684\u7eaf\u6587\u5b57\u683c\u5f0f\uff0c\u5e76\u9009\u62e9\u6027\u7684\u8f6c\u6362\u6210\u6709\u6548\u7684 XHTML\uff08\u6216\u662f HTML\uff09\u300d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728 Markdown \u8bde\u751f\u4e4b\u521d\uff0c\u5b83\u5c31\u662f\u4e3a\u4e86\u88ab\u6d4f\u89c8\u5668\u9605\u8bfb\u800c\u8bbe\u8ba1\u7684\u3002</p> <p>\u6211\u4eec\u5728\u7528 Markdown \u8bed\u8a00\u64b0\u5199\u6587\u7a3f\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u672c\u8d28\u4e0a\u662f\u5728\u501f\u52a9\u67d0\u79cd\u7f16\u7a0b\u8bed\u8a00\u7684\u8f6c\u5316\uff08\u89e3\u6790\u5668\uff09\u6765\u7f16\u5199\u4e00\u4e2a HTML \u7f51\u9875\u3002Markdown \u4ece\u5b83\u8bde\u751f\u4e4b\u521d\u5c31\u4e0e Web \u6280\u672f\u6709\u7740\u53ca\u5176\u7d27\u5bc6\u7684\u8054\u7cfb\u3002</p> <p>\u5982\u679c\u6211\u8bf4\uff0c\u6211\u4eec\u6bcf\u4e00\u7bc7\u6587\u7a3f\u90fd\u662f\u4e00\u4e2a\u7f51\u9875\uff0c\u90a3\u5c31\u5f88\u597d\u7406\u89e3\u4e86\u3002Typora \u5229\u7528\u89e3\u6790\u5668\u5148\u5c06\u6211\u4eec\u5199\u7684 Markdown \u6587\u6863\u89e3\u6790\u6210\u4e3a HTML \u6587\u6863\uff0c\u518d\u4e3a\u5b83\u5d4c\u5165\u4e00\u4e2a CSS \u6837\u5f0f\uff0c\u6700\u540e\u518d\u52a0\u4e0a\u53ef\u80fd\u9700\u8981\u7684\u811a\u672c\u7b49\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#html","title":"HTML","text":"<p>HTML \u662f\u4e00\u79cd\u6807\u8bb0\u8bed\u8a00\uff0c\u4e3b\u8981\u8d1f\u8d23\u6784\u6210\u7f51\u9875\u7684\u9aa8\u67b6\uff0c\u5b83\u5305\u542b\u6240\u6709\u4e0d\u52a0\u88c5\u9970\u7684\u7f51\u9875\u5143\u7d20\u3002\u5728 Typora \u7684\u4f7f\u7528\u573a\u666f\u4e0b\u5219\u662f\u6240\u6709\u7684**\u6587\u672c\u3001\u6bb5\u843d\u3001\u6807\u9898\u7b49**\u7684\u8bb0\u53f7\u3002</p> <p>\u4f60\u53ef\u4ee5\u628a\u4e00\u5f20\u7f51\u9875\u60f3\u8c61\u6210\u4e00\u5e45\u6570\u5b57\u6cb9\u753b\uff0cHTML \u5c31\u662f\u90a3\u4e2a\u9ed1\u767d\u7ebf\u6761\u7684\u5e95\uff0c\u4e0a\u9762\u5199\u6ee1\u4e86\u6570\u5b57\u6807\u8bb0\uff0c\u793a\u610f\u4f60\u54ea\u4e00\u5757\u533a\u57df\u8981\u6d82\u4ec0\u4e48\u989c\u8272\u3002\u800c CSS \u5219\u8d1f\u8d23\u5728\u5bf9\u5e94\u7684\u533a\u57df\u6d82\u4e0a\u989c\u8272\uff0c\u751a\u81f3\u52a0\u4e0a\u4e00\u4e9b\u88c5\u9970\u7b49\u3002</p> <p>\u6570\u5b57\u6cb9\u753b</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#html_1","title":"HTML \u6807\u7b7e","text":"<p>Typora \u652f\u6301\u8bb8\u591a\u5e38\u7528\u7684 HTML \u6807\u7b7e\uff0c\u5982\u679c\u4f60\u4e86\u89e3 HTML \u8bed\u6cd5\u7684\u8bdd\uff0c\u4f60\u53ef\u4ee5\u5199\u51fa\u5341\u5206\u7f8e\u89c2\u4e30\u5bcc\u7684\u6587\u6863\u9875\u9762\u3002</p> <p>HTML \u6807\u7b7e</p> <p>\u4e8b\u5b9e\u4e0a\u4f60\u53ef\u4ee5\u5728 Typora \u4e2d\u5b8c\u6210\u8bb8\u591a\u57fa\u672c\u7684 HTML \u98ce\u683c\u7684\u6587\u672c\u8f93\u5165\uff0c\u4f8b\u5982 HTML \u5b57\u7b26\u3001HTML \u5757\u3001HTML \u98ce\u683c\u7684\u6ce8\u91ca\uff0c\u751a\u81f3\u662f\u89c6\u9891\u548c\u97f3\u9891\u3002\u5177\u4f53\u652f\u6301\u7684\u529f\u80fd\u548c\u9650\u5236\u8bf7\u5728 \u5b98\u65b9\u6587\u6863 \u4e2d\u67e5\u9605\u3002</p> <p>\u6709\u4e86\u8fd9\u4e00\u529f\u80fd\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728 Typora \u4e2d\u521b\u9020\u51fa\u8fdc\u8d85\u666e\u901a Markdown \u6587\u6863\u7684\u9875\u9762\u6548\u679c\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#html_2","title":"\u5bfc\u51fa\u4e3a HTML","text":"<p>Typora \u539f\u751f\u652f\u6301\u5c06\u6587\u6863\u5bfc\u51fa\u4e3a HTML \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u5e76\u9009\u62e9\u662f\u5426\u8981\u5d4c\u5165 style\uff08\u4e5f\u5c31\u662f\u540e\u6587\u6211\u5c06\u63d0\u5230\u7684 CSS \u7684\u90e8\u5206\uff09\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u7531\u4e8e\u5176\u672c\u8eab\u300c\u6d4f\u89c8\u5668\u300d\u7684\u5c5e\u6027\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u5728\u5b9e\u65f6\u9884\u89c8\u754c\u9762\u7528 <code>Ctrl +C</code> \u590d\u5236\u5230 HTML \u4ee3\u7801\u3002\u4e00\u4e2a\u5b9e\u7528\u7684\u7528\u5904\u662f\u5c06\u8fd9\u4e9b HTML \u4ee3\u7801\u76f4\u63a5 <code>Ctrl + V</code> \u9ecf\u8d34\u5230\u5fae\u4fe1\u516c\u4f17\u53f7\u540e\u53f0\uff0c\u57fa\u672c\u53ef\u4ee5\u4fdd\u8bc1\u4e24\u8fb9\u663e\u793a\u6548\u679c\u76f8\u540c\u3002\u8fd9\u4e00\u70b9\u4e0d\u4ec5\u4f7f\u516c\u4f17\u53f7\u63a8\u9001\u53ef\u4ee5\u6709\u66f4\u81ea\u7531\u3001\u7f8e\u89c2\u7684\u6837\u5f0f\uff0c\u4e5f\u8ba9\u7f16\u8f91\u3001\u6392\u7248\u66f4\u8f7b\u677e\u4e86\u3002\uff08\u7531\u4e8e\u5fae\u4fe1\u81ea\u5e26\u6d4f\u89c8\u5668\u7684\u4e00\u4e9b\u7279\u6027\uff0c\u53ef\u80fd\u6709\u5c11\u90e8\u5206 CSS style \u4e0d\u80fd\u751f\u6548\uff0c\u5efa\u8bae\u591a\u591a\u6821\u5bf9\u3002\uff09</p> <p>\u516c\u4f17\u53f7</p> <p>\u5177\u4f53\u5982\u4f55\u7528 Typora \u5b8c\u6210\u516c\u4f17\u53f7\u5199\u4f5c\uff0c\u4f60\u53ef\u4ee5\u5728 \u8fd9\u7bc7\u6587\u7ae0 \u4e2d\u8fdb\u4e00\u6b65\u4e86\u89e3\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/windows%E4%BC%98%E5%8C%96%E5%B7%A5%E5%85%B7/markdown.html#css","title":"CSS","text":"<p>\u4e3a\u4e86\u8ba9\u6587\u6863\u66f4\u7f8e\u89c2\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u5176\u52a0\u4e0a CSS style\u3002\u6211\u8ba4\u4e3a Typora \u5bf9 CSS \u7684\u652f\u6301\u8ba9\u5b83\u6210\u4e3a\u4e00\u4f17\u684c\u9762\u7b14\u8bb0\u5e94\u7528\u4e2d\u6700\u4e0e\u4f17\u4e0d\u540c\u7684\u4e00\u4e2a\u3002\u5728 Typora \u4e2d CSS \u88ab\u79f0\u4e3a\u300c\u4e3b\u9898\u300d\uff0c\u4f46\u5176\u672c\u8d28\u4ecd\u662f CSS \u6587\u4ef6\u3002\u4f60\u53ef\u4ee5\u5728 <code>\u6587\u4ef6 - \u504f\u597d\u8bbe\u7f6e - \u4e3b\u9898 - \u6253\u5f00\u4e3b\u9898\u6587\u4ef6\u5939</code> \u770b\u5230\u8fd9\u4e9b CSS \u6587\u4ef6\u3002</p> <p>\u4e3b\u9898</p> <p>\u4e3b\u9898\u6587\u4ef6\u5939</p> <p>\u9009\u62e9\u4e0d\u540c\u7684\u4e3b\u9898\u53ef\u4ee5\u4f7f\u6587\u6863\u62e5\u6709\u4e0d\u540c\u7684\u5916\u89c2\uff0c\u4f46\u4e0d\u4f1a\u5f71\u54cd\u5185\u5bb9\u3002Typora \u81ea\u5e26\u4e86\u82e5\u5e72\u4e3b\u9898\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5728 \u5b98\u7f51 \u4e0b\u8f7d\u66f4\u591a\u7684\u4e3b\u9898\u3002</p> <p>\u4e3b\u9898\u5546\u5e97</p> <p>\u9664\u6b64\u4ee5\u5916\uff0c\u5982\u679c\u4f60\u6709\u4e00\u5b9a\u7684 Web \u7f16\u7a0b\u57fa\u7840\uff0c\u4f60\u5f53\u7136\u4e5f\u53ef\u4ee5\u81ea\u5df1\u4fee\u6539\u3001\u65b0\u5efa\u9002\u5408\u4f60\u4f7f\u7528\u9700\u6c42\u7684 CSS \u6587\u4ef6\u3002\u6211\u81ea\u5df1\u5c31\u5199\u4e86\u4e00\u4efd\u540d\u4e3a WeChat \u7684 CSS \u6587\u4ef6\uff0c\u6765\u7b26\u5408\u6211\u516c\u4f17\u53f7\u7279\u5b9a\u7684\u6392\u7248\u9700\u6c42\uff0c\u4f8b\u5982\u6b63\u6587\u662f 15px\uff0c\u9875\u8fb9\u8ddd\u662f 8\uff0c\u5c0f\u6807\u9898\u662f 18px \u7b49\u7b49\u3002</p> <p>CSS \u6587\u4ef6</p> <p>\u4f7f\u7528 Typora \u7684\u300c\u4e3b\u9898\u300d\u529f\u80fd\u5199\u516c\u4f17\u53f7\u7684\u4e00\u4e2a\u597d\u5904\u662f\uff0c\u53ea\u9700\u8981\u6bcf\u6b21\u90fd\u5957\u7528\u540c\u6837\u7684\u4e3b\u9898\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u4fdd\u8bc1\u6bcf\u6b21\u6392\u7248\u89c4\u8303\u90fd\u76f8\u540c\u7684\u540c\u65f6\uff0c\u8282\u7701\u8bb8\u591a\u91cd\u590d\u7684\u5de5\u4f5c\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/%E5%B8%B8%E7%94%A8%E7%BD%91%E5%9D%80/%E5%9C%A8%E7%BA%BF%E7%BD%91%E5%9D%80.html","title":"\u5728\u7ebf\u7f51\u5740","text":"<p>\u5e38\u7528\u5728\u7ebf\u7f51\u5740</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/%E5%B8%B8%E7%94%A8%E7%BD%91%E5%9D%80/%E5%9C%A8%E7%BA%BF%E7%BD%91%E5%9D%80.html#_2","title":"\u5728\u7ebf\u7f51\u5740","text":""},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/%E7%94%BB%E5%9B%BE%E5%B7%A5%E5%85%B7/drawio.html","title":"\u753b\u56fe\u5de5\u5177drawio","text":"<p>drawio \u662f\u4e00\u4e2a\u5728\u7ebf\u753b\u56fe\u5de5\u5177\uff0c\u53ef\u4ee5\u753b\u5404\u79cd\u56fe\uff0c\u6bd4\u5982\u6d41\u7a0b\u56fe\u3001\u65f6\u5e8f\u56fe\u3001UML\u56fe\u7b49\u7b49\u3002</p> <p>\u5b98\u7f51\u5730\u5740\uff1ahttps://draw.io/</p> <p>\u5728\u7ebf\u753b\u56fe\u5730\u5740\uff1a https://app.diagrams.net/</p> <p>\u6548\u679c\u56fe\u5982\u4e0b\uff1a</p> <p></p> <p></p> <p>\u5728\u753b\u56fe\u7684\u65f6\u5019\u7ecf\u5e38\u9700\u8981\u5bfc\u5165\u4e00\u4e0b\u5f00\u6e90\u9879\u76ee\u7684icon\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u5730\u5740\uff1ahttps://www.vectorlogo.zone/ \u5c06 icon \u7684svg \u4e0b\u8f7d\u4e0b\u6765\u7136\u540e\u62d6\u5165\u5230 drawio \u4e2d\u5373\u53ef\u3002</p>"},{"location":"08_%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/%E7%94%BB%E5%9B%BE%E5%B7%A5%E5%85%B7/drawio.html#_1","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>\u8fd9\u4e2a\u8f6f\u4ef6\u753b\u67b6\u6784\u56fe\u771f\u723d</p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"Docker\u547d\u4ee4","text":""},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_1","title":"\u5e38\u7528","text":"<pre><code># \u6e05\u7406Docker \u6ca1\u6709\u4f7f\u7528\u7684\u955c\u50cf\u3001\u5bb9\u5668\u3001\u5377\u548c\u6784\u5efa\u7f13\u5b58\ndocker system prune\n# \u67e5\u770b\u955c\u50cf\u5c42\u6570\u5927\u5c0f \u53c2\u8003\uff1a https://github.com/wagoodman/dive\ndive \u955c\u50cf\u540d:tag\u540d\n\n# \u67e5\u770b\u5bb9\u5668\u5185\u7684\u8fdb\u7a0b\ndocker top \u5bb9\u5668\u540d\n\n# \u4fee\u6539docker\u57df\u540d\u914d\u7f6e\nvim /etc/systemd/system/docker.service.d/docker-options.conf\n# \u6dfb\u52a0\u53c2\u6570 --insecure-registry\u53c2\u6570\u5177\u4f53\u8bbe\u7f6e\u90a3\u4e9b\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u6765\u8bbe\u7f6e\n--insecure-registry=registry-1.docker.io\n\n# \u4fee\u6539\u5b8c\u9700\u8981\u91cd\u542fdocker\nsystemctl daemon-reload \nsystemctl restart docker\n\n\n# harbor\u767b\u9646\ndocker login -u \u7528\u6237\u540d -p \u5bc6\u7801 harbor\u57df\u540d:habor\u7aef\u53e3\n\n# \u62c9\u53d6\u955c\u50cf\ndocker pull \u955c\u50cfurl\n# \u5220\u9664\u955c\u50cf\ndocker rmi \u955c\u50cfurl\n\n# \u5bfc\u51fa\u955c\u50cf \u955c\u50cfurl\u53ef\u4ee5\u662f\u591a\u4e2a\uff0c\u591a\u4e2a\u955c\u50cfURL\u7528\u7a7a\u683c\u5206\u9694\ndocker save -o xxx.tar \u955c\u50cfurl\n# \u52a0\u8f7d\u955c\u50cf\ndocker load -i xxx.tar\n\n# docker \u67e5\u770b\u5185\u5b58\u6570\ndocker stats --no-stream \u5bb9\u5668\u540d --format \"table {{.MemPerc}}\\t{{.CPUPerc}}\\t{{.MemUsage}}\\t{{.Name}}\" | sed \"s/%//g\" | awk 'NR&gt;1 {print $3}'\n\n# docker \u66ff\u6362\u5bb9\u5668\u542f\u52a8\u547d\u4ee4 \u4f7f\u7528  --entrypoint \u6307\u5b9a\ndocker run -i -t --entrypoint bash harbor.xxx.com/yyy/imageclassification-custom-tf-preserver:release-1.0\n\n\n# docker\u590d\u5236\u5bb9\u5668\u7684\u5230\u672c\u5730\ndocker cp  \u5bb9\u5668ID:/tmp/foo /tmp/bar\n\n# docker \u8fd0\u884cMySQL\ndocker run -p 33306:3306 --name mysql \\\n-v /usr/local/docker/mysql/conf:/etc/mysql \\\n-v /usr/local/docker/mysql/logs:/var/log/mysql \\\n-v /usr/local/docker/mysql/data:/var/lib/mysql \\\n-e MYSQL_ROOT_PASSWORD=123456 \\\n-d mysql:8.0\n\n# k8s\u8fdb\u5165 MySQL \u5bb9\u5668\u4e2d\u6587\u4e71\u7801\u95ee\u9898\ndocker run --rm -it mysql:8.0 env LANG=C.UTF-8 /bin/bash\n\n# \u6e05\u7406Docker\ndocker system purne\n\n# \u67e5\u770b\u7f51\u7edc\ndocker network ls\n\n# \u67e5\u770bdocker \u7f51\u7edc\u8be6\u60c5\ndocker network inspect \n\n# \u521b\u5efa\u7f51\u7edc \u4f7f\u7528bridge\u6a21\u5f0f \u7f51\u7edc\u540d\u79f0\u4e3a localnet\ndocker create network create -d bridge localnet\n\n# \u67e5\u770b\u5bb9\u5668\u7aef\u53e3\u6620\u5c04\ndocker port \u5bb9\u5668\u540d\n\n# \u670d\u52a1\u7ba1\u7406\ndocker service \n\n# \u5377\u7ba1\u7406\ndocker volume\n# \u67e5\u770b\u5377\ndocker volume ls\n# \u67e5\u770b\u5377\u8be6\u7ec6\u4fe1\u606f\ndocker volume inspect \u5377\u540d\u79f0\n# \u5220\u9664\u5377\ndocker volume prune # \u8fd9\u4e2a\u4f1a\u5220\u9664\u672a\u88ab\u4f7f\u7528\u7684\u5377\uff0c\u614e\u7528\ndocker volume rm \u5377\u540d\u79f0 # \u5220\u9664\u6307\u5b9a\u7684\u5377\uff0c\u5982\u679c\u5377\u5728\u4f7f\u7528\u4e2d\u4f1a\u63d0\u793a\u5377\u5728\u4f7f\u7528\u4e2d\uff0c\u65e0\u6cd5\u5220\u9664\n\n# # \u67e5\u770b\u5bb9\u5668\u5185\u7684\u8fdb\u7a0b\ndocker top \u5bb9\u5668\u540d\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_2","title":"\u67e5\u770b\u547d\u4ee4","text":"\u547d\u4ee4 \u89e3\u91ca docker ps \u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668 docker ps -a \u67e5\u770b\u6240\u6709\u5df2\u7ecf\u521b\u5efa\u7684\u5bb9\u5668 docker images \u5217\u51fa\u955c\u50cf\u5217\u8868 docker container ls \u6548\u679c\u540cps\u547d\u4ee4(\u52a0-a\u6548\u679c\u540c)"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#docker_ps","title":"docker ps \u8be6\u7ec6\u53c2\u6570","text":"<pre><code>-a :\u663e\u793a\u6240\u6709\u7684\u5bb9\u5668\uff0c\u5305\u62ec\u672a\u8fd0\u884c\u7684\u3002\n\n-f :\u6839\u636e\u6761\u4ef6\u8fc7\u6ee4\u663e\u793a\u7684\u5185\u5bb9\u3002\n\n--format :\u6307\u5b9a\u8fd4\u56de\u503c\u7684\u6a21\u677f\u6587\u4ef6\u3002\n\n-l :\u663e\u793a\u6700\u8fd1\u521b\u5efa\u7684\u5bb9\u5668\u3002\n\n-n :\u5217\u51fa\u6700\u8fd1\u521b\u5efa\u7684n\u4e2a\u5bb9\u5668\u3002\n\n--no-trunc :\u4e0d\u622a\u65ad\u8f93\u51fa\u3002\n\n-q :\u9759\u9ed8\u6a21\u5f0f\uff0c\u53ea\u663e\u793a\u5bb9\u5668\u7f16\u53f7\u3002\n\n-s :\u663e\u793a\u603b\u7684\u6587\u4ef6\u5927\u5c0f\u3002\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#docker_images","title":"docker images \u8be6\u7ec6\u53c2\u6570","text":"<p>\u7b49\u4ef7\u4e8e <code>docker image ls</code> \u548c <code>docker image list</code> <pre><code>-a :\u5217\u51fa\u672c\u5730\u6240\u6709\u7684\u955c\u50cf\uff08\u542b\u4e2d\u95f4\u6620\u50cf\u5c42\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fc7\u6ee4\u6389\u4e2d\u95f4\u6620\u50cf\u5c42\uff09\uff1b\n\n--digests :\u663e\u793a\u955c\u50cf\u7684\u6458\u8981\u4fe1\u606f\uff1b\n\n-f :\u663e\u793a\u6ee1\u8db3\u6761\u4ef6\u7684\u955c\u50cf\uff1b\n\n--format :\u6307\u5b9a\u8fd4\u56de\u503c\u7684\u6a21\u677f\u6587\u4ef6\uff1b\n\n--no-trunc :\u663e\u793a\u5b8c\u6574\u7684\u955c\u50cf\u4fe1\u606f\uff1b\n\n-q :\u53ea\u663e\u793a\u955c\u50cfID\u3002\n</code></pre></p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_3","title":"\u5220\u9664\u547d\u4ee4","text":"\u547d\u4ee4 \u89e3\u91ca docker rm \u5220\u9664\u5bb9\u5668 docker rmi \u5220\u9664\u955c\u50cf"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#docker_rm","title":"docker rm \u8be6\u7ec6\u53c2\u6570","text":"<pre><code>-f :\u5f3a\u5236\u5220\u9664\u4e00\u4e2a\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\n\n-l :\u79fb\u9664\u5bb9\u5668\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\uff0c\u800c\u975e\u5bb9\u5668\u672c\u8eab\n\n-v :-v \u5220\u9664\u4e0e\u5bb9\u5668\u5173\u8054\u7684\u5377\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#docker_rmi","title":"docker rmi \u8be6\u7ec6\u53c2\u6570","text":"<pre><code>-f :\u5f3a\u5236\u5220\u9664\uff1b\n\n--no-prune :\u4e0d\u79fb\u9664\u8be5\u955c\u50cf\u7684\u8fc7\u7a0b\u955c\u50cf\uff0c\u9ed8\u8ba4\u79fb\u9664\uff1b\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#-","title":"\u5bbf-\u4e3b\u64cd\u4f5c","text":"\u547d\u4ee4 \u89e3\u91ca docker cp \u5bb9\u5668\u4e0e\u4e3b\u673a\u4e4b\u95f4\u7684\u6570\u636e\u62f7\u8d1d"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#docker_cp","title":"docker cp \u5b9e\u4f8b","text":"<pre><code>docker cp  nginx:/www /tmp/    #\u5c06nginx\u5bb9\u5668\u7684/www \u62f7\u8d1d\u5230\u672c\u5730/tmp\u4e0b\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_4","title":"\u751f\u547d\u5468\u671f","text":"\u547d\u4ee4 \u89e3\u91ca docker start \u542f\u52a8\u5bb9\u5668 docker stop \u505c\u6b62\u5bb9\u5668 docker restart \u91cd\u542f\u5bb9\u5668 docker exec \u5728\u8fd0\u884c\u7684\u5bb9\u5668\u4e2d\u6267\u884c\u547d\u4ee4 docker run \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bb9\u5668\u5e76\u8fd0\u884c\u4e00\u4e2a\u547d\u4ee4"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#docker_exec","title":"docker exec \u8be6\u7ec6\u53c2\u6570","text":"<pre><code>-d :\u5206\u79bb\u6a21\u5f0f: \u5728\u540e\u53f0\u8fd0\u884c\n\n-i :\u5373\u4f7f\u6ca1\u6709\u9644\u52a0\u4e5f\u4fdd\u6301STDIN \u6253\u5f00\n\n-t :\u5206\u914d\u4e00\u4e2a\u4f2a\u7ec8\u7aef\n\n#\u5b9e\u4f8b\ndocker exec -it nginx /bin/bash\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#docker_run","title":"docker run \u8be6\u7ec6\u53c2\u6570","text":"<pre><code>-i, --interactive=false   \u6253\u5f00STDIN\uff0c\u7528\u4e8e\u63a7\u5236\u53f0\u4ea4\u4e92\n-t, --tty=false            \u5206\u914dtty\u8bbe\u5907\uff0c\u8be5\u53ef\u4ee5\u652f\u6301\u7ec8\u7aef\u767b\u5f55\uff0c\u9ed8\u8ba4\u4e3afalse\n-d, --detach=false         \u6307\u5b9a\u5bb9\u5668\u8fd0\u884c\u4e8e\u524d\u53f0\u8fd8\u662f\u540e\u53f0\uff0c\u9ed8\u8ba4\u4e3afalse\n-u, --user=\"\"              \u6307\u5b9a\u5bb9\u5668\u7684\u7528\u6237\n-a, --attach=[]            \u767b\u5f55\u5bb9\u5668\uff08\u5fc5\u987b\u662f\u4ee5docker run -d\u542f\u52a8\u7684\u5bb9\u5668\uff09\n-w, --workdir=\"\"           \u6307\u5b9a\u5bb9\u5668\u7684\u5de5\u4f5c\u76ee\u5f55\n-c, --cpu-shares=0        \u8bbe\u7f6e\u5bb9\u5668CPU\u6743\u91cd\uff0c\u5728CPU\u5171\u4eab\u573a\u666f\u4f7f\u7528\n-e, --env=[]               \u6307\u5b9a\u73af\u5883\u53d8\u91cf\uff0c\u5bb9\u5668\u4e2d\u53ef\u4ee5\u4f7f\u7528\u8be5\u73af\u5883\u53d8\u91cf\n-m, --memory=\"\"            \u6307\u5b9a\u5bb9\u5668\u7684\u5185\u5b58\u4e0a\u9650\n-P, --publish-all=false    \u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3\n-p, --publish=[]           \u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3 \u683c\u5f0f\u4e3a\uff1a \u4e3b\u673a\u7aef\u53e3:\u5bb9\u5668\u7aef\u53e3\n-h, --hostname=\"\"          \u6307\u5b9a\u5bb9\u5668\u7684\u4e3b\u673a\u540d\n-v, --volume=[]            \u7ed9\u5bb9\u5668\u6302\u8f7d\u5b58\u50a8\u5377\uff0c\u6302\u8f7d\u5230\u5bb9\u5668\u7684\u67d0\u4e2a\u76ee\u5f55    \u987a\u5e8f\uff1a\u4e3b\u673a\uff1a\u5bb9\u5668\n--volumes-from=[]          \u7ed9\u5bb9\u5668\u6302\u8f7d\u5176\u4ed6\u5bb9\u5668\u4e0a\u7684\u5377\uff0c\u6302\u8f7d\u5230\u5bb9\u5668\u7684\u67d0\u4e2a\u76ee\u5f55\n--cap-add=[]               \u6dfb\u52a0\u6743\u9650\uff0c\u6743\u9650\u6e05\u5355\u8be6\u89c1\uff1ahttp://linux.die.net/man/7/capabilities\n--cap-drop=[]              \u5220\u9664\u6743\u9650\uff0c\u6743\u9650\u6e05\u5355\u8be6\u89c1\uff1ahttp://linux.die.net/man/7/capabilities\n--cidfile=\"\"               \u8fd0\u884c\u5bb9\u5668\u540e\uff0c\u5728\u6307\u5b9a\u6587\u4ef6\u4e2d\u5199\u5165\u5bb9\u5668PID\u503c\uff0c\u4e00\u79cd\u5178\u578b\u7684\u76d1\u63a7\u7cfb\u7edf\u7528\u6cd5\n--cpuset=\"\"                \u8bbe\u7f6e\u5bb9\u5668\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9bCPU\uff0c\u6b64\u53c2\u6570\u53ef\u4ee5\u7528\u6765\u5bb9\u5668\u72ec\u5360CPU\n--device=[]                \u6dfb\u52a0\u4e3b\u673a\u8bbe\u5907\u7ed9\u5bb9\u5668\uff0c\u76f8\u5f53\u4e8e\u8bbe\u5907\u76f4\u901a\n--dns=[]                   \u6307\u5b9a\u5bb9\u5668\u7684dns\u670d\u52a1\u5668\n--dns-search=[]            \u6307\u5b9a\u5bb9\u5668\u7684dns\u641c\u7d22\u57df\u540d\uff0c\u5199\u5165\u5230\u5bb9\u5668\u7684/etc/resolv.conf\u6587\u4ef6\n--entrypoint=\"\"            \u8986\u76d6image\u7684\u5165\u53e3\u70b9\n--env-file=[]              \u6307\u5b9a\u73af\u5883\u53d8\u91cf\u6587\u4ef6\uff0c\u6587\u4ef6\u683c\u5f0f\u4e3a\u6bcf\u884c\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\n--expose=[]                \u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3\uff0c\u5373\u4fee\u6539\u955c\u50cf\u7684\u66b4\u9732\u7aef\u53e3\n--link=[]                  \u6307\u5b9a\u5bb9\u5668\u95f4\u7684\u5173\u8054\uff0c\u4f7f\u7528\u5176\u4ed6\u5bb9\u5668\u7684IP\u3001env\u7b49\u4fe1\u606f\n--lxc-conf=[]              \u6307\u5b9a\u5bb9\u5668\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u53ea\u6709\u5728\u6307\u5b9a--exec-driver=lxc\u65f6\u4f7f\u7528\n--name=\"\"                  \u6307\u5b9a\u5bb9\u5668\u540d\u5b57\uff0c\u540e\u7eed\u53ef\u4ee5\u901a\u8fc7\u540d\u5b57\u8fdb\u884c\u5bb9\u5668\u7ba1\u7406\uff0clinks\u7279\u6027\u9700\u8981\u4f7f\u7528\u540d\u5b57\n--net=\"bridge\"             \u5bb9\u5668\u7f51\u7edc\u8bbe\u7f6e:\n                            bridge \u4f7f\u7528docker daemon\u6307\u5b9a\u7684\u7f51\u6865\n                            host    //\u5bb9\u5668\u4f7f\u7528\u4e3b\u673a\u7684\u7f51\u7edc\n                            container:NAME_or_ID  &gt;//\u4f7f\u7528\u5176\u4ed6\u5bb9\u5668\u7684\u7f51\u8def\uff0c\u5171\u4eabIP\u548cPORT\u7b49\u7f51\u7edc\u8d44\u6e90\n                            none \u5bb9\u5668\u4f7f\u7528\u81ea\u5df1\u7684\u7f51\u7edc\uff08\u7c7b\u4f3c--net=bridge\uff09\uff0c\u4f46\u662f\u4e0d\u8fdb\u884c\u914d\u7f6e\n--privileged=false         \u6307\u5b9a\u5bb9\u5668\u662f\u5426\u4e3a\u7279\u6743\u5bb9\u5668\uff0c\u7279\u6743\u5bb9\u5668\u62e5\u6709\u6240\u6709\u7684capabilities\n--restart=\"no\"             \u6307\u5b9a\u5bb9\u5668\u505c\u6b62\u540e\u7684\u91cd\u542f\u7b56\u7565:\n                            no\uff1a\u5bb9\u5668\u9000\u51fa\u65f6\u4e0d\u91cd\u542f\n                            on-failure\uff1a\u5bb9\u5668\u6545\u969c\u9000\u51fa\uff08\u8fd4\u56de\u503c\u975e\u96f6\uff09\u65f6\u91cd\u542f\n                            always\uff1a\u5bb9\u5668\u9000\u51fa\u65f6\u603b\u662f\u91cd\u542f\n--rm=false                 \u6307\u5b9a\u5bb9\u5668\u505c\u6b62\u540e\u81ea\u52a8\u5220\u9664\u5bb9\u5668(\u4e0d\u652f\u6301\u4ee5docker run -d\u542f\u52a8\u7684\u5bb9\u5668)\n--sig-proxy=true           \u8bbe\u7f6e\u7531\u4ee3\u7406\u63a5\u53d7\u5e76\u5904\u7406\u4fe1\u53f7\uff0c\u4f46\u662fSIGCHLD\u3001SIGSTOP\u548cSIGKILL\u4e0d\u80fd\u88ab\u4ee3\u7406\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_5","title":"\u955c\u50cf\u4ed3\u5e93","text":"\u547d\u4ee4 \u89e3\u91ca docker pull \u62c9\u53d6\u955c\u50cf docker search \u4eceDocker Hub\u67e5\u627e\u955c\u50cf"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#docker_1","title":"docker\u73af\u5883\u4fe1\u606f","text":"\u547d\u4ee4 \u89e3\u91ca docker info \u67e5\u770bdocker\u7cfb\u7edf\u4fe1\u606f docker version \u663e\u793a Docker \u7248\u672c\u4fe1\u606f"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_6","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>Docker \u547d\u4ee4</p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"Git\u5e38\u7528\u547d\u4ee4","text":""},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_1","title":"\u5e38\u7528","text":"<pre><code># \u53d6\u6d88\u8bbe\u7f6e\u4ee3\u7406\ngit config --global  --unset https.https://github.com.proxy \ngit config --global  --unset http.https://github.com.proxy \n\n# \u8bbe\u7f6e\u4ee3\u7406 \u4ee3\u7406\u8f6f\u4ef6\u662fV2ray\n# http \ngit config --global http.https://github.com.proxy http://127.0.0.1:10809\ngit config --global https.https://github.com.proxy https://127.0.0.1:10809\n# socket\ngit config --global http.proxy 'socks5://127.0.0.1:10808'\ngit config --global https.proxy 'socks5://127.0.0.1:10808'\n\n# \u8bbe\u7f6e\u4ee3\u7406 \u4ee3\u7406\u8f6f\u4ef6\u662fclash\n# http\ngit config --global http.https://github.com.proxy http://127.0.0.1:7890\ngit config --global https.https://github.com.proxy https://127.0.0.1:7890\n# socket\ngit config --global http.proxy 'socks5://127.0.0.1:7890'\ngit config --global https.proxy 'socks5://127.0.0.1:7890'\n\n\n# \u9009\u62e9\u4e00\u4e2a\u6216\u591a\u4e2acommit\u5408\u5e76\u5230\u5f53\u524d\u5206\u652f \n# \u5982\u679c\u51b2\u7a81\u4e86\u9700\u8981\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\u7136\u540e\u6267\u884c git add \u63d0\u4ea4\u5230\u7f13\u5b58\u533a\u518d\u4f7f\u7528git cherry-pick --continue \u7ee7\u7eed\u63d0\u4ea4\n# \u6216\u8005\u4f7f\u7528 git cherry-pick --abort \u4e2d\u6b62\u63d0\u4ea4\n# \u5408\u5e76\u4e00\u4e2a\u63d0\u4ea4\ngit cherry-pick &lt;commit-hash1&gt;\n# \u5408\u5e76commit-hash1\u5230commit-hash2\u7684\u63d0\u4ea4\uff0c\u4e0d\u5305\u542bcommit-hash1\uff0c\u5305\u542bcommit-hash2\ngit cherry-pick &lt;commit-hash1&gt;..&lt;commit-hash2&gt;\n\n# \u79fb\u9664\u8fdc\u7a0b\u4ed3\u5e93\uff0corigin\u662f\u8fdc\u7a0b\u4ed3\u5e93\u9ed8\u8ba4\u7684\u540d\u79f0\ngit remote remove origin\n# \u6dfb\u52a0\u8fdc\u7a0b\u4ed3\u5e93 \u8fd9\u4e2a\u4e00\u822c\u662ffork\u4e4b\u540e\u81ea\u5df1\u7684github\u4ed3\u5e93\u5730\u5740\ngit remote add origin https://github.com/xxx/yyy.git\n# \u6dfb\u52a0upstream \u8fd9\u4e2a\u4e00\u822c\u662ffork\u4e4b\u524d\u522b\u4eba\u7684github\u4ed3\u5e93\u5730\u5740\ngit remote add upstream https://github.com/foo/bar.git\n\n\n# \u4ece\u5f53\u524d\u5206\u652f\u65b0\u5efa\u4e00\u4e2a\u5206\u652f new_branch \u5e76\u5207\u6362\u5230\u65b0\u5efa\u7684\u5206\u652f\ngit checkout -b new_branch\n# \u5220\u9664\u672c\u5730\u5206\u652f new_branch\ngit branch -D new_branch\n# \u5207\u6362\u5230 new_branch \u5206\u652f\ngit checkout new_branch\n# \u6216\u8005\ngit switch new_branch\n</code></pre> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u65e5\u5e38\u4f7f\u7528\u53ea\u8981\u8bb0\u4f4f\u4e0b\u56fe6\u4e2a\u547d\u4ee4\uff0c\u5c31\u53ef\u4ee5\u4e86\u3002\u4f46\u662f\u719f\u7ec3\u4f7f\u7528\uff0c\u6050\u6015\u8981\u8bb0\u4f4f60\uff5e100\u4e2a\u547d\u4ee4\u3002</p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_2","title":"\u540d\u6b21\u89e3\u91ca","text":"<p>\u4e0b\u9762\u662f\u6211\u6574\u7406\u7684\u5e38\u7528 Git \u547d\u4ee4\u6e05\u5355\u3002</p> <p>\u51e0\u4e2a\u4e13\u7528\u540d\u8bcd\u7684\u8bd1\u540d\u5982\u4e0b: Workspace\uff1a</p> <p>\u5de5\u4f5c\u533a Index / Stage\uff1a</p> <p>\u6682\u5b58\u533a Repository\uff1a</p> <p>\u4ed3\u5e93\u533a\uff08\u6216\u672c\u5730\u4ed3\u5e93\uff09 Remote\uff1a\u8fdc\u7a0b\u4ed3\u5e93</p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_3","title":"\u65b0\u5efa\u4ee3\u7801\u5e93","text":"<pre><code># \u5728\u5f53\u524d\u76ee\u5f55\u65b0\u5efa\u4e00\u4e2aGit\u4ee3\u7801\u5e93\ngit init\n# \u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\uff0c\u5c06\u5176\u521d\u59cb\u5316\u4e3aGit\u4ee3\u7801\u5e93\ngit init [project-name]\n# \u4e0b\u8f7d\u4e00\u4e2a\u9879\u76ee\u548c\u5b83\u7684\u6574\u4e2a\u4ee3\u7801\u5386\u53f2\ngit clone [url]\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_4","title":"\u914d\u7f6e","text":"<p>Git\u7684\u8bbe\u7f6e\u6587\u4ef6\u4e3a.gitconfig\uff0c\u5b83\u53ef\u4ee5\u5728\u7528\u6237\u4e3b\u76ee\u5f55\u4e0b(\u5168\u5c40\u914d\u7f6e)\uff0c\u4e5f\u53ef\u4ee5\u5728\u9879\u76ee\u76ee\u5f55\u4e0b(\u9879\u76ee\u914d\u7f6e)</p> <pre><code># \u663e\u793a\u5f53\u524d\u7684Git\u914d\u7f6e\ngit config --list\n# \u7f16\u8f91Git\u914d\u7f6e\u6587\u4ef6\ngit config -e [--global]\n# \u8bbe\u7f6e\u63d0\u4ea4\u4ee3\u7801\u65f6\u7684\u7528\u6237\u4fe1\u606f\ngit config [--global] user.name \"[name]\"\ngit config [--global] user.email \"[email address]\"\n# \u989c\u8272\u8bbe\u7f6e\ngit config --global color.ui true                         # git status\u7b49\u547d\u4ee4\u81ea\u52a8\u7740\u8272\ngit config --global color.status auto\ngit config --global color.diff auto\ngit config --global color.branch auto\ngit config --global color.interactive auto\ngit config --global --unset http.proxy                    # remove  proxy configuration on git\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_5","title":"\u589e\u52a0/\u5220\u9664\u6587\u4ef6","text":"<pre><code># \u6dfb\u52a0\u6307\u5b9a\u6587\u4ef6\u5230\u6682\u5b58\u533a\ngit add [file1] [file2] ...\n# \u6dfb\u52a0\u6307\u5b9a\u76ee\u5f55\u5230\u6682\u5b58\u533a\uff0c\u5305\u62ec\u5b50\u76ee\u5f55\ngit add [dir]\n# \u6dfb\u52a0\u5f53\u524d\u76ee\u5f55\u7684\u6240\u6709\u6587\u4ef6\u5230\u6682\u5b58\u533a\ngit add .\n# \u6dfb\u52a0\u6bcf\u4e2a\u53d8\u5316\u524d\uff0c\u90fd\u4f1a\u8981\u6c42\u786e\u8ba4\n# \u5bf9\u4e8e\u540c\u4e00\u4e2a\u6587\u4ef6\u7684\u591a\u5904\u53d8\u5316\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5206\u6b21\u63d0\u4ea4\ngit add -p\n# \u5220\u9664\u5de5\u4f5c\u533a\u6587\u4ef6\uff0c\u5e76\u4e14\u5c06\u8fd9\u6b21\u5220\u9664\u653e\u5165\u6682\u5b58\u533a\ngit rm [file1] [file2] ...\n# \u505c\u6b62\u8ffd\u8e2a\u6307\u5b9a\u6587\u4ef6\uff0c\u4f46\u8be5\u6587\u4ef6\u4f1a\u4fdd\u7559\u5728\u5de5\u4f5c\u533a\ngit rm --cached [file]\n# \u6539\u540d\u6587\u4ef6\uff0c\u5e76\u4e14\u5c06\u8fd9\u4e2a\u6539\u540d\u653e\u5165\u6682\u5b58\u533a\ngit mv [file-original] [file-renamed]\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_6","title":"\u4ee3\u7801\u63d0\u4ea4","text":"<pre><code># \u63d0\u4ea4\u6682\u5b58\u533a\u5230\u4ed3\u5e93\u533a\ngit commit -m [message]\n# \u63d0\u4ea4\u6682\u5b58\u533a\u7684\u6307\u5b9a\u6587\u4ef6\u5230\u4ed3\u5e93\u533a\ngit commit [file1] [file2] ... -m [message]\n# \u63d0\u4ea4\u5de5\u4f5c\u533a\u81ea\u4e0a\u6b21commit\u4e4b\u540e\u7684\u53d8\u5316\uff0c\u76f4\u63a5\u5230\u4ed3\u5e93\u533a\ngit commit -a\n# \u63d0\u4ea4\u65f6\u663e\u793a\u6240\u6709diff\u4fe1\u606f\ngit commit -v\n# \u5c06add\u548ccommit\u5408\u4e3a\u4e00\u6b65\ngit commit -am 'message'\n# \u4f7f\u7528\u4e00\u6b21\u65b0\u7684commit\uff0c\u66ff\u4ee3\u4e0a\u4e00\u6b21\u63d0\u4ea4\n# \u5982\u679c\u4ee3\u7801\u6ca1\u6709\u4efb\u4f55\u65b0\u53d8\u5316\uff0c\u5219\u7528\u6765\u6539\u5199\u4e0a\u4e00\u6b21commit\u7684\u63d0\u4ea4\u4fe1\u606f\ngit commit --amend -m [message]\n# \u91cd\u505a\u4e0a\u4e00\u6b21commit\uff0c\u5e76\u5305\u62ec\u6307\u5b9a\u6587\u4ef6\u7684\u65b0\u53d8\u5316\ngit commit --amend [file1] [file2] ...\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_7","title":"\u5206\u652f","text":"<pre><code># \u5217\u51fa\u6240\u6709\u672c\u5730\u5206\u652f\ngit branch\n# \u5217\u51fa\u6240\u6709\u8fdc\u7a0b\u5206\u652f\ngit branch -r\n# \u5217\u51fa\u6240\u6709\u672c\u5730\u5206\u652f\u548c\u8fdc\u7a0b\u5206\u652f\ngit branch -a\n# \u65b0\u5efa\u4e00\u4e2a\u5206\u652f\uff0c\u4f46\u4f9d\u7136\u505c\u7559\u5728\u5f53\u524d\u5206\u652f\ngit branch [branch-name]\n# \u65b0\u5efa\u4e00\u4e2a\u5206\u652f\uff0c\u5e76\u5207\u6362\u5230\u8be5\u5206\u652f\ngit checkout -b [branch]\n# \u65b0\u5efa\u4e00\u4e2a\u5206\u652f\uff0c\u6307\u5411\u6307\u5b9acommit\ngit branch [branch] [commit]\n# \u65b0\u5efa\u4e00\u4e2a\u5206\u652f\uff0c\u4e0e\u6307\u5b9a\u7684\u8fdc\u7a0b\u5206\u652f\u5efa\u7acb\u8ffd\u8e2a\u5173\u7cfb\ngit branch --track [branch] [remote-branch]\n# \u5207\u6362\u5230\u6307\u5b9a\u5206\u652f\uff0c\u5e76\u66f4\u65b0\u5de5\u4f5c\u533a\ngit checkout [branch-name]\n# \u5207\u6362\u5230\u4e0a\u4e00\u4e2a\u5206\u652f\ngit checkout -\n# \u5efa\u7acb\u8ffd\u8e2a\u5173\u7cfb\uff0c\u5728\u73b0\u6709\u5206\u652f\u4e0e\u6307\u5b9a\u7684\u8fdc\u7a0b\u5206\u652f\u4e4b\u95f4\ngit branch --set-upstream [branch] [remote-branch]\n# \u5408\u5e76\u6307\u5b9a\u5206\u652f\u5230\u5f53\u524d\u5206\u652f\ngit merge [branch]\n# \u9009\u62e9\u4e00\u4e2acommit\uff0c\u5408\u5e76\u8fdb\u5f53\u524d\u5206\u652f\ngit cherry-pick [commit]\n# \u5220\u9664\u5206\u652f\ngit branch -d [branch-name]\n# \u5220\u9664\u8fdc\u7a0b\u5206\u652f\ngit push origin --delete [branch-name]\ngit branch -dr [remote/branch]\n# \u68c0\u51fa\u7248\u672cv2.0\ngit checkout v2.0\n# \u4ece\u8fdc\u7a0b\u5206\u652fdevelop\u521b\u5efa\u65b0\u672c\u5730\u5206\u652fdevel\u5e76\u68c0\u51fa\ngit checkout -b devel origin/develop\n# \u68c0\u51fahead\u7248\u672c\u7684README\u6587\u4ef6\uff08\u53ef\u7528\u4e8e\u4fee\u6539\u9519\u8bef\u56de\u9000\uff09\ngit checkout -- README \n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_8","title":"\u6807\u7b7e","text":"<pre><code># \u5217\u51fa\u6240\u6709tag\ngit tag\n# \u65b0\u5efa\u4e00\u4e2atag\u5728\u5f53\u524dcommit\ngit tag [tag]\n# \u65b0\u5efa\u4e00\u4e2atag\u5728\u6307\u5b9acommit\ngit tag [tag] [commit]\n# \u5220\u9664\u672c\u5730tag\ngit tag -d [tag]\n# \u5220\u9664\u8fdc\u7a0btag\ngit push origin :refs/tags/[tagName]\n# \u67e5\u770btag\u4fe1\u606f\ngit show [tag]\n# \u63d0\u4ea4\u6307\u5b9atag\ngit push [remote] [tag]\n# \u63d0\u4ea4\u6240\u6709tag\ngit push [remote] --tags\n# \u65b0\u5efa\u4e00\u4e2a\u5206\u652f\uff0c\u6307\u5411\u67d0\u4e2atag\ngit checkout -b [branch] [tag]\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_9","title":"\u67e5\u770b\u4fe1\u606f","text":"<pre><code># \u663e\u793a\u6709\u53d8\u66f4\u7684\u6587\u4ef6\ngit status\n# \u663e\u793a\u5f53\u524d\u5206\u652f\u7684\u7248\u672c\u5386\u53f2\ngit log\n# \u663e\u793acommit\u5386\u53f2\uff0c\u4ee5\u53ca\u6bcf\u6b21commit\u53d1\u751f\u53d8\u66f4\u7684\u6587\u4ef6\ngit log --stat\n# \u641c\u7d22\u63d0\u4ea4\u5386\u53f2\uff0c\u6839\u636e\u5173\u952e\u8bcd\ngit log -S [keyword]\n# \u663e\u793a\u67d0\u4e2acommit\u4e4b\u540e\u7684\u6240\u6709\u53d8\u52a8\uff0c\u6bcf\u4e2acommit\u5360\u636e\u4e00\u884c\ngit log [tag] HEAD --pretty=format:%s\n# \u663e\u793a\u67d0\u4e2acommit\u4e4b\u540e\u7684\u6240\u6709\u53d8\u52a8\uff0c\u5176\"\u63d0\u4ea4\u8bf4\u660e\"\u5fc5\u987b\u7b26\u5408\u641c\u7d22\u6761\u4ef6\ngit log [tag] HEAD --grep feature\n# \u663e\u793a\u67d0\u4e2a\u6587\u4ef6\u7684\u7248\u672c\u5386\u53f2\uff0c\u5305\u62ec\u6587\u4ef6\u6539\u540d\ngit log --follow [file]\ngit whatchanged [file]\n# \u663e\u793a\u6307\u5b9a\u6587\u4ef6\u76f8\u5173\u7684\u6bcf\u4e00\u6b21diff\ngit log -p [file]\n# \u663e\u793a\u8fc7\u53bb5\u6b21\u63d0\u4ea4\ngit log -5 --pretty --oneline\n# \u663e\u793a\u6240\u6709\u63d0\u4ea4\u8fc7\u7684\u7528\u6237\uff0c\u6309\u63d0\u4ea4\u6b21\u6570\u6392\u5e8f\ngit shortlog -sn\n# \u663e\u793a\u6307\u5b9a\u6587\u4ef6\u662f\u4ec0\u4e48\u4eba\u5728\u4ec0\u4e48\u65f6\u95f4\u4fee\u6539\u8fc7\ngit blame [file]\n# \u663e\u793a\u6682\u5b58\u533a\u548c\u5de5\u4f5c\u533a\u7684\u5dee\u5f02\ngit diff\n# \u663e\u793a\u6682\u5b58\u533a\u548c\u4e0a\u4e00\u4e2acommit\u7684\u5dee\u5f02\ngit diff --cached [file]\n# \u663e\u793a\u5de5\u4f5c\u533a\u4e0e\u5f53\u524d\u5206\u652f\u6700\u65b0commit\u4e4b\u95f4\u7684\u5dee\u5f02\ngit diff HEAD\n# \u663e\u793a\u4e24\u6b21\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\ngit diff [first-branch]...[second-branch]\n# \u663e\u793a\u4eca\u5929\u4f60\u5199\u4e86\u591a\u5c11\u884c\u4ee3\u7801\ngit diff --shortstat \"@{0 day ago}\"\n# \u663e\u793a\u67d0\u6b21\u63d0\u4ea4\u7684\u5143\u6570\u636e\u548c\u5185\u5bb9\u53d8\u5316\ngit show [commit]\n# \u663e\u793a\u67d0\u6b21\u63d0\u4ea4\u53d1\u751f\u53d8\u5316\u7684\u6587\u4ef6\ngit show --name-only [commit]\n# \u663e\u793a\u67d0\u6b21\u63d0\u4ea4\u65f6\uff0c\u67d0\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\ngit show [commit]:[filename]\n# \u663e\u793a\u5f53\u524d\u5206\u652f\u7684\u6700\u8fd1\u51e0\u6b21\u63d0\u4ea4\ngit reflog\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_10","title":"\u8fdc\u7a0b\u540c\u6b65","text":"<pre><code># \u4e0b\u8f7d\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6240\u6709\u53d8\u52a8\ngit fetch [remote]\n# \u663e\u793a\u6240\u6709\u8fdc\u7a0b\u4ed3\u5e93\ngit remote -v\n# \u663e\u793a\u67d0\u4e2a\u8fdc\u7a0b\u4ed3\u5e93\u7684\u4fe1\u606f\ngit remote show [remote]\n# \u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u5e76\u547d\u540d\ngit remote add [shortname] [url]\n# \u53d6\u56de\u8fdc\u7a0b\u4ed3\u5e93\u7684\u53d8\u5316\uff0c\u5e76\u4e0e\u672c\u5730\u5206\u652f\u5408\u5e76\ngit pull [remote] [branch]\n# \u4e0a\u4f20\u672c\u5730\u6307\u5b9a\u5206\u652f\u5230\u8fdc\u7a0b\u4ed3\u5e93\ngit push [remote] [branch]\n# \u5f3a\u884c\u63a8\u9001\u5f53\u524d\u5206\u652f\u5230\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u5373\u4f7f\u6709\u51b2\u7a81\ngit push [remote] --force\n# \u63a8\u9001\u6240\u6709\u5206\u652f\u5230\u8fdc\u7a0b\u4ed3\u5e93\ngit push [remote] --all\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_11","title":"\u64a4\u9500","text":"<pre><code># \u6062\u590d\u6682\u5b58\u533a\u7684\u6307\u5b9a\u6587\u4ef6\u5230\u5de5\u4f5c\u533a\ngit checkout [file]\n# \u6062\u590d\u67d0\u4e2acommit\u7684\u6307\u5b9a\u6587\u4ef6\u5230\u6682\u5b58\u533a\u548c\u5de5\u4f5c\u533a\ngit checkout [commit] [file]\n# \u6062\u590d\u6682\u5b58\u533a\u7684\u6240\u6709\u6587\u4ef6\u5230\u5de5\u4f5c\u533a\ngit checkout .\n# \u91cd\u7f6e\u6682\u5b58\u533a\u7684\u6307\u5b9a\u6587\u4ef6\uff0c\u4e0e\u4e0a\u4e00\u6b21commit\u4fdd\u6301\u4e00\u81f4\uff0c\u4f46\u5de5\u4f5c\u533a\u4e0d\u53d8\ngit reset [file]\n# \u91cd\u7f6e\u6682\u5b58\u533a\u4e0e\u5de5\u4f5c\u533a\uff0c\u4e0e\u4e0a\u4e00\u6b21commit\u4fdd\u6301\u4e00\u81f4\ngit reset --hard\n# \u91cd\u7f6e\u5f53\u524d\u5206\u652f\u7684\u6307\u9488\u4e3a\u6307\u5b9acommit\uff0c\u540c\u65f6\u91cd\u7f6e\u6682\u5b58\u533a\uff0c\u4f46\u5de5\u4f5c\u533a\u4e0d\u53d8\ngit reset [commit]\n# \u91cd\u7f6e\u5f53\u524d\u5206\u652f\u7684HEAD\u4e3a\u6307\u5b9acommit\uff0c\u540c\u65f6\u91cd\u7f6e\u6682\u5b58\u533a\u548c\u5de5\u4f5c\u533a\uff0c\u4e0e\u6307\u5b9acommit\u4e00\u81f4\ngit reset --hard [commit]\n# \u91cd\u7f6e\u5f53\u524dHEAD\u4e3a\u6307\u5b9acommit\uff0c\u4f46\u4fdd\u6301\u6682\u5b58\u533a\u548c\u5de5\u4f5c\u533a\u4e0d\u53d8\ngit reset --keep [commit]\n# \u65b0\u5efa\u4e00\u4e2acommit\uff0c\u7528\u6765\u64a4\u9500\u6307\u5b9acommit\n# \u540e\u8005\u7684\u6240\u6709\u53d8\u5316\u90fd\u5c06\u88ab\u524d\u8005\u62b5\u6d88\uff0c\u5e76\u4e14\u5e94\u7528\u5230\u5f53\u524d\u5206\u652f\ngit revert [commit]\n# \u6682\u65f6\u5c06\u672a\u63d0\u4ea4\u7684\u53d8\u5316\u79fb\u9664\uff0c\u7a0d\u540e\u518d\u79fb\u5165\ngit stash\ngit stash pop\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_12","title":"\u5176\u4ed6","text":"<pre><code>git init                                                  # \u521d\u59cb\u5316\u672c\u5730git\u4ed3\u5e93\uff08\u521b\u5efa\u65b0\u4ed3\u5e93\uff09\ngit config --global user.name \"xxx\"                       # \u914d\u7f6e\u7528\u6237\u540d\ngit config --global user.email \"xxx@xxx.com\"              # \u914d\u7f6e\u90ae\u4ef6\ngit config --global color.ui true                         # git status\u7b49\u547d\u4ee4\u81ea\u52a8\u7740\u8272\ngit config --global color.status auto\ngit config --global color.diff auto\ngit config --global color.branch auto\ngit config --global color.interactive auto\ngit config --global --unset http.proxy                    # remove  proxy configuration on git\ngit clone git+ssh://git@192.168.53.168/VT.git             # clone\u8fdc\u7a0b\u4ed3\u5e93\ngit status                                                # \u67e5\u770b\u5f53\u524d\u7248\u672c\u72b6\u6001\uff08\u662f\u5426\u4fee\u6539\uff09\ngit add xyz                                               # \u6dfb\u52a0xyz\u6587\u4ef6\u81f3index\ngit add .                                                 # \u589e\u52a0\u5f53\u524d\u5b50\u76ee\u5f55\u4e0b\u6240\u6709\u66f4\u6539\u8fc7\u7684\u6587\u4ef6\u81f3index\ngit commit -m 'xxx'                                       # \u63d0\u4ea4\ngit commit --amend -m 'xxx'                               # \u5408\u5e76\u4e0a\u4e00\u6b21\u63d0\u4ea4\uff08\u7528\u4e8e\u53cd\u590d\u4fee\u6539\uff09\ngit commit -am 'xxx'                                      # \u5c06add\u548ccommit\u5408\u4e3a\u4e00\u6b65\ngit rm xxx                                                # \u5220\u9664index\u4e2d\u7684\u6587\u4ef6\ngit rm -r *                                               # \u9012\u5f52\u5220\u9664\ngit log                                                   # \u663e\u793a\u63d0\u4ea4\u65e5\u5fd7\ngit log -1                                                # \u663e\u793a1\u884c\u65e5\u5fd7 -n\u4e3an\u884c\ngit log -5\ngit log --stat                                            # \u663e\u793a\u63d0\u4ea4\u65e5\u5fd7\u53ca\u76f8\u5173\u53d8\u52a8\u6587\u4ef6\ngit log -p -m\ngit show dfb02e6e4f2f7b573337763e5c0013802e392818         # \u663e\u793a\u67d0\u4e2a\u63d0\u4ea4\u7684\u8be6\u7ec6\u5185\u5bb9\ngit show dfb02                                            # \u53ef\u53ea\u7528commitid\u7684\u524d\u51e0\u4f4d\ngit show HEAD                                             # \u663e\u793aHEAD\u63d0\u4ea4\u65e5\u5fd7\ngit show HEAD^                                            # \u663e\u793aHEAD\u7684\u7236\uff08\u4e0a\u4e00\u4e2a\u7248\u672c\uff09\u7684\u63d0\u4ea4\u65e5\u5fd7 ^^\u4e3a\u4e0a\u4e24\u4e2a\u7248\u672c ^5\u4e3a\u4e0a5\u4e2a\u7248\u672c\ngit tag                                                   # \u663e\u793a\u5df2\u5b58\u5728\u7684tag\ngit tag -a v2.0 -m 'xxx'                                  # \u589e\u52a0v2.0\u7684tag\ngit show v2.0                                             # \u663e\u793av2.0\u7684\u65e5\u5fd7\u53ca\u8be6\u7ec6\u5185\u5bb9\ngit log v2.0                                              # \u663e\u793av2.0\u7684\u65e5\u5fd7\ngit diff                                                  # \u663e\u793a\u6240\u6709\u672a\u6dfb\u52a0\u81f3index\u7684\u53d8\u66f4\ngit diff --cached                                         # \u663e\u793a\u6240\u6709\u5df2\u6dfb\u52a0index\u4f46\u8fd8\u672acommit\u7684\u53d8\u66f4\ngit diff HEAD^                                            # \u6bd4\u8f83\u4e0e\u4e0a\u4e00\u4e2a\u7248\u672c\u7684\u5dee\u5f02\ngit diff HEAD -- ./lib                                    # \u6bd4\u8f83\u4e0eHEAD\u7248\u672clib\u76ee\u5f55\u7684\u5dee\u5f02\ngit diff origin/master..master                            # \u6bd4\u8f83\u8fdc\u7a0b\u5206\u652fmaster\u4e0a\u6709\u672c\u5730\u5206\u652fmaster\u4e0a\u6ca1\u6709\u7684\ngit diff origin/master..master --stat                     # \u53ea\u663e\u793a\u5dee\u5f02\u7684\u6587\u4ef6\uff0c\u4e0d\u663e\u793a\u5177\u4f53\u5185\u5bb9\ngit remote add origin git+ssh://git@192.168.53.168/VT.git # \u589e\u52a0\u8fdc\u7a0b\u5b9a\u4e49\uff08\u7528\u4e8epush/pull/fetch\uff09\ngit branch                                                # \u663e\u793a\u672c\u5730\u5206\u652f\ngit branch --contains 50089                               # \u663e\u793a\u5305\u542b\u63d0\u4ea450089\u7684\u5206\u652f\ngit branch -a                                             # \u663e\u793a\u6240\u6709\u5206\u652f\ngit branch -r                                             # \u663e\u793a\u6240\u6709\u539f\u521b\u5206\u652f\ngit branch --merged                                       # \u663e\u793a\u6240\u6709\u5df2\u5408\u5e76\u5230\u5f53\u524d\u5206\u652f\u7684\u5206\u652f\ngit branch --no-merged                                    # \u663e\u793a\u6240\u6709\u672a\u5408\u5e76\u5230\u5f53\u524d\u5206\u652f\u7684\u5206\u652f\ngit branch -m master master_copy                          # \u672c\u5730\u5206\u652f\u6539\u540d\ngit checkout -b master_copy                               # \u4ece\u5f53\u524d\u5206\u652f\u521b\u5efa\u65b0\u5206\u652fmaster_copy\u5e76\u68c0\u51fa\ngit checkout -b master master_copy                        # \u4e0a\u9762\u7684\u5b8c\u6574\u7248\ngit checkout features/performance                         # \u68c0\u51fa\u5df2\u5b58\u5728\u7684features/performance\u5206\u652f\ngit checkout --track hotfixes/BJVEP933                    # \u68c0\u51fa\u8fdc\u7a0b\u5206\u652fhotfixes/BJVEP933\u5e76\u521b\u5efa\u672c\u5730\u8ddf\u8e2a\u5206\u652f\ngit checkout v2.0                                         # \u68c0\u51fa\u7248\u672cv2.0\ngit checkout -b devel origin/develop                      # \u4ece\u8fdc\u7a0b\u5206\u652fdevelop\u521b\u5efa\u65b0\u672c\u5730\u5206\u652fdevel\u5e76\u68c0\u51fa\ngit checkout -- README                                    # \u68c0\u51fahead\u7248\u672c\u7684README\u6587\u4ef6\uff08\u53ef\u7528\u4e8e\u4fee\u6539\u9519\u8bef\u56de\u9000\uff09\ngit merge origin/master                                   # \u5408\u5e76\u8fdc\u7a0bmaster\u5206\u652f\u81f3\u5f53\u524d\u5206\u652f\ngit cherry-pick ff44785404a8e                             # \u5408\u5e76\u63d0\u4ea4ff44785404a8e\u7684\u4fee\u6539\ngit push origin master                                    # \u5c06\u5f53\u524d\u5206\u652fpush\u5230\u8fdc\u7a0bmaster\u5206\u652f\ngit push origin :hotfixes/BJVEP933                        # \u5220\u9664\u8fdc\u7a0b\u4ed3\u5e93\u7684hotfixes/BJVEP933\u5206\u652f\ngit push --tags                                           # \u628a\u6240\u6709tag\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\ngit fetch                                                 # \u83b7\u53d6\u6240\u6709\u8fdc\u7a0b\u5206\u652f\uff08\u4e0d\u66f4\u65b0\u672c\u5730\u5206\u652f\uff0c\u53e6\u9700merge\uff09\ngit fetch --prune                                         # \u83b7\u53d6\u6240\u6709\u539f\u521b\u5206\u652f\u5e76\u6e05\u9664\u670d\u52a1\u5668\u4e0a\u5df2\u5220\u6389\u7684\u5206\u652f\ngit pull origin master                                    # \u83b7\u53d6\u8fdc\u7a0b\u5206\u652fmaster\u5e76merge\u5230\u5f53\u524d\u5206\u652f\ngit mv README README2                                     # \u91cd\u547d\u540d\u6587\u4ef6README\u4e3aREADME2\ngit reset --hard HEAD                                     # \u5c06\u5f53\u524d\u7248\u672c\u91cd\u7f6e\u4e3aHEAD\uff08\u901a\u5e38\u7528\u4e8emerge\u5931\u8d25\u56de\u9000\uff09\ngit rebase\ngit branch -d hotfixes/BJVEP933                           # \u5220\u9664\u5206\u652fhotfixes/BJVEP933\uff08\u672c\u5206\u652f\u4fee\u6539\u5df2\u5408\u5e76\u5230\u5176\u4ed6\u5206\u652f\uff09\ngit branch -D hotfixes/BJVEP933                           # \u5f3a\u5236\u5220\u9664\u5206\u652fhotfixes/BJVEP933\ngit ls-files                                              # \u5217\u51fagit index\u5305\u542b\u7684\u6587\u4ef6\ngit show-branch                                           # \u56fe\u793a\u5f53\u524d\u5206\u652f\u5386\u53f2\ngit show-branch --all                                     # \u56fe\u793a\u6240\u6709\u5206\u652f\u5386\u53f2\ngit whatchanged                                           # \u663e\u793a\u63d0\u4ea4\u5386\u53f2\u5bf9\u5e94\u7684\u6587\u4ef6\u4fee\u6539\ngit revert dfb02e6e4f2f7b573337763e5c0013802e392818       # \u64a4\u9500\u63d0\u4ea4dfb02e6e4f2f7b573337763e5c0013802e392818\ngit ls-tree HEAD                                          # \u5185\u90e8\u547d\u4ee4\uff1a\u663e\u793a\u67d0\u4e2agit\u5bf9\u8c61\ngit rev-parse v2.0                                        # \u5185\u90e8\u547d\u4ee4\uff1a\u663e\u793a\u67d0\u4e2aref\u5bf9\u4e8e\u7684SHA1 HASH\ngit reflog                                                # \u663e\u793a\u6240\u6709\u63d0\u4ea4\uff0c\u5305\u62ec\u5b64\u7acb\u8282\u70b9\ngit show HEAD@{5}\ngit show master@{yesterday}                               # \u663e\u793amaster\u5206\u652f\u6628\u5929\u7684\u72b6\u6001\ngit log --pretty=format:'%h %s' --graph                   # \u56fe\u793a\u63d0\u4ea4\u65e5\u5fd7\ngit show HEAD~3\ngit show -s --pretty=raw 2be7fcb476\ngit stash                                                 # \u6682\u5b58\u5f53\u524d\u4fee\u6539\uff0c\u5c06\u6240\u6709\u81f3\u4e3aHEAD\u72b6\u6001\ngit stash list                                            # \u67e5\u770b\u6240\u6709\u6682\u5b58\ngit stash show -p stash@{0}                               # \u53c2\u8003\u7b2c\u4e00\u6b21\u6682\u5b58\ngit stash apply stash@{0}                                 # \u5e94\u7528\u7b2c\u4e00\u6b21\u6682\u5b58\ngit grep \"delete from\"                                    # \u6587\u4ef6\u4e2d\u641c\u7d22\u6587\u672c\u201cdelete from\u201d\ngit grep -e '#define' --and -e SORT_DIRENT\ngit gc\ngit fsck\n# \u751f\u6210\u4e00\u4e2a\u53ef\u4f9b\u53d1\u5e03\u7684\u538b\u7f29\u5305\ngit archive\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_13","title":"\u53c2\u8003\u94fe\u63a5\uff1a","text":"<p>Git\u5e38\u7528\u547d\u4ee4\uff0c\u603b\u7ed3\u7684\u5f88\u5168\u4e86</p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"Linux\u5e38\u7528\u547d\u4ee4","text":""},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#screen","title":"screen \u547d\u4ee4","text":"<p>Linux screen\u547d\u4ee4\u7528\u4e8e\u591a\u91cd\u89c6\u7a97\u7ba1\u7406\u7a0b\u5e8f\uff0c\u4e3b\u8981\u662f\u7528\u6765\u907f\u514d xshll \u8fde\u63a5\u65ad\u6389\u4e4b\u540e\u6267\u884c\u7684\u547d\u4ee4\u6267\u884c\u5931\u8d25\u7684\u95ee\u9898\u3002</p> <p>\u5b89\u88c5 <code>screen</code> \u547d\u4ee4</p> <pre><code># CentOS\nsudo yum install screen -y\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_1","title":"\u7528\u6cd5","text":"<pre><code># \u521b\u5efa screen \u7ec8\u7aef\nscreen -S &lt;name&gt;\n\n# \u521b\u5efa screen \u7ec8\u7aef \u5e76\u6267\u884c\u4efb\u52a1\n# \u793a\u4f8b\uff1a screen vi ~/main.c //\u521b\u5efa screen \u7ec8\u7aef \uff0c\u5e76\u6267\u884c vi\u547d\u4ee4\n\n# \u79bb\u5f00 screen \u7ec8\u7aef\n# \u5728 screen \u7ec8\u7aef \u4e0b \u6309\u4e0b Ctrl+a d\u952e\n\n# \u663e\u793a\u5df2\u521b\u5efa\u7684screen\u7ec8\u7aef \nscreen -ls\n\n# \u8fde\u63a5 screen_id \u4e3a 2276 \u7684 screen\u7ec8\u7aef\nscreen -r 2276\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#tree","title":"tree \u547d\u4ee4","text":"<p><code>tree</code> \u662f\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u7528\u4e8e\u4ee5\u53ef\u89c6\u5316\u6811\u72b6\u7ed3\u6784\u7684\u65b9\u5f0f\u663e\u793a\u76ee\u5f55\u7684\u5185\u5bb9\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>tree</code> \u547d\u4ee4\u6765\u67e5\u770b\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u548c\u5b50\u76ee\u5f55\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>tree</code> \u547d\u4ee4\u4f1a\u663e\u793a\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u548c\u5b50\u76ee\u5f55\u7684\u5b8c\u6574\u7ed3\u6784\u3002</p> <p>\u5b89\u88c5 <code>tree</code> \u547d\u4ee4</p> <pre><code># CentOS\nsudo yum install tree -y\n</code></pre> <p>\u8981\u6307\u5b9a <code>tree</code> \u547d\u4ee4\u663e\u793a\u7684\u76ee\u5f55\u5c42\u7ea7\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>-L</code> \u9009\u9879\uff0c\u7136\u540e\u540e\u63a5\u6570\u5b57\u503c\uff0c\u8868\u793a\u8981\u663e\u793a\u7684\u76ee\u5f55\u7684\u6df1\u5ea6\uff0c\u4f8b\u5982\uff1a</p> <pre><code># \u663e\u793a\u5f53\u524d\u76ee\u5f55\u4e0b\u4e24\u5c42\u7684\u6811\u72b6\u7ed3\u6784\ntree -L 2\n</code></pre> <p>\u4e0a\u9762\u7684\u547d\u4ee4\u5c06\u663e\u793a\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u4e00\u7ea7\u5b50\u76ee\u5f55\u548c\u6587\u4ef6\uff0c\u4ee5\u53ca\u5b50\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u548c\u5b50\u76ee\u5f55\uff0c\u4f46\u4e0d\u4f1a\u663e\u793a\u5b83\u4eec\u7684\u5b50\u76ee\u5f55\u3002</p> <p>\u8981\u663e\u793a\u6240\u6709\u5b50\u76ee\u5f55\u548c\u6587\u4ef6\uff0c\u53ef\u4ee5\u5c06 <code>-L</code> \u9009\u9879\u7684\u503c\u8bbe\u7f6e\u4e3a <code>0</code>\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code># \u663e\u793a\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u76ee\u5f55\u548c\u6587\u4ef6\ntree \n</code></pre> <p>\u5982\u679c\u60a8\u53ea\u60f3\u663e\u793a\u5f53\u524d\u76ee\u5f55\u4e2d\u7684\u5b50\u76ee\u5f55\uff0c\u53ef\u4ee5\u5c06 <code>-L</code> \u9009\u9879\u7684\u503c\u8bbe\u7f6e\u4e3a <code>1</code>\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code># \u663e\u793a\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\u548c\u5b50\u76ee\u5f55\uff0c\u4f46\u4e0d\u663e\u793a\u5b50\u76ee\u5f55\u4e2d\u7684\u5b50\u76ee\u5f55\ntree -L 1\n</code></pre> <p>\u9664\u4e86 <code>-L</code> \u9009\u9879\uff0c<code>tree</code> \u547d\u4ee4\u8fd8\u6709\u8bb8\u591a\u5176\u4ed6\u9009\u9879\uff0c\u4ee5\u5b9a\u5236\u8f93\u51fa\u5e76\u63a7\u5236\u663e\u793a\u3002\u53ef\u4ee5\u4f7f\u7528 <code>man tree</code> \u547d\u4ee4\u6216 <code>tree --help</code> \u547d\u4ee4\u6765\u67e5\u770b\u66f4\u591a\u9009\u9879\u548c\u4f7f\u7528\u65b9\u6cd5\u3002</p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/MongoDB%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"MongoDB\u5e38\u7528\u547d\u4ee4","text":"<pre><code># \u6253\u5370\u5f53\u524d\u6570\u636e\u5e93\u7684\u5217\u8868\nhelp()\n\n# \u6253\u5370\u5f53\u524d\u6570\u636e\u5e93\u7684\u6240\u6709\u89d2\u8272\u7684\u5217\u8868\uff0c\u5305\u62ec\u7528\u6237\u5b9a\u4e49\u7684\u89d2\u8272\u548c\u5185\u7f6e\u89d2\u8272\u3002\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/MySQL%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"MySQL\u5e38\u7528\u547d\u4ee4","text":"<pre><code># \u67e5\u770b\u7d22\u5f15\nshow index from table_name;\n# \u793a\u4f8b\uff1a\nshow index from nf_label;\n\n# \u5220\u9664\u7d22\u5f15\ndrop index index_name on table_name;\n# \u793a\u4f8b\nDROP INDEX idx_ind ON nf_label;\n\n# \u521b\u5efa\u7d22\u5f15 index_name \u662f\u8981\u521b\u5efa\u7684\u7d22\u5f15\u7684\u540d\u79f0 table_name \u8868\u7684\u540d\u79f0\uff0ccolumn1\u3001column2 \u662f\u8981\u5728\u5176\u4e0a\u521b\u5efa\u7d22\u5f15\u7684\u5217\u7684\u540d\u79f0\u3002\nCREATE INDEX index_name ON table_name (column1, column2, ...);\n# \u521b\u5efa\u7d22\u5f15 alter table \u7528\u6cd5\nALTER TABLE table_name ADD INDEX index_name (column1 ASC, column2 ASC )\n# \u793a\u4f8b \u6dfb\u52a0\u552f\u4e00\u7d22\u5f15\nALTER TABLE nf_label ADD UNIQUE INDEX `unique_idx` ( `task_id` ASC, `name` ASC )\n\n\n\n# \u5220\u9664\u8868\u7684\u5b57\u6bb5 column_name\u662f\u8981\u5220\u9664\u7684\u5b57\u6bb5\u7684\u540d\u79f0\u3002\nALTER TABLE table_name DROP COLUMN column_name;\n# \u793a\u4f8b\nALTER TABLE nf_label DROP COLUMN deleted;\n\n# \u67e5\u770b\u6570\u636e\u5e93\u4e2d\u6709\u591a\u5c11\u5f20\u8868\nSELECT COUNT(*) AS count FROM information_schema.tables WHERE table_schema = 'yourdatabasename';\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Node%E7%9B%B8%E5%85%B3%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"Node\u76f8\u5173\u5e38\u7528\u547d\u4ee4","text":""},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Node%E7%9B%B8%E5%85%B3%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#nvm","title":"nvm","text":"<p>nvm \u5b83\u662f\u4e00\u4e2a Node \u7248\u672c\u7ba1\u7406\u5668\uff0c\u53ef\u4ee5\u8ba9\u4f60\u5728\u4e0d\u540c\u7684 Node \u7248\u672c\u4e4b\u95f4\u5207\u6362\u3002\u7c7b\u4f3c\u4e8e Python \u4e2d\u7684 Anaconda.</p> <pre><code># \u5b89\u88c5 nvm \nwget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.3/install.sh | bash\n\n# \u67e5\u770b nvm \u7684\u7248\u672c\nnvm -v\n\n# \u67e5\u770b\u53ef\u7528\u7684\u8fdc\u7a0b Node \u7248\u672c\nnvm list available\n\n# \u4e0b\u8f7d\u3001\u7f16\u8bd1\u548c\u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684 Node\nnvm install node\n\n# \u5b89\u88c5\u7279\u5b9a\u7248\u672c\u7684 Node\nnvm install 14.17.6  # \u5b89\u88c5 14.17.6 \u7248\u672c\u7684 Node\nnvm install 16.3 # \u5b89\u88c5 16.3.x \u7248\u672c\u7684 Node\n\n# \u9009\u62e9\u5df2\u5b89\u88c5\u7684 Node \u7248\u672c\nnvm use 14.7.6  # \u4f7f\u7528 14.7.6 \u7248\u672c\u7684 Node\n\n# \u5217\u51fa\u6240\u6709\u5df2\u5b89\u88c5\u7684 Node \u7248\u672c  \nnvm ls\nnvm list installed\n\n# \u5220\u9664\u5df2\u5b89\u88c5\u7684 Node \u7248\u672c\nnvm uninstall 14.7.6  # \u5220\u9664 14.7.6 \u7248\u672c\u7684 Node\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Node%E7%9B%B8%E5%85%B3%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#node_1","title":"node","text":""},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Node%E7%9B%B8%E5%85%B3%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#npm","title":"npm","text":"<pre><code># \u67e5\u770b npm \u7248\u672c\nnpm -v\n\n# npm \u8bbe\u7f6e\u955c\u50cf\u6e90\u4e3a\u6dd8\u5b9d\u955c\u50cf\nnpm config set registry https://registry.npmmirror.com\n\n# \u9a8c\u8bc1\uff1a\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u9a8c\u8bc1\u7ed3\u679c\nnpm config get registry\n\n# \u4f7f\u7528\uff1a\u4ee5 events \u4f9d\u8d56\u5305\u4e3a\u4f8b\nnpm install events --save\n\n# npm \u8bbe\u7f6e\u955c\u50cf\u6e90\u4e3a\u5b98\u65b9\u955c\u50cf \nnpm config set registry https://registry.npmjs.org/\n\n# \u5b89\u88c5\u4f9d\u8d56\nnpm install\n\n# \u542f\u52a8dev\nnpm run dev\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Node%E7%9B%B8%E5%85%B3%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#yarn","title":"yarn","text":""},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Node%E7%9B%B8%E5%85%B3%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#pnpm","title":"pnpm","text":"<pre><code># \u5b89\u88c5 pnpm\n# Windows \u4f7f\u7528 PowerShell \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\niwr https://get.pnpm.io/install.ps1 -useb | iex\n\n# \u4f7f\u7528 npm \u5b89\u88c5 pnpm\nnpm install -g pnpm \n# \u6216\u8005\ninstall -g @pnpm/exe\n\n# \u5b89\u88c5\u4f9d\u8d56\npnpm install\n\n# \u6dfb\u52a0\u4f9d\u8d56\npnpm add &lt;package&gt;[@&lt;version&gt;]\n\n# \u542f\u52a8dev\npnpm dev\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Pip%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"Pip\u5e38\u7528\u547d\u4ee4","text":""},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Pip%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#pip","title":"Pip \u955c\u50cf\u6e90","text":"<pre><code># \u8c46\u74e3pip\u6e90\nhttps://pypi.douban.com/simple/\n\n# \u817e\u8baf\u4e91pip\u6e90\nhttps://mirrors.cloud.tencent.com/pypi/simple/\n\n# \u963f\u91cc\u4e91pip\u6e90\nhttps://mirrors.aliyun.com/pypi/simple/\n\n# \u6e05\u534e\u5927\u5b66pip\u6e90\nhttps://pypi.tuna.tsinghua.edu.cn/simple/\n\n# \u672c\u5730devpi\u6e90\nhttp://127.0.0.1:3141/admin/pypi/+simple/ \n</code></pre> <p>\u6c38\u4e45\u8bbe\u7f6e pip \u955c\u50cf\u6e90\uff0c\u4ee5\u963f\u91cc\u4e91\u4e3a\u4f8b</p> <p>Linux\u4e0a <pre><code>mkdir ~/.pip\n\ncat &gt; ~/.pip/pip.conf &lt;&lt;EOF\n[global]\nindex-url = https://pypi.douban.com/simple/\nEOF\n</code></pre> windows\u4e0a</p> <p>\u65b0\u5efa\u4e00\u4e2a<code>pip.ini</code>\u6587\u4ef6\uff0c\u6587\u4ef6\u8def\u5f84\u4e3a<code>C:\\ProgramData\\pip\\pip.ini</code>\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>[global]\nindex-url =https://pypi.douban.com/simple/\n</code></pre></p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Pip%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_1","title":"\u5e38\u7528\u547d\u4ee4","text":""},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Pip%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#pip_1","title":"pip","text":"<pre><code># \u5347\u7ea7pip\u7248\u672c\npython3 -m pip install --upgrade pip\n\n# \u67e5\u770bpip\u7248\u672c\npip3 --version\n\n# \u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\npip -v config list\n\n# \u4f7f\u7528pip\u7684\u65f6\u5019\u6253\u5370\u8be6\u7ec6\u4fe1\u606f\npip3 install -vvv xxx\n\n# \u4f7f\u7528pip\u6e90\u7684\u65f6\u5019,\u5982\u679c\u4e0d\u662fhttps\u7684,\u9700\u8981\u52a0\u4e0a --trusted-host\npip3 install Flask -i http://127.0.0.1:3141/admin/pypi/+simple/   --trusted-host 127.0.0.1\n\n# \u4e0d\u4f7f\u7528\u7f13\u5b58, \u9700\u8981\u52a0\u4e0a --no-cache-dir\npip3 --no-cache-dir install Flask -i http://127.0.0.1:3141/admin/pypi/+simple/   --trusted-host 127.0.0.1\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Pip%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#pip_install","title":"pip install","text":"<p>\u4ece\u4ee5\u4e0b\u4f4d\u7f6e\u5b89\u88c5\u8f6f\u4ef6\u5305\uff1a</p> <ul> <li>PyPI\uff08\u548c\u5176\u4ed6\u7d22\u5f15\uff09</li> <li>VCS \u9879\u76ee\u7f51\u5740</li> <li>\u672c\u5730\u9879\u76ee\u76ee\u5f55</li> <li>\u672c\u5730\u6216\u8fdc\u7a0b\u6e90\u5b58\u6863</li> </ul> <p>pip \u8fd8\u652f\u6301\u4ece\u6587\u4ef6\u8fdb\u884c\u5b89\u88c5</p> <pre><code># \u4ece\u6587\u4ef6\u5b89\u88c5\npip3 install -r requirements.txt\n\n# \u5b89\u88c5Flask \u6700\u65b0\u7248\u672c\npip3 install Flask\n\n# \u5b89\u88c5Flask, \u6307\u5b9a\u7248\u672c\npip3 install Flask==1.1.2\n\n# \u5b89\u88c5Flask, \u6307\u5b9a\u6e90, \u9700\u8981\u52a0\u4e0a -i \u53c2\u6570, \u4f8b\u5982\u8c46\u74e3\u4e91\npip3 install Flask==1.1.2 -i https://pypi.douban.com/simple/\n\n# \u4f7f\u7528pep517\u5b89\u88c5,pip\u4f9d\u8d56\u5305\u6709\u7684\u5305\u662ftar.gz\u683c\u5f0f\u7684,\u8fd9\u79cd\u683c\u5f0f\u7684\u5305\u9700\u8981\u52a0\u4e0a --use-pep517\n# \u53c2\u8003: https://github.com/lm-sys/FastChat/issues/333\npip3 install --use-pep517 fschat -i https://pypi.douban.com/simple/\n\n# \u5347\u7ea7\u5df2\u5b89\u88c5\u7684\u5305\u5230\u6700\u65b0\u7248\u672c, \u9700\u8981\u52a0\u4e0a --upgrade\npip3 install --upgrade Flask\n\n# \u4ecegit\u4ed3\u5e93\u5b89\u88c5\npip3 install 'SomeProject@git+https://git.repo/some_pkg.git@1.3.1'\n\n# \u4ece\u538b\u7f29\u5305\u5b89\u88c5\npip3 install '/path/to/some_project-1.4.1-py2.py3-none-any.whl'\npip3 install '/path/to/some_project-1.4.1.tar.gz'\npip3 install 'http://my.package.repo/SomePackage-1.0.4.zip'\n\n# pip\u91cd\u88c5\u8f6f\u4ef6\u5305, \u9700\u8981\u52a0\u4e0a --ignore-installed \u6216 -I\npip3 install --ignore-installed Flask\npip3 install -I flask\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Pip%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#pip_uninstall","title":"pip uninstall","text":"<p>\u5378\u8f7d\u8f6f\u4ef6\u5305 <pre><code># \u5378\u8f7d\u5305 -y \u8868\u793a\u4e0d\u9700\u8981\u76f4\u63a5\u5378\u8f7d,\u4e0d\u9700\u8981\u518d\u786e\u8ba4\npip3 uninstall -y Flask\n</code></pre></p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Pip%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#pip_download","title":"pip download","text":"<p>\u4e0b\u8f7d\u8f6f\u4ef6\u5305 <pre><code># \u4ece\u6587\u4ef6\u4e0b\u8f7d\npip3 download -r requirements.txt\n\n# \u4e0b\u8f7d \u6700\u65b0\u7248\u672c\npip3 download Flask\n\n# \u4e0b\u8f7d Flask, \u6307\u5b9a\u7248\u672c\npip3 download Flask==1.1.2\n\n# \u4e0b\u8f7d Flask, \u6307\u5b9a\u6e90, \u9700\u8981\u52a0\u4e0a -i \u53c2\u6570, \u4f8b\u5982\u8c46\u74e3\u4e91\npip3 download Flask==1.1.2 -i https://pypi.douban.com/simple/\n\n# \u4ecegit\u4ed3\u5e93\u4e0b\u8f7d\npip3 download 'SomeProject@git+https://git.repo/some_pkg.git@1.3.1'\n\n# \u4f7f\u7528http/https\u4e0b\u8f7d\npip3 download 'http://my.package.repo/SomePackage-1.0.4.zip'\n</code></pre></p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Pip%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#pip_list","title":"pip list","text":"<p>\u5217\u51fa\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\uff0c\u5305\u62ec\u53ef\u7f16\u8f91\u7684\u8f6f\u4ef6\u5305\u3002 \u8f6f\u4ef6\u5305\u6309\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u7684\u6392\u5e8f\u987a\u5e8f\u5217\u51fa\u3002 <pre><code>pip3 list\n</code></pre></p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Pip%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#pip_show","title":"pip show","text":"<p>\u663e\u793a\u6709\u5173\u4e00\u4e2a\u6216\u591a\u4e2a\u5df2\u5b89\u88c5\u8f6f\u4ef6\u5305\u7684\u4fe1\u606f\u3002 \u8f93\u51fa\u683c\u5f0f\u7b26\u5408RFC\u90ae\u4ef6\u5934\u683c\u5f0f\u3002 <pre><code>$ pip3 show flask\nName: Flask\nVersion: 2.0.3\nSummary: A simple framework for building complex web applications.\nHome-page: https://palletsprojects.com/p/flask\nAuthor: Armin Ronacher\nAuthor-email: armin.ronacher@active-4.com\nLicense: BSD-3-Clause\nLocation: /usr/local/lib/python3.6/site-packages\nRequires: click, itsdangerous, Jinja2, Werkzeug\nRequired-by: \n</code></pre></p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Pip%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#pip_freeze","title":"pip freeze","text":"<p>\u4ee5 requirements \u683c\u5f0f\u8f93\u51fa\u5df2\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\u3002 \u8f6f\u4ef6\u5305\u6309\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u7684\u6392\u5e8f\u987a\u5e8f\u5217\u51fa\u3002 <pre><code># \u751f\u6210requirements.txt\npip3 freeze &gt; requirements.txt\n</code></pre></p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Pip%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_2","title":"\u53c2\u8003\u94fe\u63a5:","text":"<ul> <li>pip\u5b98\u7f51</li> <li>pip install</li> </ul>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/Redis%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"Redis\u5e38\u7528\u547d\u4ee4","text":""},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/kubernetes.html","title":"K8S\u5e38\u7528\u547d\u4ee4","text":""},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html","title":"vim\u5e38\u7528\u547d\u4ee4","text":""},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_1","title":"\u57fa\u672c\u4ecb\u7ecd","text":"<p><code>vim</code> \u662f\u4ece <code>vi</code> \u53d1\u5c55\u51fa\u6765\u7684\u4e00\u4e2a \u6587\u672c\u7f16\u8f91\u5668 \uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u5347\u7ea7\u7248\u672c\u7684 <code>Vi</code> \uff0c\u529f\u80fd\u66f4\u5f3a\u5927\u3002\u5176\u4ee3\u7801\u8865\u5b8c\u3001\u7f16\u8bd1\u53ca\u9519\u8bef\u8df3\u8f6c\u7b49\u65b9\u4fbf\u7f16\u7a0b\u7684\u529f\u80fd\u7279\u522b\u4e30\u5bcc\uff0c\u5728\u7a0b\u5e8f\u5458\u4e2d\u88ab\u5e7f\u6cdb\u4f7f\u7528\u3002</p> <p><code>vi</code>\u9002\u7528\u4e8e\u6587\u672c\u7f16\u8f91\uff0c\u4f46\u662f <code>vim</code> \u66f4\u9002\u7528\u4e8e <code>coding</code>\u3002\u5e76\u4e14<code>vim</code> \u5b8c\u5168\u517c\u5bb9 <code>vi</code>\u3002</p> <p>\u6240\u6709\u7684<code>\u7c7b Unix</code> \u7cfb\u7edf\u90fd\u4f1a\u5185\u7f6e <code>vi</code> \u6587\u672c\u7f16\u8f91\u5668\uff0c\u4f46\u4e0d\u4e00\u5b9a\u6709 <code>vim</code>\uff0c\u5982\u679c\u6ca1\u6709\u7684\u8bdd\uff0c\u9700\u8981\u6211\u4eec\u547d\u4ee4\u5b89\u88c5\u4e00\u4e0b\uff1a</p> <pre><code> yum -y install vim*             # CentOS \u7cfb\u7edf\n sudo apt-get install vim-gtk    # Ubuntu \u7cfb\u7edf\n</code></pre> <p>\u57fa\u672c\u4e0a <code>vi/vim</code> \u5171\u5206\u4e3a\u4e09\u79cd\u6a21\u5f0f\uff0c\u5206\u522b\u662f**\u547d\u4ee4\u884c\u6a21\u5f0f\uff08Command mode\uff09** \uff0c\u8f93\u5165\u6a21\u5f0f\uff08Insert mode\uff09 \u548c**\u5e95\u7ebf\u547d\u4ee4\u6a21\u5f0f\uff08Last line mode\uff09** \u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u5c31\u8be6\u7ec6\u6765\u770b\u770b\u8fd9\u4e09\u79cd\u6a21\u5f0f\u7684\u64cd\u4f5c\u3002</p> <p></p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_2","title":"\u547d\u4ee4\u884c\u6a21\u5f0f","text":"<p>\u4e5f\u79f0\u4e3a\u4ea4\u4e92\u6a21\u5f0f\uff0c\u8fd9\u662f <code>vim</code> \u7684\u9ed8\u8ba4\u6a21\u5f0f\uff0c\u6bcf\u6b21\u4f7f\u7528 <code>vim</code> \u547d\u4ee4\u7f16\u8f91\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u5148\u8fdb\u5165\u8fd9\u4e2a\u6a21\u5f0f\u3002</p> <pre><code> vim config.txt\n</code></pre> <p>\u7279\u5f81\uff1a</p> <ul> <li>\u5728\u8fd9\u4e2a\u6a21\u5f0f\u4e0b\uff0c\u4f60\u4e0d\u80fd\u8f93\u5165\u6587\u672c\uff1b</li> <li>\u5b83\u53ef\u4ee5\u8ba9\u6211\u4eec\u5728\u6587\u672c\u95f4\u79fb\u52a8\uff0c\u5220\u9664\u4e00\u884c\u6587\u672c\uff0c\u590d\u5236\u9ecf\u8d34\u6587\u672c\uff0c\u8df3\u8f6c\u5230\u6307\u5b9a\u884c\uff0c\u64a4\u9500\u64cd\u4f5c\uff0c\u7b49\u7b49\u3002</li> </ul> <p>\u5b57\u7b26\u79fb\u52a8\u547d\u4ee4 <pre><code>h \u5c06\u5149\u6807\u5411\u5de6\u79fb\u52a8\u4e00\u683c\n\nj \u5c06\u5149\u6807\u5411\u4e0b\u79fb\u52a8\u4e00\u683c\n\nk \u5c06\u5149\u6807\u5411\u4e0a\u79fb\u52a8\u4e00\u683c\n\nl \u5c06\u5149\u6807\u5411\u53f3\u79fb\u52a8\u4e00\u683c\n</code></pre> \u4e3a\u4ec0\u4e48<code>hjkl</code>\u8868\u793a\u5de6\u4e0b\u4e0a\u53f3\uff0c\u6765\u6e90\u81eavi\u7684\u53d1\u660e\u8005\u5f53\u65f6\u6240\u7528\u7684\u952e\u76d8\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_3","title":"\u5e38\u7528\u547d\u4ee4","text":"\u547d\u4ee4 \u4f5c\u7528 i \u5207\u6362\u5230\u8f93\u5165\u6a21\u5f0f\uff0c\u4ee5\u8f93\u5165\u5b57\u7b26 x \u5220\u9664\u5f53\u524d\u5149\u6807\u6240\u5728\u5904\u7684\u5b57\u7b26 X \u5220\u9664\u5f53\u524d\u5149\u6807\u524d\u4e00\u4e2a\u5b57\u7b26 : \u5207\u6362\u5230\u5e95\u7ebf\u547d\u4ee4\u6a21\u5f0f\uff0c\u4ee5\u5728\u6700\u5e95\u4e00\u884c\u8f93\u5165\u547d\u4ee4 gg \u8df3\u8f6c\u5230\u6587\u4ef6\u5f00\u5934 G \u8df3\u8f6c\u5230\u6587\u4ef6\u672b\u5c3e dd \u5220\u9664\u5149\u6807\u6240\u5728\u4e00\u6574\u884c\u6570\u636e\uff0c\u4e14\u4e34\u65f6\u5b58\u50a8\u5230\u7f13\u5b58\u533a d$ \u5220\u9664\u5149\u6807\u6240\u5728\u884c\uff0c\u5149\u6807\u540e\u9762\u7684\u6570\u636e dG \u5220\u9664\u5149\u6807\u6240\u5728\u884c\u5230\u6587\u4ef6\u672b\u5c3e\u7684\u6570\u636e yy \u590d\u5236\u6574\u884c\u6587\u672c\u5230\u4e34\u65f6\u7f13\u5b58\u533a p \u5c06\u6307\u5b9a\u7f13\u5b58\u533a\u5185\u5bb9\u653e\u5728\u5149\u6807\u4f4d\u7f6e\u4e4b\u4e0b\uff1b\u6574\u884c\u6587\u672c\u653e\u5728\u884c\u4e0b\u9762\uff0c\u82e5\u662f\u975e\u6574\u884c\u6587\u672c\u5219\u653e\u5728\u5149\u6807\u540e\u9762 P \u5c06\u6307\u5b9a\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u653e\u5230\u5f53\u524d\u5149\u6807\u7684\u4f4d\u7f6e\u4e4b\u4e0a\uff1b\u6574\u884c\u6587\u672c\u653e\u5728\u884c\u4e0b\u9762\uff0c\u82e5\u662f\u975e\u6574\u884c\u6587\u672c\u5219\u653e\u5728\u5149\u6807\u540e\u9762 u \u64a4\u9500\u6700\u8fd1\u7684\u4fee\u6539\uff0c\u9488\u5bf9\u6240\u6709\u4fee\u6539 U \u64a4\u9500\u5bf9\u5f53\u524d\u884c\u4e0a\u505a\u7684\u6240\u6709\u4fee\u6539"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_4","title":"\u7ffb\u9875\u547d\u4ee4","text":"\u547d\u4ee4 \u4f5c\u7528 Ctrl + d \u5c06\u5149\u6807\u5411\u4e0b\u7ffb\u534a\u5c4f\uff0c\u901a\u5e38\u6bcf\u6b21\u7ffb\u5c4f12\u884c Ctrl + u \u5c06\u5149\u6807\u5411\u4e0a\u7ffb\u534a\u5c4f\uff0c\u901a\u5e38\u6bcf\u6b21\u7ffb\u5c4f12\u884c Ctrl + f \u5c06\u5149\u6807\u5411\u4e0b\u7ffb\u6ee1\u5c4f\uff0c\u901a\u5e38\u6bcf\u6b21\u7ffb\u5c4f24\u884c Ctrl + b \u5c06\u5149\u6807\u5411\u4e0a\u7ffb\u6ee1\u5c4f\uff0c\u901a\u5e38\u6bcf\u6b21\u7ffb\u5c4f24\u884c"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_5","title":"\u8f93\u5165\u6a21\u5f0f","text":"<p>\u8fd9\u4e2a\u6a21\u5f0f\u662f\u6211\u4eec\u719f\u6089\u7684\u6587\u672c\u7f16\u8f91\u5668\u7684\u6a21\u5f0f\uff0c\u5c31\u662f\u53ef\u4ee5\u8f93\u5165\u4efb\u4f55\u4f60\u60f3\u8f93\u5165\u7684\u5185\u5bb9\u3002\u8fdb\u5165\u8fd9\u4e2a\u6a21\u5f0f\u6709\u51e0\u79cd\u65b9\u6cd5\uff0c\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u662f\u6309\u5b57\u6bcd\u952e <code>i</code> \uff08 <code>i\u3001I\u3001a\u3001A\u3001o\u3001O</code> \u90fd\u53ef\u4ee5\u8fdb\u5165\u63d2\u5165\u6a21\u5f0f\uff0c\u53ea\u662f\u6240\u5904\u7684\u4f4d\u7f6e\u4e0d\u540c\uff09\uff0c\u9000\u51fa\u8fd9\u79cd\u6a21\u5f0f\uff0c\u53ea\u9700\u8981\u6309\u4e0b <code>Esc</code> \u952e\u3002</p> \u547d\u4ee4 \u4f5c\u7528 i \u5728\u5149\u6807\u7684<code>\u5de6\u4fa7</code>\u8f93\u5165\u6587\u672c\uff0c\u5149\u6807\u53f3\u4fa7\u6587\u672c\u5411\u53f3\u79fb\u52a8 I \u5728\u5149\u6807\u6240\u5728<code>\u884c\u7684\u884c\u9996</code>\u8f93\u5165\u6587\u672c\uff0c\u76f8\u5f53\u4e8e\u5728\u884c\u9996\u6267\u884c\u4e86 i \u547d\u4ee4 a \u5728\u5149\u6807\u7684<code>\u53f3\u4fa7</code>\u8f93\u5165\u6587\u672c A \u5728\u5149\u6807\u6240\u5728<code>\u884c\u7684\u5c3e\u90e8</code>\u8fdb\u884c\u8f93\u5165\u6587\u672c\uff0c\u76f8\u5f53\u4e8e\u5728\u5149\u6807\u884c\u5c3e\u6267\u884ca\u547d\u4ee4 o \u5728\u5149\u6807\u6240\u5728\u884c\u7684<code>\u4e0b\u4e00\u884c</code>\u589e\u6dfb\u65b0\u7684\u4e00\u884c\uff0c\u5149\u6807\u505c\u7559\u5728\u65b0\u884c\u7684\u884c\u9996 O \u5728\u5149\u6807\u6240\u5728\u884c\u7684<code>\u4e0a\u4e00\u884c</code>\u589e\u6dfb\u65b0\u7684\u4e00\u884c\uff0c\u5149\u6807\u505c\u7559\u5728\u65b0\u884c\u7684\u884c\u9996 <p><code>\u8f93\u5165\u6a21\u5f0f\uff08Insert mode\uff09</code>\u6ca1\u4ec0\u4e48\u53ef\u8bf4\u7684\u4e86\uff0c\u5c31\u662f\u8fdb\u5165\u4e86\u7f16\u8f91\u6a21\u5f0f\uff0c\u53ef\u4ee5\u81ea\u7531\u7f16\u8f91\u4e86\u3002</p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_6","title":"\u5e95\u7ebf\u547d\u4ee4\u6a21\u5f0f","text":"<p><code>vim</code> \u7684\u5e95\u7ebf\u547d\u4ee4\u6a21\u5f0f\uff1a\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u6309<code>:</code>(\u6ce8\u610f\u662f\u82f1\u6587\u5192\u53f7)\uff0c\u6b64\u65f6vim\u7684\u7a97\u53e3\u5de6\u4e0b\u65b9\u4f1a\u51fa\u73b0\u4e00\u4e2a<code>:</code>\u7b26\u53f7\uff0c\u8fd9\u65f6\u5c31\u5df2\u7ecf\u8fdb\u5165\u4e86\u5e95\u7ebf\u547d\u4ee4\u6a21\u5f0f\u4e86\u3002</p> <p>\u6ce8\u610f\uff1a \u6307\u4ee4\u6267\u884c\u4e4b\u540e\u4f1a\u628a\u81ea\u52a8\u8fd4\u56de\u5230\u547d\u4ee4\u884c\u6a21\u5f0f\u7684\u3002</p> <p>\u4f5c\u7528\uff1a \u5e95\u7ebf\u547d\u4ee4\u6a21\u5f0f\u53ef\u4ee5\u5bf9\u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u5185\u5bb9\u8fdb\u884c\u4fdd\u5b58\u3001\u66ff\u6362\u3001\u67e5\u8be2\u3001\u5220\u9664\u7b49\u7b49\u64cd\u4f5c\u3002</p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_7","title":"\u5e38\u7528\u547d\u4ee4","text":"\u547d\u4ee4 \u4f5c\u7528 :q \u9000\u51fa <code>vim</code> \u7f16\u8f91\u5668 :q! \u4e0d\u4fdd\u5b58\u6587\u4ef6\uff0c\u76f4\u63a5\u9000\u51fa <code>vim</code> \u7f16\u8f91\u5668 :w \u53ea\u4fdd\u5b58\u6587\u4ef6\uff0c\u4f46\u4e0d\u9000\u51fa <code>vim</code> \u7f16\u8f91\u5668 :wq \u4fdd\u5b58\u6587\u4ef6\u4e14\u9000\u51fa <code>vim</code> \u7f16\u8f91\u5668 ZZ \u4fdd\u5b58\u6587\u4ef6\u4e14\u9000\u51fa <code>vim</code> \u7f16\u8f91\u5668 :<code>start</code>,<code>endd</code> \u4ece\u7b2c start \u884c\u5f00\u59cb\u5230 end \u884c\u8fdb\u884c\u5220\u9664\u64cd\u4f5c \u6700\u540e\u4e00\u4e2a d \u8868\u793a\u5220\u9664\uff0c\u5982 <code>:3,4d</code> :%d \u6e05\u7a7a\u6587\u4ef6\u5185\u5bb9(\u8df3\u5230\u884c\u9996 dG \u6267\u884c\u4e5f\u53ef\u5220\u9664) :/<code>string</code> \u4ece\u6587\u4ef6\u9996\u90e8\u5f00\u59cb\u67e5\u627e\u5230\u5c3e\u90e8\uff1b\u6309 n \u952e\u53ef\u4ee5\u8df3\u5230\u4e0b\u4e00\u4e2a\uff0cN \u4e0a\u4e00\u4e2a\uff0c\u53e6\u5916\u6309 / \u952e\u540e\uff0c\u6309\u4e0a\u4e0b\u952e\u53ef\u4ee5\u627e\u5230\u4ee5\u524d\u67e5\u627e\u7684\u8bb0\u5f55\uff0c\u540c\u6837\u7684\u4e5f\u6709\u8bb0\u5f55 :?<code>string</code> \u540c\u4e0a\uff0c\u4ece\u5f53\u524d\u5149\u6807\u5411\u6587\u4ef6\u9996\u90e8\u67e5\u627e :%s/<code>word1</code>/<code>word2</code>/g \u4ece\u6587\u4ef6\u9996\u5230\u5c3e\u66ff\u6362\u6bcf\u4e00\u884c\u7684 word1\u4e3a word2 :set nu \u663e\u793a\u884c\u53f7 \u4e5f\u53ef\u4ee5\u8f93\u5165 set number :set nonu \u53d6\u6d88\u884c\u53f7 :set ai/noai \u5f00\u542f/\u5173\u95ed\u81ea\u52a8\u7f29\u8fdb :set paste \u5f00\u542f\u7c98\u8d34\u6a21\u5f0f\uff0c\u9632\u6b62\u56e0\u4e3a\u683c\u5f0f\u4e0d\u540c\u5bfc\u81f4\u7684\u683c\u5f0f\u9519\u8bef"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html#_8","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u5e38\u7528\u7684 Vim \u64cd\u4f5c\u547d\u4ee4\u6574\u7406</li> <li>\u7a0b\u5e8f\u5458\u5fc5\u5907vim\u7f16\u8f91\u5668\u547d\u4ee4\uff0c\u4f60\u60f3\u8981\u7684\u6211\u90fd\u6574\u7406\u597d\u4e86(\u5efa\u8bae\u6536\u85cf)</li> <li>\u5173\u4e8evim\u2014\u2014\u4e3a\u4ec0\u4e48hjkl\u8868\u793a\u5de6\u4e0b\u4e0a\u53f3\u5462\uff1f</li> </ul>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/%E5%B8%B8%E7%94%A8%E9%95%9C%E5%83%8F%E6%BA%90.html","title":"\u955c\u50cf\u6e90","text":""},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/%E5%B8%B8%E7%94%A8%E9%95%9C%E5%83%8F%E6%BA%90.html#pip","title":"pip\u6e90","text":"<p>\u5e38\u7528pip\u955c\u50cf\u6e90</p> <pre><code># \u8c46\u74e3(douban)\nhttps://pypi.douban.com/simple/\n\n# \u6e05\u534e\u5927\u5b66pip\u6e90\n# \u901f\u5ea6\u6700\u5feb,\u4f46\u662f\u8bbf\u95ee\u9891\u6b21\u8fc7\u591a\u4f1a\u88ab\u5c01\u7981ip\u5bfc\u81f4pip\u4e0b\u8f7d\u5931\u8d25\nhttps://pypi.tuna.tsinghua.edu.cn/simple/\n\n# \u817e\u8baf\u4e91pip\u6e90\nhttps://mirrors.cloud.tencent.com/pypi/simple/\n\n# \u963f\u91cc\u4e91pip\u6e90\nhttps://mirrors.aliyun.com/pypi/simple/\n\n# \u4e2d\u56fd\u79d1\u6280\u5927\u5b66\n# \u8bbf\u95ee\u9891\u6b21\u8fc7\u591a\u4f1a\u88ab\u5c01\u7981ip\u5bfc\u81f4pip\u4e0b\u8f7d\u5931\u8d25\nhttps://pypi.mirrors.ustc.edu.cn/simple/\n</code></pre>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/%E5%B8%B8%E7%94%A8%E9%95%9C%E5%83%8F%E6%BA%90.html#yum","title":"yum\u6e90","text":"<p>centos7 yum \u4f7f\u7528\u963f\u91cc\u4e91\u955c\u50cf\u6e90 <pre><code>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup\n\nwget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo\n\n#\u6216\u8005\n#curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo\n\n#\u6e05\u9664\u7f13\u5b58\nyum clean all\n\n#\u751f\u6210\u7f13\u5b58\nyum makecache\n</code></pre></p>"},{"location":"09_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/%E5%B8%B8%E7%94%A8%E9%95%9C%E5%83%8F%E6%BA%90.html#conda","title":"conda\u6e90","text":"<p>Linux \u5b89\u88c5<code>miniconda</code> <pre><code>mkdir -p ~/miniconda3\nwget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O ~/miniconda3/miniconda.sh\nbash ~/miniconda3/miniconda.sh -b -u -p ~/miniconda3\nrm -rf ~/miniconda3/miniconda.sh\n~/miniconda3/bin/conda init bash\n</code></pre></p> <p>conda\u8bbe\u7f6e\u6210\u8c46\u74e3\u6e90 <pre><code>conda config --add channels https://pypi.douban.com/anaconda/cloud/conda-forge/\nconda config --add channels https://pypi.douban.com/anaconda/cloud/msys2/\nconda config --add channels https://pypi.douban.com/anaconda/cloud/bioconda/\nconda config --add channels https://pypi.douban.com/anaconda/cloud/menpo/\nconda config --add channels https://pypi.douban.com/anaconda/cloud/pytorch/\n</code></pre></p> <p>\u663e\u793a\u914d\u7f6e\u6587\u4ef6\u7684\u5185\u5bb9 <pre><code>conda config --show-sources\n</code></pre></p>"},{"location":"10_%E5%85%B6%E4%BB%96/float%E5%8E%9F%E7%90%86.html","title":"float\u539f\u7406","text":""},{"location":"10_%E5%85%B6%E4%BB%96/float%E5%8E%9F%E7%90%86.html#ieee_754","title":"IEEE 754","text":"<p>IEEE \u6d6e\u70b9\u8fd0\u7b97\u6807\u51c6\uff08IEEE 754\uff09\u662f\u7531\u7535\u6c14\u548c\u7535\u5b50\u5de5\u7a0b\u5e08\u534f\u4f1a\uff08IEEE\uff09\u4e8e 1985 \u5e74\u5236\u5b9a\u7684\u6d6e\u70b9\u8fd0\u7b97\u6280\u672f\u6807\u51c6\u3002\u8be5\u6807\u51c6\u89e3\u51b3\u4e86\u5728\u5404\u79cd\u6d6e\u70b9\u5b9e\u73b0\u4e2d\u53d1\u73b0\u7684\u8bb8\u591a\u95ee\u9898\uff0c\u8fd9\u4e9b\u95ee\u9898\u4f7f\u5f97\u5b83\u4eec\u96be\u4ee5\u53ef\u9760\u548c\u53ef\u79fb\u690d\u5730\u4f7f\u7528\u3002\u8bb8\u591a\u786c\u4ef6\u6d6e\u70b9\u5355\u5143\u4f7f\u7528 IEEE 754 \u6807\u51c6\u3002</p> <p>\u8be5\u6807\u51c6\u5b9a\u4e49\uff1a</p>"},{"location":"10_%E5%85%B6%E4%BB%96/float%E5%8E%9F%E7%90%86.html#arithmetic_formats","title":"\u7b97\u672f\u683c\u5f0f(arithmetic formats)","text":"<p>\u7b97\u672f\u683c\u5f0f(arithmetic formats)\uff1a\u4e8c\u8fdb\u5236\u548c\u5341\u8fdb\u5236\u6d6e\u70b9\u6570\u636e\u96c6\uff0c\u7531\u6709\u9650\u6570\uff08\u5305\u62ec\u6709\u7b26\u53f7\u96f6(Signed zero)\u548c\u975e\u89c4\u683c\u5316\u6d6e\u70b9\u6570(subnormal number)\uff09\u3001\u65e0\u7a77\u5927\u548c\u7279\u6b8a\u7684\u201c\u975e\u6570\u5b57\u201d\u503c (NaN) \u7ec4\u6210</p> <p>\u6709\u7b26\u53f7\u96f6\uff08Sined zero)</p> <p>\u6709\u7b26\u53f7\u96f6(Signed zero)\u662f\u5e26\u6709\u76f8\u5173\u7b26\u53f7\u7684\u96f6\u3002\u5728\u666e\u901a\u7b97\u672f\u4e2d\uff0c\u6570\u5b57 0 \u6ca1\u6709\u7b26\u53f7\uff0c\u56e0\u6b64 -0\u3001+0 \u548c 0 \u662f\u7b49\u4ef7\u7684\u3002\u7136\u800c\uff0c\u5728\u8ba1\u7b97\u4e2d\uff0c\u67d0\u4e9b\u6570\u5b57\u8868\u793a\u5141\u8bb8\u5b58\u5728\u4e24\u4e2a\u96f6\uff0c\u901a\u5e38\u8868\u793a\u4e3a -0\uff08\u8d1f\u96f6\uff09\u548c +0\uff08\u6b63\u96f6\uff09\uff0c\u901a\u8fc7\u6570\u503c\u6bd4\u8f83\u8fd0\u7b97\u89c6\u4e3a\u76f8\u7b49\uff0c\u4f46\u5728\u7279\u5b9a\u8fd0\u7b97\u4e2d\u53ef\u80fd\u5177\u6709\u4e0d\u540c\u7684\u884c\u4e3a\u3002\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u5728\u6574\u6570\u7684\u7b26\u53f7\u6570\u503c\u548c\u8865\u7801\u6709\u7b26\u53f7\u6570\u5b57\u8868\u793a\u5f62\u5f0f\u4ee5\u53ca\u5927\u591a\u6570\u6d6e\u70b9\u6570\u8868\u793a\u5f62\u5f0f\u4e2d\u3002</p> <p>\u6d6e\u70b9\u8fd0\u7b97\u7684 IEEE 754 \u6807\u51c6\uff08\u76ee\u524d\u7531\u5927\u591a\u6570\u652f\u6301\u6d6e\u70b9\u6570\u7684\u8ba1\u7b97\u673a\u548c\u7f16\u7a0b\u8bed\u8a00\u4f7f\u7528\uff09\u9700\u8981 +0 \u548c -0\u3002\u5e26\u7b26\u53f7\u96f6\u7684\u5b9e\u6570\u7b97\u672f\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f\u6269\u5c55\u5b9e\u6570\u8f74\u7684\u53d8\u4f53\uff0c\u4f7f\u5f97 1/\u22120 = \u2212 \u221e \u548c 1/+0 = +\u221e\uff1b\u4ec5\u5bf9\u4e8e \u00b10/\u00b10 \u548c \u00b1\u221e/\u00b1\u221e \u672a\u5b9a\u4e49\u9664\u6cd5\u3002 </p> <p>\u975e\u89c4\u683c\u5316\u6d6e\u70b9\u6570(subnormal number)</p> <p>\u975e\u89c4\u683c\u5316\u6d6e\u70b9\u6570\uff08subnormal number\uff09\u662f\u6307\u7684\u8ba1\u7b97\u673a\u4e2d\u5904\u7406\u7684\u4e00\u7c7b\u7279\u6b8a\u6d6e\u70b9\u6570\u3002\u5728\u89c4\u683c\u5316\u6d6e\u70b9\u6570\u4e2d\uff0c\u6d6e\u70b9\u6570\u7684\u5c3e\u6570\u4e0d\u5e94\u5f53\u5305\u542b\u524d\u5bfc0\u3002\u5982\u679c\u5168\u90e8\u7528\u5341\u8fdb\u5236\u8868\u793a\uff0c\u5bf9\u4e8e\u7c7b\u4f3c0.0123\u7684\u6d6e\u70b9\u6570\uff0c\u89c4\u683c\u5316\u7684\u8868\u793a\u5e94\u4e3a1.23e-2\u3002\u4f46\u5bf9\u4e8e\u67d0\u4e9b\u8fc7\u5c0f\u7684\u6570\uff0c\u59821.23e-130\uff0c\u5141\u8bb8\u7684\u9636\u6570\u4f4d\u6570\u4e0d\u80fd\u6ee1\u8db3\u9636\u6570\u5927\u5c0f\u7684\u9700\u8981\uff0c\u8fd9\u65f6\u53ef\u80fd\u5c31\u4f1a\u5728\u5c3e\u6570\u524d\u6dfb\u52a0\u524d\u5bfc0\uff0c\u5982\u5c06\u5176\u8868\u793a\u4e3a0.000123e-126\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/float%E5%8E%9F%E7%90%86.html#_1","title":"\u6d6e\u70b9\u6570\u5256\u6790","text":"<p>\u4e00\u4e2a\u6d6e\u70b9\u6570 (Value) \u7684\u8868\u793a\u5176\u5b9e\u53ef\u4ee5\u8fd9\u6837\u8868\u793a\uff1a</p> \\[ Value = sign \u00d7 exponent \u00d7 fraction \\] <p>\u4e5f\u5c31\u662f\u6d6e\u70b9\u6570\u7684\u5b9e\u9645\u503c\uff0c\u7b49\u4e8e\u7b26\u53f7\u4f4d\uff08sign bit\uff09\u4e58\u4ee5\u6307\u6570\u504f\u79fb\u503c\uff08exponent bias\uff09\u518d\u4e58\u4ee5\u5206\u6570\u503c\uff08fraction\uff09\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/float%E5%8E%9F%E7%90%86.html#_2","title":"float\u539f\u7406","text":""},{"location":"10_%E5%85%B6%E4%BB%96/float%E5%8E%9F%E7%90%86.html#_3","title":"\u53c2\u8003\u94fe\u63a5\uff1a","text":"<ul> <li>IEEE_754</li> <li>binary-floating-point</li> </ul>"},{"location":"10_%E5%85%B6%E4%BB%96/magisk.html","title":"magsisk \u9762\u5177\u4ecb\u7ecd","text":"<p>\u539f\u6587\u94fe\u63a5</p> <p>\u5982\u679c\u6211\u544a\u8bc9\u4f60\uff0c\u4f60\u7684\u624b\u673a\u529f\u80fd\u88ab\u4f4e\u4f30\u4e86\uff0c\u4f60\u4f1a\u600e\u4e48\u60f3\uff1f</p> <p>\u6216\u8005\u8bf4\uff0c\u5c3d\u7ba1\u4f60\u8ba4\u4e3a\u81ea\u5df1\u638c\u63a7\u7740\u624b\u673a\uff0c\u4f46\u5b9e\u9645\u4e0a\u662f\u624b\u673a\u5728\u63a7\u5236\u7740\u4f60\u3002</p> <p>\u53ef\u80fd\u4f60\u4e0d\u4f1a\u76f8\u4fe1\u3002\u6bd5\u7adf\uff0c\u4f7f\u7528\u667a\u80fd\u624b\u673a\u7684\u65e5\u5e38\u9700\u6c42\u5df2\u7ecf\u5f97\u5230\u6ee1\u8db3\u3002\u60a8\u53ef\u4ee5\u62e8\u6253\u4efb\u610f\u6570\u91cf\u7684\u7535\u8bdd\uff0c\u5728Instagram\u4e0a\u65e0\u9650\u6eda\u52a8\uff0c\u5e76\u4e0b\u8f7d\u4efb\u610f\u6570\u91cf\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u4f46\u662f\u60a8\u90a3\u4e9b\u7cbe\u901a\u6280\u672f\u7684\u670b\u53cb\u4f3c\u4e4e\u603b\u662f\u80fd\u591f\u5728\u4ed6\u4eec\u7684\u624b\u673a\u4e0a\u505a\u4e00\u4e9b\u65b0\u5947\u6709\u8da3\u7684\u4e8b\u60c5\uff0c\u5e76\u5c06\u5176\u5f52\u529f\u4e8eMagisk\u548cMagisk Manager\u3002</p> <p>\u4f46\u4ec0\u4e48\u662fMagisk\uff1f\u4ec0\u4e48\u662fMagisk Manager\uff1f\u5728\u6211\u4eec\u4ecb\u7ecdMagisk\u4e4b\u524d\uff0c\u8ba9\u6211\u4eec\u5148\u4e86\u89e3\u4ec0\u4e48\u662frooting\u4ee5\u53ca\u5b83\u4e0eMagisk\u548cMagisk Manager\u4e4b\u95f4\u7684\u8054\u7cfb\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/magisk.html#rooting","title":"\u4ec0\u4e48\u662fRooting\uff1f","text":"<p>Rooting\u57fa\u672c\u4e0a\u662f\u7ed9\u81ea\u5df1\u6388\u6743\uff0c\u4ee5\u8bbf\u95ee\u624b\u673a\u4e0a\u88ab\u8fd0\u8425\u5546\u6216\u5b9e\u9645\u63d0\u4f9b\u8005\u5c4f\u853d\u7684\u529f\u80fd\u3002\u6709\u4e00\u4e9b\u5e94\u7528\u7a0b\u5e8f\u53ea\u6709\u5728\u60a8\u7684\u624b\u673a\u5177\u5907root\u6743\u9650\u65f6\u624d\u80fd\u8bbf\u95ee\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4e0b\u8f7d\u9ad8\u7ea7\u5c4f\u5e55\u5f55\u5236\u5668\u3002</p> <p>\u5bf9\u67d0\u4e9b\u5e94\u7528\u8fdb\u884cRooting\u5c06\u5e2e\u52a9\u60a8\u5ef6\u957f\u7535\u6c60\u5bff\u547d\uff08\u8fd9\u771f\u662f\u6551\u661f\u554a\uff09\uff0c\u514d\u8d39\u8d2d\u4e70\u5e94\u7528\u5185\u9879\u76ee\uff0c\u751a\u81f3\u901a\u8fc7\u8d85\u9891\u6765\u589e\u52a0\u624b\u673aCPU\u901f\u5ea6\u3002\u7b80\u800c\u8a00\u4e4b\uff0c\u8fd9\u91cc\u6709\u5927\u91cf\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u63d0\u5347\u624b\u673a\u4f53\u9a8c\u7684\u673a\u4f1a\u3002 \u60a8\u53ef\u4ee5\u9605\u8bfb\u66f4\u591a\u5173\u4e8e\u5982\u4f55root Android\u624b\u673a\u7684\u4fe1\u606f\u3002</p> <p>\u5982\u4f55root\u4f60\u7684\u624b\u673a\uff1f\u7b54\u6848\u5c31\u662fMagisk\u548cMagisk Manager\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/magisk.html#magisk","title":"Magisk\u662f\u4ec0\u4e48\uff1f","text":"<p>\u5bf9\u4e8e\u65b0\u624b\u6765\u8bf4\uff0c\u4f60\u4eec\u53ef\u4ee5\u653e\u5fc3\uff01\u5bf9\u4e8e\u4e86\u89e3root\u7684\u4eba\u6765\u8bf4\uff0c\u4e0d\u65ad\u5730\u8fdb\u884croot/unroot\u4ee5\u83b7\u53d6OTA\u66f4\u65b0\u6216\u65e0\u6cd5\u5728\u624b\u673a\u4e0a\u4f7f\u7528\u94f6\u884c\u5e94\u7528\u7a0b\u5e8f\u6709\u591a\u70e6\u4eba\uff01\u6211\u4eec\u5b8c\u5168\u7406\u89e3\u4f60\u4eec\u3002</p> <p>\u4eba\u4eec\u7ecf\u5e38\u5bfb\u627e\u6839\u672c\u539f\u56e0\uff0c\u6211\u4eec\u5c06\u4e3a\u60a8\u63d0\u4f9b\u4e00\u4e2a\u6839\u672c\u6027\u7684\u89e3\u51b3\u65b9\u6848\uff08\u786e\u5b9e\u5982\u6b64\uff09\uff0c\u8ba9\u60a8\u5728\u624b\u673a\u4e0a\u83b7\u5f97\u6240\u9700\u7684\u6bcf\u4e2a\u529f\u80fd\uff01</p> <p>Magisk\u662f\u4e00\u79cd\u65e0\u7cfb\u7edf\u5316\u7684Rooting\u7cfb\u7edf\u3002\u8fd9\u57fa\u672c\u4e0a\u610f\u5473\u7740\u60a8\u53ef\u4ee5\u4fee\u6539\u624b\u673a\u7cfb\u7edf\u800c\u4e0d\u66f4\u6539\u6838\u5fc3\u4ee3\u7801\u3002 Magisk\u7531Topjohnwu\u5f00\u53d1\uff0c\u5e76\u4e8e2016\u5e74\u63a8\u51fa\uff0c\u81ea\u90a3\u65f6\u4ee5\u6765\u5df2\u9010\u5e74\u6269\u5927\u5176\u89c6\u91ce\u3002\u7279\u522b\u662f\u5728\u8fd0\u884c\u91d1\u878d\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0cMagisk Root\u975e\u5e38\u6709\u7528\u3002</p> <p>\u5982\u679c\u9700\u8981\u8fd8\u53ef\u4ee5\u4f7f\u7528Magisk\u5b89\u88c5YouTube Vanced Manager\u5e2e\u52a9\u7528\u6237\u65e0\u5e7f\u544a\u5730\u8fd0\u884cYouTube\u3002</p> <p>\u8ba9\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u6765\u4e86\u89e3Magisk\u3002</p> <p>\u5047\u8bbe\u4f60\u60f3\u8fd0\u884c\u4e00\u6b3e\u94f6\u884c\u5e94\u7528\u3002\u4f46\u6bcf\u6b21\u6253\u5f00\u8be5\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u4f60\u4f1a\u6536\u5230\u901a\u77e5\uff0c\u63d0\u793a\u201c\u60a8\u7684\u624b\u673a\u672a\u7ecfroot\uff0c\u65e0\u6cd5\u5728\u60a8\u7684\u8bbe\u5907\u4e0a\u4f7f\u7528\u6b64\u5e94\u7528\u7a0b\u5e8f\u201d\u3002</p> <p>\u73b0\u5728\uff0c\u4e3a\u4e86\u8fd0\u884c\u8be5\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u53d6\u6d88root\u6743\u9650\u3001\u4f7f\u7528Chainfire SuperSU\u5de5\u4f5c\uff0c\u5e76\u91cd\u65b0\u83b7\u53d6root\u6743\u9650\u3002\u4f46\u662f\u83b7\u53d6\u548c\u53d6\u6d88root\u6743\u9650\u662f\u4e00\u4e2a\u7e41\u7410\u7684\u8fc7\u7a0b\u3002\u4f60\u53ef\u80fd\u53ea\u60f3\u8fd9\u6837\u505a\u4e00\u6b21\uff0c\u4f46\u91cd\u590d\u64cd\u4f5c\u80af\u5b9a\u4f1a\u611f\u5230\u4e4f\u5473\u3002</p> <p>\u5982\u679c\u4f60\u6025\u9700\u4f7f\u7528\u90a3\u4e2a\u94f6\u884c\u5e94\u7528\u7a0b\u5e8f\u600e\u4e48\u529e\uff1f\u4f60\u4e0d\u60f3\u88ab\u5361\u5728\u53d6\u6d88root\u6743\u9650\u7684\u72b6\u6001\u4e0b\u3002\u6709\u4e86Magisk\uff0c\u4f60\u53ef\u4ee5\u8fdb\u884c\u66f4\u6539\u4ee5\u8fd0\u884c\u8be5\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\uff1a</p> <ul> <li>Magisk\u53ef\u4ee5\u8ba9\u4f60\u901a\u8fc7Google\u7684\u5b89\u5168\u6d4b\u8bd5\uff08Safety net\uff09\u3002</li> <li>\u8fd9\u4e2a\u5f00\u6e90\u8f6f\u4ef6\u5141\u8bb8\u4f60\u6dfb\u52a0\u548c\u4fee\u6539\u6587\u4ef6\u800c\u4e0d\u4f1a\u51fa\u73b0\u4efb\u4f55\u95ee\u9898\u3002\u5982\u679c\u4f60\u61c2\u7f16\u7801\u5e76\u60f3\u5bf9\u9ed8\u8ba4\u7f16\u7801\u8fdb\u884c\u4e00\u4e9b\u66f4\u6539\uff0c\u90a3\u4e48\u4e5f\u53ef\u4ee5\u8f7b\u677e\u5b9e\u73b0\u3002</li> <li>Magisk Mount\u529f\u80fd\u5c06\u5728\u6ca1\u6709\u4efb\u4f55\u95ee\u9898\u7684\u60c5\u51b5\u4e0b\u5bf9\u6838\u5fc3\u548c\u5206\u533a\u7ea7\u522b\u8fdb\u884c\u66f4\u6539\u3002\u60a8\u53ef\u4ee5\u5c06\u7cfb\u7edf\u3001\u6838\u5fc3\u6587\u4ef6\u548c\u5176\u4ed6\u5a92\u4f53\u6587\u4ef6\u5212\u5206\u5230\u5b58\u50a8\u5668\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002</li> <li>Resetprop\u529f\u80fd\u53ef\u7528\u4e8e\u66f4\u6539\u7cfb\u7edf\u5c5e\u6027\u6587\u4ef6\uff0c\u5305\u62ec\u53ea\u8bfb\u6587\u4ef6\u3002\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u5728\u6784\u5efa\u4e2d\u8fdb\u884c\u66f4\u6539\u3002</li> <li>Magisk\u53ef\u4e0b\u8f7d\u5230\u672aroot\u7684\u624b\u673a\u4e0a\uff0c\u5e76\u5e2e\u52a9\u60a8root\u624b\u673a\u3002</li> </ul>"},{"location":"10_%E5%85%B6%E4%BB%96/magisk.html#magisk_app","title":"Magisk App\u662f\u4ec0\u4e48\uff1f","text":"<p>\u4ee5\u524d\uff0cMagisk\u6709\u4e0d\u540c\u7684\u6587\u4ef6\uff0c\u60a8\u9700\u8981\u4e0b\u8f7d.zip\u6587\u4ef6\u5e76\u4e0b\u8f7d\u5e94\u7528\u7a0b\u5e8f\uff0c\u8fd9\u662f\u4e00\u4e2a\u8017\u65f6\u7684\u8fc7\u7a0b\u3002</p> <p>\u73b0\u5728\uff0c\u501f\u52a9Magisk App\u7684\u5e2e\u52a9\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5c06.apk\u6587\u4ef6\u91cd\u547d\u540d\u4e3a.zip\u6587\u4ef6\u6765\u8f7b\u677e\u5b89\u88c5Magisk\u3002\u5982\u679c\u60a8\u60f3\u5378\u8f7dMagisk\u5e94\u7528\u7a0b\u5e8f\uff0c\u5219\u53ea\u9700\u5c06\u8be5\u5e94\u7528\u7a0b\u5e8f\u91cd\u547d\u540d\u4e3auninstall.zip\u5373\u53ef\u3002</p> <p>Magisk App\u6709\u4ec0\u4e48\u7528\u9014\uff1f \u5982\u679c\u8981\u6388\u4e88/\u62d2\u7edd\u4efb\u4f55\u5e94\u7528\u7a0b\u5e8f\u7684\u6743\u9650\uff0c\u5219\u53ef\u4ee5\u501f\u52a9Magisk App\u8f7b\u677e\u5b8c\u6210\u6b64\u64cd\u4f5c\u3002 Magisk App\u4e0a\u63d0\u4f9b\u4e86\u5927\u91cf\u514d\u8d39\u6a21\u5757\uff0c\u4ece\u4e2d\u53ef\u4ee5\u4e0b\u8f7d\u5e94\u7528\u548c\u6e38\u620f\u5230Android\u8bbe\u5907\u3002\u800c\u4e14\u52a0\u5206\u70b9\u662f\uff0c\u60a8\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5df1\u6216\u81ea\u5b9a\u4e49\u5b58\u50a8\u5e93\u4ee5\u83b7\u53d6\u6240\u9700\u5185\u5bb9\u3002</p> <p>\u6ce8\u610f\uff1a\u5728\u6267\u884c\u6b64\u8fc7\u7a0b\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u5b8c\u5168\u5907\u4efdAndroid\u8bbe\u5907\u3002</p> <p>\u5f00\u59cb\u4e4b\u524d\uff1a - \u5b66\u4e60ADB\u548cfastboot\u7684\u57fa\u672c\u547d\u4ee4\u975e\u5e38\u91cd\u8981\u3002 - \u60a8\u9700\u8981\u786e\u4fdd\u8bbe\u5907\u7684\u542f\u52a8\u7a0b\u5e8f\u5df2\u89e3\u9501\u3002 - \u5982\u679c\u60a8\u4f7f\u7528\u4e86boot.img\u4fee\u6539\uff0c\u5219\u9700\u8981\u518d\u6b21\u5237\u5165\u81ea\u5b9a\u4e49ROM\u4ee5\u4f7f\u7528\u539f\u59cb\u7684boot.img\u3002 - \u5728\u624b\u673a\u4e0a\u5b89\u88c5Magisk\u540e\uff0c\u518d\u5b89\u88c5\u81ea\u5b9a\u4e49\u5185\u6838\u3002</p> <p>\u5982\u4f55\u4e0b\u8f7d2023\u5e74Android\u6700\u65b0\u7248\u672c\u7684Magisk - \u4ece\u8fd9\u91cc\u4e0b\u8f7dMagisk\uff1a\u4e0b\u8f7dMagisk</p>"},{"location":"10_%E5%85%B6%E4%BB%96/magisk.html#magisk_1","title":"\u5982\u4f55\u5b89\u88c5Magisk\uff1f","text":"<p>\u6ce8\u610f\uff0c\u5c0f\u7c73\u624b\u673a\u89e3\u9501\u524d\u5148\u7528\u624b\u673a\u4e0b\u8f7d\u5b8c\u6574\u5b89\u88c5\u5305\uff0c\u7136\u540e\u590d\u5236\u5230\u7535\u8111\uff0c\u4f7f\u7528\u7b2c\u4e09\u65b9\u7684\u4e0b\u8f7d\u5730\u5740\u4e0b\u8f7d\u4f1a\u9650\u901f\u8981\u4e0b\u51e0\u4e2a\u5c0f\u65f6\uff0c\u4f7f\u7528\u5c0f\u7c73\u624b\u673a\u81ea\u5e26\u7684\u4e0b\u8f7d\u901f\u5ea6\u5f88\u5feb\uff0c\u51e0\u5206\u949f\u5c31\u4e0b\u8f7d\u597d\u4e86\u3002</p> <p>\u5177\u4f53\u89c1\uff1a\u5b89\u535313\u5237\u9762\u5177\uff08\u4fee\u8865init_boot.img\uff09</p>"},{"location":"10_%E5%85%B6%E4%BB%96/magisk.html#_1","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>Magisk\u5b98\u7f51</li> <li>https://magiskcn.com/</li> <li>\u5b89\u535313\u5237\u9762\u5177\uff08\u4fee\u8865init_boot.img\uff09</li> <li></li> </ul>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html","title":"MarkDown\u753b\u56fe(\u5b9e\u4f8b\u8bb2\u89e3) \u2014\u2014 \u6d41\u7a0b\u56fe\u3001\u5e8f\u5217\u56fe\u3001\u997c\u56fe\u3001\u7518\u7279\u56fe","text":"<p>\u4f5c\u8005\uff1aknowlege_picker   \u94fe\u63a5\uff1ahttps://www.jianshu.com/p/77cc07f47cdc   \u6765\u6e90\uff1a\u7b80\u4e66</p> <p>\u5199\u8fd9\u7bc7\u6587\u7ae0\u7684\u76ee\u7684\u4e3b\u8981\u662f**\u5b66\u4e60markdown\u753b\u56fe**\u3002\u76ee\u524d\u652f\u6301\u753b\u56fe\u7684MarkDown\u5de5\u5177\u53ea\u6709**Typora\u548c\u6709\u9053\u4e91\u7b14\u8bb0**</p> <p>**ProcessOn VS MarkDown\u3002**\u867d\u7136ProcessOn\u4e5f\u80fd\u505a\u8fd9\u4ef6\u4e8b\u60c5\uff0c\u4f46\u662f\u6bcf\u6b21\u4f7f\u7528\u90fd\u8981\u4ee5\u56fe\u7247\u7684\u5f62\u5f0f\u8fdb\u884c\u7f16\u8f91\uff0c\u4e0d\u4fbf\u4e8e\u5fae\u8c03\u3002\u5728\u4e0d\u540c\u5e94\u7528\u4e4b\u95f4\u524d\u5207\u6362\u4e5f\u6bd4\u8f83\u9ebb\u70e6</p> <p>\u6211\u7684\u5b66\u4e60\u65b9\u6cd5\u3002\u6211\u4f1a\u60f3\u51fa\u4e00\u4e2a\u7efc\u5408\u6027\u7684\u573a\u666f\uff0c\u7136\u540e\u628a\u6240\u6709\u7684\u77e5\u8bc6\u70b9\u878d\u5165\u5230\u4e00\u5f20\u56fe\u91cc\u53bb\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u56de\u5fc6\u7684\u65f6\u5019\u53ea\u7528\u56de\u5fc6\u4e00\u5f20\u56fe\u5c31\u591f\u4e86\uff0c\u63d0\u9ad8\u56de\u5fc6\u6548\u7387\u3002</p> <p>\u8bed\u6cd5\u53c2\u89c1\u5b98\u7f51</p> <p>\u6587\u7ae0\u76ee\u5f55\u5982\u4e0b\uff1a</p> <ul> <li>\u6d41\u7a0b\u56fe\u4ee3\u7801\u5982\u4e0b\uff1a</li> <li>\u4ee3\u7801\u8bf4\u660e\uff1a</li> <li>typora\u4e2d\u6548\u679c\u56fe\u5982\u4e0b\uff1a</li> <li>\u5e8f\u5217\u56fe\u4ee3\u7801\u5982\u4e0b\uff1a</li> <li>\u4ee3\u7801\u8bf4\u660e:</li> <li>typora\u4e2d\u6548\u679c\u56fe\u5982\u4e0b\uff1a</li> <li>\u997c\u56fe\u4ee3\u7801\u5982\u4e0b\uff1a</li> <li>typora\u4e2d\u6548\u679c\u56fe\u5982\u4e0b\uff1a</li> <li>\u7518\u7279\u56fe\u4ee3\u7801\u8bf4\u660e:</li> <li>\u4ee3\u7801\u5982\u4e0b\uff1a</li> <li>typora\u4e2d\u5c55\u793a\u6548\u679c\u5982\u4e0b\uff1a</li> </ul>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#_1","title":"\u6d41\u7a0b\u56fe","text":""},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#_2","title":"\u4ee3\u7801\u5982\u4e0b\uff1a","text":"<pre><code>graph TB;\nsubgraph \u5206\u60c5\u51b5\nA(\u5f00\u59cb)--&gt;B{\u5224\u65ad}\nend\nB--\u7b2c\u4e00\u79cd\u60c5\u51b5--&gt;C[\u7b2c\u4e00\u79cd\u65b9\u6848]\nB--\u7b2c\u4e8c\u79cd\u60c5\u51b5--&gt;D[\u7b2c\u4e8c\u79cd\u65b9\u6848]\nB--\u7b2c\u4e09\u79cd\u60c5\u51b5--&gt;F{\u7b2c\u4e09\u79cd\u65b9\u6848}\nsubgraph \u5206\u79cd\u7c7b\nF-.\u7b2c1\u4e2a.-&gt;J((\u6d4b\u8bd5\u5706\u5f62))\nF-.\u7b2c2\u4e2a.-&gt;H&gt;\u53f3\u5411\u65d7\u5e1c\u5f62]\nend\nH---I(\u6d4b\u8bd5\u5b8c\u6bd5)\nC--\u7968\u6570100---I(\u6d4b\u8bd5\u5b8c\u6bd5)\nD---I(\u6d4b\u8bd5\u5b8c\u6bd5)\nJ---I(\u6d4b\u8bd5\u5b8c\u6bd5)\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#_3","title":"\u4ee3\u7801\u8bf4\u660e\uff1a","text":"\u5b57\u6bcd\u8868\u793a \u542b\u4e49 TB \u4ece\u4e0a\u5230\u4e0b BT \u4ece\u4e0b\u5230\u4e0a LR \u4ece\u5de6\u5230\u53f3 RL \u4ece\u53f3\u5230\u5de6 \u8868\u8ff0 \u8bf4\u660e \u542b\u4e49 id[\u6587\u5b57] \u77e9\u5f62\u8282\u70b9 \u8868\u793a\u8fc7\u7a0b id(\u6587\u5b57) \u5706\u89d2\u77e9\u5f62\u8282\u70b9 \u8868\u793a\u5f00\u59cb\u4e0e\u7ed3\u675f id((\u6587\u5b57)) \u5706\u5f62\u8282\u70b9 \u8868\u793a\u8fde\u63a5\u3002\u4e3a\u907f\u514d\u6d41\u7a0b\u8fc7\u957f\u6216\u6709\u4ea4\u53c9\uff0c\u53ef\u5c06\u6d41\u7a0b\u5207\u5f00\u6210\u5bf9 id{\u6587\u5b57} \u83f1\u5f62\u8282\u70b9 \u8868\u793a\u5224\u65ad\u3001\u51b3\u7b56 id&gt;\u6587\u5b57 ] \u53f3\u5411\u65d7\u5e1c\u8282\u70b9 <ol> <li> <p>T\u3001B\u3001L\u3001T\u5206\u522b\u662fTop/Bottom/Left/Right\u7684\u7f29\u5199</p> </li> <li> <p>id\u4e3a\u8282\u70b9\u7684\u552f\u4e00\u6807\u8bc6\uff0c\u7c7b\u4f3c\u4e8e\u53d8\u91cf\u3002\u62ec\u53f7\u5185\u4e3a\u8282\u70b9\u8981\u663e\u793a\u7684\u6587\u5b57</p> </li> <li> <p>\u5355\u5411\u7bad\u5934\u4e3a\u6d41\u7a0b\u8fdb\u884c\u65b9\u5411\u3002\u652f\u6301\u865a\u7ebf\u4e0e\u5b9e\u7ebf\uff0c\u6709\u7bad\u5934\u4e0e\u65e0\u7bad\u5934\u3001\u6709\u6587\u5b57\u4e0e\u65e0\u6587\u5b57\u3002\u5206\u522b\u662f---\u3001-.-\u3001 \u2192\u3001-.-&gt;\u3001--\u6587\u5b57\u2192\u3001-.\u6587\u5b57.-&gt;\u3001--\u6587\u5b57---\u3001-.\u6587\u5b57.-</p> </li> <li> <p>\u652f\u6301\u5b50\u56fe\u3002\u5982\u4ee3\u7801\u3001\u6548\u679c\u56fe\u6240\u793a\u3002</p> </li> </ol>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#typora","title":"typora\u4e2d\u6548\u679c\u56fe\u5982\u4e0b\uff1a","text":"<p>\u6d41\u7a0b\u56fe.png</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#_4","title":"\u5e8f\u5217\u56fe","text":"<p>\u5e8f\u5217\u56fe\u5171\u67095\u4e2a\u90e8\u5206\uff0c\u5206\u522b\u662f\uff1a\u53c2\u4e0e\u8005\u3001\u6d88\u606f\u7ebf\u3001\u5faa\u73af\u3001\u9009\u62e9\u3001\u53ef\u9009\u3001\u5e76\u884c\u3001\u6ce8\u89e3\u3002\u6211\u4eec\u6765\u6a21\u62df\u4e00\u4e2a\u7efc\u5408\u573a\u666f\uff0c\u5982\u4e0b\u56fe\u6240\u793a:</p> <p></p> <p>\u8d2d\u4e70\u4e66\u7c4d\u5e8f\u5217\u56fe.jpg</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#_5","title":"\u4ee3\u7801\u5982\u4e0b\uff1a","text":"<pre><code>sequenceDiagram\nTitle: \u5c0f\u660e\u4e70\u4e66\n\nparticipant consumer as \u5c0f\u660e\nparticipant store as \u4e66\u5e97\nparticipant publisher as \u51fa\u7248\u793e\n\nconsumer -&gt;&gt; store: \u60f3\u4e70\u4e00\u672c\u9650\u91cf\u7248\u4e66\u7c4d\nstore --&gt;&gt; consumer: \u7f3a\u8d27\nconsumer -&gt;&gt; store: \u9694\u4e00\u4e2a\u6708\u518d\u6b21\u8be2\u95ee\nstore --&gt;&gt; consumer: \u62a2\u5b8c\u4e86\nloop \u4e00\u4e2a\u661f\u671f\u4e00\u6b21\nconsumer -x +store: \u6709\u8d27\u4e86\u5417\nstore --x -consumer: \u6b63\u5728\u8ba2,\u6709\u8d27\u9a6c\u4e0a\u901a\u77e5\u4f60\nend\n\nstore -&gt;&gt; publisher: \u6211\u8981\u8ba2\u8d2d\u4e00\u6279\u8d27\npublisher --x store: \u8fd4\u56de\u6240\u6709\u4e66\u7c4d\u7684\u7c7b\u522b\u4fe1\u606f\n\nalt \u4e66\u7c4d\u7c7b\u522b\u7b26\u5408\u8981\u6c42\nstore -&gt;&gt; publisher: \u8bf7\u6c42\u4e66\u5355\u4fe1\u606f\npublisher --x store: \u8fd4\u56de\u8be5\u7c7b\u522b\u4e66\u5355\u4fe1\u606f\nelse \u4e66\u5355\u91cc\u7684\u4e66\u6709\u5e02\u573a\u9700\u6c42\nstore -&gt;&gt; publisher: \u8d2d\u4e70\u6307\u5b9a\u6570\u636e\npublisher --x store: \u786e\u8ba4\u8ba2\u5355\nelse \u4e66\u7c4d\u4e0d\u7b26\u5408\u8981\u6c42\nstore --&gt;&gt; publisher: \u6682\u65f6\u4e0d\u8d2d\u4e70\nend\n\npar \u5e76\u884c\u6267\u884c\npublisher -&gt;&gt; publisher : \u751f\u4ea7\npublisher -&gt;&gt; publisher : \u9500\u552e\nend\n\nopt \u4e66\u7c4d\u8d2d\u4e70\u91cf&gt;=500 &amp;&amp; \u5e93\u5b58&gt;=50\npublisher -&gt;&gt; store : \u51fa\u8d27\nstore --x publisher : \u786e\u8ba4\u6536\u8d27\nend\n\nNote left of consumer : \u56fe\u4e66\u6536\u85cf\u5bb6\nNote over consumer,store : \u53bb\u4e66\u5e97\u8d2d\u4e70\u4e66\u7c4d\nNote left of store : \u5168\u56fd\u77e5\u540d\u4e66\u5e97\nNote over store,publisher : \u53bb\u51fa\u7248\u793e\u8fdb\u8d27\nNote left of publisher : \u6301\u6709\u7248\u6743\u7684\u51fa\u7248\u793e\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#_6","title":"\u4ee3\u7801\u8bf4\u660e:","text":"<ol> <li>\u6d88\u606f\u7ebf</li> </ol> \u7c7b\u578b \u63cf\u8ff0 -&gt; \u65e0\u7bad\u5934\u7684\u5b9e\u7ebf \u2192 \u65e0\u7bad\u5934\u7684\u865a\u7ebf -&gt;&gt; \u6709\u7bad\u5934\u7684\u5b9e\u7ebf(\u4e3b\u52a8\u53d1\u51fa\u6d88\u606f) \u2192&gt; \u6709\u7bad\u5934\u7684\u865a\u7ebf(\u54cd\u5e94) -x \u672b\u7aef\u4e3aX\u7684\u5b9e\u7ebf(\u4e3b\u52a8\u53d1\u51fa\u5f02\u6b65\u6d88\u606f) --x \u6709\u7bad\u5934\u7684\u5b9e\u7ebf(\u4ee5\u5f02\u6b65\u5f62\u5f0f\u54cd\u5e94\u6d88\u606f) <p>alt \u53ef\u4ee5\u7406\u89e3\u4e3a\u53ef\u66ff\u4ee3\u7684\u65b9\u6848\uff0c\u53ef\u80fd\u7684\u60c5\u51b5</p> <p>opt\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2aif\u8bed\u53e5\uff0c\u6ee1\u8db3\u6761\u4ef6\u4e0b\u6267\u884c\u7684\u64cd\u4f5c</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#typora_1","title":"typora\u4e2d\u6548\u679c\u56fe\u5982\u4e0b\uff1a","text":"<p>\u5e8f\u5217\u56fe.png</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#_7","title":"\u997c\u56fe","text":""},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#_8","title":"\u4ee3\u7801\u5982\u4e0b\uff1a","text":"<pre><code>pie\n title Pie Chart\n \"Dogs\" : 386\n \"cats\" : 567\n \"rabbit\" : 700\n \"pig\":365\n \"tiger\" : 15\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#typora_2","title":"typora\u4e2d\u6548\u679c\u56fe\u5982\u4e0b\uff1a","text":"<p>\u997c\u56fe.png</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#_9","title":"\u7518\u7279\u56fe","text":"<p>\u8fd9\u662f\u6211\u7528Process\u505a\u7684\uff0c\u6211\u4eec\u5c31\u4ee5\u5f20\u56fe\u4e3a\u4f8b\uff0c\u7528MarkDown\u753b\u4e00\u5f20\u7518\u7279\u56fe\u5427\u3002</p> <p>\u987a\u4fbf\u5bf9\u6bd4\u4e00\u4e0b\u8fd9\u4e24\u79cd\u65b9\u5f0f\uff0c\u770b\u770b\u54ea\u4e2a\u5c55\u793a\u6548\u679c\u597d\u4e00\u70b9</p> <p></p> <p>\u7518\u7279\u56fe.jpg</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#_10","title":"\u4ee3\u7801\u8bf4\u660e\uff1a","text":"<p>\u4ece\u5b98\u7f51\u4e0a\u770b\u4e00\u4e0b**\u8bed\u6cd5**\uff0c\u5982\u4e0b\u6240\u793a:</p> <pre><code>gantt\n dateFormat  YYYY-MM-DD    //\u5e95\u90e8\u7684\u65f6\u95f4\u683c\u5f0f\n title     Adding GANTT diagram functionality to mermaid   //\u7518\u7279\u56fe\u540d\u79f0\n excludes   weekends               //\u5468\u672b\u6709\u4f11\u606f\n\n section A         //\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u529f\u80fd\u6a21\u5757\n task1        :done,des1, 2014-01-06,2014-01-08   //\u53ef\u4ee5\u7406\u89e3\u4e3a\u8fd9\u4e2a\u529f\u80fd\u6a21\u5757\u7684\u5404\u9879\u8fdb\u5ea6\u5b89\u6392\n task2        :active,des2, 2014-01-09, 3d      //\u4ee5\u4e0b\u53c2\u6570\u90fd\u662f\u5408\u6cd5\u7684\n task3        :des3, after des2, 5d          //\u6211\u4eec\u7b49\u4e00\u4e0b\u6bcf\u4e2a\u90fd\u8bd5\u4e00\u4e0b\n task4        :crit, done, 2014-01-06,24h\n task5        :crit, done, after des1, 2d\n task6        :crit, active, 3d\n task7        :crit, 5d\n task8        :2d\n task9        :1d\n ...         :[\u53c2\u65701:crit,\u53ef\u4e0d\u586b],[\u53c2\u65702:active,done,\u53ef\u4e0d\u586b\u8868\u793a\u5f85\u5b8c\u6210],[\u53c2\u65703:\u5c0f\u540d],\n [\u53c2\u65704:\u5f00\u59cb\u65f6\u95f4],[\u53c2\u65705:\u7ed3\u675f\u65f6\u95f4]\n section B\n section C \n ...\n</code></pre> <p>\u8fd9\u91cc\u8981\u6ce8\u610f\u7684\u662f\uff0c\u65f6\u95f4\u7684\u8868\u793a\u6709\u591a\u79cd\uff0c\u5982\u4e0a\uff0c</p> <p>\u53ef\u4ee5\u662f</p> <ul> <li>2014-01-06,2014-01-08</li> <li>2014-01-09, 3d</li> <li>after des2, 5d</li> <li>5d</li> <li>\u72b6\u6001\u9ed8\u8ba4\u662f\u5f85\u5b8c\u6210\uff0c\u5efa\u8bae\u7ed9\u6bcf\u4e2a\u4efb\u52a1desc</li> </ul>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#_11","title":"\u4ee3\u7801\u5982\u4e0b\uff1a","text":"<pre><code>gantt\n dateFormat  YYYY-MM-DD\n title     \u8f6f\u4ef6\u5f00\u53d1\u4efb\u52a1\u8fdb\u5ea6\u5b89\u6392 \n excludes   weekends\n\n section \u8f6f\u786c\u4ef6\u9009\u578b \n \u786c\u4ef6\u9009\u62e9      :done,desc1, 2020-01-01,6w \n \u8f6f\u4ef6\u8bbe\u8ba1      :active,desc2, after desc1,3w\n\n section \u7f16\u7801\u51c6\u5907\n \u8f6f\u4ef6\u9009\u62e9       :crit,done,desc3,2020-01-01,2020-01-29\n \u7f16\u7801\u548c\u6d4b\u8bd5\u8f6f\u4ef6   :1w\n \u5b89\u88c5\u6d4b\u8bd5\u7cfb\u7edf    :2020-02-12,1w\n\n section \u5b8c\u6210\u8bba\u6587\n \u7f16\u5199\u624b\u518c      :desc5,2020-01-01,10w\n \u8bba\u6587\u4fee\u6539      :crit,after desc3,3w\n \u8bba\u6587\u5b9a\u7a3f      :after desc5,3w\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E7%94%BB%E5%9B%BE.html#typora_3","title":"typora\u4e2d\u5c55\u793a\u6548\u679c\u5982\u4e0b\uff1a","text":"<p>\u7518\u7279\u56fe.png</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E8%BD%ACword.html","title":"Markdown\u6587\u4ef6\u8f6cWord\u6587\u4ef6","text":"<p>\u672c\u6587\u8f6c\u8f7d\u81ea TRICKY'S  \u539f\u6765 markdown \u8fd8\u80fd\u8fd9\u6837\u8f6c\u6362\u6210 docx (\u652f\u6301\u76ee\u5f55\u548c\u5c01\u9762)</p> <p>\u8fd9\u7bc7\u6587\u6863\u9700\u8981\u4f60\uff1a</p> <ul> <li>\u62e5\u6709 markdown \u57fa\u7840</li> <li>\u4e86\u89e3 \u547d\u4ee4\u884c \u7684\u4f7f\u7528\u65b9\u5f0f</li> </ul> <p>\u6700\u8fd1\u516c\u53f8\u91cc\u9700\u8981\u5199\u4e00\u4e9b\u5f00\u53d1\u6587\u6863\uff0c\u7528\u4e8e\u63d0\u4ea4\u7ed9\u7532\u65b9\u3002\u8fd9\u4ef6\u8270\u5de8\u7684\u4efb\u52a1\u843d\u5728\u4e86\u6211\u8eab\u4e0a\uff0c\u7136\u800c\u7532\u65b9\u8981\u6c42\u6211\u4eec\u63d0\u4f9b <code>docx</code> \u683c\u5f0f\u7684\u6587\u6863\u3002</p> <p>\u4e00\u60f3\u5230\u4f7f\u7528 <code>word</code> \u6765\u4e66\u5199\u6587\u6863\uff0c\u5934\u4e0d\u7531\u81ea\u4e3b\u5730\u75db\u4e86\u8d77\u6765\uff01\u8981\u662f\u80fd\u591f\u4f7f\u7528\u6211\u6700\u719f\u6089\u7684 markdown \u8bed\u6cd5\u6765\u4e66\u5199\u6587\u6863\uff0c\u90a3\u8be5\u591a\u597d\u554a\uff01</p> <p>\u56e0\u4e3a\uff1a</p> <ol> <li>\u6211\u5b9e\u5728\u662f\u592a\u559c\u6b22\u4f7f\u7528 markdown \u6765\u5199\u4e1c\u897f\u4e86\u3002</li> <li>\u6bd4\u8d77 word\uff0cmarkdown \u80fd\u591f\u8ba9\u6211\u66f4\u4e13\u6ce8\u4e8e\u4e66\u5199\u5185\u5bb9\u800c\u4e0d\u662f\u6587\u6863\u683c\u5f0f\u3002</li> <li>markdown \u662f\u7eaf\u6587\u672c\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528 git \u7ba1\u7406\u4ee5\u67e5\u770b\u6587\u6863\u7248\u672c\u4e4b\u95f4\u7684\u4fee\u6539\u5dee\u5f02\u3002</li> </ol>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E8%BD%ACword.html#_1","title":"\u4e00\u3001\u6700\u7b80\u5355\u7684\u65b9\u6848","text":"<p>\u5176\u5b9e\u4e00\u76f4\u4ee5\u6765\uff0c\u9664\u4e86\u4e66\u5199\u5404\u79cd <code>readme.md</code> \u4ee5\u5916\uff0c\u4e00\u4e9b\u5feb\u901f\u7684 markdown \u6587\u6863\u4e66\u5199\u6211\u90fd\u662f\u4f7f\u7528 typora \u8fd9\u6b3e\u8f6f\u4ef6\u3002\u56e0\u4e3a\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u8db3\u591f\u7b80\u5355\u3001\u7b80\u6d01\u7684\u754c\u9762\u548c\u64cd\u4f5c\u65b9\u5f0f\uff0c\u66f4\u91cd\u8981\u7684\u662f\uff0c\u8fd9\u6b3e\u8f6f\u4ef6\u8de8\u5e73\u53f0\u3002</p> <p></p> <p>\u8fd8\u6709\u4e00\u4e2a\u66f4\u91cd\u8981\u7684\u539f\u56e0\uff0c\u5f88\u591a\u4eba\u63a5\u89e6\u5b83\u662f\u56e0\u4e3a\uff0c\u5b83\u80fd\u591f\u76f4\u63a5\u5c06 markdown \u8f6c\u6362\u6210\u4e3a pdf \u6216 word\u3002</p> <p>\u90a3\u6709\u8fd9\u4e48\u65b9\u4fbf\u7684\u8f6f\u4ef6\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u4e13\u95e8\u5199\u8fd9\u7bc7\u6587\u7ae0\u5462\uff1f\u4e0d\u5c31\u5b8c\u4e8b\u4e86\u5417\uff1f</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E8%BD%ACword.html#_2","title":"\u4e8c\u3001\u8f6c\u6362\u7684\u4e9b\u8bb8\u9700\u6c42","text":"<p>\u5f88\u5feb\uff0c\u4f60\u5c31\u4f1a\u53d1\u73b0\u4f7f\u7528 typora \u8f6c\u6362\u6210\u4e3a docx \u65f6\uff0c\u4f1a\u6709\u5404\u79cd\u5730\u65b9\u8ba9\u4f60\u4e0d\u723d\u3002\u6bd4\u5982\uff0c\u8f6c\u6362\u4e4b\u540e\u7684\u6587\u6863\u4f1a\u53d8\u5f97\u5f88\u4e0d\u597d\u770b\u3002</p> <p>\u8fd9\u662f\u5728 typora \u91cc\u9762\u6587\u6863\u7684\u6837\u5b50\uff1a </p> <p>\u8fd9\u662f\u901a\u8fc7 typora \u5bfc\u51fa\u6210 docx \u7684\u6837\u5b50\uff1a </p> <p>\u8fd9\u662f\u901a\u8fc7 typora \u5bfc\u51fa\u6210 pdf \u7684\u6837\u5b50\uff1a </p> <p>\u4f60\u4f1a\u53d1\u73b0\uff0c\u5bfc\u51fa\u6210 pdf \u51e0\u4e4e\u4fdd\u6301\u7740\u4e66\u5199\u65f6\u7684\u539f\u6837\uff0c\u800c\u5bfc\u51fa\u6210 word \u7684\u6548\u679c\u96be\u4ee5\u8a00\u55bb\u3002</p> <p>\u8fd9\u65f6\u5019\u6211\u5728\u60f3\uff0c\u8981\u4e0d\uff0c\u6211\u4eec\u53bb\u8bf4\u670d\u4e00\u4e0b\u7532\u65b9\u4f7f\u7528 pdf \u6587\u6863\uff1f</p> <p>\u5f88\u5feb\uff0c\u6211\u5c31\u53d1\u73b0\u4e86\u65b0\u7684\u95ee\u9898\u9700\u8981\u89e3\u51b3\uff1a\u6587\u6863\u9700\u8981\u76ee\u5f55\u3002</p> <p>\u8fd8\u597d\uff0ctypora\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7279\u6b8a\u7684\u6807\u7b7e <code>[TOC]</code>\u3002\u4f7f\u7528\u8d77\u6765\u50cf\u8fd9\u6837\uff1a</p> <p>\u5728 typora \u6e32\u67d3\u6587\u6863\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a</p> <p>\u8fd9\u4e2a\u529f\u80fd\u5f88\u68d2\uff0c\u5bfc\u51fa\u6210 <code>pdf</code> \u4e4b\u540e\uff0c\u5b83\u7684\u76ee\u5f55\u662f\u53ef\u4ee5 \u70b9\u51fb \u7684\u3002\u4f46\u662f\u5f88\u5feb\u4e5f\u4f1a\u53d1\u73b0\u65b0\u7684\u95ee\u9898\uff0c\u8fd9\u4e2a\u76ee\u5f55\u4ec5\u4ec5\u662f\u4e2a\u76ee\u5f55\uff0c\u5b83\u6ca1\u6709\u9875\u7801\u3002\u6ca1\u6709\u9875\u7801\u6709\u4ec0\u4e48\u95ee\u9898\u5462\uff1f\u6709\uff01\u6253\u5370\u51fa\u6765\u7684\u65f6\u5019\u76ee\u5f55\u5c31\u663e\u5f97\u6ca1\u610f\u4e49\u4e86\u3002</p> <p>\u663e\u7136\uff0c\u7ed9\u7532\u65b9\u5199\u7684\u6587\u6863\u5728\u9a8c\u6536\u65f6\u53ef\u80fd\u7528\u4e8e\u6253\u5370\uff0c\u7532\u65b9\u53ef\u80fd\u4f1a\u8981\u6c42\u6211\u4eec\u5728\u76ee\u5f55\u4e0a\u6dfb\u52a0\u9875\u7801\uff0c\u540c\u65f6\uff0c\u8fd8\u9700\u8981\u4e00\u4e2a\u5c01\u9762\u56fe\u3002</p> <p>\u6211\u4eec\u603b\u7ed3\u4e00\u4e0b\uff0c\u8fd9\u6b21\u7684\u6587\u6863\u5de5\u4f5c\uff0c\u9700\u6c42\u5927\u6982\u662f\u8fd9\u6837\uff1a</p> <ol> <li>\u4f7f\u7528 markdown \u6765\u4e66\u5199</li> <li>\u8981\u80fd\u8f6c\u6362\u6210 docx</li> <li>\u8981\u6709\u76ee\u5f55</li> <li>\u8981\u6709\u9875\u7801</li> <li>\u8981\u6709\u5c01\u9762\u56fe</li> </ol>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E8%BD%ACword.html#_3","title":"\u4e09\u3001\u66f2\u7ebf\u65b9\u6848","text":"<p>\u5728\u5f88\u4e45\u4e4b\u524d\uff0c\u6211\u4e5f\u505a\u8fc7\u7c7b\u4f3c\u7684\u4e8b\u60c5\uff0c\u51fa\u81ea\u4e8e\u5bf9 markdown \u7684\u559c\u7231\uff0c\u6211\u7adf\u7136\uff1a</p> <ol> <li>\u5148\u7528 markdown \u4e66\u5199\u6587\u6863</li> <li>\u4f7f\u7528 typora \u5bfc\u51fa\u6210 pdf (content.pdf)</li> <li>\u4f7f\u7528\u5728\u7ebf\u5de5\u5177 \u4e3a content.pdf \u6dfb\u52a0\u9875\u7801\u3002</li> <li>\u6253\u5f00 word<ul> <li>\u624b\u52a8\u521b\u5efa\u4e00\u4e2a\u5c01\u9762\u56fe</li> <li>\u624b\u52a8\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55(\u624b\u52a8\u7f16\u8f91\u76ee\u5f55\u5185\u5bb9\u3001\u9875\u7801)</li> </ul> </li> <li>\u628a word \u5bfc\u51fa\u6210 pdf (cover.pdf)</li> <li>\u4f7f\u7528\u5728\u7ebf\u5de5\u5177 \u5408\u5e76\u4e24\u4e2a pdf \u6210\u4e3a\u4e00\u4e2a pdf\u3002</li> </ol> <p></p> <p>\u603b\u4e4b\uff0c\u592a\u9ebb\u70e6\u4e86\uff0c\u8ba9\u6211\u5728\u5f00\u59cb\u5199\u6587\u6863\u4e4b\u524d\u5c31\u5df2\u7ecf\u539f\u5730\u6b7b\u4ea1\u4e86\u3002</p> <p>\u8fd8\u6709\uff0c\u8fd9\u6837\u7684\u5728\u7ebf\u65b9\u6848\u8ba9\u6211\u89c9\u5f97\u5f88\u4e0d\u5b89\u5168</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E8%BD%ACword.html#pandoc","title":"\u56db\u3001\u7b80\u5355\u4f7f\u7528 pandoc","text":"<p>typora \u7684\u5bfc\u51fa docx \u548c pdf \u529f\u80fd\u5176\u5b9e\u9700\u8981\u5927\u5bb6\u5148\u5b89\u88c5 <code>pandoc</code> \u7684\u3002\u5728\u4f7f\u7528 typora \u5bfc\u51fa\u6587\u6863\u65f6\uff0c\u5b83\u4f1a\u6307\u5f15\u4f60\u5982\u4f55\u5b89\u88c5 pandoc\u3002</p> <p>typora \u7684\u5bfc\u51fa\u529f\u80fd\uff0c\u5c31\u662f\u8c03\u7528\u4e86\u8fd9\u4e2a\u8f6f\u4ef6\uff01</p> <p>\u90a3\u4e48\uff0c\u6211\u4eec\u600e\u4e48\u6a21\u62df typora \u5bfc\u51fa docx \u5462\uff1f\u975e\u5e38\u7b80\u5355\uff0c\u9996\u5148**\u5728markdown\u6587\u6863\u6240\u5728\u7684\u8def\u5f84\u6253\u5f00\u547d\u4ee4\u884c\u5de5\u5177**\u3002\u7136\u540e\u8fd9\u6837\uff1a</p> <pre><code>pandoc -s example.md -o target.docx \n</code></pre> <p>\u5176\u4e2d\uff1a</p> <ul> <li><code>-s &lt;sourcefile&gt;</code> \u53c2\u6570\u7528\u4e8e\u6307\u5b9a\u6765\u6e90\u6587\u4ef6\uff0c\u90a3\u4e48\u8fd9\u91cc\u80af\u5b9a\u662f\u4f60\u7684 markdown \u6587\u4ef6\u540d\u79f0</li> <li><code>-o &lt;targetfile&gt;</code> \u53c2\u6570\u7528\u4e8e\u6307\u5b9a\u76ee\u6807\u6587\u4ef6\uff0c\u5c31\u662f\u8f6c\u6362\u540e\u8be5\u751f\u6210\u4e00\u4e2a\u4ec0\u4e48\u540d\u5b57\u7684\u6587\u4ef6</li> </ul> <p>\u8fd9\u6837\u4e00\u6765\u4f60\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a <code>target.docx</code> \u6587\u4ef6\u5566\uff01 \u4f46\u662f\u5462\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5c31\u5982\u6211\u4eec\u4e4b\u524d\u8bf4\u7684\uff0c\u5b83\u7684\u683c\u5f0f\u8fd8\u662f\u4e00\u6837\u975e\u5e38\u4e11\uff01</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E8%BD%ACword.html#pandoc_docx","title":"\u4e94\u3001\u4f18\u5316 pandoc \u5bf9\u4e8e docx \u5bfc\u51fa\u7684\u6837\u5f0f","text":"<p>pandoc \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u53c2\u6570 <code>--reference-doc</code>\u3002</p> <p>\u8fd9\u4e2a\u53c2\u6570\u662f\u8fd9\u6837\u4f7f\u7528\u7684\uff1a</p> <pre><code>pandoc -s example.md -o target.docx --reference-doc reference.docx\n</code></pre> <p>\u4ece\u547d\u4ee4\u884c\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u591a\u4e86\u4e00\u4e2a <code>reference.docx</code>\u3002\u90a3\u4e48\u8fd9\u4e2a\u6587\u6863\u662f**\u9700\u8981\u6211\u4eec\u4e8b\u5148\u51c6\u5907\u7684**\u3002</p> <p>\u8be5\u53c2\u6570\u7684\u539f\u7406\u5c31\u662f\uff0c\u5c06 <code>reference.docx</code> \u4e2d\u7684\u5404\u79cd\u6587\u672c\u6837\u5f0f(\u4e00\u7ea7\u6807\u9898\u554a\u3001\u4e8c\u7ea7\u6807\u9898\u554a\u3001\u5217\u8868\u6837\u5f0f\u554a\u3001\u8868\u683c\u6837\u5f0f\u554a)\u5e94\u7528\u5230\u5bfc\u51fa\u7684 <code>target.docx</code> \u4e2d\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u79f0\u8fd9\u4e2a <code>reference.docx</code> \u6587\u4ef6\u4e3a \u6837\u5f0f\u6a21\u677f\u6587\u4ef6\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u884c\u5f97\u5230\u4e00\u4e2a pandoc \u7528\u4e8e\u751f\u6210 docx \u7684 \u9ed8\u8ba4\u6837\u5f0f\u6a21\u677f\u6587\u4ef6\uff1a</p> <pre><code>pandoc -o custom-reference.docx --print-default-data-file reference.docx\n</code></pre> <p>\u4e0a\u9762\u8fd9\u4e2a\u547d\u4ee4\u751f\u6210\u4e86\u4e00\u4e2a <code>custom-reference.docx</code>\uff0c\u8fd9\u4e2a\u9ed8\u8ba4\u6837\u5f0f\u6a21\u677f\u6587\u4ef6\u7528word\u6253\u5f00\u6765\u50cf\u8fd9\u6837\uff1a</p> <p>\u90a3\u4e48\uff0c\u63a5\u4e0b\u6765\uff0c\u522b\u7740\u6025\u7740\u4f7f\u7528word\u6700\u663e\u773c\u7684\u5de5\u5177\u6765\u8c03\u6574\u8fd9\u4e9b\u5b57\u4f53\u7684\u6837\u5f0f\uff1a</p> <p>\u6211\u4eec\u5e94\u8be5\u4f7f\u7528 word \u7684\u6837\u5f0f\u529f\u80fd\u6765\u8c03\u6574\u8fd9\u4e9b\u5b57\u4f53\u7684\u6837\u5f0f\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u5c31\u9760\u81ea\u5df1\u628a\u8fd9\u4efd\u6837\u5f0f\u6587\u4ef6\u8c03\u5230\u6700\u8212\u670d\u7684\u72b6\u6001\u5566~</p> <pre><code>pandoc -s example.md -o target.docx --reference-doc templ.docx\n</code></pre> <p>\u8fd9\u91cc\u6709\u4e00\u4efd\u6211\u81ea\u5df1\u8c03\u597d\u7684\u6837\u5f0f\u6a21\u677f\u6587\u4ef6\uff0c\u63d0\u53d6\u7801<code>cnn9</code>\uff1a \u5de6\u8fb9\u662f markdown \uff0c\u53f3\u8fb9\u662f word</p> <p>\u6216\u8005\u70b9\u51fb\u8fd9\u91cc\u4e0b\u8f7d\uff1a\u4e0b\u8f7d\u6a21\u677f\u6587\u4ef6</p> <p>\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u8fd8\u6709\u4e00\u4e9b\u4e0d\u5b8c\u7f8e\u7684\u5730\u65b9\uff0c\u76ee\u524d\u6211\u4e5f\u6ca1\u6709\u53bb\u89e3\u51b3\uff0c\u5f15\u7528\u8bed\u6cd5\u91cc\u9762\u6dfb\u52a0\u5217\u8868\u548c\u56fe\u7247\u5728word\u91cc\u9762\u6e32\u67d3\u4e0d\u6b63\u5e38\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E8%BD%ACword.html#_4","title":"\u516d\u3001\u6dfb\u52a0\u5c01\u9762\u56fe\u548c\u76ee\u5f55","text":"<p>\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u4eec\u5df2\u7ecf\u80fd\u6bd4\u8f83\u5b8c\u7f8e\u5730\u8f6c\u6362\u6587\u6863\u4e86\uff0c\u4f46\u662f\u5462\uff0c\u8fd8\u7f3a\u5c11\u76ee\u5f55\u548c\u5c01\u9762\u56fe\u3002<code>pandoc</code>\u652f\u6301\u4f7f\u7528 <code>frontmatter</code> \u7684\u65b9\u5f0f\u751f\u6210\u4e00\u4e2a\u76ee\u5f55\uff0c\u4f46\u662f\u4ec5\u80fd\u751f\u6210\u76ee\u5f55\u800c\u5df2\u3002</p> <p>pandoc \u652f\u6301\u4e00\u7cfb\u5217\u7684 frontMatter \u8bbe\u7f6e\uff0c\u6587\u6863\u5728\u8fd9\uff1a\u4f20\u9001\u95e8</p> <p>\u5982\u679c\u4f60\u4e0d\u77e5\u9053\u4ec0\u4e48\u662f <code>frontmatter</code> \u4e5f\u6ca1\u5173\u7cfb\uff0c\u56e0\u4e3a\u6211\u4eec\u4e0d\u4f1a\u7528\u5230\u5b83\u3002(\u90a3\u6211\u8bf4\u4e2a\u5c41)</p> <p>\u5728\u4e00\u6b21\u5076\u7136\u7684\u6587\u6863\u9605\u8bfb\u4e2d\uff0c\u6211\u53d1\u73b0\u4e86 pandoc \u6587\u6863\u4e2d\u7684\u8fd9\u4e00\u70b9\uff1a</p> <p>\u610f\u601d\u5927\u6982\u662f\uff0c\u5728 markdown \u91cc\u9762\u4e66\u5199\u8fd9\u6bb5\u4ee3\u7801\uff0c\u53ef\u4ee5\u5728 word \u4e2d\u751f\u6210\u4e00\u4e2a \u5206\u9875\u7b26\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728 markdown \u4e2d\u53ef\u4ee5\u63d2\u5165\u4e00\u4e9b\u7279\u6b8a\u7684\u4ee3\u7801\uff0c\u4f7f\u7528pandoc\u751f\u6210word\u7684\u65f6\u5019\uff0c\u8fd9\u4e9b\u7279\u6b8a\u7684\u4ee3\u7801\u4f1a\u751f\u6210word\u6982\u5ff5\u4e2d\u7684\u4e00\u4e9b\u4e1c\u897f\u3002</p> <p>\u597d\u5bb6\u4f19\uff0c\u4ed4\u7ec6\u4e86\u89e3\u4e86\u4e00\u4e0b\uff0c\u8fd9\u79cd\u7279\u6b8a\u7684\u4ee3\u7801\u662f openxml\uff0c\u662f\u5fae\u8f6f\u5f00\u53d1\u7684\u4ee5XML\u4e3a\u57fa\u7840\u5e76\u4ee5ZIP\u683c\u5f0f\u538b\u7f29\u7684\u7535\u5b50\u6587\u4ef6\u89c4\u8303\uff0c\u901a\u5e38\u6211\u4eec\u7684word\u3001ppt\u3001excel\u90fd\u662f\u7531\u8fd9\u6837\u7684\u4ee3\u7801\u7ec4\u6210\u3002</p> <p>\u6362\u53e5\u8bdd\u8bf4\uff0c\u5982\u679c\u6211\u4eec\u61c2\u5f97\u6309\u7167\u67d0\u79cd\u89c4\u8303\u4e66\u5199 xml \u4ee3\u7801\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u81ea\u5236\u4e00\u4e2a word \u6587\u6863\u3002</p> <p>\u53cd\u8fc7\u6765\u60f3\uff0c\u662f\u4e0d\u662f\u6bcf\u4e00\u4e2a word \u6587\u6863\u90fd\u53ef\u4ee5\u8f6c\u6362\u6210\u4e3a openxml \u5462\uff1f</p> <p>\u54c8\u54c8\u54c8\u54c8\uff01\u786e\u5b9e\u662f\u8fd9\u6837\u7684\uff01</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E8%BD%ACword.html#61","title":"6.1 \u7f16\u8f91\u5c01\u9762","text":"<p>\u8ba9\u6211\u4eec\u65b0\u5efa\u4e00\u4e2aword\u6587\u6863\uff0c\u5e76\u5bf9\u5185\u5bb9\u8fdb\u884c\u7b80\u5355\u7684\u7f16\u8f91\uff1a</p> <p>\u5728\u8fd9\u4e00\u9875 word \u4e2d\uff0c\u6211\u6dfb\u52a0\u4e86\u4e00\u4e2a 1\u52174\u884c \u7684\u8868\u683c\uff0c\u5e76\u5728\u5408\u9002\u7684\u5730\u65b9\u586b\u5165\u4e86\u5185\u5bb9\uff0c\u6bd4\u5982\u6807\u9898\u548c\u627f\u529e\u5355\u4f4d\u4ec0\u4e48\u7684\u3002</p> <p>\u7136\u540e\u4fdd\u5b58\u8fd9\u4e2a\u6587\u6863\u5230\u5408\u9002\u7684\u5730\u65b9\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E8%BD%ACword.html#62_openxml","title":"6.2 \u63d0\u53d6 openxml","text":"<p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u538b\u7f29\u8f6f\u4ef6\u6253\u5f00\u521a\u521a\u4fdd\u5b58\u7684word\u6587\u6863\uff0c\u7136\u540e\u5728\u538b\u7f29\u6587\u4ef6\u91cc\u627e\u5230 <code>word/document.xml</code> \u6587\u4ef6</p> <p>\u6211\u4eec\u53ef\u4ee5\u5728\u6587\u672c\u7f16\u8f91\u5668\u91cc\u9762\u6253\u5f00\u8fd9\u4e2a\u6587\u6863\uff1a</p> <p>\u53ef\u4ee5\u770b\u5230\u8fd9\u4e9b xml \u6807\u7b7e\u5176\u5b9e\u4e5f\u4e0d\u662f\u5f88\u96be\u7406\u89e3\uff0c<code>w:tbl</code> \u663e\u7136\u5c31\u662f\u4ee3\u8868\u8868\u683c\u7684\u610f\u601d\u3002\u6240\u4ee5\u5728 <code>&lt;w:tbl&gt;</code> \u548c <code>&lt;/w:tbl&gt;</code> \u4e4b\u95f4\u5e94\u8be5\u5c31\u662f\u6211\u4eec\u521a\u521a\u5728word\u91cc\u9762\u7ed8\u5236\u7684\u5185\u5bb9\u3002</p> <p>\u54c8\u54c8\u54c8\u54c8\uff1f\u663e\u7136\u662f\u8868\u683c\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f\u56e0\u4e3a tbl \u662f table \u7684\u7f29\u5199\u554a\uff01\u5f00\u53d1\u4eba\u5458\u7684\u654f\u611f\u76f4\u89c9\uff01\u5982\u679c\u4f60\u6ca1\u529e\u6cd5\u731c\u5230\u8fd9\u4e9b\u5355\u8bcd\u7684\u610f\u601d\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u79fb\u6b65 openxml\u7684\u6587\u6863 \u6765\u771f\u6b63\u8ba4\u8bc6\u8fd9\u4e9b\u6807\u7b7e\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E8%BD%ACword.html#63_markdown","title":"6.3 \u5199\u5165 markdown","text":"<p>\u628a\u4e0a\u9762\u7684 <code>&lt;w:tbl&gt;</code> \u548c <code>&lt;/w:tbl&gt;</code> \u4e4b\u95f4\u7684\u4ee3\u7801\u590d\u5236\u5230 markdown \u4e2d\uff0c\u7136\u540e\u7528\u4ee3\u7801\u5757\u5305\u8d77\u6765\u3002\u6ce8\u610f\u4e0d\u8981\u5c11\u4e86\u7279\u6b8a\u6807\u8bb0\uff0c\u50cf\u8fd9\u6837\uff1a </p> <p>\u8fd9\u4e00\u6bb5\u4e1c\u897f\u53ef\u80fd\u4f1a\u76f8\u5f53\u957f\u54a7\uff0c\u6240\u4ee5\u53ef\u80fd\u4f1a\u8ba9\u4f60\u7684 markdown \u7684\u4e00\u5f00\u5934\u770b\u8d77\u6765\u4e71\u7cdf\u7cdf\u7684\uff0c\u4e0d\u8fc7\u6ca1\u4e8b\u561b\uff0c\u81f3\u5c11\u4ee5\u540e\u4e0d\u7528\u5728\u5199\u5b8c markdown \u4e4b\u540e\u8fd8\u8981\u989d\u5916\u63d2\u5165\u5c01\u9762\u4e86\u3002</p> <p>\u4e00\u6837\u7684\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u63d2\u5165\u76ee\u5f55\u3002\u76ee\u5f55\u7684 <code>openxml</code> \u4ee3\u7801\u662f\u8fd9\u6837\u7684\uff0c\u5927\u5bb6\u53ef\u4ee5\u76f4\u63a5\u590d\u5236\uff1a</p> <pre><code>&lt;w:sdt&gt;&lt;w:sdtPr&gt;&lt;w:docPartObj&gt;&lt;w:docPartGallery w:val=\"Table of Contents\" /&gt;&lt;w:docPartUnique /&gt;&lt;/w:docPartObj&gt;&lt;/w:sdtPr&gt;&lt;w:sdtContent&gt;&lt;w:p&gt;&lt;w:pPr&gt;&lt;w:pStyle w:val=\"TOC\" /&gt;&lt;/w:pPr&gt;&lt;w:r&gt;&lt;w:t xml:space=\"preserve\"&gt;\u76ee\u5f55&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p&gt;&lt;w:r&gt;&lt;w:fldChar w:fldCharType=\"begin\" w:dirty=\"true\" /&gt;&lt;w:instrText xml:space=\"preserve\"&gt;TOC \\o &amp;quot;1-3&amp;quot; \\h \\z \\u&lt;/w:instrText&gt;&lt;w:fldChar w:fldCharType=\"separate\" /&gt;&lt;w:fldChar w:fldCharType=\"end\" /&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;/w:sdtContent&gt;&lt;/w:sdt&gt;\n</code></pre> <p>\u5728\u76ee\u5f55\u4e4b\u540e\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u5206\u9875\u7b26\uff0c\u6240\u4ee5\u770b\u8d77\u6765\u4f1a\u50cf\u662f\u8fd9\u6837\uff1a</p> <pre><code>&lt;w:sdt&gt;&lt;w:sdtPr&gt;&lt;w:docPartObj&gt;&lt;w:docPartGallery w:val=\"Table of Contents\" /&gt;&lt;w:docPartUnique /&gt;&lt;/w:docPartObj&gt;&lt;/w:sdtPr&gt;&lt;w:sdtContent&gt;&lt;w:p&gt;&lt;w:pPr&gt;&lt;w:pStyle w:val=\"TOC\" /&gt;&lt;/w:pPr&gt;&lt;w:r&gt;&lt;w:t xml:space=\"preserve\"&gt;\u76ee\u5f55&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p&gt;&lt;w:r&gt;&lt;w:fldChar w:fldCharType=\"begin\" w:dirty=\"true\" /&gt;&lt;w:instrText xml:space=\"preserve\"&gt;TOC \\o &amp;quot;1-3&amp;quot; \\h \\z \\u&lt;/w:instrText&gt;&lt;w:fldChar w:fldCharType=\"separate\" /&gt;&lt;w:fldChar w:fldCharType=\"end\" /&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;/w:sdtContent&gt;&lt;/w:sdt&gt;\n\n&lt;w:p&gt;\n&lt;w:r&gt;\n    &lt;w:br w:type=\"page\"/&gt;\n  &lt;/w:r&gt;\n&lt;/w:p&gt;\n</code></pre> <p>\u7136\u540e\u4f7f\u7528**\u4e0a\u6587\u4e2d\u89e3\u91ca\u8fc7\u7684**\u7684\u547d\u4ee4\u884c\u4ee3\u7801\u6765\u751f\u6210docx\u6587\u6863\u5427\uff01</p> <pre><code>pandoc -s example-markdown.md -o target.docx --reference-doc=templ.docx\n</code></pre> <p>\u5b66\u4f1a\u4e86\u4f7f\u7528 openxml \u6765\u751f\u6210\u4e00\u4e9b word \u5185\u5bb9\u4e4b\u540e\uff0c\u66f4\u591a\u7684\u53ef\u80fd\u6027\u5c31\u7b49\u4f60\u81ea\u5df1\u53bb\u53d1\u6325\u5566~</p>"},{"location":"10_%E5%85%B6%E4%BB%96/markdown%E8%BD%ACword.html#_5","title":"\u4e03\u3001\u603b\u7ed3","text":"<p>\u8fd9\u4e2a\u65b9\u6848\u5462\uff0c\u53ef\u4ee5\u751f\u6210\u4e00\u4e2a**\u5927\u81f4\u7b26\u5408**\u5185\u5fc3\u5ba1\u7f8e\u7684\u3001\u5e26\u6709\u5c01\u9762\u56fe\u548c\u76ee\u5f55\u7684 docx \u6587\u6863\u3002\u5b83\u8fd8\u6709\u4e00\u4e2a\u7f3a\u70b9\uff0c\u5c31\u662f\u5728\u8f6c\u6362\u7684\u8fc7\u7a0b\u4e2d**\u6ca1\u529e\u6cd5\u81ea\u5df1\u52a0\u5bfc\u51fa\u7684docx\u52a0\u9875\u7801**\uff0c\u6240\u4ee5\u9875\u7801\u53ea\u80fd\u81ea\u5df1\u6253\u5f00word\u52a8\u624b\u7ed9\u52a0\u4e0a\u5566\u3002</p> <p>\u5982\u679c\u6211\u4ee5\u540e\u60f3\u5230\u4ec0\u4e48\u529e\u6cd5\u53ef\u4ee5\u4e00\u6761\u547d\u4ee4\u884c\u5c31\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u6211\u518d\u6765\u8865\u5145\u5566\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html","title":"\u4e2d\u6587\u6280\u672f\u6587\u6863\u7684\u5199\u4f5c\u89c4\u8303","text":"<p>\u672c\u6587\u8f6c\u8f7d\u81ea \u4e2d\u6587\u6280\u672f\u6587\u6863\u7684\u5199\u4f5c\u89c4\u8303, by \u962e\u4e00\u5cf0</p>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_2","title":"\u6807\u9898","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_3","title":"\u5c42\u7ea7","text":"<p>\u6807\u9898\u5206\u4e3a\u56db\u7ea7\u3002</p> <ul> <li>\u4e00\u7ea7\u6807\u9898\uff1a\u6587\u7ae0\u7684\u6807\u9898</li> <li>\u4e8c\u7ea7\u6807\u9898\uff1a\u6587\u7ae0\u4e3b\u8981\u90e8\u5206\u7684\u5927\u6807\u9898</li> <li>\u4e09\u7ea7\u6807\u9898\uff1a\u4e8c\u7ea7\u6807\u9898\u4e0b\u9762\u4e00\u7ea7\u7684\u5c0f\u6807\u9898</li> <li>\u56db\u7ea7\u6807\u9898\uff1a\u4e09\u7ea7\u6807\u9898\u4e0b\u9762\u67d0\u4e00\u65b9\u9762\u7684\u5c0f\u6807\u9898</li> </ul> <p>\u4e0b\u9762\u662f\u793a\u4f8b\u3002</p> <pre><code># \u4e00\u7ea7\u6807\u9898\n\n## \u4e8c\u7ea7\u6807\u9898\n\n### \u4e09\u7ea7\u6807\u9898\n\n#### \u56db\u7ea7\u6807\u9898\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_4","title":"\u539f\u5219","text":"<p>\uff081\uff09\u4e00\u7ea7\u6807\u9898\u4e0b\uff0c\u4e0d\u80fd\u76f4\u63a5\u51fa\u73b0\u4e09\u7ea7\u6807\u9898\u3002</p> <p>\u793a\u4f8b\uff1a\u4e0b\u9762\u7684\u6587\u7ae0\u7ed3\u6784\uff0c\u7f3a\u5c11\u4e8c\u7ea7\u6807\u9898\u3002</p> <pre><code># \u4e00\u7ea7\u6807\u9898\n\n### \u4e09\u7ea7\u6807\u9898\n</code></pre> <p>\uff082\uff09\u6807\u9898\u8981\u907f\u514d\u5b64\u7acb\u7f16\u53f7\uff08\u5373\u540c\u7ea7\u6807\u9898\u53ea\u6709\u4e00\u4e2a\uff09\u3002</p> <p>\u793a\u4f8b\uff1a\u4e0b\u9762\u7684\u6587\u7ae0\u7ed3\u6784\uff0c<code>\u4e8c\u7ea7\u6807\u9898 A</code>\u53ea\u5305\u542b\u4e00\u4e2a\u4e09\u7ea7\u6807\u9898\uff0c\u5b8c\u5168\u53ef\u4ee5\u7701\u7565<code>\u4e09\u7ea7\u6807\u9898 A</code>\u3002</p> <pre><code>## \u4e8c\u7ea7\u6807\u9898 A\n\n### \u4e09\u7ea7\u6807\u9898 A\n\n## \u4e8c\u7ea7\u6807\u9898 B\n</code></pre> <p>\uff083\uff09\u4e0b\u7ea7\u6807\u9898\u4e0d\u91cd\u590d\u4e0a\u4e00\u7ea7\u6807\u9898\u7684\u540d\u5b57\u3002</p> <p>\u793a\u4f8b\uff1a\u4e0b\u9762\u7684\u6587\u7ae0\u7ed3\u6784\uff0c\u4e8c\u7ea7\u6807\u9898\u4e0e\u4e0b\u5c5e\u7684\u4e09\u7ea7\u6807\u9898\u540c\u540d\uff0c\u5efa\u8bae\u907f\u514d\u3002</p> <pre><code>### \u6982\u8ff0\n</code></pre> <p>\uff084\uff09\u8c28\u614e\u4f7f\u7528\u56db\u7ea7\u6807\u9898\uff0c\u5c3d\u91cf\u907f\u514d\u51fa\u73b0\uff0c\u4fdd\u6301\u5c42\u7ea7\u7684\u7b80\u5355\uff0c\u9632\u6b62\u51fa\u73b0\u8fc7\u4e8e\u590d\u6742\u7684\u7ae0\u8282\u3002</p> <p>\u5982\u679c\u4e09\u7ea7\u6807\u9898\u4e0b\u6709\u5e76\u5217\u6027\u7684\u5185\u5bb9\uff0c\u5efa\u8bae\u53ea\u4f7f\u7528\u9879\u76ee\u5217\u8868\uff08Item list\uff09\u3002</p> <p>\u793a\u4f8b\uff1a\u4e0b\u9762\u7684\u7ed3\u6784\u4e8c\u8981\u597d\u4e8e\u7ed3\u6784\u4e00\u3002\u7ed3\u6784\u4e00\u9002\u7528\u7684\u573a\u666f\uff0c\u4e3b\u8981\u662f\u8f83\u957f\u7bc7\u5e45\u7684\u5185\u5bb9\u3002</p> <pre><code>\u7ed3\u6784\u4e00\n\n### \u4e09\u7ea7\u6807\u9898\n\n#### \u56db\u7ea7\u6807\u9898 A\n\n#### \u56db\u7ea7\u6807\u9898 B\n\n#### \u56db\u7ea7\u6807\u9898 C\n\n\u7ed3\u6784\u4e8c\n\n### \u4e09\u7ea7\u6807\u9898\n\n**\uff081\uff09A**\n\n**\uff082\uff09B**\n\n**\uff083\uff09C**\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_5","title":"\u6587\u672c","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_6","title":"\u5b57\u95f4\u8ddd","text":"<p>\uff081\uff09\u5168\u89d2\u4e2d\u6587\u5b57\u7b26\u4e0e\u534a\u89d2\u82f1\u6587\u5b57\u7b26\u4e4b\u95f4\uff0c\u5e94\u6709\u4e00\u4e2a\u534a\u89d2\u7a7a\u683c\u3002</p> <pre><code>\u9519\u8bef\uff1a\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5feb\u901f\u542f\u52a8Windows\u7cfb\u7edf\u3002\n\n\u6b63\u786e\uff1a\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5feb\u901f\u542f\u52a8 Windows \u7cfb\u7edf\u3002\n</code></pre> <p>\uff082\uff09\u5168\u89d2\u4e2d\u6587\u5b57\u7b26\u4e0e\u534a\u89d2\u963f\u62c9\u4f2f\u6570\u5b57\u4e4b\u95f4\uff0c\u6709\u6ca1\u6709\u534a\u89d2\u7a7a\u683c\u90fd\u53ef\uff0c\u4f46\u5fc5\u987b\u4fdd\u8bc1\u98ce\u683c\u7edf\u4e00\uff0c\u4e0d\u80fd\u4e24\u79cd\u98ce\u683c\u6df7\u6742\u3002</p> <pre><code>\u6b63\u786e\uff1a2011\u5e745\u670815\u65e5\uff0c\u6211\u8ba2\u8d2d\u4e865\u53f0\u7b14\u8bb0\u672c\u7535\u8111\u4e0e10\u53f0\u5e73\u677f\u7535\u8111\u3002\n\n\u6b63\u786e\uff1a2011 \u5e74 5 \u6708 15 \u65e5\uff0c\u6211\u8ba2\u8d2d\u4e86 5 \u53f0\u7b14\u8bb0\u672c\u7535\u8111\u4e0e 10 \u53f0\u5e73\u677f\u7535\u8111\u3002\n</code></pre> <p>\u534a\u89d2\u7684\u767e\u5206\u53f7\uff0c\u89c6\u540c\u963f\u62c9\u4f2f\u6570\u5b57\u3002</p> <pre><code>\u6b63\u786e\uff1a\u4eca\u5e74\u6211\u56fd\u7ecf\u6d4e\u589e\u957f\u7387\u662f6.5%\u3002\n\n\u6b63\u786e\uff1a\u4eca\u5e74\u6211\u56fd\u7ecf\u6d4e\u589e\u957f\u7387\u662f 6.5%\u3002\n</code></pre> <p>\uff083\uff09\u82f1\u6587\u5355\u4f4d\u82e5\u4e0d\u7ffb\u8bd1\uff0c\u5355\u4f4d\u524d\u7684\u963f\u62c9\u4f2f\u6570\u5b57\u4e0e\u5355\u4f4d\u7b26\u53f7\u4e4b\u95f4\uff0c\u5e94\u7559\u51fa\u9002\u5f53\u7684\u7a7a\u9699\u3002</p> <pre><code>\u4f8b1\uff1a\u4e00\u90e8\u5bb9\u91cf\u4e3a 16 GB \u7684\u667a\u80fd\u624b\u673a\n\n\u4f8b2\uff1a1 h = 60 min = 3,600 s\n</code></pre> <p>\uff084\uff09\u534a\u89d2\u82f1\u6587\u5b57\u7b26\u548c\u534a\u89d2\u963f\u62c9\u4f2f\u6570\u5b57\uff0c\u4e0e\u5168\u89d2\u6807\u70b9\u7b26\u53f7\u4e4b\u95f4\u4e0d\u7559\u7a7a\u683c\u3002</p> <pre><code>\u9519\u8bef\uff1a\u4ed6\u7684\u7535\u8111\u662f MacBook Air \u3002\n\n\u6b63\u786e\uff1a\u4ed6\u7684\u7535\u8111\u662f MacBook Air\u3002\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_7","title":"\u53e5\u5b50","text":"<p>\uff081\uff09\u907f\u514d\u4f7f\u7528\u957f\u53e5\u3002</p> <p>\u4e0d\u5305\u542b\u4efb\u4f55\u6807\u70b9\u7b26\u53f7\u7684\u5355\u4e2a\u53e5\u5b50\uff0c\u6216\u8005\u4ee5\u9017\u53f7\u5206\u9694\u7684\u53e5\u5b50\u6784\u4ef6\uff0c\u957f\u5ea6\u5c3d\u91cf\u4fdd\u6301\u5728 20 \u4e2a\u5b57\u4ee5\u5185\uff1b20\uff5e29 \u4e2a\u5b57\u7684\u53e5\u5b50\uff0c\u53ef\u4ee5\u63a5\u53d7\uff1b30\uff5e39 \u4e2a\u5b57\u7684\u53e5\u5b50\uff0c\u8bed\u4e49\u5fc5\u987b\u660e\u786e\uff0c\u624d\u80fd\u63a5\u53d7\uff1b\u591a\u4e8e 40 \u4e2a\u5b57\u7684\u53e5\u5b50\uff0c\u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u4e0d\u80fd\u63a5\u53d7\u3002</p> <pre><code>\u9519\u8bef\uff1a\u672c\u4ea7\u54c1\u9002\u7528\u4e8e\u4ece\u7531\u4e00\u53f0\u670d\u52a1\u5668\u8fdb\u884c\u52a8\u4f5c\u63a7\u5236\u7684\u5355\u4e00\u8282\u70b9\u7ed3\u6784\u5230\u7531\u591a\u53f0\u670d\u52a1\u5668\u8fdb\u884c\u52a8\u4f5c\u63a7\u5236\u7684\u5e76\u884c\u5904\u7406\u7a0b\u5e8f\u7ed3\u6784\u7b49\u591a\u79cd\u4f53\u7cfb\u7ed3\u6784\u3002\n\n\u6b63\u786e\uff1a\u672c\u4ea7\u54c1\u9002\u7528\u4e8e\u591a\u79cd\u4f53\u7cfb\u7ed3\u6784\u3002\u65e0\u8bba\u662f\u7531\u4e00\u53f0\u670d\u52a1\u5668\uff08\u5355\u4e00\u8282\u70b9\u7ed3\u6784\uff09\uff0c\u8fd8\u662f\u7531\u591a\u53f0\u670d\u52a1\u5668\uff08\u5e76\u884c\u5904\u7406\u7ed3\u6784\uff09\u8fdb\u884c\u52a8\u4f5c\u63a7\u5236\uff0c\u5747\u53ef\u4ee5\u4f7f\u7528\u672c\u4ea7\u54c1\u3002\n</code></pre> <p>\u9017\u53f7\u5206\u5272\u7684\u957f\u53e5\uff0c\u603b\u957f\u5ea6\u4e0d\u5e94\u8be5\u8d85\u8fc7 100 \u5b57\u6216\u8005\u6b63\u6587\u7684 3 \u884c\u3002</p> <p>\uff082\uff09\u5c3d\u91cf\u4f7f\u7528\u7b80\u5355\u53e5\u548c\u5e76\u5217\u53e5\uff0c\u907f\u514d\u4f7f\u7528\u590d\u5408\u53e5\u3002</p> <pre><code>\u5e76\u5217\u53e5\uff1a\u4ed6\u6628\u5929\u751f\u75c5\u4e86\uff0c\u6ca1\u6709\u53c2\u52a0\u4f1a\u8bae\u3002\n\n\u590d\u5408\u53e5\uff1a\u90a3\u4e2a\u6628\u5929\u751f\u75c5\u7684\u4eba\u6ca1\u6709\u53c2\u52a0\u4f1a\u8bae\u3002\n</code></pre> <p>\uff083\uff09\u540c\u6837\u4e00\u4e2a\u610f\u601d\uff0c\u5c3d\u91cf\u4f7f\u7528\u80af\u5b9a\u53e5\u8868\u8fbe\uff0c\u4e0d\u4f7f\u7528\u5426\u5b9a\u53e5\u8868\u8fbe\u3002</p> <pre><code>\u9519\u8bef\uff1a\u8bf7\u786e\u8ba4\u6ca1\u6709\u63a5\u901a\u88c5\u7f6e\u7684\u7535\u6e90\u3002\n\n\u6b63\u786e\uff1a\u8bf7\u786e\u8ba4\u88c5\u7f6e\u7684\u7535\u6e90\u5df2\u5173\u95ed\u3002\n</code></pre> <p>\uff084\uff09\u907f\u514d\u4f7f\u7528\u53cc\u91cd\u5426\u5b9a\u53e5\u3002</p> <pre><code>\u9519\u8bef\uff1a\u6ca1\u6709\u5220\u9664\u6743\u9650\u7684\u7528\u6237\uff0c\u4e0d\u80fd\u5220\u9664\u6b64\u6587\u4ef6\u3002\n\n\u6b63\u786e\uff1a\u7528\u6237\u5fc5\u987b\u62e5\u6709\u5220\u9664\u6743\u9650\uff0c\u624d\u80fd\u5220\u9664\u6b64\u6587\u4ef6\u3002\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_8","title":"\u5199\u4f5c\u98ce\u683c","text":"<p>\uff081\uff09\u5c3d\u91cf\u4e0d\u4f7f\u7528\u88ab\u52a8\u8bed\u6001\uff0c\u6539\u4e3a\u4f7f\u7528\u4e3b\u52a8\u8bed\u6001\u3002</p> <pre><code>\u9519\u8bef\uff1a\u5047\u5982\u6b64\u8f6f\u4ef6\u5c1a\u672a\u88ab\u5b89\u88c5\uff0c\n\n\u6b63\u786e\uff1a\u5047\u5982\u5c1a\u672a\u5b89\u88c5\u8fd9\u4e2a\u8f6f\u4ef6\uff0c\n</code></pre> <p>\uff082\uff09\u4e0d\u4f7f\u7528\u975e\u6b63\u5f0f\u7684\u8bed\u8a00\u98ce\u683c\u3002</p> <pre><code>\u9519\u8bef\uff1aLady Gaga \u7684\u6f14\u5531\u4f1a\u771f\u662f\u9177\u6bd9\u4e86\uff0c\u4ece\u6ca1\u770b\u8fc7\u8fd9\u4e48\u7ed9\u529b\u7684\u8868\u6f14\uff01\uff01\uff01\n\n\u6b63\u786e\uff1a\u65e0\u6cd5\u53c2\u52a0\u672c\u6b21\u6d3b\u52a8\uff0c\u6211\u6df1\u611f\u9057\u61be\u3002\n</code></pre> <p>\uff083\uff09\u4e0d\u4f7f\u7528\u51b7\u50fb\u3001\u751f\u9020\u6216\u8005\u6587\u8a00\u6587\u7684\u8bcd\u8bed\uff0c\u800c\u8981\u4f7f\u7528\u73b0\u4ee3\u6c49\u8bed\u7684\u5e38\u7528\u8868\u8fbe\u65b9\u5f0f\u3002</p> <pre><code>\u9519\u8bef\uff1a\u8fd9\u662f\u552f\u4e8c\u7684\u5feb\u901f\u542f\u52a8\u7684\u65b9\u6cd5\u3002\n\n\u6b63\u786e\uff1a\u8fd9\u662f\u4ec5\u6709\u7684\u4e24\u79cd\u5feb\u901f\u542f\u52a8\u7684\u65b9\u6cd5\u3002\n</code></pre> <p>\uff084\uff09\u7528\u5bf9\u201c\u7684\u201d\u3001\u201c\u5730\u201d\u3001\u201c\u5f97\u201d\u3002</p> <pre><code>\u5979\u9732\u51fa\u4e86\u5f00\u5fc3\u7684\u7b11\u5bb9\u3002\n\uff08\u5f62\u5bb9\u8bcd\uff0b\u7684\uff0b\u540d\u8bcd\uff09\n\n\u5979\u5f00\u5fc3\u5730\u7b11\u4e86\u3002\n\uff08\u526f\u8bcd\uff0b\u5730\uff0b\u52a8\u8bcd\uff09\n\n\u5979\u7b11\u5f97\u5f88\u5f00\u5fc3\u3002\n\uff08\u52a8\u8bcd\uff0b\u5f97\uff0b\u526f\u8bcd\uff09\n</code></pre> <p>\uff085\uff09\u4f7f\u7528\u4ee3\u8bcd\u65f6\uff08\u6bd4\u5982\u201c\u5176\u201d\u3001\u201c\u8be5\u201d\u3001\u201c\u6b64\u201d\u3001\u201c\u8fd9\u201d\u7b49\u8bcd\uff09\uff0c\u5fc5\u987b\u660e\u786e\u6307\u4ee3\u7684\u5185\u5bb9\uff0c\u4fdd\u8bc1\u53ea\u6709\u4e00\u4e2a\u542b\u4e49\u3002</p> <pre><code>\u9519\u8bef\uff1a\u4ece\u7ba1\u7406\u7cfb\u7edf\u53ef\u4ee5\u76d1\u89c6\u4e2d\u7ee7\u7cfb\u7edf\u548c\u53d7\u5176\u76f4\u63a5\u63a7\u5236\u7684\u5206\u914d\u7cfb\u7edf\u3002\n\n\u6b63\u786e\uff1a\u4ece\u7ba1\u7406\u7cfb\u7edf\u53ef\u4ee5\u76d1\u89c6\u4e24\u4e2a\u7cfb\u7edf\uff1a\u4e2d\u7ee7\u7cfb\u7edf\u548c\u53d7\u4e2d\u7ee7\u7cfb\u7edf\u76f4\u63a5\u63a7\u5236\u7684\u5206\u914d\u7cfb\u7edf\u3002\n</code></pre> <p>\uff086\uff09\u540d\u8bcd\u524d\u4e0d\u8981\u4f7f\u7528\u8fc7\u591a\u7684\u5f62\u5bb9\u8bcd\u3002</p> <pre><code>\u9519\u8bef\uff1a\u6b64\u8bbe\u5907\u7684\u4f7f\u7528\u5fc5\u987b\u5728\u63a5\u53d7\u8fc7\u672c\u516c\u53f8\u4e3e\u529e\u7684\u6b63\u5f0f\u7684\u8bbe\u5907\u57f9\u8bad\u7684\u6280\u5e08\u7684\u6307\u5bfc\u4e0b\u8fdb\u884c\u3002\n\n\u6b63\u786e\uff1a\u6b64\u8bbe\u5907\u5fc5\u987b\u5728\u6280\u5e08\u7684\u6307\u5bfc\u4e0b\u4f7f\u7528\uff0c\u4e14\u6307\u5bfc\u6280\u5e08\u5fc5\u987b\u63a5\u53d7\u8fc7\u7531\u672c\u516c\u53f8\u4e3e\u529e\u7684\u6b63\u5f0f\u8bbe\u5907\u57f9\u8bad\u3002\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_9","title":"\u82f1\u6587\u5904\u7406","text":"<p>\uff081\uff09\u82f1\u6587\u539f\u6587\u5982\u679c\u4f7f\u7528\u4e86\u590d\u6570\u5f62\u5f0f\uff0c\u7ffb\u8bd1\u6210\u4e2d\u6587\u65f6\uff0c\u5e94\u8be5\u5c06\u5176\u8fd8\u539f\u4e3a\u5355\u6570\u5f62\u5f0f\u3002</p> <pre><code>\u82f1\u6587\uff1a...information stored in random access memory (RAMs)...\n\n\u4e2d\u6587\uff1a\u22ef\u22ef\u5b58\u50a8\u5728\u968f\u673a\u5b58\u53d6\u5b58\u50a8\u5668\uff08RAM\uff09\u91cc\u7684\u4fe1\u606f\u22ef\u22ef\n</code></pre> <p>\uff082\uff09\u5916\u6587\u7f29\u5199\u53ef\u4ee5\u4f7f\u7528\u534a\u89d2\u5706\u70b9(<code>.</code>)\u8868\u793a\u7f29\u5199\u3002</p> <pre><code>U.S.A.\nApple, Inc.\n</code></pre> <p>\uff083\uff09\u8868\u793a\u4e2d\u6587\u65f6\uff0c\u82f1\u6587\u7701\u7565\u53f7\uff08<code>...</code>\uff09\u5e94\u6539\u4e3a\u4e2d\u6587\u7701\u7565\u53f7\uff08<code>\u22ef\u22ef</code>\uff09\u3002</p> <pre><code>\u82f1\u6587\uff1a5 minutes later...\n\n\u4e2d\u6587\uff1a5 \u5206\u949f\u8fc7\u53bb\u4e86\u22ef\u22ef\n</code></pre> <p>\uff084\uff09\u82f1\u6587\u4e66\u540d\u6216\u7535\u5f71\u540d\u6539\u7528\u4e2d\u6587\u8868\u8fbe\u65f6\uff0c\u53cc\u5f15\u53f7\u5e94\u6539\u4e3a\u4e66\u540d\u53f7\u3002</p> <pre><code>\u82f1\u6587\uff1aHe published an article entitled \"The Future of the Aviation\".\n\n\u4e2d\u6587\uff1a\u4ed6\u53d1\u8868\u4e86\u4e00\u7bc7\u540d\u4e3a\u300a\u822a\u7a7a\u4e1a\u7684\u672a\u6765\u300b\u7684\u6587\u7ae0\u3002\n</code></pre> <p>\uff085\uff09\u7b2c\u4e00\u6b21\u51fa\u73b0\u82f1\u6587\u8bcd\u6c47\u65f6\uff0c\u5728\u62ec\u53f7\u4e2d\u7ed9\u51fa\u4e2d\u6587\u6807\u6ce8\u3002\u6b64\u540e\u518d\u6b21\u51fa\u73b0\u65f6\uff0c\u76f4\u63a5\u4f7f\u7528\u82f1\u6587\u7f29\u5199\u5373\u53ef\u3002</p> <pre><code>IOC\uff08International Olympic Committee\uff0c\u56fd\u9645\u5965\u6797\u5339\u514b\u59d4\u5458\u4f1a\uff09\u3002\u8fd9\u6837\u5b9a\u4e49\u540e\uff0c\u4fbf\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u201cIOC\u201d\u4e86\u3002\n</code></pre> <p>\uff086\uff09\u4e13\u6709\u540d\u8bcd\u4e2d\u6bcf\u4e2a\u8bcd\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u5747\u5e94\u5927\u5199\uff0c\u975e\u4e13\u6709\u540d\u8bcd\u5219\u4e0d\u9700\u8981\u5927\u5199\u3002</p> <pre><code>\u201cAmerican Association of Physicists in Medicine\u201d\uff08\u7f8e\u56fd\u533b\u5b66\u7269\u7406\u5b66\u5bb6\u534f\u4f1a\uff09\u662f\u4e13\u6709\u540d\u8bcd\uff0c\u9700\u8981\u5927\u5199\u3002\n\n\u201conline transaction processing\u201d\uff08\u5728\u7ebf\u4e8b\u52a1\u5904\u7406\uff09\u4e0d\u662f\u4e13\u6709\u540d\u8bcd\uff0c\u4e0d\u5e94\u5927\u5199\u3002\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_10","title":"\u6bb5\u843d","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_11","title":"\u539f\u5219","text":"<ul> <li>\u4e00\u4e2a\u6bb5\u843d\u53ea\u80fd\u6709\u4e00\u4e2a\u4e3b\u9898\uff0c\u6216\u4e00\u4e2a\u4e2d\u5fc3\u53e5\u5b50\u3002</li> <li>\u6bb5\u843d\u7684\u4e2d\u5fc3\u53e5\u5b50\u653e\u5728\u6bb5\u9996\uff0c\u5bf9\u5168\u6bb5\u5185\u5bb9\u8fdb\u884c\u6982\u8ff0\u3002\u540e\u9762\u9648\u8ff0\u7684\u53e5\u5b50\u4e3a\u4e2d\u5fc3\u53e5\u5b50\u670d\u52a1\u3002</li> <li>\u4e00\u4e2a\u6bb5\u843d\u7684\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7\u4e03\u884c\uff0c\u6700\u4f73\u6bb5\u843d\u957f\u5ea6\u5c0f\u4e8e\u7b49\u4e8e\u56db\u884c\u3002</li> <li>\u6bb5\u843d\u7684\u53e5\u5b50\u8bed\u6c14\u8981\u4f7f\u7528\u9648\u8ff0\u548c\u80af\u5b9a\u8bed\u6c14\uff0c\u907f\u514d\u4f7f\u7528\u611f\u53f9\u8bed\u6c14\u3002</li> <li>\u6bb5\u843d\u4e4b\u95f4\u4f7f\u7528\u4e00\u4e2a\u7a7a\u884c\u9694\u5f00\u3002</li> <li>\u6bb5\u843d\u5f00\u5934\u4e0d\u8981\u7559\u51fa\u7a7a\u767d\u5b57\u7b26\u3002</li> </ul>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_12","title":"\u5f15\u7528","text":"<p>\u5f15\u7528\u7b2c\u4e09\u65b9\u5185\u5bb9\u65f6\uff0c\u5e94\u6ce8\u660e\u51fa\u5904\u3002</p> <pre><code>One man\u2019s constant is another man\u2019s variable. \u2014 Alan Perlis\n</code></pre> <p>\u5982\u679c\u662f\u5168\u7bc7\u8f6c\u8f7d\uff0c\u8bf7\u5728\u5168\u6587\u5f00\u5934\u663e\u8457\u4f4d\u7f6e\u6ce8\u660e\u4f5c\u8005\u548c\u51fa\u5904\uff0c\u5e76\u94fe\u63a5\u81f3\u539f\u6587\u3002</p> <pre><code>\u672c\u6587\u8f6c\u8f7d\u81ea WikiQuote\n</code></pre> <p>\u4f7f\u7528\u5916\u90e8\u56fe\u7247\u65f6\uff0c\u5fc5\u987b\u5728\u56fe\u7247\u4e0b\u65b9\u6216\u6587\u672b\u6807\u660e\u6765\u6e90\u3002</p> <pre><code>\u672c\u6587\u90e8\u5206\u56fe\u7247\u6765\u81ea Wikipedia\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_13","title":"\u6570\u503c","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_14","title":"\u534a\u89d2\u6570\u5b57","text":"<p>\u963f\u62c9\u4f2f\u6570\u5b57\u4e00\u5f8b\u4f7f\u7528\u534a\u89d2\u5f62\u5f0f\uff0c\u4e0d\u5f97\u4f7f\u7528\u5168\u89d2\u5f62\u5f0f\u3002</p> <pre><code>\u9519\u8bef\uff1a\u8fd9\u4ef6\u5546\u54c1\u7684\u4ef7\u683c\u662f\uff11\uff10\uff10\uff10\u5143\u3002\n\n\u6b63\u786e\uff1a\u8fd9\u4ef6\u5546\u54c1\u7684\u4ef7\u683c\u662f 1000 \u5143\u3002\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_15","title":"\u5343\u5206\u53f7","text":"<p>\u6570\u503c\u4e3a\u5343\u4f4d\u4ee5\u4e0a\uff0c\u5e94\u6dfb\u52a0\u5343\u5206\u53f7\uff08\u534a\u89d2\u9017\u53f7\uff09\u3002</p> <pre><code>XXX \u516c\u53f8\u7684\u5b9e\u6536\u8d44\u672c\u4e3a \uffe51,258,000 \u4eba\u6c11\u5e01\u3002\n</code></pre> <p>\u5bf9\u4e8e 4 \u4f4d\u7684\u6570\u503c\uff0c\u5343\u5206\u53f7\u662f\u9009\u7528\u7684\uff0c\u6bd4\u5982<code>1000</code>\u548c<code>1,000</code>\u90fd\u53ef\u4ee5\u63a5\u53d7\u3002\u5bf9\u4e8e 4 \u4f4d\u4ee5\u4e0a\u7684\u6570\u503c\uff0c\u5e94\u6dfb\u52a0\u5343\u5206\u53f7\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_16","title":"\u8d27\u5e01","text":"<p>\u8d27\u5e01\u5e94\u4e3a\u963f\u62c9\u4f2f\u6570\u5b57\uff0c\u5e76\u5728\u6570\u5b57\u524d\u5199\u51fa\u8d27\u5e01\u7b26\u53f7\uff0c\u6216\u5728\u6570\u5b57\u540e\u5199\u51fa\u8d27\u5e01\u4e2d\u6587\u540d\u79f0\u3002</p> <pre><code>$1,000\n1,000 \u7f8e\u5143\n</code></pre> <p>\u82f1\u6587\u7684\u8d27\u5e01\u540d\u79f0\uff0c\u5efa\u8bae\u53c2\u8003\u56fd\u9645\u6807\u51c6 ISO 4217\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_17","title":"\u6570\u503c\u8303\u56f4","text":"<p>\u8868\u793a\u6570\u503c\u8303\u56f4\u65f6\uff0c\u7528\u6ce2\u6d6a\u7ebf\uff08<code>\uff5e</code>\uff09\u6216\u4e00\u5b57\u7ebf\uff08<code>\u2014</code>\uff09\u8fde\u63a5\u3002\u53c2\u89c1\u300a\u6807\u70b9\u7b26\u53f7\u300b\u4e00\u8282\u7684\u201c\u8fde\u63a5\u53f7\u201d\u90e8\u5206\u3002</p> <p>\u5e26\u6709\u5355\u4f4d\u6216\u767e\u5206\u53f7\u65f6\uff0c\u4e24\u4e2a\u6570\u5b57\u5efa\u8bae\u90fd\u8981\u52a0\u4e0a\u5355\u4f4d\u6216\u767e\u5206\u53f7\u3002</p> <pre><code>132 kg\uff5e234 kg\n\n67%\uff5e89%\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_18","title":"\u53d8\u5316\u7a0b\u5ea6\u7684\u8868\u793a\u6cd5","text":"<p>\u6570\u5b57\u7684\u589e\u52a0\u8981\u4f7f\u7528\u201c\u589e\u52a0\u4e86\u201d\u3001\u201c\u589e\u52a0\u5230\u201d\u3002\u201c\u4e86\u201d\u8868\u793a\u589e\u91cf\uff0c\u201c\u5230\u201d\u8868\u793a\u5b9a\u91cf\u3002</p> <pre><code>\u589e\u52a0\u5230\u8fc7\u53bb\u7684\u4e24\u500d\n\uff08\u8fc7\u53bb\u4e3a\u4e00\uff0c\u73b0\u5728\u4e3a\u4e8c\uff09\n\n\u589e\u52a0\u4e86\u4e24\u500d\n\uff08\u8fc7\u53bb\u4e3a\u4e00\uff0c\u73b0\u5728\u4e3a\u4e09\uff09\n</code></pre> <p>\u6570\u5b57\u7684\u51cf\u5c11\u8981\u4f7f\u7528\u201c\u964d\u4f4e\u4e86\u201d\u3001\u201c\u964d\u4f4e\u5230\u201d\u3002\u201c\u4e86\u201d\u8868\u793a\u589e\u91cf\uff0c\u201c\u5230\u201d\u8868\u793a\u5b9a\u91cf\u3002</p> <pre><code>\u964d\u4f4e\u5230\u767e\u5206\u4e4b\u516b\u5341\n\uff08\u5b9a\u989d\u662f\u4e00\u767e\uff0c\u73b0\u5728\u662f\u516b\u5341\uff09\n\n\u964d\u4f4e\u4e86\u767e\u5206\u4e4b\u516b\u5341\n\uff08\u539f\u6765\u662f\u4e00\u767e\uff0c\u73b0\u5728\u662f\u4e8c\u5341\uff09\n</code></pre> <p>\u4e0d\u80fd\u7528\u201c\u964d\u4f4e N \u500d\u201d\u6216\u201c\u51cf\u5c11 N \u500d\u201d\u7684\u8868\u793a\u6cd5\uff0c\u8981\u7528\u201c\u964d\u4f4e\u767e\u5206\u4e4b\u51e0\u201d\u6216\u201c\u51cf\u5c11\u767e\u5206\u4e4b\u51e0\u201d\u3002\u56e0\u4e3a\u51cf\u5c11\uff08\u6216\u964d\u4f4e\uff09\u4e00\u500d\u8868\u793a\u6570\u503c\u539f\u6765\u4e3a\u4e00\u767e\uff0c\u73b0\u5728\u7b49\u4e8e\u96f6\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_19","title":"\u6807\u70b9\u7b26\u53f7","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_20","title":"\u539f\u5219","text":"<p>\uff081\uff09\u4e2d\u6587\u8bed\u53e5\u7684\u6807\u70b9\u7b26\u53f7\uff0c\u5747\u5e94\u8be5\u91c7\u53d6\u5168\u89d2\u7b26\u53f7\uff0c\u8fd9\u6837\u53ef\u4ee5\u4e0e\u5168\u89d2\u6587\u5b57\u4fdd\u6301\u89c6\u89c9\u7684\u4e00\u81f4\u3002</p> <p>\uff082\uff09\u5982\u679c\u6574\u53e5\u4e3a\u82f1\u6587\uff0c\u5219\u8be5\u53e5\u4f7f\u7528\u82f1\u6587/\u534a\u89d2\u6807\u70b9\u3002</p> <p>\uff083\uff09\u53e5\u53f7\u3001\u95ee\u53f7\u3001\u53f9\u53f7\u3001\u9017\u53f7\u3001\u987f\u53f7\u3001\u5206\u53f7\u548c\u5192\u53f7\u4e0d\u5f97\u51fa\u73b0\u5728\u4e00\u884c\u4e4b\u9996\u3002</p> <p>\uff084\uff09\u70b9\u53f7\uff08\u53e5\u53f7\u3001\u9017\u53f7\u3001\u987f\u53f7\u3001\u5206\u53f7\u3001\u5192\u53f7\uff09\u4e0d\u5f97\u51fa\u73b0\u5728\u6807\u9898\u7684\u672b\u5c3e\uff0c\u800c\u6807\u53f7\uff08\u5f15\u53f7\u3001\u62ec\u53f7\u3001\u7834\u6298\u53f7\u3001\u7701\u7565\u53f7\u3001\u4e66\u540d\u53f7\u3001\u7740\u91cd\u53f7\u3001\u95f4\u9694\u53f7\u3001\u53f9\u53f7\u3001\u95ee\u53f7\uff09\u53ef\u4ee5\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_21","title":"\u53e5\u53f7","text":"<p>\uff081\uff09\u4e2d\u6587\u8bed\u53e5\u7684\u7ed3\u5c3e\u5904\u5e94\u8be5\u7528\u5168\u89d2\u53e5\u53f7\uff08<code>\u3002</code>\uff09\u3002</p> <p>\uff082\uff09\u53e5\u5b50\u672b\u5c3e\u7528\u62ec\u53f7\u52a0\u6ce8\u65f6\uff0c\u53e5\u53f7\u5e94\u5728\u62ec\u53f7\u4e4b\u5916\u3002</p> <pre><code>\u9519\u8bef\uff1a\u5173\u4e8e\u6587\u4ef6\u7684\u8f93\u51fa\uff0c\u8bf7\u53c2\u7167\u7b2c 1.3 \u8282\uff08\u89c1\u7b2c 26 \u9875\u3002\uff09\n\n\u6b63\u786e\uff1a\u5173\u4e8e\u6587\u4ef6\u7684\u8f93\u51fa\uff0c\u8bf7\u53c2\u7167\u7b2c 1.3 \u8282\uff08\u89c1\u7b2c 26 \u9875\uff09\u3002\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_22","title":"\u9017\u53f7","text":"<p>\uff081\uff09\u9017\u53f7\uff08<code>\uff0c</code>\uff09\u8868\u793a\u53e5\u5b50\u5185\u90e8\u7684\u4e00\u822c\u6027\u505c\u987f\u3002</p> <p>\uff082\uff09\u6ce8\u610f\u907f\u514d\u201c\u4e00\u9017\u5230\u5e95\u201d\uff0c\u5373\u6574\u4e2a\u6bb5\u843d\u9664\u4e86\u7ed3\u5c3e\uff0c\u5168\u90e8\u505c\u987f\u90fd\u4f7f\u7528\u9017\u53f7\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_23","title":"\u987f\u53f7","text":"<p>\uff081\uff09\u53e5\u5b50\u5185\u90e8\u7684\u5e76\u5217\u8bcd\uff0c\u5e94\u8be5\u7528\u5168\u89d2\u987f\u53f7(<code>\u3001</code>) \u5206\u9694\uff0c\u800c\u4e0d\u7528\u9017\u53f7\uff0c\u5373\u4f7f\u5e76\u5217\u8bcd\u662f\u82f1\u8bed\u4e5f\u662f\u5982\u6b64\u3002</p> <pre><code>\u9519\u8bef\uff1a\u6211\u6700\u6b23\u8d4f\u7684\u79d1\u6280\u516c\u53f8\u6709 Google, Facebook, \u817e\u8baf, \u963f\u91cc\u548c\u767e\u5ea6\u7b49\u3002\n\n\u6b63\u786e\uff1a\u6211\u6700\u6b23\u8d4f\u7684\u79d1\u6280\u516c\u53f8\u6709 Google\u3001Facebook\u3001\u817e\u8baf\u3001\u963f\u91cc\u548c\u767e\u5ea6\u7b49\u3002\n</code></pre> <p>\uff082\uff09\u82f1\u6587\u53e5\u5b50\u4e2d\uff0c\u5e76\u5217\u8bcd\u8bed\u4e4b\u95f4\u4f7f\u7528\u534a\u89d2\u9017\u53f7\uff08<code>,</code>\uff09\u5206\u9694\u3002</p> <pre><code>\u4f8b\u53e5\uff1aMicrosoft Office includes Word, Excel, PowerPoint, Outlook and other components.\n</code></pre> <p>\uff083\uff09\u4e2d\u6587\u53e5\u5b50\u5185\u90e8\u7684\u5e76\u5217\u8bcd\uff0c\u6700\u540e\u4e00\u4e2a\u5c3d\u91cf\u4f7f\u7528\uff08<code>\u548c</code>\uff09\u6765\u8fde\u63a5\uff0c\u4f7f\u53e5\u5b50\u8bfb\u8d77\u6765\u66f4\u52a0\u8fde\u8d2f\uff0c\u4e0b\u9762\u4e24\u4e2a\u53e5\u5b50\u90fd\u53ef\u4ee5\uff0c\u7b2c\u4e8c\u4e2a\u66f4\u4f18\u3002</p> <pre><code>\u6b63\u786e\uff1a\u6211\u6700\u6b23\u8d4f\u7684\u79d1\u6280\u516c\u53f8\u6709 Google\u3001Facebook\u3001\u817e\u8baf\u3001\u963f\u91cc\uff0c\u4ee5\u53ca\u767e\u5ea6\u7b49\u3002\n\n\u6b63\u786e\uff1a\u6211\u6700\u6b23\u8d4f\u7684\u79d1\u6280\u516c\u53f8\u6709 Google\u3001Facebook\u3001\u817e\u8baf\u3001\u963f\u91cc\u548c\u767e\u5ea6\u7b49\u3002\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_24","title":"\u5206\u53f7","text":"<p>\uff081\uff09\u5206\u53f7\uff08<code>\uff1b</code>\uff09\u8868\u793a\u590d\u53e5\u5185\u90e8\u5e76\u5217\u5206\u53e5\u4e4b\u95f4\u7684\u505c\u987f\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_25","title":"\u5f15\u53f7","text":"<p>\uff081\uff09\u5f15\u7528\u65f6\uff0c\u5e94\u8be5\u4f7f\u7528\u5168\u89d2\u53cc\u5f15\u53f7\uff08<code>\u201c \u201d</code>\uff09\uff0c\u6ce8\u610f\u524d\u540e\u53cc\u5f15\u53f7\u4e0d\u540c\u3002</p> <pre><code>\u4f8b\u53e5\uff1a\u8bb8\u591a\u4eba\u90fd\u8ba4\u4e3a\u5ba2\u6237\u670d\u52a1\u7684\u6838\u5fc3\u662f\u201c\u53cb\u597d\u201d\u548c\u201c\u4e13\u4e1a\u201d\u3002\n</code></pre> <p>\uff082\uff09\u5f15\u53f7\u91cc\u9762\u8fd8\u8981\u7528\u5f15\u53f7\u65f6\uff0c\u5916\u9762\u4e00\u5c42\u7528\u53cc\u5f15\u53f7\uff0c\u91cc\u9762\u4e00\u5c42\u7528\u5355\u5f15\u53f7\uff08<code>\u2018 \u2019</code>\uff09\uff0c\u6ce8\u610f\u524d\u540e\u5355\u5f15\u53f7\u4e0d\u540c\u3002</p> <pre><code>\u4f8b\u53e5\uff1a\u9c8d\u52c3\u89e3\u91ca\u9053\uff1a\u201c\u6211\u8981\u653e\u97f3\u4e50\uff0c\u53ef\u8428\u5229\u8bf4\uff0c\u2018\u4e0d\u884c\uff01\u2019\u3002\u201d\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_26","title":"\u62ec\u53f7","text":"<p>\uff081\uff09\u8865\u5145\u8bf4\u660e\u65f6\uff0c\u4f7f\u7528\u5168\u89d2\u5706\u62ec\u53f7\uff08<code>\uff08\uff09</code>\uff09\uff0c\u62ec\u53f7\u524d\u540e\u4e0d\u52a0\u7a7a\u683c\u3002</p> <pre><code>\u4f8b\u53e5\uff1a\u8bf7\u786e\u8ba4\u6240\u6709\u7684\u8fde\u63a5\uff08\u7535\u7f06\u548c\u63a5\u63d2\u4ef6\uff09\u5747\u5b89\u88c5\u7262\u56fa\u3002\n</code></pre> <p>\uff082\uff09\u51e0\u79cd\u62ec\u53f7\u7684\u4e2d\u82f1\u6587\u540d\u79f0\u3002</p> \u82f1\u6587 \u4e2d\u6587 <code>{ }</code> braces \u6216 curly brackets \u5927\u62ec\u53f7 <code>[ ]</code> square brackets \u6216 brackets \u65b9\u62ec\u53f7 <code>&lt; &gt;</code> angled brackets \u5c16\u62ec\u53f7 <code>( )</code> parentheses \u5706\u62ec\u53f7"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_27","title":"\u5192\u53f7","text":"<p>\uff081\uff09\u5168\u89d2\u5192\u53f7\uff08<code>\uff1a</code>\uff09\u5e38\u7528\u5728\u9700\u8981\u89e3\u91ca\u7684\u8bcd\u8bed\u540e\u8fb9\uff0c\u5f15\u51fa\u89e3\u91ca\u548c\u8bf4\u660e\u3002</p> <pre><code>\u4f8b\u53e5\uff1a\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u51e0\u9879\u5185\u5bb9\uff1a\u65f6\u95f4\u3001\u5730\u70b9\u3001\u6d3b\u52a8\u540d\u79f0\u548c\u6765\u5bbe\u6570\u91cf\u3002\n</code></pre> <p>\uff082\uff09\u8868\u793a\u65f6\u95f4\u65f6\uff0c\u5e94\u4f7f\u7528\u534a\u89d2\u5192\u53f7\uff08<code>:</code>\uff09\u3002</p> <pre><code>\u4f8b\u53e5\uff1a\u65e9\u4e0a 8:00\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_28","title":"\u7701\u7565\u53f7","text":"<p>\uff081\uff09\u7701\u7565\u53f7\uff08<code>\u22ef\u22ef</code>\uff09\u8868\u793a\u8bed\u53e5\u672a\u5b8c\u3001\u6216\u8005\u8bed\u6c14\u7684\u4e0d\u8fde\u7eed\u3002</p> <p>\uff082\uff09\u7701\u7565\u53f7\u5360\u4e24\u4e2a\u6c49\u5b57\u7a7a\u95f4\u3001\u5305\u542b\u516d\u4e2a\u7701\u7565\u70b9\uff0c\u4e0d\u8981\u4f7f\u7528<code>\u3002\u3002\u3002</code>\u6216<code>...</code>\u7b49\u975e\u6807\u51c6\u5f62\u5f0f\u3002</p> <p>\uff083\uff09\u7701\u7565\u53f7\u4e0d\u5e94\u4e0e\u201c\u7b49\u201d\u8fd9\u4e2a\u8bcd\u4e00\u8d77\u4f7f\u7528\u3002</p> <pre><code>\u9519\u8bef\uff1a\u6211\u4eec\u4e3a\u4f1a\u9910\u51c6\u5907\u4e86\u9999\u8549\u3001\u82f9\u679c\u3001\u68a8\u2026\u7b49\u5404\u8272\u6c34\u679c\u3002\n\n\u6b63\u786e\uff1a\u6211\u4eec\u4e3a\u4f1a\u9910\u51c6\u5907\u4e86\u5404\u8272\u6c34\u679c\uff0c\u6709\u9999\u8549\u3001\u82f9\u679c\u3001\u68a8\u22ef\u22ef\n\n\u6b63\u786e\uff1a\u6211\u4eec\u4e3a\u4f1a\u9910\u51c6\u5907\u4e86\u9999\u8549\u3001\u82f9\u679c\u3001\u68a8\u7b49\u5404\u8272\u6c34\u679c\u3002\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_29","title":"\u611f\u53f9\u53f7","text":"<p>\uff081\uff09\u5e94\u8be5\u4f7f\u7528\u5e73\u9759\u7684\u8bed\u6c14\u53d9\u8ff0\uff0c\u5c3d\u91cf\u907f\u514d\u4f7f\u7528\u611f\u53f9\u53f7\uff08<code>\uff01</code>\uff09\u3002</p> <p>\uff082\uff09\u4e0d\u5f97\u591a\u4e2a\u611f\u53f9\u53f7\u8fde\u7528\uff0c\u6bd4\u5982<code>\uff01\uff01</code>\u548c<code>!!!</code>\u3002</p>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_30","title":"\u7834\u6298\u53f7","text":"<p>\uff081\uff09\u7834\u6298\u53f7<code>\u2014\u2014\u2014\u2014</code>\u4e00\u822c\u7528\u4e8e\u8fdb\u4e00\u6b65\u89e3\u91ca\u3002</p> <p>\uff082\uff09\u7834\u6298\u53f7\u5e94\u5360\u4e24\u4e2a\u6c49\u5b57\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u7834\u6298\u53f7\u672c\u8eab\u53ea\u5360\u4e00\u4e2a\u6c49\u5b57\u7684\u4f4d\u7f6e\uff0c\u90a3\u4e48\u524d\u540e\u5e94\u8be5\u7559\u51fa\u4e00\u4e2a\u534a\u89d2\u7a7a\u683c\u3002</p> <pre><code>\u4f8b\u53e5\uff1a\u76f4\u89c9\u2014\u2014\u2014\u2014\u5c3d\u7ba1\u5b83\u5e76\u4e0d\u603b\u662f\u53ef\u9760\u7684\u2014\u2014\u2014\u2014\u544a\u8bc9\u6211\uff0c\u8fd9\u4e8b\u53ef\u80fd\u51fa\u4e86\u4e9b\u95ee\u9898\u3002\n\n\u4f8b\u53e5\uff1a\u76f4\u89c9 \u2014\u2014 \u5c3d\u7ba1\u5b83\u5e76\u4e0d\u603b\u662f\u53ef\u9760\u7684 \u2014\u2014 \u544a\u8bc9\u6211\uff0c\u8fd9\u4e8b\u53ef\u80fd\u51fa\u4e86\u4e9b\u95ee\u9898\u3002\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_31","title":"\u8fde\u63a5\u53f7","text":"<p>\uff081\uff09\u8fde\u63a5\u53f7\u7528\u4e8e\u8fde\u63a5\u4e24\u4e2a\u7c7b\u4f3c\u7684\u8bcd\u3002</p> <p>\uff082\uff09\u4ee5\u4e0b\u573a\u5408\u5e94\u8be5\u4f7f\u7528\u76f4\u7ebf\u8fde\u63a5\u53f7\uff08<code>-</code>\uff09\uff0c\u5360\u4e00\u4e2a\u534a\u89d2\u5b57\u7b26\u7684\u4f4d\u7f6e\u3002</p> <ul> <li>\u4e24\u4e2a\u540d\u8bcd\u7684\u590d\u5408</li> <li>\u56fe\u8868\u7f16\u53f7</li> </ul> <pre><code>\u4f8b\u53e5\uff1a\u6c27\u5316-\u8fd8\u539f\u53cd\u5e94\n\n\u4f8b\u53e5\uff1a\u56fe 1-1\n</code></pre> <p>\uff083\uff09\u6570\u503c\u8303\u56f4\uff08\u4f8b\u5982\u65e5\u671f\u3001\u65f6\u95f4\u6216\u6570\u5b57\uff09\u5e94\u8be5\u4f7f\u7528\u6ce2\u6d6a\u8fde\u63a5\u53f7\uff08<code>\uff5e</code>\uff09\u6216\u4e00\u5b57\u53f7\uff08<code>\u2014</code>\uff09\uff0c\u5360\u4e00\u4e2a\u5168\u89d2\u5b57\u7b26\u7684\u4f4d\u7f6e\u3002</p> <pre><code>\u4f8b\u53e5\uff1a2009 \u5e74\uff5e2011 \u5e74\n</code></pre> <p>\u6ce8\u610f\uff0c\u6ce2\u6d6a\u8fde\u63a5\u53f7\u524d\u540e\u4e24\u4e2a\u503c\u90fd\u5efa\u8bae\u52a0\u4e0a\u5355\u4f4d\u3002</p> <p>\uff084\uff09\u6ce2\u6d6a\u8fde\u63a5\u53f7\u4e5f\u53ef\u4ee5\u7528\u6c49\u5b57\u201c\u81f3\u201d\u4ee3\u66ff\u3002</p> <pre><code>\u4f8b\u53e5\uff1a\u5468\u56f4\u6e29\u5ea6\uff1a-20 \u00b0C \u81f3 -10 \u00b0C\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_32","title":"\u6587\u6863\u4f53\u7cfb","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_33","title":"\u7ed3\u6784","text":"<p>\u8f6f\u4ef6\u624b\u518c\u662f\u4e00\u90e8\u5b8c\u6574\u7684\u4e66\uff0c\u5efa\u8bae\u91c7\u7528\u4e0b\u9762\u7684\u7ed3\u6784\u3002</p> <ul> <li>\u7b80\u4ecb\uff08Introduction\uff09\uff1a[\u5fc5\u5907] [\u6587\u4ef6] \u63d0\u4f9b\u5bf9\u4ea7\u54c1\u548c\u6587\u6863\u672c\u8eab\u7684\u603b\u4f53\u7684\u3001\u627c\u8981\u7684\u8bf4\u660e</li> <li>\u5feb\u901f\u4e0a\u624b\uff08Getting Started\uff09\uff1a[\u53ef\u9009] [\u6587\u4ef6] \u5982\u4f55\u6700\u5feb\u901f\u5730\u4f7f\u7528\u4ea7\u54c1</li> <li>\u5165\u95e8\u7bc7\uff08Basics\uff09\uff1a[\u5fc5\u5907] [\u76ee\u5f55] \u53c8\u79f0\u201c\u4f7f\u7528\u7bc7\u201d\uff0c\u63d0\u4f9b\u521d\u7ea7\u7684\u4f7f\u7528\u6559\u7a0b</li> <li>\u73af\u5883\u51c6\u5907\uff08Prerequisite\uff09\uff1a[\u5fc5\u5907] [\u6587\u4ef6] \u8f6f\u4ef6\u4f7f\u7528\u9700\u8981\u6ee1\u8db3\u7684\u524d\u7f6e\u6761\u4ef6</li> <li>\u5b89\u88c5\uff08Installation\uff09\uff1a[\u53ef\u9009] [\u6587\u4ef6] \u8f6f\u4ef6\u7684\u5b89\u88c5\u65b9\u6cd5</li> <li>\u8bbe\u7f6e\uff08Configuration\uff09\uff1a[\u5fc5\u5907] [\u6587\u4ef6] \u8f6f\u4ef6\u7684\u8bbe\u7f6e</li> <li>\u8fdb\u9636\u7bc7\uff08Advanced)\uff1a[\u53ef\u9009] [\u76ee\u5f55] \u53c8\u79f0\u201c\u5f00\u53d1\u7bc7\u201d\uff0c\u63d0\u4f9b\u4e2d\u9ad8\u7ea7\u7684\u5f00\u53d1\u6559\u7a0b</li> <li>API\uff08Reference\uff09\uff1a[\u53ef\u9009] [\u76ee\u5f55|\u6587\u4ef6] \u8f6f\u4ef6 API \u7684\u9010\u4e00\u4ecb\u7ecd</li> <li>FAQ\uff1a[\u53ef\u9009] [\u6587\u4ef6] \u5e38\u89c1\u95ee\u9898\u89e3\u7b54</li> <li>\u9644\u5f55\uff08Appendix\uff09\uff1a[\u53ef\u9009] [\u76ee\u5f55] \u4e0d\u5c5e\u4e8e\u6559\u7a0b\u672c\u8eab\u3001\u4f46\u5bf9\u9605\u8bfb\u6559\u7a0b\u6709\u5e2e\u52a9\u7684\u5185\u5bb9</li> <li>Glossary\uff1a[\u53ef\u9009] [\u6587\u4ef6] \u540d\u8bcd\u89e3\u91ca</li> <li>Recipes\uff1a[\u53ef\u9009] [\u6587\u4ef6] \u6700\u4f73\u5b9e\u8df5</li> <li>Troubleshooting\uff1a[\u53ef\u9009] [\u6587\u4ef6] \u6545\u969c\u5904\u7406</li> <li>ChangeLog\uff1a[\u53ef\u9009] [\u6587\u4ef6] \u7248\u672c\u8bf4\u660e</li> <li>Feedback\uff1a[\u53ef\u9009] [\u6587\u4ef6] \u53cd\u9988\u65b9\u5f0f</li> </ul> <p>\u4e0b\u9762\u662f\u4e24\u4e2a\u771f\u5b9e\u8303\u4f8b\uff0c\u53ef\u53c2\u8003\u3002</p> <ul> <li>Redux \u624b\u518c</li> <li>Atom \u624b\u518c</li> </ul>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_34","title":"\u6587\u4ef6\u540d","text":"<p>\u6587\u6863\u7684\u6587\u4ef6\u540d\u4e0d\u5f97\u542b\u6709\u7a7a\u683c\u3002</p> <p>\u6587\u4ef6\u540d\u5fc5\u987b\u4f7f\u7528\u534a\u89d2\u5b57\u7b26\uff0c\u4e0d\u5f97\u4f7f\u7528\u5168\u89d2\u5b57\u7b26\u3002\u8fd9\u4e5f\u610f\u5473\u7740\uff0c\u4e2d\u6587\u4e0d\u80fd\u7528\u4e8e\u6587\u4ef6\u540d\u3002</p> <pre><code>\u9519\u8bef\uff1a\u540d\u8bcd\u89e3\u91ca.md\n\n\u6b63\u786e\uff1aglossary.md\n</code></pre> <p>\u6587\u4ef6\u540d\u5efa\u8bae\u53ea\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd\uff0c\u4e0d\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u3002</p> <pre><code>\u9519\u8bef\uff1aTroubleShooting.md\n\n\u6b63\u786e\uff1atroubleshooting.md\n</code></pre> <p>\u4e3a\u4e86\u9192\u76ee\uff0c\u67d0\u4e9b\u8bf4\u660e\u6587\u4ef6\u7684\u6587\u4ef6\u540d\uff0c\u53ef\u4ee5\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\uff0c\u6bd4\u5982<code>README</code>\u3001<code>LICENSE</code>\u3002</p> <p>\u6587\u4ef6\u540d\u5305\u542b\u591a\u4e2a\u5355\u8bcd\u65f6\uff0c\u5355\u8bcd\u4e4b\u95f4\u5efa\u8bae\u4f7f\u7528\u534a\u89d2\u7684\u8fde\u8bcd\u7ebf\uff08<code>-</code>\uff09\u5206\u9694\u3002</p> <pre><code>\u4e0d\u4f73\uff1aadvanced_usage.md\n\n\u6b63\u786e\uff1aadvanced-usage.md\n</code></pre>"},{"location":"10_%E5%85%B6%E4%BB%96/%E4%B8%AD%E6%96%87%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3%E7%9A%84%E5%86%99%E4%BD%9C%E8%A7%84%E8%8C%83.html#_35","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>\u4e2d\u6587\u6280\u672f\u6587\u6863\u7684\u5199\u4f5c\u89c4\u8303, by \u962e\u4e00\u5cf0</li> <li>\u4ea7\u54c1\u624b\u518c\u4e2d\u6587\u5199\u4f5c\u89c4\u8303, by \u534e\u4e3a</li> <li>\u5199\u4f5c\u89c4\u8303\u548c\u683c\u5f0f\u89c4\u8303, by DaoCloud</li> <li>\u6280\u672f\u5199\u4f5c\u6280\u5de7\u5728\u65e5\u6c49\u7ffb\u8bd1\u4e2d\u7684\u5e94\u7528, by \u5218\u65b9</li> <li>\u7b80\u4f53\u4e2d\u6587\u89c4\u8303\u6307\u5357, by lengoo</li> <li>\u6587\u6863\u98ce\u683c\u6307\u5357, by LeanCloud</li> <li>\u8c4c\u8c46\u835a\u6587\u6848\u98ce\u683c\u6307\u5357, by \u8c4c\u8c46\u835a</li> <li>\u4e2d\u6587\u6587\u6848\u6392\u7248\u6307\u5317, by sparanoid</li> <li>\u4e2d\u6587\u6392\u7248\u9700\u6c42, by W3C</li> <li>\u4e3a\u4ec0\u4e48\u6587\u4ef6\u540d\u8981\u5c0f\u5199\uff1f, by \u962e\u4e00\u5cf0</li> <li>Google Developer Documentation Style Guide, by Google</li> <li>\u51fa\u7248\u7269\u4e0a\u6570\u5b57\u7528\u6cd5\u7684\u89c4\u5b9a\uff08\u56fd\u5bb6\u6807\u51c6GBT15835\uff0d2011\uff09</li> <li>GB 3100-1993 \u56fd\u9645\u5355\u4f4d\u5236\u53ca\u5176\u5e94\u7528</li> </ul>"},{"location":"10_%E5%85%B6%E4%BB%96/%E5%A4%A7%E5%B0%8F%E7%AB%AF.html","title":"\u5927\u5c0f\u7aef","text":"<ul> <li>\u5927\u7aef\u548c\u5c0f\u7aef\u6307\u7684\u662f\u4e00\u4e32\u6570\u636e\u7684\u4e24\u7aef\u800c\u4e0d\u662f\u5185\u5b58\u7684\u4e24\u7aef</li> <li>\u5185\u5b58\u6c38\u8fdc\u662f\u4ece\u4f4e\u5730\u5740\u5f00\u59cb\u5199\u5165</li> <li>\u5927\u7aef\u6a21\u5f0f\u5c31\u662f\u6570\u636e\u9ad8\u4f4d\u5f00\u59cb\u5199\uff0c\u5c0f\u7aef\u6a21\u5f0f\u5c31\u662f\u6570\u636e\u4ece\u4f4e\u4f4d\u5f00\u59cb\u5f80\u5185\u5b58\u5199</li> </ul> <p>\u5927\u7aef\u6a21\u5f0f\uff08big-endian\uff09\u548c\u5c0f\u7aef\u6a21\u5f0f\uff08little-endian\uff09\u8fd9\u4e24\u4e2a\u8bcd\u51fa\u81ea\u683c\u5217\u4f5b\u6e38\u8bb0\uff0cendian\u8fd9\u4e2a\u8bcd\u5c31\u662f\u51fa\u81ea\u683c\u5217\u4f5b\u6e38\u8bb0\u7684\u3002</p> <p>\u636eJargon File\u8bb0\u8f7d\uff0cendian\u8fd9\u4e2a\u8bcd\u6765\u6e90\u4e8eJonathan Swift\u57281726\u5e74\u5199\u7684\u8bbd\u523a\u5c0f\u8bf4 \u201cGulliver\u2019s Travels\u201d\uff08\u300a\u683c\u5229\u4f5b\u6e38\u8bb0\u300b\uff09\u3002\u8be5\u5c0f\u8bf4\u5728\u63cf\u8ff0Gulliver\u7545\u6e38\u5c0f\u4eba\u56fd\u65f6\u78b0\u5230\u4e86\u5982\u4e0b\u7684\u4e00\u4e2a\u573a\u666f\u3002\u5728\u5c0f\u4eba\u56fd\u91cc\u7684\u5c0f\u4eba\u56e0\u4e3a\u975e\u5e38\u5c0f\uff08\u8eab\u9ad86\u82f1\u5bf8\uff09\u6240\u4ee5\u603b\u662f\u78b0\u5230\u4e00\u4e9b\u610f\u60f3\u4e0d\u5230\u7684\u95ee\u9898\u3002\u6709\u4e00\u6b21\u56e0\u4e3a\u5bf9\u6c34\u716e\u86cb\u8be5\u4ece\u5927\u7684\u4e00\u7aef\uff08Big-End\uff09\u5265\u5f00\u8fd8\u662f\u5c0f\u7684\u4e00\u7aef\uff08Little-End\uff09\u5265\u5f00\u7684\u4e89\u8bba\u800c\u5f15\u53d1\u4e86\u4e00\u573a\u6218\u4e89\uff0c\u5e76\u5f62\u6210\u4e86\u4e24\u652f\u622a\u7136\u5bf9\u7acb\u7684\u961f\u4f0d\uff1a\u652f\u6301\u4ece\u5927\u7684\u4e00\u7aef\u5265\u5f00\u7684\u4ebaSwift\u5c31\u79f0\u4f5cBig-Endians\uff0c\u800c\u652f\u6301\u4ece\u5c0f\u7684\u4e00\u7aef\u5265\u5f00\u7684\u4eba\u5c31\u79f0\u4f5cLittle-Endians\u2026\uff08\u540e\u7f00ian\u8868\u660e\u7684\u5c31\u662f\u652f\u6301\u67d0\u79cd\u89c2\u70b9\u7684\u4eba\uff09\u3002 1980\u5e74\uff0cDanny Cohen\u5728\u5176\u8457\u540d\u7684\u8bba\u6587\"On Holy Wars and a Plea for Peace\"\u4e2d\u4e3a\u4e86\u5e73\u606f\u4e00\u573a\u5173\u4e8e\u5728\u6d88\u606f\u4e2d\u5b57\u8282\u8be5\u4ee5\u4ec0\u4e48\u6837\u7684\u987a\u5e8f\u8fdb\u884c\u4f20\u9001\u7684\u4e89\u8bba\u800c\u5f15\u7528\u4e86\u8be5\u8bcd\u3002\u8be5\u6587\u4e2d\uff0cCohen\u975e\u5e38\u5f62\u8c61\u8d34\u5207\u5730\u628a\u652f\u6301\u4ece\u4e00\u4e2a\u6d88\u606f\u5e8f\u5217\u7684\u6700\u9ad8\u4f4d\u5f00\u59cb\u4f20\u9001\u7684\u90a3\u4f19\u4eba\u53eb\u505aBig-Endians\uff0c\u652f\u6301\u4ece\u6700\u4f4e\u4f4d\u5f00\u59cb\u4f20\u9001\u7684\u76f8\u5bf9\u5e94\u5730\u53eb\u505aLittle-Endians\u3002\u6b64\u540eEndian\u8fd9\u4e2a\u8bcd\u4fbf\u968f\u7740\u8fd9\u7bc7\u8bba\u6587\u800c\u88ab\u5e7f\u4e3a\u91c7\u7528\u3002</p> <p>\u4e00\u4e2a\u9e21\u86cb\u6709\u4e24\u4e2a\u7aef\uff0c\u7aef\u7684\u82f1\u6587\u662fend\uff0c\u6240\u4ee5big-endian\u5c31\u662f\u8ba4\u4e3a\u5e94\u8be5\u4ece\u5927\u7684\u7aef\u5f00\u59cb\uff0c\u653e\u5230\u5b58\u50a8\u8fd9\u91cc\uff0c\u5c31\u662f\u4ece\u6570\u636e\u9ad8\u4f4d\u5f00\u59cb\u5b58\u3002\u8fd9\u91cc\u53c8\u6e05\u695a\u4e86\u4e00\u4e2a\u6982\u5ff5\uff0c\u5728\u8bfb\u53d6\u548c\u5b58\u50a8\u6570\u636e\u7684\u65f6\u5019\u4e00\u5b9a\u90fd\u662f\u4ece\u5185\u5b58\u7684\u4f4e\u5730\u5740\u4f9d\u6b21\u5411\u9ad8\u5730\u5740\u8bfb\u53d6\u6216\u5199\u5165\u3002 \u4f7f\u7528\u82f1\u6587\u540d\u5b57\u8bb0\u5fc6\uff0cbig-end\u5c31\u662f\u4ece\u9ad8\u4f4d\u5f00\u59cb\u5b58\uff0c\u5f88\u6e05\u695a\u3002</p> <p>\u5982\u4e0b\u56fe\uff1a </p>"},{"location":"10_%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/index.html","title":"\u6570\u636e\u5206\u6790","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/index.html","title":"\u6570\u636e\u5206\u6790","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/index.html","title":"\u6570\u636e\u53ef\u89c6\u5316","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/index.html","title":"\u6570\u636e\u6e05\u6d17","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/index.html","title":"\u6570\u636e\u9884\u5904\u7406","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E7%88%AC%E8%99%AB%E7%9B%B8%E5%85%B3/index.html","title":"\u722c\u866b\u76f8\u5173","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E7%88%AC%E8%99%AB%E7%9B%B8%E5%85%B3/beautifulsoup/index.html","title":"beautifulsoup \u7528\u6cd5","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E7%88%AC%E8%99%AB%E7%9B%B8%E5%85%B3/requests/index.html","title":"requests\u7528\u6cd5","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E7%88%AC%E8%99%AB%E7%9B%B8%E5%85%B3/scrapy/index.html","title":"scrapy\u6846\u67b6","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E7%88%AC%E8%99%AB%E7%9B%B8%E5%85%B3/selenium/index.html","title":"selenium\u6846\u67b6","text":""},{"location":"10_%E5%85%B6%E4%BB%96/%E7%88%AC%E8%99%AB%E7%9B%B8%E5%85%B3/xpath/index.html","title":"xpath\u7528\u6cd5","text":""},{"location":"11_%E5%85%B3%E4%BA%8E/index.html","title":"\u5173\u4e8e","text":"<p>\u6211\u662f\u8c01</p> <p>\u6211\u4ece\u54ea\u91cc\u6765</p> <p>\u6211\u8981\u5230\u54ea\u91cc\u53bb</p>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html","title":"PythonWebInterview","text":"<ul> <li>\u5199\u5728\u524d\u9762</li> <li>\u6280\u672f\u90e8\u5206</li> <li>\u8bed\u8a00\u7279\u6027\u7bc7<ul> <li>\u8c08\u8c08 Python \u548c\u5176\u4ed6\u8bed\u8a00\u7684\u533a\u522b</li> <li>Python 2\u548c3\u7684\u533a\u522b</li> <li>\u95ed\u5305</li> <li>\u88c5\u9970\u5668</li> <li>\u8c08\u8c08GC</li> <li>GIL\u7684\u7406\u89e3</li> <li>Python\u4f20\u53c2</li> <li>\u6df1\u62f7\u8d1d\u548c\u6d45\u62f7\u8d1d</li> <li>\u9e2d\u5b50\u7c7b\u578b</li> <li>\u7334\u5b50\u8865\u4e01</li> <li>Python\u4e2d\u7684\u4f5c\u7528\u57df</li> <li>\u51fd\u6570\u5f0f\u7f16\u7a0b</li> <li>lambda\u51fd\u6570</li> <li>map\u51fd\u6570</li> <li>reduce\u51fd\u6570</li> <li>filter\u51fd\u6570</li> <li>\u8fed\u4ee3\u5668\u548c\u751f\u6210\u5668</li> <li>\u534f\u7a0b</li> <li>Python \u9762\u5bf9\u5bf9\u8c61\u7f16\u7a0b</li> <li>\u5c01\u88c5</li> <li>\u7ee7\u627f</li> <li>\u591a\u6001</li> <li>\u7c7b\u6210\u5458</li> <li>\u7c7b\u6210\u5458\u7684\u4fee\u9970\u7b26</li> <li>\u7c7b\u7684\u7279\u6b8a\u6210\u5458</li> <li>Python\u81ea\u7701\u6307\u5357</li> <li>Python \u4e2d\u7684\u5143\u7f16\u7a0b</li> <li>\u8bbe\u8ba1\u6a21\u5f0f</li> <li>\u5355\u4f8b\u6a21\u5f0f</li> <li>\u5de5\u5382\u6a21\u5f0f</li> </ul> </li> <li>\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u7bc7<ul> <li>\u6392\u5e8f\u7b97\u6cd5</li> <li>\u94fe\u8868\u7b97\u6cd5</li> <li>\u6808\u548c\u961f\u5217\u7b97\u6cd5</li> <li>\u4e8c\u53c9\u6811\u7b97\u6cd5</li> <li>\u56db\u79cd\u904d\u5386\u65b9\u5f0f</li> <li>\u4e8c\u53c9\u6811\u4e2d\u7684\u4e00\u4e9b\u91cd\u8981\u5c5e\u6027</li> <li>\u5b57\u7b26\u4e32\u7b97\u6cd5</li> <li>\u54c8\u5e0c\u7b97\u6cd5</li> <li>\u5e38\u89c1\u7b97\u6cd5\u57fa\u672c\u601d\u60f3</li> <li>\u56de\u6eaf</li> <li>\u5206\u800c\u6cbb\u4e4b</li> <li>\u52a8\u6001\u89c4\u5212</li> <li>\u5206\u652f\u754c\u9650</li> </ul> </li> <li>\u64cd\u4f5c\u7cfb\u7edf\u7bc7<ul> <li>\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u533a\u522b</li> <li>\u8c08\u8c08\u591a\u7ebf\u7a0b\u5e76\u53d1</li> <li>\u7ebf\u7a0b\u540c\u6b65\u65b9\u5f0f(Python\u4ee3\u7801\u5b9e\u73b0)</li> <li>\u7ebf\u7a0b\u72b6\u6001\u5207\u6362</li> <li>\u5206\u9875\u673a\u5236</li> <li>\u5206\u9875\u548c\u5206\u6bb5\u6709\u4ec0\u4e48\u533a\u522b\uff08\u5185\u5b58\u7ba1\u7406\uff09</li> <li>\u4ec0\u4e48\u662f\u865a\u62df\u5185\u5b58\uff1f</li> <li>\u98a0\u7c38(\u6296\u52a8)</li> <li>\u8fdb\u7a0b\u8c03\u5ea6\u7b97\u6cd5</li> <li>\u7ecf\u5178\u8fdb\u7a0b\u540c\u6b65\u95ee\u9898</li> <li>\u8fdb\u7a0b\u7684\u72b6\u6001\u8f6c\u6362</li> <li>\u8fdb\u7a0b\u95f4\u901a\u4fe1\u65b9\u5f0f</li> <li>\u50f5\u5c38\u8fdb\u7a0b\u548c\u5b64\u513f\u8fdb\u7a0b</li> <li>fork\u8fdb\u7a0b</li> <li>Socket\u7f16\u7a0b</li> <li>Linux\u7684\u4e94\u79cdIO\u6a21\u578b</li> <li>IO \u591a\u8def\u590d\u7528\u6a21\u578b</li> <li>select</li> <li>poll</li> <li>epoll</li> <li>select\u3001poll\u3001epoll\u533a\u522b</li> <li>\u8c08\u8c08\u6b7b\u9501</li> <li>\u6b7b\u9501\u7684\u6982\u5ff5</li> <li>\u6b7b\u9501\u4ea7\u751f\u7684\u539f\u56e0</li> <li>\u6b7b\u9501\u4ea7\u751f\u7684\u56db\u4e2a\u5fc5\u8981\u6761\u4ef6</li> <li>\u89e3\u51b3\u6b7b\u9501\u7684\u57fa\u672c\u65b9\u6cd5</li> </ul> </li> <li>\u8ba1\u7b97\u673a\u7f51\u7edc\u7bc7<ul> <li>\u4eceURL\u8f93\u5165\u5230\u9875\u9762\u5c55\u73b0\u5230\u5e95\u53d1\u751f\u4ec0\u4e48\uff1f</li> <li>ARP \u534f\u8bae\u5de5\u4f5c\u539f\u7406</li> <li>TCP \u4e09\u6b21\u63e1\u624b</li> <li>TCP \u56db\u6b21\u6325\u624b</li> <li>TCP \u600e\u6837\u4fdd\u8bc1\u53ef\u9760\u6027</li> <li>\u6d41\u91cf\u63a7\u5236\u548c\u62e5\u585e\u63a7\u5236</li> <li>TCP \u4e0e UDP \u7684\u533a\u522b</li> <li>HTTP\u534f\u8bae</li> <li>HTTP \u548c HTTPS \u7684\u533a\u522b</li> <li>URL\u8be6\u89e3</li> <li>HTTP \u5e38\u89c1\u65b9\u6cd5\uff08GET/PUT\uff09</li> <li>\u5b89\u5168\u6027\u548c\u5e42\u7b49\u6027</li> <li>GET\u548cPOST \u533a\u522b</li> <li>\u5e38\u89c1 HTTP \u72b6\u6001\u7801</li> <li>HTTP \u957f\u8fde\u63a5\u4e0e\u77ed\u8fde\u63a5</li> <li>\u957f\u8fde\u63a5</li> <li>\u77ed\u8fde\u63a5</li> <li>cookie \u548c session \u7684\u533a\u522b</li> <li>JSON Web Token</li> <li>IP \u5730\u5740\u7684\u5206\u7c7b</li> <li>OSI\u4e03\u5c42\u53c2\u8003\u6a21\u578b</li> </ul> </li> <li>\u6570\u636e\u5e93\u7bc7<ul> <li>\u6570\u636e\u5e93\u7cfb\u7edf\u6982\u5ff5</li> <li>\u6570\u636e\u5e93\u8303\u5f0f</li> <li>\u89c6\u56fe</li> <li>\u6e38\u6807</li> <li>\u89e6\u53d1\u5668</li> <li>\u5b58\u50a8\u8fc7\u7a0b</li> <li>MySQL \u57fa\u7840\u95ee\u9898</li> <li>\u5e38\u7528 SQL \u8bed\u53e5</li> <li>in\u4e0enot in,exists\u4e0enot exists\u7684\u533a\u522b</li> <li>drop\u3001delete \u4e0e truncate \u7684\u533a\u522b</li> <li>\u6570\u636e\u5e93\u4e8b\u52a1</li> <li>\u4e8b\u52a1\u7684\u7279\u5f81(ACID)</li> <li>\u4e8b\u52a1\u5e76\u53d1\u5e26\u6765\u7684\u95ee\u9898</li> <li>\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b</li> <li>MySQL \u7684\u4e8b\u52a1\u652f\u6301</li> <li>\u6570\u636e\u5e93\u7d22\u5f15</li> <li>\u7d22\u5f15\u7684\u4f18\u70b9\u548c\u7f3a\u70b9</li> <li>B \u6811\u548c B+ \u6811</li> <li>\u7d22\u5f15\u7684\u5206\u7c7b</li> <li>MySQL \u4e2d\u7684\u9501</li> <li>\u4e50\u89c2\u9501\u548c\u60b2\u89c2\u9501</li> <li>MySQL \u884c\u7ea7\u9501</li> <li>\u5b58\u50a8\u5f15\u64ce MyISAM \u548c InnoDB \u533a\u522b</li> <li>\u5b9e\u73b0MVCC</li> <li>\u5b9e\u8df5\u4e2d\u5982\u4f55\u4f18\u5316 MySQL</li> <li>SQL \u8bed\u53e5\u7684\u4f18\u5316</li> <li>\u7d22\u5f15\u7684\u4f18\u5316</li> <li>\u6570\u636e\u8868\u7ed3\u6784\u7684\u4f18\u5316</li> <li>Redis</li> <li>Redis\u6570\u636e\u7c7b\u578b</li> <li>Redis\u7684\u5e94\u7528\u573a\u666f</li> <li>Redis \u6301\u4e45\u5316</li> <li>\u7f13\u5b58\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u7684\u5751</li> <li>\u5176\u4ed6\u95ee\u9898</li> </ul> </li> <li>\u6700\u4f73\u5b9e\u8df5</li> <li>\u7f16\u7801\u89c4\u8303</li> <li>\u6b63\u786e\u7684\u6d41\u7a0b\u5f00\u53d1</li> <li>\u5355\u5143\u6d4b\u8bd5</li> <li>CI/CD\u5de5\u5177\u7bc7</li> <li>Git\u98de\u884c\u89c4\u5219(Flight Rules)</li> <li>Docker \u7bc7</li> <li>Web \u6269\u5c55</li> <li>Web\u5b89\u5168\u7bc7<ul> <li>DDos \u653b\u51fb</li> <li>XSS \u653b\u51fb</li> <li>SQL \u6ce8\u5165\u653b\u51fb</li> <li>\u52a0\u5bc6</li> </ul> </li> <li>Nginx\u7bc7</li> <li>Vue\u7bc7</li> <li>Django\u7bc7<ul> <li>WSGI\u3001uwsgi\u3001uWSGI \u533a\u522b</li> </ul> </li> <li>\u6b63\u5219\u8868\u8fbe\u5f0f\u7bc7</li> <li>\u5176\u4ed6</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_1","title":"\u5199\u5728\u524d\u9762","text":"<p>\u672c\u6587\u4e3b\u8981\u5185\u5bb9\u6765\u81eahttps://github.com/morsoli/python-interview-guide \uff0c\u8fdb\u884c\u4e86\u4e00\u4e9b\u4fee\u6539\u548c\u5220\u9664\u3002\u5982\u679c\u6d89\u53ca\u4fb5\u6743\u53ef\u4ee5\u8054\u7cfb\u6211\u5220\u9664\u6216\u8fdb\u884c\u6765\u6e90\u6807\u6ce8\u3002</p>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#python","title":"Python\u57fa\u7840","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#python_1","title":"\u8c08\u8c08 Python \u548c\u5176\u4ed6\u8bed\u8a00\u7684\u533a\u522b","text":"<ul> <li>Python\u662f\u5f3a\u7c7b\u578b\u3001\u52a8\u6001\u7c7b\u578b\u7684\u8bed\u8a00</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_2","title":"\u95ed\u5305","text":"<ul> <li>\u95ed\u5305\u6307\u5ef6\u4f38(\u5ef6\u4f38\u7684\u610f\u601d\u662fseriers\u5728average\u51fd\u6570\u7528\uff0c\u4f46\u5728average_nums\u4e2d\u5b9a\u4e49\u7684)\u4e86\u4f5c\u7528\u57df\u7684\u51fd\u6570\uff0c\u8bbf\u95ee\u5b9a\u4e49\u4f53\u4e4b\u5916\u5b9a\u4e49\u7684\u975e\u5168\u5c40\u53d8\u91cf\u3002\u521b\u5efa\u4e00\u4e2a\u95ed\u5305\u5fc5\u987b\u6ee1\u8db3\u4ee5\u4e0b\u51e0\u70b9:<ul> <li>\u5fc5\u987b\u6709\u4e00\u4e2a\u5185\u5d4c\u51fd\u6570</li> <li>\u5185\u5d4c\u51fd\u6570\u5fc5\u987b\u5f15\u7528\u5916\u90e8\u51fd\u6570\u4e2d\u7684\u53d8\u91cf</li> <li>\u5916\u90e8\u51fd\u6570\u7684\u8fd4\u56de\u503c\u5fc5\u987b\u662f\u5185\u5d4c\u51fd\u6570 <pre><code>def average_num():\n    series=[]\n    def average(num):\n        # series\u81ea\u7531\u53d8\u91cf,\u672a\u5728\u672c\u5730\u4f5c\u7528\u57df\u7ed1\u5b9a\n        series.append(num)\n        return sum(series)/len(series)\n    return average\naver=average_num()\n</code></pre></li> </ul> </li> <li>nonlocal \u5173\u952e\u5b57\u5c06\u53d8\u91cfcount\uff0ctotal \u624b\u52a8\u6807\u8bb0\u4e3a\u81ea\u7531\u53d8\u91cf <pre><code>def average_num():\n    count=0\n    total=0\n    def average(num):\n        nonlocal total,count\n        total+=num\n        count+=1\n        return total/count\n    return average\naver=average_num()\nprint(aver(10))\n</code></pre></li> <li>\u987a\u4fbf\u63d0\u4e0b global \u5173\u952e\u5b57\uff0cPython \u9ed8\u8ba4\u51fd\u6570\u5b9a\u4e49\u4f53\u4e2d\u8d4b\u503c\u7684\u53d8\u91cf\u662f\u5c40\u90e8\u53d8\u91cf\uff0c\u6240\u4ee5\u8981\u5728\u51fd\u6570\u4e2d\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\uff0c\u987b\u7528global\u58f0\u660e\u3002(\u4e0b\u9762\u8fd9\u53e5\u53bb\u6389global\u5c31\u4f1a\u62a5\u9519\uff0c<code>local variable 'b' referenced before assignment</code>) <pre><code>b=9\ndef test(a):\n    print(a)\n    global b\n    print(b)\n    b=6\ntest(3)\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_3","title":"\u88c5\u9970\u5668","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>\u7406\u89e3 Python \u88c5\u9970\u5668\u770b\u8fd9\u4e00\u7bc7\u5c31\u591f\u4e86</li> </ul> </li> <li>\u95ed\u5305\u7684\u4e00\u4e2a\u91cd\u8981\u5e94\u7528\u5c31\u662f\u88c5\u9970\u5668\uff0c\u51fd\u6570\u88c5\u9970\u5668\u5728\u5bfc\u5165\u6a21\u5757\u65f6\u7acb\u5373\u6267\u884c\uff0c\u88ab\u88c5\u9970\u7684\u51fd\u6570\u53ea\u5728\u660e\u786e\u8c03\u7528\u65f6\u6267\u884c\u3002\u88c5\u9970\u5668\u91c7\u7528\u8bed\u6cd5\u7cd6\uff0c\u4f7f\u7528\u65b9\u4fbf\uff0c\u7528\u9014\u591a\u6837\uff0c\u65e2\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5728\u88c5\u9970\u5668\u4e2d\u6307\u5b9a\u65e5\u5fd7\u7ea7\u522b\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b98\u65b9\u63d0\u4f9b\u7684\u9884\u6fc0\u534f\u7a0b\u88c5\u9970\u5668\u7b49\u7b49\u3002 <pre><code># \u624b\u52a8\u5b9e\u73b0\u4e00\u4e2a\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668\nimport time\n\ndef rate_limit(max_requests, time_window):\n    def decorator(func):\n        requests = []\n\n        def wrapper(*args, **kwargs):\n            now = time.time()\n            # \u79fb\u9664\u8d85\u51fa\u65f6\u95f4\u7a97\u53e3\u7684\u8bf7\u6c42\u8bb0\u5f55\n            while requests and now - requests[0] &gt; time_window:\n                requests.pop(0)\n            if len(requests) &gt;= max_requests:\n                print(\"Rate limit exceeded. Please try again later.\")\n                return\n            requests.append(now)\n            return func(*args, **kwargs)\n\n        return wrapper\n\n    return decorator\n\n# \u9650\u5236\u6bcf5\u79d2\u5185\u53ea\u80fd\u67092\u6b21\u8bf7\u6c42\n@rate_limit(max_requests=2, time_window=5)\ndef process_request(request):\n    print(\"Processing request:\", request)\n\n# \u6d4b\u8bd5\nfor i in range(5):\n    process_request(i)\n    time.sleep(1)\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#gc","title":"\u8c08\u8c08GC","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>Python \u8fdb\u9636\uff1a\u6d45\u6790\u300c\u5783\u573e\u56de\u6536\u673a\u5236\u300d(\u4e0a\u7bc7)</li> </ul> </li> <li>\u4e3b\u8981\u4f7f\u7528**\u5f15\u7528\u8ba1\u6570**\u8fdb\u884c\u5783\u573e\u56de\u6536</li> <li>\u901a\u8fc7**\u6807\u8bb0-\u6e05\u7406**\u89e3\u51b3\u5bb9\u5668\u5bf9\u8c61\u4ea7\u751f\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898</li> <li>\u901a\u8fc7**\u5206\u4ee3\u56de\u6536**\u4ee5\u7a7a\u95f4\u6362\u65f6\u95f4\u7684\u65b9\u5f0f\u6765\u63d0\u9ad8\u5783\u573e\u56de\u6536\u7684\u6548\u7387</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#gil","title":"GIL\u7684\u7406\u89e3","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>python\u4e2d\u7684GIL\u8be6\u89e3</li> <li>\u6df1\u5165\u4e86\u89e3GIL\u9501(\u6700\u8be6\u7ec6)</li> </ul> </li> <li>GIL\u662f\u4e00\u4e2a\u9632\u6b62\u591a\u7ebf\u7a0b\u5e76\u53d1\u6267\u884c\u673a\u5668\u7801\u7684Mutex\uff1acpython\u89e3\u91ca\u5668\u7684\u5185\u5b58\u7ba1\u7406\u4e0d\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u4fdd\u62a4\u591a\u7ebf\u7a0b\u60c5\u51b5\u4e0b\u5bf9python\u5bf9\u8c61\u7684\u8bbf\u95ee\uff0ccpython\u4f7f\u7528\u7b80\u5355\u7684\u9501\u673a\u5236\u907f\u514d\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c\u5b57\u8282\u7801\u3002</li> <li>\u7f3a\u9677 \uff1a\u9650\u5236\u7a0b\u5e8f\u7684\u591a\u6838\u6267\u884c\uff0c\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u5b57\u8282\u7801\uff0cCPU\u5bc6\u96c6\u578b\u7a0b\u5e8f\uff08\u5927\u91cf\u65f6\u95f4\u82b1\u5728\u8ba1\u7b97\u4e0a\uff09\u96be\u4ee5\u5229\u7528\u591a\u6838\u4f18\u52bf\uff1b\u4f46\u662fIO\u671f\u95f4\u4f1a\u91ca\u653eGIL\uff0c\u5bf9IO\u5bc6\u96c6\u578b\u7a0b\u5e8f(\u5927\u91cf\u65f6\u95f4\u82b1\u5728\u7f51\u7edc\u4f20\u8f93\u4e0a\uff0c\u8d44\u6e90\u8c03\u5ea6)\u5f71\u54cd\u5c0f\u3002</li> <li>\u89c4\u907f\u5f71\u54cd\u7b56\u7565\uff1aCPU\u5bc6\u96c6\u578b\u4f7f\u7528\u591a\u8fdb\u7a0b+\u8fdb\u7a0b\u6c60\uff0cIO\u5bc6\u96c6\u578b\u91c7\u7528\u591a\u7ebf\u7a0b/\u534f\u7a0b\u7684\u7b56\u7565\uff1bcython\u6269\u5c55\uff08\u5c06python\u8f6c\u6362\u4e3ac\u4ee3\u7801\uff09</li> <li>GIL\u91ca\u653e\uff1a</li> <li>1.\u7cfb\u7edf\u5206\u914d\u7684\u65f6\u95f4\u7247\u7528\u5b8c\u91ca\u653e,\u9ed8\u8ba4\u662f15ms\u3002</li> <li>2.IO\u64cd\u4f5c\u65f6\u91ca\u653e\u3002</li> <li>\u4e00\u4e2a\u64cd\u4f5c\u5982\u679c\u662f\u4e00\u4e2a\u5b57\u8282\u7801\u6307\u4ee4\u53ef\u4ee5\u5b8c\u6210\u5c31\u662f\u539f\u5b50\u7684\uff0c\u539f\u5b50\u64cd\u4f5c\u662f\u53ef\u4ee5\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u6709\u4e86GIL\u4e4b\u540e\u4ecd\u7136\u8981\u5173\u6ce8\u7ebf\u7a0b\u5b89\u5168\uff0c\u5fc5\u8981\u65f6\u5019\u9700\u4eba\u4e3a\u52a0\u9501\u3002 <pre><code>import threading\nlock=threading.Lock()\nn=[0]\ndef demo():\n    #with lock:\n    n[0]=n[0]+1\nthreads=[]\nfor i in range(5000):\n    t=threading.Thread(target=demo)\n    threads.append(t)\nfor t in threads:\n    t.start()\nprint(n)\n</code></pre></li> <li>\u5256\u6790\u7a0b\u5e8f\u6027\u80fd\uff1a\u5185\u7f6eprofile/cprofile\u5de5\u5177</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#python_2","title":"Python\u4f20\u53c2","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>Python\u4f20\u5165\u53c2\u6570\u7684\u51e0\u79cd\u65b9\u6cd5</li> </ul> </li> <li>Python\u4e2d\u53c2\u6570\u4f20\u9012\u65b9\u5f0f\uff1a\u4f4d\u7f6e\u4f20\u9012\u3001\u9ed8\u8ba4\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u3001\u5173\u952e\u5b57\u53c2\u6570\u3001\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570</li> <li>Python \u51fd\u6570\u53c2\u6570\u4f20\u9012\u5b9e\u9645\u53eb\u8d4b\u503c\u4f20\u9012\uff0c\u4e0d\u662f\u4f20\u503c\u4e5f\u4e0d\u662f\u4f20\u5f15\u7528\u3002\u5177\u4f53\u53c2\u8003Python\u53c2\u6570\u4f20\u9012-\u8d4b\u503c\u4f20\u9012</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_4","title":"\u6df1\u62f7\u8d1d\u548c\u6d45\u62f7\u8d1d","text":"<ul> <li>\u6d45\u62f7\u8d1d(copy)\u62f7\u8d1d\u7236\u5bf9\u8c61\uff0c\u4e0d\u4f1a\u62f7\u8d1d\u5bf9\u8c61\u7684\u5185\u90e8\u7684\u5b50\u5bf9\u8c61\u3002\u6df1\u62f7\u8d1d(deepcopy)\u5b8c\u5168\u62f7\u8d1d\u4e86\u7236\u5bf9\u8c61\u53ca\u5176\u5b50\u5bf9\u8c61\u3002 <pre><code>import copy\na = [1, 2, 3, 4, ['a', 'b']] #\u539f\u59cb\u5bf9\u8c61\nb = a                       #\u8d4b\u503c\uff0c\u4f20\u5bf9\u8c61\u7684\u5f15\u7528\nc = copy.copy(a)            #\u5bf9\u8c61\u62f7\u8d1d\uff0c\u6d45\u62f7\u8d1d\nd = copy.deepcopy(a)        #\u5bf9\u8c61\u62f7\u8d1d\uff0c\u6df1\u62f7\u8d1d\na.append(5)                 #\u4fee\u6539\u5bf9\u8c61a\na[4].append('c')            #\u4fee\u6539\u5bf9\u8c61a\u4e2d\u7684['a', 'b']\u6570\u7ec4\u5bf9\u8c61\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_5","title":"\u9e2d\u5b50\u7c7b\u578b","text":"<ul> <li>\u9e2d\u5b50\u7c7b\u578b\u5c31\u662f\uff1a\u5982\u679c\u8d70\u8d77\u8def\u6765\u50cf\u9e2d\u5b50\uff0c\u53eb\u8d77\u6765\u4e5f\u50cf\u9e2d\u5b50\uff0c\u90a3\u4e48\u5b83\u5c31\u662f\u9e2d\u5b50\uff08If it walks like a duck and quacks like a duck, it must be a duck\uff09\u3002\u9e2d\u5b50\u7c7b\u578b\u662f\u7f16\u7a0b\u8bed\u8a00\u4e2d\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\u4e2d\u7684\u4e00\u79cd\u8bbe\u8ba1\u98ce\u683c\uff0c\u4e00\u4e2a\u5bf9\u8c61\u7684\u7279\u5f81\u4e0d\u662f\u7531\u7236\u7c7b\u51b3\u5b9a\uff0c\u800c\u662f\u901a\u8fc7\u5bf9\u8c61\u7684\u65b9\u6cd5\u51b3\u5b9a\u7684\u3002\uff08\u91cd\u70b9\u5173\u6ce8\u63a5\u53e3\uff0c\u4e0d\u5173\u6ce8\u5bf9\u8c61\uff09 <pre><code>class Dog(Animal):\n    def run(self):\n        print('Dog is running...')\n\nclass Cat(Animal):\n    def run(self):\n        print('Cat is running...')\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_6","title":"\u7334\u5b50\u8865\u4e01","text":"<ul> <li>Monkey patch\u5c31\u662f\u5728\u8fd0\u884c\u65f6\u5bf9\u5df2\u6709\u7684\u4ee3\u7801\u8fdb\u884c\u4fee\u6539\uff0c\u8fbe\u5230hot patch\u7684\u76ee\u7684\u3002\u8fd0\u884c\u65f6\u52a8\u6001\u66ff\u6362\u6a21\u5757\u7684\u65b9\u6cd5\uff0c\u8fd0\u884c\u65f6\u52a8\u6001\u589e\u52a0\u6a21\u5757\u7684\u65b9\u6cd5\uff08\u614e\u7528\uff09 <pre><code>class Foo(object):\n    def bar(self):\n        print('Foo.bar')\ndef bar(self):\n    print('Modified bar')\nFoo().bar()\nFoo.bar = bar\nFoo().bar()\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#python_3","title":"Python\u4e2d\u7684\u4f5c\u7528\u57df","text":"<ul> <li>Python\u7684\u4f5c\u7528\u57df\u4e00\u5171\u67094\u79cd: L \uff08Local\uff09 \u5c40\u90e8\u4f5c\u7528\u57df\uff0cE \uff08Enclosing\uff09 \u95ed\u5305\u51fd\u6570\u5916\u7684\u51fd\u6570\u4e2d\uff0cG \uff08Global\uff09 \u5168\u5c40\u4f5c\u7528\u57df\uff0cB \uff08Built-in\uff09 \u5185\u5efa\u4f5c\u7528\u57df\u3002\u4ee5 L \u2013&gt; E \u2013&gt; G \u2013&gt;B \u7684\u89c4\u5219\u67e5\u627e\uff0c\u5373\uff1a\u5728\u5c40\u90e8\u627e\u4e0d\u5230\uff0c\u4fbf\u4f1a\u53bb\u5c40\u90e8\u5916\u7684\u5c40\u90e8\u627e\uff08\u4f8b\u5982\u95ed\u5305\uff09\uff0c\u518d\u627e\u4e0d\u5230\u5c31\u4f1a\u53bb\u5168\u5c40\u627e\uff0c\u518d\u8005\u53bb\u5185\u5efa\u4e2d\u627e\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_7","title":"\u51fd\u6570\u5f0f\u7f16\u7a0b","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#lambda","title":"lambda\u51fd\u6570","text":"<ul> <li>lambda \u5b9a\u4e49\u4e86\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff0clambda \u5e76\u4e0d\u4f1a\u5e26\u6765\u7a0b\u5e8f\u8fd0\u884c\u6548\u7387\u7684\u63d0\u9ad8\uff0c\u53ea\u4f1a\u4f7f\u4ee3\u7801\u66f4\u7b80\u6d01\u3002\u4f7f\u7528lambda\u5185\u4e0d\u8981\u5305\u542b\u5faa\u73af\uff0c\u5982\u679c\u6709\uff0c\u5b9a\u4e49\u51fd\u6570\u6765\u5b8c\u6210\uff0c\u4f7f\u4ee3\u7801\u83b7\u5f97\u53ef\u91cd\u7528\u6027\u548c\u66f4\u597d\u7684\u53ef\u8bfb\u6027\u3002lambda \u662f\u4e3a\u4e86\u51cf\u5c11\u5355\u884c\u51fd\u6570\u7684\u5b9a\u4e49\u800c\u5b58\u5728\u7684\u3002 <pre><code> list(map(lambda x: x * x, [1, 2, 3, 4, 5, 6, 7, 8, 9]))\n# [1, 4, 9, 16, 25, 36, 49, 64, 81]\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#map","title":"map\u51fd\u6570","text":"<ul> <li>map()\u51fd\u6570\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff0c\u4e00\u4e2a\u662f\u51fd\u6570\uff0c\u4e00\u4e2a\u662fIterable\uff0cmap\u5c06\u4f20\u5165\u7684\u51fd\u6570\u4f9d\u6b21\u4f5c\u7528\u5230\u5e8f\u5217\u7684\u6bcf\u4e2a\u5143\u7d20\uff0c\u5e76\u628a\u7ed3\u679c\u4f5c\u4e3a\u65b0\u7684Iterator\u8fd4\u56de\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#reduce","title":"reduce\u51fd\u6570","text":"<ul> <li>reduce\u628a\u4e00\u4e2a\u51fd\u6570\u4f5c\u7528\u5728\u4e00\u4e2a\u5e8f\u5217[x1, x2, x3, ...]\u4e0a\uff0c\u8fd9\u4e2a\u51fd\u6570\u5fc5\u987b\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff0creduce\u628a\u7ed3\u679c\u7ee7\u7eed\u548c\u5e8f\u5217\u7684\u4e0b\u4e00\u4e2a\u5143\u7d20\u505a\u7d2f\u79ef\u8ba1\u7b97\uff0c\u5176\u6548\u679c\u5c31\u662f\uff1a <code>reduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4)</code></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#filter","title":"filter\u51fd\u6570","text":"<ul> <li>filter()\u51fd\u6570\u7528\u4e8e\u8fc7\u6ee4\u5e8f\u5217\u3002filter()\u63a5\u6536\u4e00\u4e2a\u51fd\u6570\u548c\u4e00\u4e2a\u5e8f\u5217\uff0c\u628a\u4f20\u5165\u7684\u51fd\u6570\u4f9d\u6b21\u4f5c\u7528\u4e8e\u6bcf\u4e2a\u5143\u7d20\uff0c\u7136\u540e\u6839\u636e\u8fd4\u56de\u503c\u662fTrue\u8fd8\u662fFalse\u51b3\u5b9a\u4fdd\u7559\u8fd8\u662f\u4e22\u5f03\u8be5\u5143\u7d20\u3002 <pre><code>def is_odd(n):\n    return n % 2 == 1\nlist(filter(is_odd, [1, 2, 4, 5, 6, 9, 10, 15]))\n# \u7ed3\u679c: [1, 5, 9, 15]\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_8","title":"\u8fed\u4ee3\u5668\u548c\u751f\u6210\u5668","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>Python\u4e2d\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3001\u8fed\u4ee3\u5668\u548c\u751f\u6210\u5668\u7684\u5f02\u540c\u70b9 </li> </ul> </li> <li>\u53ef\u8fed\u4ee3\u5bf9\u8c61\u548c\u5bb9\u5668\u4e00\u6837\u662f\u4e00\u79cd\u901a\u4fd7\u7684\u53eb\u6cd5\uff0c\u5e76\u4e0d\u662f\u6307\u67d0\u79cd\u5177\u4f53\u7684\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u8fed\u4ee3\u5bf9\u8c61\u5b9e\u73b0\u4e86__iter__\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\u5bf9\u8c61\u3002</li> <li>\u8fed\u4ee3\u5668\u6709\u4e00\u79cd\u5177\u4f53\u7684\u8fed\u4ee3\u5668\u7c7b\u578b\uff0c\u5b83\u662f\u4e00\u4e2a\u5e26\u72b6\u6001\u7684\u5bf9\u8c61\uff0c\u4ed6\u80fd\u5728\u4f60\u8c03\u7528next()\u65b9\u6cd5\u7684\u65f6\u5019\u8fd4\u56de\u5bb9\u5668\u4e2d\u7684\u4e0b\u4e00\u4e2a\u503c\uff0c\u8fed\u4ee3\u5668\u4e0d\u4f1a\u4e00\u6b21\u6027\u628a\u6240\u6709\u5143\u7d20\u52a0\u8f7d\u5230\u5185\u5b58\uff0c\u800c\u662f\u9700\u8981\u7684\u65f6\u5019\u624d\u751f\u6210\u8fd4\u56de\u7ed3\u679c(\u4e0d\u540c\u4e8e\u5bb9\u5668)\u3002\u4efb\u4f55\u5b9e\u73b0\u4e86__iter__\u548c__next__()\u65b9\u6cd5\u7684\u5bf9\u8c61\u90fd\u662f\u8fed\u4ee3\u5668\uff0c__iter__\u8fd4\u56de\u8fed\u4ee3\u5668\u81ea\u8eab\uff0c__next__\u8fd4\u56de\u5bb9\u5668\u4e2d\u7684\u4e0b\u4e00\u4e2a\u503c\uff0c\u5982\u679c\u5bb9\u5668\u4e2d\u6ca1\u6709\u66f4\u591a\u5143\u7d20\u4e86\uff0c\u5219\u629b\u51faStopIteration\u5f02\u5e38\u3002\u8fed\u4ee3\u5668\u6bcf\u6b21\u8c03\u7528next()\u65b9\u6cd5\u7684\u65f6\u5019\u505a\u4e24\u4ef6\u4e8b\uff1a\u4e3a\u4e0b\u4e00\u6b21\u8c03\u7528next()\u65b9\u6cd5\u4fee\u6539\u72b6\u6001\uff0c\u751f\u6210\u5f53\u524d\u8c03\u7528\u7684\u8fd4\u56de\u7ed3\u679c\u3002</li> <li>\u751f\u6210\u5668\u5176\u5b9e\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u8fed\u4ee3\u5668\uff0c\u8fd9\u79cd\u8fed\u4ee3\u5668\u66f4\u52a0\u4f18\u96c5\uff0c\u5b83\u4e0d\u9700\u8981\u5199__iter__()\u548c__next__()\u65b9\u6cd5\u4e86\uff0c\u53ea\u9700\u8981\u4e00\u4e2ayiled\u5173\u952e\u5b57\uff0c \u751f\u6210\u5668\u4e00\u5b9a\u662f\u8fed\u4ee3\u5668\uff08\u53cd\u4e4b\u4e0d\u6210\u7acb\uff09\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_9","title":"\u534f\u7a0b","text":"<p>\u534f\u7a0b\uff08Coroutines\uff09\u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u5e76\u53d1\u7f16\u7a0b\u65b9\u5f0f\uff0c\u7528\u4e8e\u5728\u5355\u7ebf\u7a0b\u4e2d\u5b9e\u73b0\u591a\u4e2a\u51fd\u6570\u7684\u5e76\u53d1\u6267\u884c\u3002\u534f\u7a0b\u5141\u8bb8\u5728\u51fd\u6570\u6267\u884c\u8fc7\u7a0b\u4e2d\u6682\u505c\uff0c\u5e76\u5728\u4e4b\u540e\u6062\u590d\u6267\u884c\uff0c\u4ece\u800c\u5b9e\u73b0\u975e\u62a2\u5360\u5f0f\u7684\u591a\u4efb\u52a1\u5904\u7406\u3002\u5728Python\u4e2d\uff0c\u534f\u7a0b\u53ef\u4ee5\u4f7f\u7528<code>async</code>\u548c<code>await</code>\u5173\u952e\u5b57\u6765\u5b9a\u4e49\u548c\u7ba1\u7406\u3002</p> <p>\u9002\u7528\u573a\u666f\uff1a</p> <ol> <li> <p>\u9ad8\u5e76\u53d1\u7f51\u7edc\u5e94\u7528\uff1a \u534f\u7a0b\u9002\u7528\u4e8e\u9ad8\u5e76\u53d1\u7f51\u7edc\u5e94\u7528\uff0c\u5982Web\u670d\u52a1\u5668\u3002\u901a\u8fc7\u4f7f\u7528\u534f\u7a0b\uff0c\u53ef\u4ee5\u5728\u4e00\u4e2a\u7ebf\u7a0b\u5185\u5904\u7406\u591a\u4e2a\u5ba2\u6237\u7aef\u8bf7\u6c42\uff0c\u4ece\u800c\u51cf\u5c11\u7ebf\u7a0b\u5207\u6362\u548c\u7ebf\u7a0b\u5f00\u9500\uff0c\u63d0\u9ad8\u5e76\u53d1\u5904\u7406\u80fd\u529b\u3002</p> </li> <li> <p>\u5f02\u6b65I/O\u64cd\u4f5c\uff1a \u534f\u7a0b\u9002\u7528\u4e8e\u9700\u8981\u5927\u91cfI/O\u64cd\u4f5c\u7684\u60c5\u51b5\uff0c\u5982\u6587\u4ef6\u8bfb\u5199\u3001\u6570\u636e\u5e93\u67e5\u8be2\u7b49\u3002\u534f\u7a0b\u53ef\u4ee5\u5728\u7b49\u5f85I/O\u64cd\u4f5c\u65f6\u91ca\u653e\u63a7\u5236\u6743\uff0c\u5141\u8bb8\u5176\u4ed6\u534f\u7a0b\u6267\u884c\uff0c\u4ece\u800c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u541e\u5410\u91cf\u3002</p> </li> <li> <p>\u4e8b\u4ef6\u9a71\u52a8\u7f16\u7a0b\uff1a \u534f\u7a0b\u9002\u7528\u4e8e\u4e8b\u4ef6\u9a71\u52a8\u7684\u7f16\u7a0b\u6a21\u578b\uff0c\u5982\u56fe\u5f62\u754c\u9762\u5e94\u7528\u3001\u6e38\u620f\u5f15\u64ce\u7b49\u3002\u534f\u7a0b\u53ef\u4ee5\u5904\u7406\u4e8b\u4ef6\u7684\u56de\u8c03\u903b\u8f91\uff0c\u800c\u4e0d\u9700\u8981\u521b\u5efa\u5927\u91cf\u7684\u56de\u8c03\u51fd\u6570\u3002</p> </li> <li> <p>\u6279\u91cf\u5904\u7406\u4efb\u52a1\uff1a \u534f\u7a0b\u9002\u7528\u4e8e\u6279\u91cf\u5904\u7406\u4efb\u52a1\u7684\u60c5\u51b5\uff0c\u5982\u6570\u636e\u5904\u7406\u3001\u722c\u866b\u7b49\u3002\u534f\u7a0b\u53ef\u4ee5\u5e76\u53d1\u6267\u884c\u591a\u4e2a\u4efb\u52a1\uff0c\u4ece\u800c\u52a0\u901f\u4efb\u52a1\u7684\u5904\u7406\u8fc7\u7a0b\u3002</p> </li> </ol> <p>\u4e3a\u4f55\u8fd8\u9700\u8981\u534f\u7a0b\uff1a</p> <p>\u5c3d\u7ba1\u7ebf\u7a0b\u63d0\u4f9b\u4e86\u4e00\u79cd\u5e76\u53d1\u5904\u7406\u65b9\u5f0f\uff0c\u4f46\u7ebf\u7a0b\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\uff0c\u5982\u7ebf\u7a0b\u5207\u6362\u5f00\u9500\u9ad8\u3001\u7ebf\u7a0b\u5b89\u5168\u7b49\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u534f\u7a0b\u6709\u4ee5\u4e0b\u4f18\u52bf\uff1a</p> <ol> <li> <p>\u8f7b\u91cf\u7ea7\uff1a \u534f\u7a0b\u6bd4\u7ebf\u7a0b\u66f4\u52a0\u8f7b\u91cf\u7ea7\uff0c\u5360\u7528\u7684\u5185\u5b58\u548c\u8d44\u6e90\u66f4\u5c11\u3002</p> </li> <li> <p>\u65e0\u9700\u7ebf\u7a0b\u9501\uff1a \u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\uff0c\u9700\u8981\u8003\u8651\u7ebf\u7a0b\u5b89\u5168\u548c\u9501\u7684\u95ee\u9898\u3002\u800c\u534f\u7a0b\u5728\u5355\u7ebf\u7a0b\u4e2d\u6267\u884c\uff0c\u4e0d\u9700\u8981\u989d\u5916\u7684\u7ebf\u7a0b\u540c\u6b65\u673a\u5236\u3002</p> </li> <li> <p>\u66f4\u5bb9\u6613\u7ba1\u7406\uff1a \u7531\u4e8e\u534f\u7a0b\u5728\u5355\u7ebf\u7a0b\u4e2d\u6267\u884c\uff0c\u56e0\u6b64\u907f\u514d\u4e86\u591a\u7ebf\u7a0b\u4e2d\u7684\u7ade\u4e89\u6761\u4ef6\u548c\u6b7b\u9501\u95ee\u9898\uff0c\u4f7f\u5f97\u5e76\u53d1\u7f16\u7a0b\u66f4\u5bb9\u6613\u7ba1\u7406\u548c\u8c03\u8bd5\u3002</p> </li> <li> <p>\u9ad8\u6548\u7684I/O\u64cd\u4f5c\uff1a \u534f\u7a0b\u53ef\u4ee5\u5145\u5206\u5229\u7528I/O\u64cd\u4f5c\u7684\u7b49\u5f85\u65f6\u95f4\uff0c\u4ece\u800c\u5b9e\u73b0\u9ad8\u6548\u7684\u975e\u963b\u585eI/O\u64cd\u4f5c\u3002</p> </li> </ol> <p>\u793a\u4f8b\uff1a\u7f51\u7edc\u722c\u866b\u7a0b\u5e8f</p> <ol> <li> <p>\u542b\u4e49\uff1a \u534f\u7a0b\u662f\u4e00\u79cd\u975e\u62a2\u5360\u5f0f\u7684\u5e76\u53d1\u7f16\u7a0b\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e2d\u5b9e\u73b0\u591a\u4e2a\u51fd\u6570\u7684\u5e76\u53d1\u6267\u884c\u3002\u5728\u7f51\u7edc\u722c\u866b\u4e2d\uff0c\u534f\u7a0b\u5141\u8bb8\u4f60\u540c\u65f6\u53d1\u9001\u591a\u4e2aHTTP\u8bf7\u6c42\u5e76\u5904\u7406\u54cd\u5e94\u3002</p> </li> <li> <p>\u9002\u7528\u573a\u666f\uff1a \u7f51\u7edc\u722c\u866b\u7a0b\u5e8f\u9700\u8981\u4ece\u591a\u4e2a\u7f51\u9875\u4e0a\u83b7\u53d6\u6570\u636e\uff0c\u800c\u7f51\u9875\u7684\u4e0b\u8f7d\u548c\u5904\u7406\u662fI/O\u5bc6\u96c6\u578b\u64cd\u4f5c\u3002\u534f\u7a0b\u53ef\u4ee5\u5728\u7b49\u5f85\u4e00\u4e2a\u7f51\u9875\u4e0b\u8f7d\u65f6\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u534f\u7a0b\uff0c\u4ece\u800c\u5145\u5206\u5229\u7528\u7b49\u5f85\u65f6\u95f4\u3002</p> </li> <li> <p>\u4e3a\u4f55\u9700\u8981\u534f\u7a0b\uff1a \u5c3d\u7ba1\u53ef\u4ee5\u4f7f\u7528\u591a\u7ebf\u7a0b\u5b9e\u73b0\u5e76\u53d1\u4e0b\u8f7d\uff0c\u4f46\u7ebf\u7a0b\u5207\u6362\u548c\u7ebf\u7a0b\u5b89\u5168\u7684\u95ee\u9898\u53ef\u80fd\u4f1a\u5bfc\u81f4\u590d\u6742\u7684\u7f16\u7a0b\u548c\u8c03\u8bd5\u3002\u800c\u534f\u7a0b\u53ef\u4ee5\u5728\u5355\u7ebf\u7a0b\u4e2d\u5b9e\u73b0\u9ad8\u5e76\u53d1\u4e0b\u8f7d\uff0c\u907f\u514d\u7ebf\u7a0b\u5207\u6362\u5f00\u9500\u548c\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u3002</p> </li> </ol> <p><pre><code>import asyncio\nimport aiohttp\n\nasync def fetch_url(url):\n    async with aiohttp.ClientSession() as session:\n        async with session.get(url) as response:\n            return await response.text()\n\nasync def main():\n    urls = ['https://example.com', 'https://google.com', 'https://github.com']\n    tasks = [fetch_url(url) for url in urls]\n    responses = await asyncio.gather(*tasks)\n\n    for url, response in zip(urls, responses):\n        print(f\"Response from {url}: {len(response)} bytes\")\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c<code>fetch_url</code>\u51fd\u6570\u4f7f\u7528<code>aiohttp</code>\u5e93\u53d1\u9001\u5f02\u6b65HTTP\u8bf7\u6c42\uff0c\u800c<code>main</code>\u51fd\u6570\u521b\u5efa\u4e86\u591a\u4e2a\u534f\u7a0b\u6765\u5e76\u53d1\u6267\u884c\u3002\u6bcf\u4e2a\u534f\u7a0b\u5728\u7b49\u5f85HTTP\u54cd\u5e94\u65f6\u4f1a\u5207\u6362\u5230\u5176\u4ed6\u534f\u7a0b\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u9ad8\u5e76\u53d1\u7684\u7f51\u7edc\u722c\u866b\u3002</p>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#python_4","title":"Python \u9762\u5bf9\u5bf9\u8c61\u7f16\u7a0b","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_10","title":"\u5c01\u88c5","text":"<ul> <li>\u5c06\u5185\u5bb9\u5c01\u88c5\u5230\u67d0\u5904</li> <li>\u4ece\u67d0\u5904\u8c03\u7528\u88ab\u5c01\u88c5\u7684\u5185\u5bb9 <pre><code>class Person:\n    def __init__(self,name,age):\n        self.name=name\n        self.age=age\n\n# \u521d\u59cb\u5316\u4e00\u4e2a\u5b9e\u4f8b\u65f6\u8c03\u7528__init__\u65b9\u6cd5\ntim=Person('Tim',18)\n# \u5c06Bob,16\u5206\u5e03\u5c01\u88c5\u5230bob\u7684name\u548cage\u5c5e\u6027\u4e2d\nbob=Person('Bob',16)\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_11","title":"\u7ee7\u627f","text":"<ul> <li>\u5bf9\u4e8e\u9762\u5411\u5bf9\u8c61\u7684\u7ee7\u627f\u6765\u8bf4\uff0c\u5176\u5b9e\u5c31\u662f\u5c06\u591a\u4e2a\u7c7b\u5171\u6709\u7684\u65b9\u6cd5\u63d0\u53d6\u5230\u7236\u7c7b\u4e2d\uff0c\u5b50\u7c7b\u4ec5\u9700\u7ee7\u627f\u7236\u7c7b\u800c\u4e0d\u5fc5\u4e00\u4e00\u5b9e\u73b0\u6bcf\u4e2a\u65b9\u6cd5\u3002Python\u7684\u7c7b\u5982\u679c\u7ee7\u627f\u4e86\u591a\u4e2a\u7c7b\uff0c\u90a3\u4e48\u5176\u5bfb\u627e\u65b9\u6cd5\u7684\u65b9\u5f0f\uff08\u5373MRO,method resolution order (\u65b9\u6cd5\u89e3\u6790\u987a\u5e8f)\uff0c\u5728\u4e0a\u8ff0\u67e5\u627e\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u65e6\u627e\u5230\uff0c\u5219\u5bfb\u627e\u8fc7\u7a0b\u7acb\u5373\u4e2d\u65ad\uff0c\u4fbf\u4e0d\u4f1a\u518d\u7ee7\u7eed\u627e\u4e86\uff09\u6709\u4e24\u79cd\uff0c\u53ef\u4ee5\u5206\u522b\u7c97\u7565\u7406\u89e3\u4e3a\uff1a\u6df1\u5ea6\u4f18\u5148\u548c\u5e7f\u5ea6\u4f18\u5148\u3002\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\u53ef\u4ee5\u770b\u8fd9\u7bc7python\u591a\u91cd\u7ee7\u627fC3\u7b97\u6cd5<ul> <li>\u5f53\u7c7b\u662f\u7ecf\u5178\u7c7b\u65f6\uff0c\u591a\u7ee7\u627f\u60c5\u51b5\u4e0b\uff0c\u4f1a\u6309\u7167\u6df1\u5ea6\u4f18\u5148\u65b9\u5f0f\u67e5\u627e\uff0cPython 2.x\u4e2d\u9ed8\u8ba4\u90fd\u662f\u7ecf\u5178\u7c7b\uff0c\u53ea\u6709\u663e\u5f0f\u7ee7\u627f\u4e86object\u624d\u662f\u65b0\u5f0f\u7c7b\u3002</li> <li>\u5f53\u7c7b\u662f\u65b0\u5f0f\u7c7b\u65f6\uff0c\u591a\u7ee7\u627f\u60c5\u51b5\u4e0b\uff0c\u4f1a\u6309\u7167\u5e7f\u5ea6\u4f18\u5148\u65b9\u5f0f\u67e5\u627ePython 3.x\u4e2d\u9ed8\u8ba4\u90fd\u662f\u65b0\u5f0f\u7c7b\uff0c\u4e0d\u5fc5\u663e\u5f0f\u7684\u7ee7\u627fobject\u3002</li> </ul> </li> <li>\u7ee7\u627f\u4e2dsuper\u7684\u8c03\u7528\u987a\u5e8f\u662f\u4e0eMRO-C3\u7684\u7c7b\u65b9\u6cd5\u67e5\u627e\u987a\u5e8f\u4e00\u6837\u7684\uff0csuper\u4f5c\u7528\u5982\u4e0b\uff1a<ul> <li>\u5982\u679c\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\u4e0d\u505a\u521d\u59cb\u5316\uff0c\u90a3\u4e48\u4f1a\u81ea\u52a8\u7ee7\u627f\u7236\u7c7b\u5c5e\u6027\u3002</li> <li>\u5982\u679c\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\u505a\u4e86\u521d\u59cb\u5316\uff0c\u4e14\u4e0d\u8c03\u7528super\u521d\u59cb\u5316\u7236\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u90a3\u4e48\u5b50\u7c7b\u4e0d\u4f1a\u81ea\u52a8\u7ee7\u627f\u7236\u7c7b\u7684\u5c5e\u6027\u3002</li> <li>\u5982\u679c\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\u505a\u4e86\u521d\u59cb\u5316\uff0c\u4e14\u8c03\u7528\u4e86super\u521d\u59cb\u5316\u4e86\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0c\u90a3\u4e48\u5b50\u7c7b\u4e5f\u4f1a\u7ee7\u627f\u7236\u7c7b\u7684\u5c5e\u6027\u3002 <pre><code>class A:\n    def __init__(self):\n        print('A')\nclass B(A):\n    def __init__(self):\n        print('B')\n        super().__init__()\nclass C(A):\n    def __init__(self):\n        print('C')\n        super().__init__()\nclass D(B, C):\n    def __init__(self):\n        print('D')\n        super().__init__()\n\nd = D()\n# \u7ed3\u679c\u662f\nD\nB\nC\nA\n</code></pre></li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_12","title":"\u591a\u6001","text":"<ul> <li>Pyhon\u4e0d\u652f\u6301\u591a\u6001\u5e76\u4e14\u4e5f\u7528\u4e0d\u5230\u591a\u6001\uff0c\u591a\u6001\u7684\u6982\u5ff5\u662f\u5e94\u7528\u4e8eJava\u548cC#\u8fd9\u4e00\u7c7b\u5f3a\u7c7b\u578b\u8bed\u8a00\u4e2d\uff0c\u800cPython\u5d07\u5c1a\u201c\u9e2d\u5b50\u7c7b\u578b\u201d\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_13","title":"\u7c7b\u6210\u5458","text":"<p> * \u5b57\u6bb5     * \u9759\u6001\u5b57\u6bb5\u5728\u5185\u5b58\u4e2d\u53ea\u4fdd\u5b58\u4e00\u4efd     * \u666e\u901a\u5b57\u6bb5\u5728\u6bcf\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u4e2d\u90fd\u8981\u4fdd\u5b58\u4e00\u4efd     * \u5e94\u7528\u573a\u666f\uff1a \u901a\u8fc7\u7c7b\u521b\u5efa\u5b9e\u4f8b\u5bf9\u8c61\u65f6\uff0c\u5982\u679c\u6bcf\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u5177\u6709\u76f8\u540c\u7684\u5b57\u6bb5\uff0c\u90a3\u4e48\u5c31\u4f7f\u7528\u9759\u6001\u5b57\u6bb5 <pre><code>class Province:\n    # \u9759\u6001\u5b57\u6bb5\n    country = 'China' \n    def __init__(self,name):\n        # \u666e\u901a\u5b57\u6bb5\n        self.name = name\nobj1 =Province('BeiJing')\nprint(obj1.name)\nprint(Province.country)\n</code></pre> * \u65b9\u6cd5     - \u666e\u901a\u5b9e\u4f8b\u65b9\u6cd5\uff1a\u7531\u5b9e\u4f8b\u5bf9\u8c61\u8c03\u7528\uff1b\u81f3\u5c11\u4e00\u4e2aself\u53c2\u6570\uff1b\u6267\u884c\u666e\u901a\u65b9\u6cd5\u65f6\uff0c\u81ea\u52a8\u5c06\u8c03\u7528\u8be5\u65b9\u6cd5\u7684\u5b9e\u4f8b\u5bf9\u8c61\u8d4b\u503c\u7ed9self\uff1b     - \u7c7b\u65b9\u6cd5\uff1a\u7531\u7c7b\u8c03\u7528\uff1b\u81f3\u5c11\u4e00\u4e2acls\u53c2\u6570\uff1b\u6267\u884c\u7c7b\u65b9\u6cd5\u65f6\uff0c\u81ea\u52a8\u5c06\u8c03\u7528\u8be5\u65b9\u6cd5\u7684\u7c7b\u590d\u5236\u7ed9cls\uff1b     - \u9759\u6001\u65b9\u6cd5\uff1a\u7531\u7c7b\u8c03\u7528\uff1b\u65e0\u9ed8\u8ba4\u53c2\u6570\uff1b <pre><code>class Foo:\n    def __init__(self,name):\n        self.name =name\n    # \u5b9a\u4e49\u666e\u901a\u5b9e\u4f8b\u65b9\u6cd5,\u81f3\u5c11\u4e00\u4e2aself\u53c2\u6570\n    def ord_func(self):\n        print(self.name)\n    # \u5b9a\u4e49\u7c7b\u65b9\u6cd5\uff0c\u81f3\u5c11\u4e00\u4e2acls\u53c2\u6570\n    @classmethod\n    def class_func(cls):\n        print('\u7c7b\u65b9\u6cd5')\n    # \u5b9a\u4e49\u9759\u6001\u65b9\u6cd5\uff0c\u65e0\u9ed8\u8ba4\u53c2\u6570\n    @staticmethod\n    def static_fun(): \n        print('\u9759\u6001\u65b9\u6cd5')\nf = Foo('ord_func')\nf.ord_func()\nFoo.class_func()\nFoo.static_fun()\n</code></pre> * \u5c5e\u6027     - \u5b9a\u4e49\u65f6\uff0c\u5728\u666e\u901a\u65b9\u6cd5\u7684\u57fa\u7840\u4e0a\u6dfb\u52a0@property\u88c5\u9970\u5668\uff0c\u5c5e\u6027\u4ec5\u6709\u4e00\u4e2aself\u53c2\u6570\uff0c\u8c03\u7528\u65f6\u65e0\u9700\u62ec\u53f7\u3002@property\u88c5\u9970\u5668\u53ef\u4ee5\u5b9e\u73b0\u5176\u4ed6\u8bed\u8a00\u6240\u62e5\u6709\u7684getter\uff0csetter\u548cdeleter\u7684\u529f\u80fd\uff08\u4f8b\u5982\u5b9e\u73b0\u83b7\u53d6\uff0c\u8bbe\u7f6e\uff0c\u5220\u9664\u9690\u85cf\u7684\u5c5e\u6027\uff09\uff1b\u901a\u8fc7@property\u88c5\u9970\u5668\u53ef\u4ee5\u5bf9\u5c5e\u6027\u7684\u53d6\u503c\u548c\u8d4b\u503c\u52a0\u4ee5\u63a7\u5236,\u63d0\u9ad8\u4ee3\u7801\u7684\u7a33\u5b9a\u6027\u3002 <pre><code>class Goods:\n    # \u67e5\u770b\u5c5e\u6027\u503c \n    @property       \n    def price(self):   \n        print('@property')\n    # \u4fee\u6539\u3001\u8bbe\u7f6e\u5c5e\u6027\n    @price.setter                                         \n    def price(self, value):       \n        print('@price.setter')\n    # \u5220\u9664\u5c5e\u6027\n    @price.deleter   \n    def price(self):      \n       print('@price.deleter')                             \nobj = Goods()\n# \u81ea\u52a8\u6267\u884c @property \u4fee\u9970\u7684 price \u65b9\u6cd5\uff0c\u5e76\u83b7\u53d6\u65b9\u6cd5\u7684\u8fd4\u56de\u503c \nobj.price\n# \u81ea\u52a8\u6267\u884c @price.setter \u4fee\u9970\u7684 price \u65b9\u6cd5\uff0c\u5e76\u5c062000\u8d4b\u503c\u7ed9\u65b9\u6cd5\u7684\u53c2\u6570              \nobj.price = 2000 \n# \u81ea\u52a8\u6267\u884c @price.deleter \u4fee\u9970\u7684 price \u65b9\u6cd5  \ndel obj.price     \n</code></pre></p>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_14","title":"\u7c7b\u6210\u5458\u7684\u4fee\u9970\u7b26","text":"<ul> <li>_xxx \u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u4fdd\u62a4\u6210\u5458\uff08\u5c5e\u6027\u6216\u8005\u65b9\u6cd5\uff09\uff0c\u5b83\u4e0d\u80fd\u7528from module import * \u5bfc\u5165\uff0c\u5176\u4ed6\u65b9\u9762\u548c\u516c\u6709\u4e00\u6837\u8bbf\u95ee\uff1b</li> <li>__xxx \u8fd9\u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u79c1\u6709\u6210\u5458\uff0c\u5b83\u65e0\u6cd5\u76f4\u63a5\u50cf\u516c\u6709\u6210\u5458\u4e00\u6837\u968f\u4fbf\u8bbf\u95ee\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7<code>\u5b9e\u4f8b\u5bf9\u8c61\u540d._\u7c7b\u540d__xxx</code>\u8fd9\u6837\u7684\u65b9\u5f0f\u53ef\u4ee5\u8bbf\u95ee\uff1b</li> <li>__xxx__\u8868\u793a\u8fd9\u662f\u4e00\u4e2a\u7279\u6b8a\u6210\u5458\uff0c\u7528\u6765\u533a\u522b\u5176\u4ed6\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u547d\u540d\u4ee5\u9632\u51b2\u7a81\uff0c\u5c31\u662f\u4f8b\u5982<code>__init__()\u3001 __del__()</code>  \u8fd9\u4e9b\u7279\u6b8a\u65b9\u6cd5</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_15","title":"\u7c7b\u7684\u7279\u6b8a\u6210\u5458","text":"<p> 1. doc __\u8f93\u51fa\u7c7b\u7684\u63cf\u8ff0\u4fe1\u606f 2. __module __\u8f93\u51fa\u5f53\u524d\u64cd\u4f5c\u5bf9\u8c61\u6240\u5728\u6a21\u5757 3. __class __\u8f93\u51fa\u5f53\u524d\u64cd\u4f5c\u5bf9\u8c61\u7684\u7c7b 4. __init __\u6784\u9020\u65b9\u6cd5\uff0c\u901a\u8fc7\u7c7b\u521b\u5efa\u5b9e\u4f8b\u5bf9\u8c61\u65f6\uff0c\u81ea\u52a8\u89e6\u53d1\u6267\u884c 5. __del __\u6790\u6784\u65b9\u6cd5\uff0c\u5f53\u5bf9\u8c61\u5728\u5185\u5b58\u4e2d\u88ab\u91ca\u653e\u65f6\uff0c\u81ea\u52a8\u89e6\u53d1\u6267\u884c\uff0c\u6b64\u65b9\u6cd5\u4e00\u822c\u65e0\u987b\u5b9a\u4e49\uff0c\u56e0\u4e3aPython\u662f\u4e00\u95e8\u9ad8\u7ea7\u8bed\u8a00\uff0c\u7a0b\u5e8f\u5458\u5728\u4f7f\u7528\u65f6\u65e0\u9700\u5173\u5fc3\u5185\u5b58\u7684\u5206\u914d\u548c\u91ca\u653e\uff0c\u56e0\u4e3a\u6b64\u5de5\u4f5c\u90fd\u662f\u4ea4\u7ed9Python\u89e3\u91ca\u5668\u6765\u6267\u884c\uff0c\u6240\u4ee5\uff0c\u6790\u6784\u51fd\u6570\u7684\u8c03\u7528\u662f\u7531\u89e3\u91ca\u5668\u5728\u8fdb\u884c\u5783\u573e\u56de\u6536\u65f6\u81ea\u52a8\u89e6\u53d1\u6267\u884c\u7684\u3002 6. __call__\u5bf9\u8c61\u540e\u9762\u52a0\u62ec\u53f7\uff0c\u89e6\u53d1\u6267\u884c\uff0c\u6784\u9020\u65b9\u6cd5\u7684\u6267\u884c\u662f\u7531\u521b\u5efa\u5bf9\u8c61\u89e6\u53d1\u7684\uff0c\u5373\uff1a\u5bf9\u8c61 = \u7c7b\u540d() \uff1b\u800c\u5bf9\u4e8e __call \u65b9\u6cd5\u7684\u6267\u884c\u662f\u7531\u5bf9\u8c61\u540e\u52a0\u62ec\u53f7\u89e6\u53d1\u7684\uff0c\u5373\uff1a\u5bf9\u8c61() \u6216\u8005 \u7c7b()() <pre><code>class Foo:\n    def __init__(self):\n        pass\n    def __call__(self,*args,**kwargs):\n        print('__call__')\n# \u6267\u884c __init__\nobj6 = Foo() \n# \u6267\u884c __call__\nobj6()\n</code></pre> 7. __dict__\u7c7b\u6216\u5bf9\u8c61\u4e2d\u7684\u6240\u6709\u6210\u5458 <pre><code>class Province:\n    country = 'China'\n    def __init__(self, name, count):\n        self.name = name\n        self.count = count\n    def func(self, *args, **kwargs):\n        print('func')\n# \u83b7\u53d6\u7c7b\u7684\u6210\u5458\uff0c\u5373\uff1a\u9759\u6001\u5b57\u6bb5\u3001\u65b9\u6cd5\u3001\n# \u8f93\u51fa\uff1a{'__module__': '__main__', 'country': 'China', '__init__': &lt;function Province.__init__ at 0x00000264B20F1E18&gt;, \n# 'func': &lt;function Province.func at 0x00000264B4638D08&gt;, '__dict__': &lt;attribute '__dict__' of 'Province' objects&gt;, \n# '__weakref__': &lt;attribute '__weakref__' of 'Province' objects&gt;, '__doc__': None}\nprint(Province.__dict__)\n# \u8f93\u51fa\uff1a{'name': 'HeBei', 'count': 1000}\nobj1 = Province('HeBei',1000)\nprint(obj1.__dict__)\nobj2 = Province('HeNan', 3)\n# \u8f93\u51fa\uff1a{'name': 'HeNan', 'count': 3}\nprint(obj2.__dict__)\n</code></pre> 8. __str__\u5982\u679c\u4e00\u4e2a\u7c7b\u4e2d\u5b9a\u4e49\u4e86__str__\u65b9\u6cd5\uff0c\u90a3\u4e48\u5728\u6253\u5370\u5bf9\u8c61\u65f6\uff0c\u9ed8\u8ba4\u8f93\u51fa\u8be5\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u3002 <pre><code>class Foo:\n    def __init__(self):\n        pass\n    def __str__(self):\n        return '__str__'\nobj=Foo()\nprint(obj)\n</code></pre> 9. <code>__getitem__\u3001__setitem__\u3001__delitem__</code>\u7528\u4e8e\u7d22\u5f15\u64cd\u4f5c\uff0c\u5982\u5b57\u5178\u3002\u4ee5\u4e0a\u5206\u522b\u8868\u793a\u83b7\u53d6\u3001\u8bbe\u7f6e\u3001\u5220\u9664\u6570\u636e\u3002 9. <code>__getslice__\u3001__setslice__\u3001__delslice__</code>\u8be5\u4e09\u4e2a\u65b9\u6cd5\u7528\u4e8e\u5206\u7247\u64cd\u4f5c\uff0c\u5982\u5217\u8868\u3002 10. __iter__\u7528\u4e8e\u8fed\u4ee3\u5668\uff0c\u4e4b\u6240\u4ee5\u5217\u8868\u3001\u5b57\u5178\u3001\u5143\u7ec4\u53ef\u4ee5\u8fdb\u884cfor\u5faa\u73af\u3002 11. <code>__new__\u548c__init__</code> <code>__new__</code>\u662f\u4e00\u4e2a\u9759\u6001\u65b9\u6cd5\uff0c\u800c<code>__init__</code>\u662f\u4e00\u4e2a\u5b9e\u4f8b\u65b9\u6cd5\uff0c<code>__new__</code>\u65b9\u6cd5\u4f1a\u8fd4\u56de\u4e00\u4e2a\u521b\u5efa\u7684\u5b9e\u4f8b\uff0c\u800c<code>__init__</code>\u4ec0\u4e48\u90fd\u4e0d\u8fd4\u56de\uff0c\u5f53\u521b\u5efa\u4e00\u4e2a\u65b0\u5b9e\u4f8b\u65f6\u8c03\u7528<code>__new__</code>\uff0c\u521d\u59cb\u5316\u4e00\u4e2a\u5b9e\u4f8b\u65f6\u7528<code>__init__</code>\u3002</p>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#python_5","title":"Python\u81ea\u7701\u6307\u5357","text":"<ul> <li>\u81ea\u7701\uff08Introspection\uff09\u6307\u8fd0\u884c\u65f6\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u7c7b\u578b\u7684\u80fd\u529b\uff0c\u5e38\u89c1type\uff0cid\uff0cisinstance \u7b49\u83b7\u53d6\u5bf9\u8c61\u7c7b\u578b\u4fe1\u606f\u6216 ispect \u6a21\u5757\u4e2d\u7684\u51fd\u6570\u83b7\u53d6\u8be6\u7ec6\u4fe1\u606f\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#python_6","title":"Python \u4e2d\u7684\u5143\u7f16\u7a0b","text":"<ul> <li>\u5143\u7c7b\u662f\u521b\u5efa\u7c7b\u7684\u7c7b\uff0c\u5143\u7c7b\u5141\u8bb8\u6211\u4eec\u63a7\u5236\u7c7b\u7684\u751f\u6210\uff08\u4fee\u6539\u7c7b\u7684\u5c5e\u6027\u7b49\uff09\uff0c\u7528type\u6765\u5b9a\u4e49\u5143\u7c7b\uff0c\u5143\u7c7b\u6700\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u666f\u662f ORM \u6846\u67b6\u3002 <pre><code># \u901a\u8fc7\u5143\u7f16\u7a0b\u5b9e\u73b0\u7c7b\u81ea\u5b9a\u4e49\u5c5e\u6027\u5927\u5199\nclass Base(type):\n    def __new__(cls,name,bases,attrs):\n        upper_attrs={}\n        for k,v in attrs.items():\n            if not k.startswith(\"__\"):\n                upper_attrs[k.upper()]=v\n            else:\n                upper_attrs[k]=v\n        return type.__new__(cls,name,bases,upper_attrs)\nclass Foo(metaclass=Base):\n    foo=True\n    def hello(self):\n        print(\"world\")\ndef hello():\n    print(\"world\")\nprint(dir(Foo))\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_16","title":"\u8bbe\u8ba1\u6a21\u5f0f","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_17","title":"\u5355\u4f8b\u6a21\u5f0f","text":"<ul> <li>\u5355\u4f8b\u6a21\u5f0f\uff08Singleton Pattern\uff09\u662f\u4e00\u79cd\u5e38\u7528\u7684\u8f6f\u4ef6\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u8be5\u6a21\u5f0f\u7684\u4e3b\u8981\u76ee\u7684\u662f\u786e\u4fdd\u67d0\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u5b58\u5728\u3002\u5f53\u4f60\u5e0c\u671b\u5728\u6574\u4e2a\u7cfb\u7edf\u4e2d\uff0c\u67d0\u4e2a\u7c7b\u53ea\u80fd\u51fa\u73b0\u4e00\u4e2a\u5b9e\u4f8b\u65f6\uff0c\u5355\u4f8b\u5bf9\u8c61\u5c31\u80fd\u6d3e\u4e0a\u7528\u573a\u3002\uff08None\u5c31\u662f\u5355\u4f8b\uff09</li> <li>metaclass \u5b9e\u73b0 <pre><code>class Singleton(type):\n    _instances = {}\n    def __call__(cls, *args, **kwargs):\n        if cls not in cls._instances:\n            cls._instances[cls] = super(Singleton, cls).__call__(*args, **kwargs)\n        return cls._instances[cls]\n\nclass Foo(metaclass=Singleton):\n    pass\nfoo1=Foo()\nfoo2=Foo()\nprint(id(foo1)==id(foo2))\n</code></pre></li> <li>\u51fd\u6570\u88c5\u9970\u5668\u5b9e\u73b0 <pre><code>def singleton(cls):\n    _instance = {}\n    def wrapper():\n        if cls not in _instance:\n            _instance[cls] = cls()\n        return _instance[cls]\n    return wrapper\n\n@singleton\nclass Cls(object):\n    def __init__(self):\n        pass\ncls1 = Cls()\ncls2 = Cls()\nprint(id(cls1) == id(cls2))\n</code></pre></li> <li>import \u65b9\u6cd5</li> <li>Python \u7684\u6a21\u5757\u5c31\u662f\u5929\u7136\u7684\u5355\u4f8b\u6a21\u5f0f</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_18","title":"\u5de5\u5382\u6a21\u5f0f","text":"<ul> <li>\u5de5\u5382\u6a21\u5f0f\u662f\u8bf4\u8c03\u7528\u65b9\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528\u4e00\u4e2a\u7b80\u5355\u51fd\u6570\u5c31\u53ef\u4ee5\u521b\u5efa\u4e0d\u540c\u7684\u5bf9\u8c61\u3002\u5de5\u5382\u6a21\u5f0f\u4e00\u822c\u5305\u542b\u5de5\u5382\u65b9\u6cd5\u548c\u62bd\u8c61\u5de5\u5382\u4e24\u79cd\u6a21\u5f0f\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_19","title":"\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u7bc7","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003</li> <li>problem-solving-with-algorithms-and-data-structure-using-python \u4e2d\u6587\u7248</li> <li>\u4e94\u5206\u949f\u7b97\u6cd5\u516c\u4f17\u53f7</li> <li>\u5e38\u89c1\u6570\u636e\u7ed3\u6784\u6233\u8fd9\u91cc</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_20","title":"\u6392\u5e8f\u7b97\u6cd5","text":"<ul> <li>\u5feb\u6392\uff0c\u5806\u6392\uff0c\u5f52\u5e76\u6392\u5e8f\u8be6\u7ec6\u539f\u7406\u53c2\u8003\u8fd9\u7bc7\u8fd9\u6216\u8bb8\u662f\u4e1c\u534a\u7403\u5206\u6790\u5341\u5927\u6392\u5e8f\u7b97\u6cd5\u6700\u597d\u7684\u4e00\u7bc7\u6587\u7ae0\uff0c\u4e0b\u9762\u6211\u5c06\u7528 Python \u5feb\u901f\u5b9e\u73b0\u51fa\u6765\u3002\u8bdd\u4e0d\u591a\u8bf4\uff0cShow Me Code!</li> <li>\u5192\u6ce1\u6392\u5e8f <pre><code>def bubble_sort(alist):\n    for i in range(len(alist)-1):\n        for j in range(len(alist)-1-i):\n            if alist[j]&gt;alist[j+1]:\n                alist[j],alist[j+1]=alist[j+1],alist[j]\nalist=[54,26,93,17,77,31,44,55,20]\nbubble_sort(alist)\nprint(alist)\n</code></pre></li> <li>\u9009\u62e9\u6392\u5e8f <pre><code>def select_sort(alist):\n    for i in range(len(alist)-1):\n        min_index=i\n        for j in range(i+1,len(alist)):\n            if alist[j]&lt;alist[min_index]:\n                min_index=j\n        if i!=min_index:\n            alist[i],alist[min_index]=alist[min_index],alist[i]\nalist=[54,26,93,17,77,31,44,55,20]\nselect_sort(alist)\nprint(alist)\n</code></pre></li> <li>\u63d2\u5165\u6392\u5e8f <pre><code>def insert_sort(alist):\n    for i in range(1,len(alist)):\n        for j in range(i,0,-1):\n            if alist[j]&lt;alist[j-1]:\n                alist[j],alist[j-1]=alist[j-1],alist[j]\n            else:\n                break\nalist=[54,26,93,17,77,31,44,55,20]\ninsert_sort(alist)\nprint(alist)\n</code></pre></li> <li>\u5e0c\u5c14\u6392\u5e8f <pre><code># \u53d8\u6362\u6b65\u957f\uff08\u589e\u91cf\uff09\u7684\u63d2\u5165\u6392\u5e8f-&gt;(n ~ n^2,\u4e0d\u7a33\u5b9a)\ndef shell_sort(alist):\n    gap=len(alist)//2\n    while gap&gt;=1:\n        for i in range(gap,len(alist)):\n            j=i\n            while(j-gap)&gt;=0:\n                if alist[j]&lt;alist[j-gap]:\n                    alist[j],alist[j-gap]=alist[j-gap],alist[j]\n                    j-=gap\n                else:\n                    break\n        gap//=2\nalist=[54,26,93,17,77,31,44,55,20]\nshell_sort(alist)\nprint(alist)\n</code></pre></li> <li>\u5f52\u5e76\u6392\u5e8f <pre><code>#\u5206\u800c\u6cbb\u4e4b\uff0c\u9012\u5f52\u5206\u89e3/\u9012\u5f52\u5408\u5e76 \uff08nlogn\uff09\ndef merge_sort(alist):\n    if len(alist)&lt;=1:\n        return alist\n    mid = len(alist)//2\n    left_alist = merge_sort(alist[:mid])\n    right_alist = merge_sort(alist[mid:])\n    return merge(left_alist,right_alist)\ndef merge(left_list,right_list):\n    result=[]\n    j=0\n    i=0\n    while i&lt;len(left_list) and j &lt; len(right_list):\n        if left_list[i]&lt;=right_list[j]:\n            result.append(left_list[i])\n            i+=1\n        else:\n            result.append(right_list[j])\n            j+=1\n    result+=left_list[i:]\n    result+=right_list[j:]\n    return result\nalist=[54,26,93,17,77,31,44,55,20]\nprint(merge_sort(alist))\n</code></pre></li> <li>\u5feb\u901f\u6392\u5e8f <pre><code># \u5feb\u901f\u6392\u5e8f\u4f7f\u7528\u5206\u800c\u6cbb\u4e4b\u6765\u83b7\u5f97\u4e0e\u5f52\u5e76\u6392\u5e8f\u76f8\u540c\u7684\u4f18\u70b9\uff0c\u800c\u4e0d\u4f7f\u7528\u989d\u5916\u7684\u5b58\u50a8\u3002\n# \u6709\u53ef\u80fd\u5217\u8868\u4e0d\u80fd\u88ab\u5206\u6210\u4e24\u534a\u3002\u5f53\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u65f6\uff0c\u6027\u80fd\u964d\u4f4e\ndef quick_sort(alist, start, end):\n    if start&gt;= end:\n        return\n    #\u57fa\u51c6\n    mark = alist[start]\n    left = start\n    right = end\n    while left &lt; right:\n        while left&lt;right  and alist[right]&gt;mark:\n            right-=1\n        alist[left]=alist[right]\n        while left&lt;right and alist[left]&lt;mark:\n            left+=1\n        alist[right]=alist[left]\n    alist[right]=mark\n    quick_sort(alist,start,left-1)\n    quick_sort(alist,left+1,end)\nalist=[54,26,93,17,77,31,44,55,20]\nquick_sort(alist,0,len(alist)-1)\nprint(alist)\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_21","title":"\u94fe\u8868\u7b97\u6cd5","text":"<ul> <li>\u8f93\u51fa/\u5220\u9664 \u5355\u94fe\u8868\u5012\u6570\u7b2c K \u4e2a\u8282\u70b9 <pre><code># leetcode 19\uff1a\u5feb\u6162\u53cc\u6307\u9488\nclass Solution:\n    def removeNthFromEnd(self, head: ListNode, n: int) -&gt; ListNode:\n        second = fist = head\n        for i in range(n):  # \u7b2c\u4e00\u4e2a\u6307\u9488\u5148\u8d70 n \u6b65\n            fist = fist.next\n\n        if fist == None:  # \u5982\u679c\u73b0\u5728\u7b2c\u4e00\u4e2a\u6307\u9488\u5df2\u7ecf\u5230\u5934\u4e86\uff0c\u90a3\u4e48\u7b2c\u4e00\u4e2a\u7ed3\u70b9\u5c31\u662f\u8981\u5220\u9664\u7684\u7ed3\u70b9\u3002\n            return second.next\n\n        while fist.next:  # \u7136\u540e\u540c\u65f6\u8d70\uff0c\u76f4\u5230\u7b2c\u4e00\u4e2a\u6307\u9488\u8d70\u5230\u5934\n            fist = fist.next\n            second = second.next\n        second.next = second.next.next  # \u5220\u9664\u76f8\u5e94\u7684\u7ed3\u70b9\n        return head\n</code></pre></li> <li>\u6709\u5e8f\u94fe\u8868\u5408\u5e76 <pre><code># leetcode 21\n# \u89e3\u9898\u601d\u8def\uff1a\u5408\u5e76\u540e\u7684\u94fe\u8868\u4ecd\u7136\u662f\u6709\u5e8f\u7684\uff0c\u53ef\u4ee5\u540c\u65f6\u904d\u5386\u4e24\u4e2a\u94fe\u8868\uff0c\n# \u6bcf\u6b21\u9009\u53d6\u4e24\u4e2a\u94fe\u8868\u4e2d\u8f83\u5c0f\u503c\u7684\u8282\u70b9\uff0c\u4f9d\u6b21\u8fde\u63a5\u8d77\u6765\uff0c\u5c31\u80fd\u5f97\u5230\u6700\u7ec8\u7684\u94fe\u8868\nclass Solution:\n    def mergeTwoLists(self, l1: ListNode, l2: ListNode) -&gt; ListNode:\n        if not l1 or not l2:\n            return l1 or l2\n        head=cur=ListNode(0)\n        while l1 and l2:\n            if l1.val&lt;l2.val:\n                cur.next=l1\n                l1=l1.next\n            else:\n                cur.next=l2\n                l2=l2.next\n            cur=cur.next\n        cur.next=l1 or l2\n        return head.next\n</code></pre></li> <li>\u94fe\u8868\u6709\u73af\u95ee\u9898 <pre><code># leetcode 142\uff1a\u5224\u65ad\u94fe\u8868\u662f\u5426\u6709\u73af/\u5b9a\u4f4d\u73af\u5165\u53e3/\u73af\u957f\u5ea6\uff0c\u5feb\u6162\u53cc\u6307\u9488\n    class Solution(object):\n    def detectCycle(self, head):\n        if head is None:\n            return\n        slow=fast=head\n        has_cycle=False\n        while fast and fast.next:\n            slow=slow.next\n            fast=fast.next.next\n            if slow==fast:\n                has_cycle=True\n                break\n        if has_cycle:\n            slow_p=head\n            fast_p=fast\n            while slow_p !=fast_p:\n                fast_p=fast_P.next\n                slow_p=slow_p.next\n            return slow_p\n        return\n        # \u73af\u957f\u5ea6\n        slow=slow.next\n        fast=fast.next.next\n        length=1\n        while slow!=fast:\n            slow=slow.next\n            fast=fast.next.next\n            length+=1\n        return length\n</code></pre></li> <li>\u4f7f\u7528\u94fe\u8868\u5b9e\u73b0\u5927\u6570\u52a0\u6cd5 <pre><code># leetcode 2\nclass Solution:\n    def addTwoNumbers(self, l1: ListNode, l2: ListNode) -&gt; ListNode:\n        flag=0\n        root=n=ListNode(0)\n        while l1 or l2 or flag:\n            v1=v2=0\n            if l1:\n                v1=l1.val\n                l1=l1.next\n            if l2:\n                v2=l2.val\n                l2=l2.next\n            flag,val=divmod(v1+v2+flag,10)\n            n.next=ListNode(val)\n            n=n.next\n        return root.next  \n</code></pre></li> <li>\u5220\u9664\u94fe\u8868\u4e2d\u8282\u70b9\uff0c\u8981\u6c42\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1) <pre><code># leetcode 237\nclass Solution:\n    def deleteNode(self, node):\n        \"\"\"\n        :type node: ListNode\n        :rtype: void Do not return anything, modify node in-place instead.\n        \"\"\"\n        next_node=node.next\n        next_nextnode=next_node.next\n        node.val=next_node.val\n        node.next=next_nextnode\n</code></pre></li> <li>\u4ece\u5c3e\u5230\u5934\u6253\u5370\u94fe\u8868 <pre><code># \u6839\u636e\u6808\u7684\u7279\u6027\nclass Solution:\n    def printListFromTailToHead(self, listNode):\n        if listNode is None:\n            return []\n        sta=list()\n        res=list()\n        while listNode:\n            sta.append(listNode.val)\n            listNode=listNode.next\n        while sta:\n            res.append(sta.pop())\n        return res\n# \u9012\u5f52\nclass Solution:\n    def printListFromTailToHead(self, listNode):\n        if listNode is None:\n            return []\n        return self.printListFromTailToHead(listNode.next)+[listNode.val]\n</code></pre></li> <li>\u53cd\u8f6c\u94fe\u8868 <pre><code># leetcode 206\nclass Solution:\n    def reverseList(self, head: ListNode) -&gt; ListNode:\n        pre=None\n        # \u4e0d\u65ad\u53d6\u51fa\u548c\u5411\u540e\u79fb\u52a8\u5934\u8282\u70b9,\u5e76\u5c06\u5934\u8282\u70b9\u8fde\u63a5\u5230\u65b0\u5934\u8282\u70b9\u540e\u9762\n        while head:\n            next_node=head.next\n            head.next=pre\n            pre=head\n            head=next_node\n        return pre\n</code></pre></li> <li>LRU\u7f13\u5b58\u673a\u5236 <pre><code># leetcode 146:\n# \u5b57\u5178\uff08\u54c8\u5e0c\uff09+\u53cc\u7aef\u94fe\u8868\nclass Node(object): \n    def __init__(self, key, val):\n        self.key = key\n        self.val = val\n        self.next = None\n        self.prev = None\n\nclass LRUCache(object):\n\n    def __init__(self, capacity):\n        self.dic = {}\n        self.capacity = capacity\n        self.dummy_head = Node(0, 0)\n        self.dummy_tail = Node(0, 0)\n        self.dummy_head.next = self.dummy_tail\n        self.dummy_tail.prev = self.dummy_head\n\n    def get(self, key):\n        if key not in self.dic:\n            return -1\n        node = self.dic[key]\n        self.remove(node)\n        self.append(node)\n        return node.val\n\n    def put(self, key, value):\n        if key in self.dic:\n            self.remove(self.dic[key])\n        node = Node(key, value)\n        self.append(node)\n        self.dic[key] = node\n\n        if len(self.dic) &gt; self.capacity:\n            head = self.dummy_head.next\n            self.remove(head)\n            del self.dic[head.key]\n\n    def append(self, node):\n        tail = self.dummy_tail.prev\n        tail.next = node\n        node.prev = tail\n        self.dummy_tail.prev = node\n        node.next = self.dummy_tail\n\n    def remove(self, node):\n        prev = node.prev\n        next = node.next\n        prev.next = next\n        next.prev = prev\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_22","title":"\u6808\u548c\u961f\u5217\u7b97\u6cd5","text":"<ul> <li>\u4ee5\u4e0b\u51e0\u4e2a\u7b97\u6cd5\u539f\u7406\u8be6\u89e3</li> <li>\u6709\u6548\u7684\u62ec\u53f7 <pre><code># leetcode 20\nclass Solution:\n    def isValid(self, s: str) -&gt; bool:\n        chars={'(':')','[':']','{':'}'}\n        stack=[]\n        for i in s:\n            if i in chars:\n                stack.append(i)\n            else:\n                if not stack or chars[stack.pop()]!=i:\n                    return False\n        return not stack\n</code></pre></li> <li>\u7528\u4e24\u4e2a\u6808\u5b9e\u73b0\u961f\u5217 <pre><code># leetcode 232: \u4e00\u4e2a\u6808\u4f5c\u4e3a\u7f13\u5b58\u533a\nclass MyQueue:\n\n    def __init__(self):\n        \"\"\"\n        Initialize your data structure here.\n        \"\"\"\n        self.stack1=[]\n        self.stack2=[]\n\n\n    def push(self, x: int) -&gt; None:\n        \"\"\"\n        Push element x to the back of queue.\n        \"\"\"\n        self.stack1.append(x)\n\n\n    def pop(self) -&gt; int:\n        \"\"\"\n        Removes the element from in front of queue and returns that element.\n        \"\"\"\n        if len(self.stack2)==0:\n            while(self.stack1):\n                self.stack2.append(self.stack1.pop())\n        return self.stack2.pop()\n\n    def peek(self) -&gt; int:\n        \"\"\"\n        Get the front element.\n        \"\"\"\n        if len(self.stack2)==0:\n            while(self.stack1):\n                self.stack2.append(self.stack1.pop())\n        return self.stack2[-1]\n\n    def empty(self) -&gt; bool:\n        \"\"\"\n        Returns whether the queue is empty.\n        \"\"\"\n        return not self.stack1 and not self.stack2\n</code></pre></li> <li>\u6808\u7684\u538b\u5165\u3001\u5f39\u51fa\u5e8f\u5217 <pre><code># leetcode 946:\u501f\u7528\u4e00\u4e2a\u8f85\u52a9\u7684\u6808tmp\uff0c\u904d\u5386\u538b\u6808\u987a\u5e8f\nclass Solution:\n    def validateStackSequences(self, pushed: List[int], popped: List[int]) -&gt; bool:\n        tmp=[]\n        while pushed:\n            tmp.append(pushed.pop(0))\n            while tmp and tmp[-1]==popped[0]:\n                popped.pop(0)\n                tmp.pop()\n        return not tmp\n</code></pre></li> <li>\u5305\u542b min \u51fd\u6570\u7684\u6808 <pre><code># leetcode 155\uff1a\u5b9e\u9645\u4e0a\u5c31\u662f\u5b9e\u73b0\u6700\u5c0f\u6808\uff08\u91cd\u70b9\u662f\u8fde\u7eed\u5f39\u51fa\u6700\u5c0f\u503c\u65f6\u7684\u95ee\u9898\uff09\nclass MinStack:\n\n    def __init__(self):\n        \"\"\"\n        initialize your data structure here.\n        \"\"\"\n        self.stack=[]\n        self.minstack=[]\n\n    def push(self, x: int) -&gt; None:\n        self.stack.append(x)\n        if self.minstack:\n            self.minstack.append(x)\n        else:\n            if x&lt;self.minstack[-1]:\n                self.minstack.append(x)\n            else:\n                self.minstack.append(self.minstack[-1])\n\n    def pop(self) -&gt; None:\n        self.stack.pop()\n        self.minstack.pop()\n\n    def top(self) -&gt; int:\n        return self.stack[-1]\n\n    def getMin(self) -&gt; int:\n        return self.minstack[-1]\n</code></pre></li> <li>\u9a8c\u8bc1\u6808\u5e8f\u5217 <pre><code># leetcode 946\nclass Solution:\n    def validateStackSequences(self, pushed: List[int], popped: List[int]) -&gt; bool:\n        tmp=[]\n        while pushed:\n            tmp.append(pushed.pop(0))\n            while tmp and tmp[-1]==popped[0]:\n                popped.pop(0)\n                tmp.pop()\n        return not tmp\n</code></pre></li> <li>\u7ea6\u745f\u592b\u73af\uff08\u53cc\u7aef\u961f\u5217\u5b9e\u73b0\uff09 <pre><code>from pythonds.basic.queue import Queue\ndef hotPotato(namelist,num):\n    simple_queue = Queue()\n    for name in namelist:\n        simple_queue.enqueue(name)\n    while simple_queue.size()&gt;1:\n        for i in range(num):\n            simple_queue.enqueue(simple_queue.dequeue())\n        simple_queue.dequeue()\n    return simple_queue.dequeue()\n\nprint(hotPotato([\"Bill\",\"David\",\"Susan\",\"Jane\",\"Kent\",\"Brad\"],2))\n</code></pre></li> <li>\u5408\u5e76K\u4e2a\u6392\u5e8f\u94fe\u8868\uff08\u6211\u521a\u5f00\u59cb\u7528\u7684\u66b4\u529b\u89e3\u6cd52333\uff09<ul> <li>\u8fd9\u4e2a\u89e3\u6790\u4e0d\u9519\uff0c\u6211\u76f4\u63a5\u8d34\u4e86\u5176\u4e2d\u91c7\u7528\u6700\u4f18\u961f\u5217\u7684\u65b9\u5f0f\u3002 <pre><code># leetcode 23\nfrom Queue import PriorityQueue\nclass Solution(object):\n    def mergeKLists(self, lists):\n        head = point = ListNode(0)\n        q = PriorityQueue()\n        for l in lists:\n            if l:\n                q.put((l.val, l))\n        while not q.empty():\n            val, node = q.get()\n            point.next = ListNode(val)\n            point = point.next\n            node = node.next\n            if node:\n                q.put((node.val, node))\n        return head.next\n</code></pre></li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_23","title":"\u4e8c\u53c9\u6811\u7b97\u6cd5","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_24","title":"\u56db\u79cd\u904d\u5386\u65b9\u5f0f","text":"<ul> <li>\u4e8c\u53c9\u6811\u7684\u56db\u79cd\u904d\u5386\u65b9\u5f0f\u5206\u522b\u662f\uff1a\u524d\u5e8f\u3001\u4e2d\u5e8f\u3001\u540e\u5e8f\u548c\u5c42\u6b21\u3002\u5b83\u4eec\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u90fd\u662fO(n)\uff0c\u5176\u4e2dn\u662f\u6811\u4e2d\u8282\u70b9\u4e2a\u6570\uff0c\u56e0\u4e3a\u6bcf\u4e00\u4e2a\u8282\u70b9\u5728\u9012\u5f52\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ea\u8bbf\u95ee\u4e86\u4e00\u6b21\u3002</li> <li>\u4e09\u79cd\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u65b9\u6cd5\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u662fO(h)\uff0c\u5176\u4e2dh\u662f\u4e8c\u53c9\u6811\u7684\u6df1\u5ea6\uff0c\u989d\u5916\u7a7a\u95f4\u662f\u51fd\u6570\u9012\u5f52\u7684\u8c03\u7528\u6808\u4ea7\u751f\u7684\uff0c\u800c\u4e0d\u662f\u663e\u793a\u7684\u989d\u5916\u53d8\u91cf\u3002<code>\u7a7a\u95f4\u590d\u6742\u5ea6\uff0c\u901a\u5e38\u662f\u6307\u5b8c\u6210\u7b97\u6cd5\u6240\u7528\u7684\u8f85\u52a9\u7a7a\u95f4\u7684\u590d\u6742\u5ea6\uff0c\u800c\u4e0d\u7528\u7ba1\u7b97\u6cd5\u524d\u7f6e\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u3002\u6bd4\u5982\u5728\u6811\u7684\u904d\u5386\u7b97\u6cd5\u4e2d\uff0c\u6574\u68f5\u6811\u80af\u5b9a\u8981\u5360O(n)\u7684\u7a7a\u95f4\uff0cn\u662f\u6811\u4e2d\u8282\u70b9\u7684\u4e2a\u6570\uff0c\u8fd9\u90e8\u5206\u7a7a\u95f4\u662f\u201c\u5e73\u51e1\u201d\u7684\uff0c\u5373\u80af\u5b9a\u5b58\u5728\u7684\uff0c\u6211\u4eec\u4e0d\u8ba8\u8bba\u5b83\u3002</code></li> <li>\u5c42\u6b21\u904d\u5386\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u662fO(w)\uff0c\u5176\u4e2dw\u662f\u4e8c\u53c9\u6811\u7684\u5bbd\u5ea6\uff08\u62e5\u6709\u6700\u591a\u8282\u70b9\u7684\u5c42\u7684\u8282\u70b9\u6570\uff09\u3002 </li> <li>\u524d\u5e8f\u904d\u5386 <pre><code># \u9012\u5f52\u89e3\u6cd5\nclass Solution:\n    def preorderTraversal(self, root: TreeNode) -&gt; List[int]:\n        ret=[]\n        if root:\n            ret=ret+[root.val]\n            ret=ret+self.preorderTraversal(root.left)\n            ret=ret+self.preorderTraversal(root.right)\n        return ret\n# \u8fed\u4ee3\u7b97\u6cd5\u601d\u8def\uff1a\u4f7f\u7528\u6808\u7684\u601d\u60f3\uff0c\u4ece\u6839\u8282\u70b9\u5f00\u59cb\u4ee5\u6b64\u4f7f\u7528ret\u6dfb\u52a0\u6839\u8282\u70b9\u503c\uff0cstack\u6dfb\u52a0\u53f3\u8282\u70b9\uff0c\n# curr=\u5de6\u8282\u70b9\uff0c\u5982\u679c\u5de6\u8282\u70b9\u4e3aNone\uff0c\u5219\u83b7\u53d6\u5176\u4e0a\u4e00\u4e2a\u53f3\u8282\u70b9\uff08\u4e00\u76f4\u8f93\u51fa\u6839\u8282\u70b9\uff0c\u6dfb\u52a0\u5176\u53f3\u8282\u70b9\uff0c\n# \u904d\u5386\u5de6\u8282\u70b9\uff0c\u53f3\u8282\u70b9\u7684\u8f93\u51fa\u987a\u5e8f\u4e3a\u4ece\u4e0b\u5f80\u4e0a\uff09\nclass Solution:\n    def preorderTraversal(self, root: TreeNode) -&gt; List[int]:\n        ret=[]\n        if root==None:\n            return ret\n        stack=[]\n        curr=root\n        while curr or stack:\n            if curr:\n                ret.append(curr.val)\n                stack.append(curr.right)\n                curr=curr.left\n            else:\n                curr=stack.pop()\n        return ret\n</code></pre></li> <li>\u4e2d\u5e8f\u904d\u5386 <pre><code># \u9012\u5f52\u89e3\u6cd5\u540c\u4e0a\n# \u8fed\u4ee3\u89e3\u6cd5\nclass Solution:\n    def inorderTraversal(self, root: TreeNode) -&gt; List[int]:\n        res=[]\n        if root==None:\n            return res\n        stack=[]  #\u6dfb\u52a0\u6839\u8282\u70b9\n        curr=root\n        while curr or stack:\n            if curr:\n                stack.append(curr)\n                curr=curr.left\n            else:\n                curr=stack.pop()\n                res.append(curr.val)\n                curr=curr.right\n        return res\n</code></pre></li> <li>\u540e\u5e8f\u904d\u5386 <pre><code># \u9012\u5f52\u89e3\u6cd5\u540c\u4e0a\n# \u8fed\u4ee3\u7b97\u6cd5\u601d\u8def\uff1a\u540e\u5e8f\u904d\u5386\u65b9\u5f0f\u4e3a\uff1a\u5de6\u53f3\u4e2d\uff0c\u5c06\u5176\u8fdb\u884c\u53cd\u8f6c \u4e2d\u53f3\u5de6\uff0c\n# \u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u4e00\u4e2a\u4e2d\u53f3\u5de6\uff0c\u5176\u539f\u7406\u4e0e\u524d\u5e8f\u904d\u5386\u4e00\u6837\nclass Solution:\n    def postorderTraversal(self, root: TreeNode) -&gt; List[int]:\n        ret=[]\n        if root==None:\n            return ret\n        stack=[]\n        curr=root\n        while curr or stack:\n            if curr:\n                ret.append(curr.val)\n                stack.append(curr.left)\n                curr=curr.right\n            else:\n                curr=stack.pop()\n        return ret[::-1]\n</code></pre></li> <li>\u5c42\u6b21\u904d\u5386 <pre><code>class Solution:\n    def levelOrder(self, root: TreeNode) -&gt; List[List[int]]:\n        level=[root]\n        ret=[]\n        if root==None:\n            return []\n        while level:\n            ret.append([i.val for i in level])\n            level=[kid for node in level for kid in (node.left,node.right) if kid]\n        return ret\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_25","title":"\u4e8c\u53c9\u6811\u4e2d\u7684\u4e00\u4e9b\u91cd\u8981\u5c5e\u6027","text":"<ul> <li>\u4e8c\u53c9\u6811\u7684\u6700\u5c0f\u6df1\u5ea6 <pre><code>class Solution:\n    def minDepth(self, root: TreeNode) -&gt; int:\n        if not root:\n            return 0\n        if root.left==None or root.right==None:\n            return self.minDepth(root.left)+self.minDepth(root.right)+1\n        else:\n            return min(map(self.minDepth,(root.left,root.right)))+1\n</code></pre></li> <li>\u4e8c\u53c9\u6811\u7684\u5c42\u5e73\u5747\u503c <pre><code>class Solution:\n    def averageOfLevels(self, root: TreeNode) -&gt; List[float]:\n        average=[]\n        if root:\n            level=[root]\n            while level:\n                average.append(sum(i.val for i in level)/len(level))\n                level=[kid for node in level for kid in (node.left,node.right) if kid]\n        return average\n</code></pre></li> <li>\u4e8c\u53c9\u6811\u7684\u76f4\u5f84<ul> <li>\u91c7\u7528\u5206\u6cbb\u548c\u9012\u5f52\u7684\u601d\u60f3\uff1a\u6839\u8282\u70b9\u4e3aroot\u7684\u4e8c\u53c9\u6811\u7684\u76f4\u5f84 = max(root-left\u7684\u76f4\u5f84, root-&gt;right\u7684\u76f4\u5f84\uff0croot-&gt;left\u7684\u6700\u5927\u6df1\u5ea6+root-&gt;right\u7684\u6700\u5927\u6df1\u5ea6+1)</li> <li>\u5206\u4e24\u79cd\u60c5\u51b5\uff0c1\uff0c\u6700\u5927\u76f4\u5f84\u7ecf\u8fc7\u6839\u8282\u70b9\uff0c\u5219\u76f4\u5f84\u4e3a\u5de6\u5b50\u6811\u6700\u5927\u6df1\u5ea6+\u53f3\u5b50\u6811\u6700\u5927\u6df1\u5ea6 2.\u5982\u679c\u4e0d\u7ecf\u8fc7\u6839\u8282\u70b9\uff0c\u5219\u53d6\u5de6\u5b50\u6811\u6216\u53f3\u5b50\u6811\u7684\u6700\u5927\u6df1\u5ea6 <pre><code>class Solution:\n    def diameterOfBinaryTree(self, root: TreeNode) -&gt; int:\n        self.diameter=0\n        def dfs(root):\n            if root==None:\n                return 0\n            left=dfs(root.left)\n            right=dfs(root.right)\n            self.diameter=max(self.diameter,left+right)\n            return max(left,right)+1\n        dfs(root)\n        return self.diameter\n</code></pre></li> </ul> </li> <li>\u4e24\u4e2a\u4e8c\u53c9\u6811\u7684\u6700\u4f4e\u516c\u5171\u7956\u5148\u8282\u70b9 <pre><code>'''\n\u601d\u8def\uff1a\u9012\u5f52\uff0c\u5982\u679c\u5f53\u524d\u8282\u70b9\u5c31\u662fp\u6216q\uff0c\u8bf4\u660e\u5f53\u524d\u8282\u70b9\u5c31\u662f\u6700\u8fd1\u7684\u7956\u5148\uff1b\u5982\u679c\u5f53\u524d\u8282\u70b9\u4e0d\u662fp\u6216p\uff0c\n\u5c31\u8bd5\u7740\u4ece\u5de6\u53f3\u5b50\u6811\u91cc\u627epq\uff1b\u5982\u679cpq\u5206\u522b\u5728\u4e00\u5de6\u4e00\u53f3\u88ab\u627e\u5230\uff0c\u90a3\u4e48\u5f53\u524d\u8282\u70b9\u8fd8\u662f\u6700\u8fd1\u7684\n\u7956\u5148\u8fd4\u56deroot\u5c31\u597d\u4e86\uff1b\u5426\u5219\uff0c\u8fd4\u56de\u5b83\u4eec\u90fd\u5728\u7684\u90a3\u4e00\u8fb9\u3002\n'''\nclass Solution:\n    def lowestCommonAncestor(self, root: 'TreeNode', p: 'TreeNode', q: 'TreeNode') -&gt; 'TreeNode':\n        if root==None:   \n            return \n        if root==p or root==q:\n            return root\n        left=self.lowestCommonAncestor(root.left,p,q)\n        right=self.lowestCommonAncestor(root.right,p,q)\n        if left and right:\n            return root\n        if left:\n            return left\n        if right:\n            return right\n        else:\n            return \n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_26","title":"\u5b57\u7b26\u4e32\u7b97\u6cd5","text":"<ul> <li>\u6700\u957f\u516c\u5171\u524d\u7f00 <pre><code># leetcode 14\nclass Solution:\n    def longestCommonPrefix(self, strs: List[str]) -&gt; str:\n        temp_str=\"\"\n        zip_obj = zip(*strs)\n        for obj in zip_obj:\n            if(len(set(obj)))&gt;1:\n                break\n            temp_str+=obj[0]\n        return temp_str \n</code></pre></li> <li>\u6700\u957f\u56de\u6587\u5b50\u4e32 <pre><code># leetcode 5\nclass Solution:\n    def longestPalindrome(self, s: str) -&gt; str:\n        start=0\n        maxstr=0\n        for i in range(len(s)):\n            if i-maxstr&gt;=1 and s[i-maxstr-1:i+1]==s[i-maxstr-1:i+1][::-1]:\n                start = i-maxstr-1\n                maxstr+=2\n                continue\n            if  i-maxstr&gt;=0 and s[i-maxstr:i+1]==s[i-maxstr:i+1][::-1]:\n                start = i-maxstr\n                maxstr+=1\n        return s[start:start+maxstr]\n</code></pre></li> <li>\u65e0\u91cd\u590d\u5b57\u7b26\u7684\u6700\u957f\u5b50\u4e32 <pre><code># leetcode 3 \uff1a\u6ed1\u52a8\u7a97\u53e3\u6cd5\nclass Solution:\n    def lengthOfLongestSubstring(self, s: str) -&gt; int:\n        max_str=0\n        for i in range(len(s)):\n            if len(s[i-max_str:i+1])==len(set(s[i-max_str:i+1])):\n                max_str+=1\n        return max_str\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_27","title":"\u54c8\u5e0c\u7b97\u6cd5","text":"<ul> <li>\u54c8\u5e0c\u51fd\u6570\u7279\u6027\uff1a\u786e\u5b9a\u6027\u3001\u54c8\u5e0c\u51b2\u7a81\uff0c\u4e0d\u53ef\u9006\u6027\uff0c\u6df7\u6dc6\u7279\u6027<ul> <li>\u54c8\u5e0c\u8868\u7684 load factor\uff08\u8d1f\u8f7d\u56e0\u5b50\uff09\uff0c\u8d8a\u5927\u8868\u660e\u54c8\u5e0c\u8868\u4e2d\u586b\u7684\u5143\u7d20\u8d8a\u591a\uff0c\u8d8a\u5bb9\u6613\u53d1\u751f\u51b2\u7a81</li> <li>\u89e3\u51b3\u54c8\u5e0c\u51b2\u7a81\uff1a\u5f00\u653e\u5bfb\u5740\u6cd5\uff08\u7ebf\u6027\u63a2\u6d4b\u3001\u4e8c\u6b21\u63a2\u6d4b\u3001\u53cc\u91cd\u54c8\u5e0c\uff09\uff0c\u94fe\u8868\u6cd5</li> <li>\u54c8\u5e0c\u6d2a\u6c34\u653b\u51fb</li> </ul> </li> <li>\u5b9e\u73b0\u54c8\u5e0c\u8868 <pre><code>class HashMap:\n    def __init__(self):\n        self.size = 11\n        self.slots = [None]*self.size\n        self.data = [None]*self.size\n\n    def put(self, key, data):\n        hash_value = self.hash(key, len(self.slots))\n        if self.slots[hash_value] == None:\n            self.slots[hash_value] = key\n            self.data[hash_value] = data\n        else:\n            # \u952e\u4e00\u6837\u65f6\u66ff\u6362\n            if self.slots[hash_value] == key:\n                self.data[hash_value] = data\n            else:\n                # \u91cd\u65b0\u6563\u5217\uff0c+1\u7ebf\u6027\u63a2\u6d4b\n                next_slot = self.rehash(hash_value, len(self.slots))\n                while self.slots[next_slot] != None and self.slots[next_slot] != key:\n                    next_slot = self.rehash(next_slot, len(self.slots))\n                if self.slots[next_slot] != None:\n                    self.slots[next_slot] = key\n                    self.data[next_slot] = data\n                else:\n                    self.data[next_slot] = data\n\n    def get(self, key):\n        start_slot = self.hash(key, len(self.slots))\n        found = False\n        data = None\n        stop = False\n        position = start_slot\n        while self.slots[position] != None and not stop and not found:\n            if self.slots[position] == key:\n                data = self.data[position]\n                found = True\n            else:\n                position = self.rehash(position,len(self.slots))\n                if position==start_slot:\n                    stop = True\n        return data \n\n    def hash(self, key, size):\n        return key % size\n\n    def rehash(self, oldhash, size):\n        return (oldhash+1) % size\n\n    def __getitem__(self, key):\n        return self.get(key)\n\n    def __setitem__(self, key, data):\n        return self.put(key, data)\nhashmap=HashMap()\nhashmap[0]='cat'\nhashmap[1]='dog'\nhashmap[2]='bird'\nprint(hashmap.slots)\nprint(hashmap.data  )\n</code></pre></li> <li>\u4e24\u6570\u4e4b\u548c <pre><code># leetcode 1\nclass Solution:\n    def twoSum(self, nums: List[int], target: int) -&gt; List[int]:\n        #enumerate() \u51fd\u6570\u7528\u4e8e\u5c06\u4e00\u4e2a\u53ef\u904d\u5386\u7684\u6570\u636e\u5bf9\u8c61(\u5982\u5217\u8868\u3001\u5143\u7ec4\u6216\u5b57\u7b26\u4e32)\n        # \u7ec4\u5408\u4e3a\u4e00\u4e2a\u7d22\u5f15\u5e8f\u5217\uff0c\u540c\u65f6\u5217\u51fa\u6570\u636e\u548c\u6570\u636e\u4e0b\u6807\n        demo_dict = dict((num,i)for i,num in enumerate(nums))\n        for i,num in enumerate(nums):\n            #get()\u65b9\u6cd5\u548c[key]\u65b9\u6cd5\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e[key]\u5728\u9047\u5230\u4e0d\u5b58\u5728\u7684key\u65f6\u4f1a\u629b\u51faKeyError\u9519\n            j=demo_dict.get(target-num)\n            if j and i!=j:\n                return [i,j]\n</code></pre></li> <li>\u4e09\u6570\u4e4b\u548c <pre><code># leetcode 15\nclass Solution:\n    def threeSum(self, nums: List[int]) -&gt; List[List[int]]:\n        nums.sort()\n        res = []\n        # \u6392\u5e8f\u540e\u904d\u5386\n        for t in range(len(nums)- 2):\n            # \u8df3\u8fc7\u76f8\u540c\u7684\u60c5\u51b5\n            if t &gt; 0 and nums[t] == nums[t - 1]:\n                    continue\n            # i\u5411\u540e\u5224\u65ad\uff0cj\u5411\u524d\u5224\u65ad\n            i, j = t + 1, len(nums) - 1\n            while i &lt; j:\n                _sum = nums[t] + nums[i] + nums[j]\n                if _sum == 0:\n                    res.append([nums[t], nums[i], nums[j]])\n                    i += 1\n                    j -= 1\n                    # \u8df3\u8fc7\u76f8\u540c\u7684\u60c5\u51b5\n                    while i &lt; j and nums[i] == nums[i - 1]:\n                        i += 1\n                    while i &lt; j and nums[j] == nums[j + 1]:\n                        j -= 1\n                elif _sum &lt; 0:\n                    i += 1\n                else:\n                    j -= 1\n        return res\n</code></pre></li> <li>\u91cd\u590d\u7684 DNA \u5e8f\u5217 <pre><code># leetcode 187\nclass Solution:\n    def findRepeatedDnaSequences(self, s: str) -&gt; List[str]:\n        res=dict()\n        for i in range(len(s)-9):\n            res[s[i:i+10]]=res.get(s[i:i+10],0)+1\n        return [k for k,v in res.items() if v&gt;=2]\n</code></pre></li> <li>\u4e24\u4e2a\u6570\u7ec4\u7684\u4ea4\u96c6 <pre><code># leetcode 350\nclass Solution:\n    def intersect(self, nums1: List[int], nums2: List[int]) -&gt; List[int]:\n        res=[]\n        num_dict={}\n        for num in nums1:\n            if num not in num_dict:\n                num_dict[num]=1\n            else:\n                num_dict[num]+=1\n        for num in nums2:\n            if num in num_dict and num_dict[num]&gt;0:\n                num_dict[num]-=1\n                res.append(num)\n        return res\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_28","title":"\u5e38\u89c1\u7b97\u6cd5\u57fa\u672c\u601d\u60f3","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_29","title":"\u56de\u6eaf","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>Backtracking\u56de\u6eaf\u6cd5(\u53c8\u79f0DFS,\u9012\u5f52)\u5168\u89e3</li> <li>leetcode 22 / leetcode 39 / leetcode 40 /leetcode 46 / leetcode 79 <pre><code># leetcode 17\nclass Solution(object):\n    def letterCombinations(self, digits):\n        \"\"\"\n        :type digits: str\n        :rtype: List[str]\n        \"\"\"\n        if not digits:\n            return []\n        d = {'2':\"abc\",\n             '3':\"def\",\n             '4':\"ghi\",\n             '5':\"jkl\",\n             '6':\"mno\",\n             '7':\"pqrs\",\n             '8':\"tuv\",\n             '9':\"wxyz\"\n            }\n        res = []\n        self.dfs(d, digits, \"\", res)\n        return res\n\n    def dfs(self, d, digits, tmp , res):\n        if not digits:\n            res.append(tmp)\n        else:\n            for num in d[digits[0]]:\n                self.dfs(d, digits[1:], tmp + num, res)\n</code></pre></li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_30","title":"\u5206\u800c\u6cbb\u4e4b","text":"<ul> <li>leetcode 4 / leetcode 215 / leetcode 241 <pre><code># leetcode 215\n'''\n\u4efb\u610f\u9009\u5b9a\u6570\u7ec4\u5185\u4e00\u4e2a\u6570mark\uff0c\u5c06\u6bd4\u5176\u5927\u548c\u6bd4\u5176\u5c0f\u7684\u503c\u5206\u522b\u653e\u5728\u5de6\u53f3\u4e24\u4e2a\u6570\u7ec4\u91cc\uff0c\u63a5\u7740\u5224\u65ad\u4e24\u8fb9\u6570\u5b57\n\u7684\u6570\u91cf\uff0c\u5982\u679c\u5de6\u8fb9\u7684\u6570\u91cf\u5927\u4e8ek\u4e2a\uff0c\u8bf4\u660e\u7b2ck\u5927\u7684\u6570\u5b57\u5b58\u5728\u4e8emark\u53camark\u5de6\u8fb9\u7684\u533a\u57df\uff0c\u5bf9\u5de6\u534a\u533a\u6267\u884c\npartition\u51fd\u6570\uff1b\u5982\u679c\u5de6\u8fb9\u7684\u6570\u91cf\u5c0f\u4e8ek\u4e2a\uff0c\u8bf4\u660e\u7b2ck\u5927\u7684\u6570\u5b57\u5728mark\u548cmark\u53f3\u8fb9\u7684\u533a\u57df\u4e4b\u5185\uff0c\u5bf9\u53f3\n\u534a\u533a\u6267\u884cpartition\u51fd\u6570\u3002\u76f4\u5230\u5de6\u534a\u533a\u521a\u597d\u6709k-1\u4e2a\u6570\uff0c\u90a3\u4e48\u7b2ck\u5927\u7684\u6570\u5c31\u5df2\u7ecf\u627e\u5230\u4e86\u3002\n'''\nclass Solution(object):\n    def findKthLargest(self, nums, k):\n        mark = random.choice(nums)\n        num1,num2=list(),list()\n        for num in nums:\n            if num&gt;mark:\n                num1.append(num)\n            if num&lt;mark:\n                num2.append(num)\n        if k&lt;=len(num1):\n            return self.findKthLargest(num1,k)\n        if k&gt;len(nums)-len(num2):\n            return self.findKthLargest(num2,k-(len(nums)-len(num2)))\n        return mark\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_31","title":"\u52a8\u6001\u89c4\u5212","text":"<ul> <li>\u786c\u5e01\u627e\u96f6 <pre><code># leetcode 322\nclass Solution(object):\n    def coinChange(self, coins, amount):\n    # \u5efa\u4e00\u4e2a\u957f\u5ea6\u662f amount + 1\u7684dp\u6570\u7ec4\uff0c\u6784\u6210\u9762\u989d\u4ece0\u5230 amount\u9700\u8981\u4f7f\u7528\u7684\u6700\u5c11\u786c\u5e01\u6570\u91cf\u3002\n        dp = [0] + [-1] * amount\n        for x in range(amount):\n            if dp[x] &lt; 0:\n                continue\n            for c in coins:\n                if x + c &gt; amount:\n                    continue\n                if dp[x + c] &lt; 0 or dp[x + c] &gt; dp[x] + 1:\n                    dp[x + c] = dp[x] + 1\n        return dp[amount]\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_32","title":"\u5206\u652f\u754c\u9650","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_33","title":"\u64cd\u4f5c\u7cfb\u7edf\u7bc7","text":"<ul> <li>\u5b66\u4e60\u8d44\u6599\u63a8\u8350</li> <li>\u54c8\u5de5\u5927\u674e\u6cbb\u519b\u8001\u5e08\u7684OS<ul> <li>\u914d\u5957\u7684\u5b9e\u9a8c\u73af\u5883</li> <li>gitbook\u548c\u6e90\u7801</li> <li>Linux\u5185\u6838\u5b8c\u5168\u6ce8\u91ca</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_34","title":"\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b\u533a\u522b","text":"<ol> <li>\u5185\u5b58\u548c\u8d44\u6e90\u5206\u914d\uff1a</li> <li>\u8fdb\u7a0b\u62e5\u6709\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u6709\u81ea\u5df1\u7684\u4ee3\u7801\u3001\u6570\u636e\u3001\u5806\u6808\u7b49\u8d44\u6e90\uff0c\u8fdb\u7a0b\u95f4\u7684\u901a\u4fe1\u9700\u8981\u4f7f\u7528\u7279\u5b9a\u7684\u901a\u4fe1\u673a\u5236\uff0c\u5982\u7ba1\u9053\u3001\u6d88\u606f\u961f\u5217\u7b49\u3002</li> <li>\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u5b83\u4eec\u4e4b\u95f4\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u76f8\u540c\u7684\u6570\u636e\u548c\u53d8\u91cf\uff0c\u7ebf\u7a0b\u95f4\u7684\u901a\u4fe1\u76f8\u5bf9\u8f83\u4e3a\u7b80\u5355\u3002</li> <li>\u6267\u884c\u73af\u5883\uff1a</li> <li>\u8fdb\u7a0b\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u6267\u884c\u73af\u5883\uff0c\u5177\u6709\u72ec\u7acb\u7684\u7a0b\u5e8f\u8ba1\u6570\u5668\u548c\u5bc4\u5b58\u5668\u7b49\uff0c\u8fdb\u7a0b\u95f4\u5207\u6362\u4ee3\u4ef7\u8f83\u9ad8\u3002</li> <li>\u7ebf\u7a0b\u662f\u5728\u8fdb\u7a0b\u5185\u90e8\u8fd0\u884c\u7684\uff0c\u5171\u4eab\u4e86\u8fdb\u7a0b\u7684\u6267\u884c\u73af\u5883\uff0c\u7ebf\u7a0b\u95f4\u5207\u6362\u4ee3\u4ef7\u8f83\u4f4e\u3002</li> <li>\u521b\u5efa\u548c\u9500\u6bc1\uff1a</li> <li>\u521b\u5efa\u548c\u9500\u6bc1\u8fdb\u7a0b\u9700\u8981\u8f83\u591a\u7684\u8d44\u6e90\u548c\u65f6\u95f4\uff0c\u4ee3\u4ef7\u8f83\u9ad8\u3002</li> <li>\u521b\u5efa\u548c\u9500\u6bc1\u7ebf\u7a0b\u76f8\u5bf9\u8f83\u8f7b\u91cf\uff0c\u4ee3\u4ef7\u8f83\u4f4e\u3002</li> <li>\u5e76\u53d1\u6027\uff1a</li> <li>\u8fdb\u7a0b\u4e4b\u95f4\u5e76\u53d1\u6267\u884c\uff0c\u5404\u81ea\u72ec\u7acb\uff0c\u8fdb\u7a0b\u95f4\u4e92\u4e0d\u5e72\u6270\u3002</li> <li>\u7ebf\u7a0b\u4e4b\u95f4\u5171\u4eab\u8fdb\u7a0b\u7684\u8d44\u6e90\uff0c\u56e0\u6b64\u7ebf\u7a0b\u4e4b\u95f4\u5e76\u53d1\u6267\u884c\u65f6\u9700\u8981\u8003\u8651\u540c\u6b65\u548c\u4e92\u65a5\u95ee\u9898\u3002    \u4f7f\u7528\u573a\u666f\u4e3e\u4f8b\uff1a</li> <li>\u8fdb\u7a0b\uff1a\u9002\u5408\u9700\u8981\u9694\u79bb\u8d44\u6e90\u3001\u5177\u6709\u72ec\u7acb\u6267\u884c\u73af\u5883\u7684\u4efb\u52a1\u3002\u4f8b\u5982\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u5404\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5c31\u662f\u72ec\u7acb\u7684\u8fdb\u7a0b\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u53ef\u4ee5\u5e76\u53d1\u6267\u884c\u4e0d\u540c\u7684\u5e94\u7528\u3002</li> <li>\u7ebf\u7a0b\uff1a\u9002\u5408\u9700\u8981\u5171\u4eab\u8d44\u6e90\u3001\u6267\u884c\u73af\u5883\u7684\u4efb\u52a1\u3002\u4f8b\u5982\uff0cWeb \u670d\u52a1\u5668\u4e2d\uff0c\u6bcf\u4e2a\u5ba2\u6237\u7aef\u8bf7\u6c42\u53ef\u4ee5\u7531\u4e00\u4e2a\u5355\u72ec\u7684\u7ebf\u7a0b\u5904\u7406\uff0c\u591a\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u5171\u4eab\u670d\u52a1\u5668\u7684\u8d44\u6e90\uff0c\u63d0\u9ad8\u5e76\u53d1\u5904\u7406\u80fd\u529b\u3002\u53c8\u5982\u5728\u6e38\u620f\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u7ebf\u7a0b\u8d1f\u8d23\u6e32\u67d3\uff0c\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u8d1f\u8d23\u7528\u6237\u8f93\u5165\u7684\u54cd\u5e94\u3002</li> </ol>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_35","title":"\u8c08\u8c08\u591a\u7ebf\u7a0b\u5e76\u53d1","text":"<ol> <li>\u5206\u79bb\u6267\u884c\u903b\u8f91\u4e0e\u8c03\u5ea6\u673a\u5236\uff1a \u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\uff0c\u4f60\u53ef\u4ee5\u5c06\u7a0b\u5e8f\u7684\u6267\u884c\u903b\u8f91\u4e0e\u7ebf\u7a0b\u7684\u8c03\u5ea6\u673a\u5236\u5206\u79bb\uff0c\u4f7f\u4e0d\u540c\u7ebf\u7a0b\u80fd\u591f\u4ea4\u66ff\u6267\u884c\uff0c\u4ece\u800c\u63d0\u9ad8\u7a0b\u5e8f\u7684\u54cd\u5e94\u80fd\u529b\u548c\u6548\u7387\u3002\u4f8b\u5982\uff0c\u5728\u56fe\u5f62\u754c\u9762\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u53ef\u4ee5\u5c06UI\u54cd\u5e94\u548c\u540e\u53f0\u4efb\u52a1\u5904\u7406\u5206\u5f00\uff0c\u5728\u540e\u53f0\u7ebf\u7a0b\u4e2d\u6267\u884c\u8017\u65f6\u64cd\u4f5c\uff0c\u800c\u4e0d\u4f1a\u963b\u585e\u7528\u6237\u754c\u9762\u3002</li> <li>\u5f02\u6b65 I/O\uff1a \u5f53\u9700\u8981\u5904\u7406\u5f02\u6b65 I/O \u64cd\u4f5c\u65f6\uff0c\u591a\u7ebf\u7a0b\u80fd\u591f\u8ba9\u7a0b\u5e8f\u5728\u7b49\u5f85 I/O \u5b8c\u6210\u65f6\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff0c\u907f\u514d\u963b\u585e\u3002\u4e00\u4e2a\u5e38\u89c1\u7684\u573a\u666f\u662f\u7f51\u7edc\u670d\u52a1\u5668\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5\u53ef\u4ee5\u7531\u4e00\u4e2a\u5355\u72ec\u7684\u7ebf\u7a0b\u5904\u7406\uff0c\u4fdd\u6301\u670d\u52a1\u5668\u7684\u9ad8\u5e76\u53d1\u6027\u3002</li> <li>\u8d44\u6e90\u5229\u7528\u7387\u63d0\u5347\uff1a \u5728\u591a\u6838\u5904\u7406\u5668\u4e0a\uff0c\u591a\u7ebf\u7a0b\u80fd\u591f\u5e76\u884c\u6267\u884c\uff0c\u5145\u5206\u5229\u7528\u786c\u4ef6\u8d44\u6e90\uff0c\u52a0\u5feb\u4efb\u52a1\u7684\u6267\u884c\u901f\u5ea6\u3002\u4f8b\u5982\uff0c\u5728\u6570\u636e\u5904\u7406\u5e94\u7528\u4e2d\uff0c\u53ef\u4ee5\u5c06\u6570\u636e\u5212\u5206\u4e3a\u591a\u4e2a\u90e8\u5206\uff0c\u7531\u4e0d\u540c\u7ebf\u7a0b\u540c\u65f6\u5904\u7406\uff0c\u63d0\u9ad8\u6570\u636e\u5904\u7406\u6548\u7387\u3002</li> <li>\u5206\u89e3\u590d\u6742\u4efb\u52a1\uff1a \u590d\u6742\u4efb\u52a1\u53ef\u4ee5\u88ab\u62c6\u89e3\u4e3a\u591a\u4e2a\u7b80\u5355\u4e14\u540c\u6b65\u7684\u5de5\u4f5c\u6d41\uff0c\u5728\u4e0d\u540c\u7684\u7ebf\u7a0b\u4e2d\u6267\u884c\uff0c\u7136\u540e\u5728\u540c\u6b65\u4f4d\u7f6e\u8fdb\u884c\u4ea4\u4e92\u3002\u8fd9\u5728\u6e38\u620f\u5f00\u53d1\u4e2d\u5f88\u5e38\u89c1\uff0c\u4e0d\u540c\u7ebf\u7a0b\u8d1f\u8d23\u6e32\u67d3\u3001\u7269\u7406\u6a21\u62df\u3001\u7528\u6237\u8f93\u5165\u7b49\uff0c\u4ee5\u63d0\u9ad8\u6e38\u620f\u6027\u80fd\u3002</li> <li>IO\u5bc6\u96c6\u578b\u4efb\u52a1\uff1a \u5f53\u4efb\u52a1\u6d89\u53ca\u5927\u91cf\u7684IO\u64cd\u4f5c\uff0c\u5982\u6587\u4ef6\u8bfb\u5199\u3001\u7f51\u7edc\u8bf7\u6c42\u7b49\uff0c\u591a\u7ebf\u7a0b\u53ef\u4ee5\u8ba9\u4e00\u4e2a\u7ebf\u7a0b\u5728\u7b49\u5f85IO\u65f6\uff0c\u5176\u4ed6\u7ebf\u7a0b\u7ee7\u7eed\u6267\u884c\uff0c\u63d0\u9ad8\u7cfb\u7edf\u7684\u8d44\u6e90\u5229\u7528\u7387\u548c\u54cd\u5e94\u901f\u5ea6\u3002</li> <li>\u591a\u6838CPU\u4f18\u52bf\uff1a \u591a\u6838\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\uff0c\u591a\u7ebf\u7a0b\u53ef\u4ee5\u66f4\u597d\u5730\u5229\u7528\u591a\u4e2a\u6838\u5fc3\uff0c\u63d0\u9ad8\u5e76\u53d1\u5904\u7406\u80fd\u529b\u3002\u5728\u79d1\u5b66\u8ba1\u7b97\u3001\u56fe\u50cf\u5904\u7406\u7b49\u9886\u57df\uff0c\u591a\u7ebf\u7a0b\u80fd\u591f\u5e76\u884c\u5904\u7406\u590d\u6742\u8ba1\u7b97\u4efb\u52a1\u3002</li> <li>\u5f53\u7ebf\u7a0b\u4e4b\u95f4\u5982\u679c\u8981\u5171\u4eab\u8d44\u6e90\u6216\u6570\u636e\u7684\u65f6\u5019\uff0c\u53ef\u80fd\u53d8\u7684\u975e\u5e38\u590d\u6742\u3002Python\u7684threading\u6a21\u5757\u63d0\u4f9b\u4e86\u5f88\u591a\u540c\u6b65\u539f\u8bed\uff0c\u5305\u62ec\u4fe1\u53f7\u91cf\uff0c\u6761\u4ef6\u53d8\u91cf\uff0c\u4e8b\u4ef6\u548c\u9501\u3002 <pre><code>import threading\nimport time\nclass GetHtml(threading.Thread):\n    def __init__(self,name):\n        super().__init__(name=name)\n    def run(self):\n        print('get html start')\n        time.sleep(2)\n        print('get html end')\nclass GetUrl(threading.Thread):\n    def __init__(self,name):\n        super().__init__(name=name)\n    def run(self):\n        print('get url start')\n        time.sleep(4)\n        print('get url end')\nif __name__ == \"__main__\":\n    thread1=GetHtml(name='html')\n    thread2=GetUrl(name='url')\n    start_time=time.time()\n    thread1.start()\n    thread2.start()\n    thread1.join()\n    thread2.join()\n    end_time=time.time()\n    total_time=end_time-start_time\n    print('total running tim:{}'.format(total_time))\n</code></pre></li> </ol>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#python_7","title":"\u7ebf\u7a0b\u540c\u6b65\u65b9\u5f0f(Python\u4ee3\u7801\u5b9e\u73b0)","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>\u56db\u79cd\u7ebf\u7a0b\u540c\u6b65\uff08\u6216\u4e92\u65a5\uff09\u65b9\u5f0f\u5c0f\u7ed3</li> </ul> </li> <li>\u7ebf\u7a0b\u540c\u6b65\u5c31\u662f\u534f\u540c\u6b65\u8c03\uff0c\u6309\u9884\u5b9a\u7684\u5148\u540e\u6b21\u5e8f\u8fdb\u884c\u8fd0\u884c\u3002\u5982\uff1a\u4f60\u8bf4\u5b8c\uff0c\u6211\u518d\u8bf4\u3002\u8fd9\u91cc\u7684\u540c\u6b65\u5343\u4e07\u4e0d\u8981\u7406\u89e3\u6210\u90a3\u4e2a\u540c\u65f6\u8fdb\u884c\uff0c\u5e94\u662f\u6307\u534f\u540c\u3001\u534f\u52a9\u3001\u4e92\u76f8\u914d\u5408\u3002\u7ebf\u7a0b\u540c\u6b65\u662f\u6307\u591a\u7ebf\u7a0b\u901a\u8fc7\u7279\u5b9a\u7684\u8bbe\u7f6e\uff08\u5982\u4e92\u65a5\u91cf\uff0c\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u4e34\u754c\u533a\uff09\u6765\u63a7\u5236\u7ebf\u7a0b\u4e4b\u95f4\u7684\u6267\u884c\u987a\u5e8f\uff08\u5373\u6240\u8c13\u7684\u540c\u6b65\uff09\u4e5f\u53ef\u4ee5\u8bf4\u662f\u5728\u7ebf\u7a0b\u4e4b\u95f4\u901a\u8fc7\u540c\u6b65\u5efa\u7acb\u8d77\u6267\u884c\u987a\u5e8f\u7684\u5173\u7cfb\uff0c\u5982\u679c\u6ca1\u6709\u540c\u6b65\uff0c\u90a3\u7ebf\u7a0b\u4e4b\u95f4\u662f\u5404\u81ea\u8fd0\u884c\u5404\u81ea\u7684\uff01</li> <li>\u7ebf\u7a0b\u4e92\u65a5\u662f\u6307\u5bf9\u4e8e\u5171\u4eab\u7684\u8fdb\u7a0b\u7cfb\u7edf\u8d44\u6e90\uff0c\u5728\u5404\u5355\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u65f6\u7684\u6392\u5b83\u6027\u3002\u5f53\u6709\u82e5\u5e72\u4e2a\u7ebf\u7a0b\u90fd\u8981\u4f7f\u7528\u67d0\u4e00\u5171\u4eab\u8d44\u6e90\u65f6\uff0c\u4efb\u4f55\u65f6\u523b\u6700\u591a\u53ea\u5141\u8bb8\u4e00\u4e2a\u7ebf\u7a0b\u53bb\u4f7f\u7528\uff0c\u5176\u5b83\u8981\u4f7f\u7528\u8be5\u8d44\u6e90\u7684\u7ebf\u7a0b\u5fc5\u987b\u7b49\u5f85\uff0c\u76f4\u5230\u5360\u7528\u8d44\u6e90\u8005\u91ca\u653e\u8be5\u8d44\u6e90\u3002\u7ebf\u7a0b\u4e92\u65a5\u53ef\u4ee5\u770b\u6210\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u7ebf\u7a0b\u540c\u6b65\uff08\u4e0b\u6587\u7edf\u79f0\u4e3a\u540c\u6b65\uff09\u3002<ul> <li>\u4e92\u65a5\u91cf Mutex\uff1a\u91c7\u7528\u4e92\u65a5\u5bf9\u8c61\u673a\u5236\uff0c\u53ea\u6709\u62e5\u6709\u4e92\u65a5\u5bf9\u8c61\u7684\u7ebf\u7a0b\u624d\u6709\u8bbf\u95ee\u516c\u5171\u8d44\u6e90\u7684\u6743\u9650\u3002\u56e0\u4e3a\u4e92\u65a5\u5bf9\u8c61\u53ea\u6709\u4e00\u4e2a\uff0c\u6240\u4ee5\u53ef\u4ee5\u4fdd\u8bc1\u516c\u5171\u8d44\u6e90\u4e0d\u4f1a\u88ab\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bbf\u95ee\uff0c\u5f53\u524d\u62e5\u6709\u4e92\u65a5\u5bf9\u8c61\u7684\u7ebf\u7a0b\u5904\u7406\u5b8c\u4efb\u52a1\u540e\u5fc5\u987b\u5c06\u4e92\u65a5\u5bf9\u8c61\u4ea4\u51fa\uff0c\u4ee5\u4fbf\u5176\u4ed6\u7ebf\u7a0b\u8bbf\u95ee\u8be5\u8d44\u6e90\u3002(RLock \u548c Lock)</li> <li>\u4fe1\u53f7\u91cf Semaphare\uff1a\u5b83\u5141\u8bb8\u540c\u4e00\u65f6\u523b\u591a\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u540c\u4e00\u8d44\u6e90\uff0c\u4f46\u662f\u9700\u8981\u63a7\u5236\u540c\u4e00\u65f6\u523b\u8bbf\u95ee\u6b64\u8d44\u6e90\u7684\u6700\u5927\u7ebf\u7a0b\u6570\u91cf\u3002\u4e00\u822c\u662f\u5c06\u5f53\u524d\u53ef\u7528\u8d44\u6e90\u8ba1\u6570\u8bbe\u7f6e\u4e3a\u6700\u5927\u8d44\u6e90\u8ba1\u6570\uff0c\u6bcf\u589e\u52a0\u4e00\u4e2a\u7ebf\u7a0b\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u8bbf\u95ee\uff0c\u5f53\u524d\u53ef\u7528\u8d44\u6e90\u8ba1\u6570\u5c31\u4f1a\u51cf1 \uff0c\u53ea\u8981\u5f53\u524d\u53ef\u7528\u8d44\u6e90\u8ba1\u6570\u662f\u5927\u4e8e0 \u7684\uff0c\u5c31\u53ef\u4ee5\u53d1\u51fa\u4fe1\u53f7\u91cf\u4fe1\u53f7\u3002\u4f46\u662f\u5f53\u524d\u53ef\u7528\u8ba1\u6570\u51cf\u5c0f\u52300\u65f6\u5219\u8bf4\u660e\u5f53\u524d\u5360\u7528\u8d44\u6e90\u7684\u7ebf\u7a0b\u6570\u5df2\u7ecf\u8fbe\u5230\u4e86\u6240\u5141\u8bb8\u7684\u6700\u5927\u6570\u76ee\uff0c\u4e0d\u80fd\u5728\u5141\u8bb8\u5176\u4ed6\u7ebf\u7a0b\u7684\u8fdb\u5165\uff0c\u6b64\u65f6\u7684\u4fe1\u53f7\u91cf\u4fe1\u53f7\u5c06\u65e0\u6cd5\u53d1\u51fa\u3002\u7ebf\u7a0b\u5728\u5904\u7406\u5b8c\u5171\u4eab\u8d44\u6e90\u540e\uff0c\u5e94\u5728\u79bb \u5f00\u7684\u540c\u65f6\u901a\u8fc7Release\u5c06\u5f53\u524d\u53ef\u7528\u8d44\u6e90\u8ba1\u6570\u52a01\uff0c\u5728\u4efb\u4f55\u65f6\u5019\u5f53\u524d\u53ef\u7528\u8d44\u6e90\u8ba1\u6570\u51b3\u4e0d\u53ef\u80fd\u5927\u4e8e\u6700\u5927\u8d44\u6e90\u8ba1\u6570\u3002</li> <li>\u4e8b\u4ef6\u5bf9\u8c61 Event\uff1a\u901a\u8fc7\u901a\u77e5\u64cd\u4f5c\u7684\u65b9\u5f0f\u6765\u4fdd\u6301\u591a\u7ebf\u7a0b\u540c\u6b65\uff0c\u8fd8\u53ef\u4ee5\u65b9\u4fbf\u7684\u5b9e\u73b0\u591a\u7ebf\u7a0b\u4f18\u5148\u7ea7\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002\u4e8b\u4ef6\u662f\u5185\u6838\u5bf9\u8c61\uff0c\u4e8b\u4ef6\u5206\u4e3a\u624b\u52a8\u7f6e\u4f4d\u4e8b\u4ef6\u548c\u81ea\u52a8\u7f6e\u4f4d\u4e8b\u4ef6\u3002\u4e8b\u4ef6Event\u5185\u90e8\u5b83\u5305\u542b\u4e00\u4e2a\u4f7f\u7528\u8ba1\u6570\uff08\u6240\u6709\u5185\u6838\u5bf9\u8c61\u90fd\u6709\uff09\uff0c\u4e00\u4e2a\u5e03\u5c14\u503c\u8868\u793a\u662f\u624b\u52a8\u7f6e\u4f4d\u4e8b\u4ef6\u8fd8\u662f\u81ea\u52a8\u7f6e\u4f4d\u4e8b\u4ef6\uff0c\u53e6\u4e00\u4e2a\u5e03\u5c14\u503c\u7528\u6765\u8868\u793a\u4e8b\u4ef6\u6709\u65e0\u89e6\u53d1\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_36","title":"\u7ebf\u7a0b\u72b6\u6001\u5207\u6362","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_37","title":"\u5206\u9875\u673a\u5236","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>\u5206\u9875\u673a\u5236\u56fe\u6587\u8be6\u89e3</li> </ul> </li> <li>\u4e00\u7ea7\u9875\u8868\u7684\u5f0a\u7aef\uff1a<ul> <li>\u6bcf\u5b58\u53d6\u4e00\u4e2a\u6570\u636e\uff0c\u9700\u4e24\u6b21\u8bbf\u95ee\u5185\u5b58\uff0c\u7b2c\u4e00\u6b21\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684\u9875\u8868\uff0c\u7b2c\u4e8c\u6b21\u8bbf\u95ee\u5185\u5b58\u4e2d\u7684\u6570\u636e\uff0c\u6548\u7387\u8f83\u4f4e\u3002\u6539\u8fdb\uff1a\u589e\u8bbe\u4e00\u4e2a\u5177\u6709\u5e76\u884c\u67e5\u5bfb\u80fd\u529b\u7684\u7279\u6b8a\u9ad8\u901f\u7f13\u51b2\u5bc4\u5b58\u5668\uff0c\u79f0\u4e3a\u201c\u8054\u60f3\u5bc4\u5b58\u5668\u201d\u6216\u201c\u5feb\u8868\u201d\uff0cIBM\u4e2d\u79f0\u4e3aTLB\uff0c\u7528\u4e8e\u5b58\u653e\u5f53\u524d\u8bbf\u95ee\u7684\u90a3\u4e9b\u9875\u8868\u9879\u3002</li> <li>IA-32\u4f53\u7cfb\u7ed3\u6784\u4e2d\uff0c\u5904\u7406\u5668\u4e3a32\u4f4d\uff0c\u53ef\u5bfb\u5740 2^32 =4GB\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u82e5\u6bcf\u9875\u5927\u5c0f\u4e3a4KB\uff0c\u5219\u5171\u5206\u4e3a4GB/4KB= 2^20 =1048576\u9875\uff0c\u56e0\u6b64\u9875\u8868\u4e2d\u5e94\u67091048576\u9879\uff0c\u6bcf\u4e2a\u9875\u8868\u9879\u4e3a4B\uff0c\u5219\u4e00\u4e2a\u9875\u8868\u9700\u89814MB\u7684\u8fde\u7eed\u7684\u7269\u7406\u5185\u5b58\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u9700\u8981\u81ea\u8eab\u7684\u9875\u8868\u53604MB\uff0c\u5c06\u5bfc\u81f4\u5927\u91cf\u5185\u5b58\u7528\u4e8e\u4fdd\u5b58\u8fdb\u7a0b\u7684\u9875\u8868\u3002</li> <li>\u6539\u8fdb\uff1a\u91c7\u7528\u4e24\u7ea7\u9875\u8868\uff0c\u6bcf\u9875\u4e2d\u5b582^10 \u9879\uff0c\u5171\u5206\u4e3a2^10 \u9875\uff0c\u5e76\u65b0\u589e\u4e00\u4e2a\u9875\u76ee\u5f55\u8868\u6765\u8bb0\u5f55\u8fd9 2^10 \u9875\u8868\u7684\u5730\u5740\u4e0e\u4fe1\u606f\uff0c\u56e0\u6b64\u9875\u76ee\u5f55\u8868\u5927\u5c0f\u4e3a2^10*4B=4KB\u653e\u5728\u5185\u5b58\u4e2d\uff0c\u9700\u8981\u5177\u4f53\u7684\u8868\u518d\u7531\u6b64\u8bfb\u5165\u3002\u91c7\u7528\u79bb\u6563\u5206\u914d\u65b9\u5f0f\u4ee3\u66ff\u539f\u6765\u9875\u8868\u9700\u8981\u7684\u8fde\u7eed\u7269\u7406\u5185\u5b58\uff0c\u5c06\u5f53\u524d\u9700\u8981\u7684\u90e8\u5206\u9875\u8868\u9879\u8c03\u5165\u5185\u5b58\uff0c\u5176\u4f59\u9875\u8868\u9879\u4ecd\u9a7b\u7559\u5728\u78c1\u76d8\u4e0a\uff0c\u9700\u8981\u65f6\u518d\u8c03\u5165\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_38","title":"\u5206\u9875\u548c\u5206\u6bb5\u6709\u4ec0\u4e48\u533a\u522b\uff08\u5185\u5b58\u7ba1\u7406\uff09","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>\u5206\u6bb5\u548c\u5206\u9875\u5185\u5b58\u7ba1\u7406</li> </ul> </li> <li>\u6bb5\u5f0f\u5b58\u50a8\u7ba1\u7406\u662f\u4e00\u79cd\u7b26\u5408\u7528\u6237\u89c6\u89d2\u7684\u5185\u5b58\u5206\u914d\u7ba1\u7406\u65b9\u6848\u3002\u5728\u6bb5\u5f0f\u5b58\u50a8\u7ba1\u7406\u4e2d\uff0c\u5c06\u7a0b\u5e8f\u7684\u5730\u5740\u7a7a\u95f4\u5212\u5206\u4e3a\u82e5\u5e72\u6bb5\uff08segment\uff09\uff0c\u5982\u4ee3\u7801\u6bb5\uff0c\u6570\u636e\u6bb5\uff0c\u5806\u6808\u6bb5\uff1b\u8fd9\u6837\u6bcf\u4e2a\u8fdb\u7a0b\u6709\u4e00\u4e2a\u4e8c\u7ef4\u5730\u5740\u7a7a\u95f4\uff0c\u76f8\u4e92\u72ec\u7acb\uff0c\u4e92\u4e0d\u5e72\u6270\u3002\u6bb5\u5f0f\u7ba1\u7406\u7684\u4f18\u70b9\u662f\uff1a\u6ca1\u6709\u5185\u788e\u7247\uff08\u56e0\u4e3a\u6bb5\u5927\u5c0f\u53ef\u53d8\uff0c\u6539\u53d8\u6bb5\u5927\u5c0f\u6765\u6d88\u9664\u5185\u788e\u7247\uff09\u3002\u4f46\u6bb5\u6362\u5165\u6362\u51fa\u65f6\uff0c\u4f1a\u4ea7\u751f\u5916\u788e\u7247\uff08\u6bd4\u5982 4k \u7684\u6bb5\u63625k \u7684\u6bb5\uff0c\u4f1a\u4ea7\u751f 1k \u7684\u5916\u788e\u7247\uff09</li> <li>\u9875\u5f0f\u5b58\u50a8\u7ba1\u7406\u65b9\u6848\u662f\u4e00\u79cd\u7528\u6237\u89c6\u89d2\u5185\u5b58\u4e0e\u7269\u7406\u5185\u5b58\u76f8\u5206\u79bb\u7684\u5185\u5b58\u5206\u914d\u7ba1\u7406\u65b9\u6848\u3002\u5728\u9875\u5f0f\u5b58\u50a8\u7ba1\u7406\u4e2d\uff0c\u5c06\u7a0b\u5e8f\u7684\u903b\u8f91\u5730\u5740\u5212\u5206\u4e3a\u56fa\u5b9a\u5927\u5c0f\u7684\u9875\uff08page\uff09\uff0c\u800c\u7269\u7406\u5185\u5b58\u5212\u5206\u4e3a\u540c\u6837\u5927\u5c0f\u7684\u5e27\uff0c\u7a0b\u5e8f\u52a0\u8f7d\u65f6\uff0c\u53ef\u4ee5\u5c06\u4efb\u610f\u4e00\u9875\u653e\u5165\u5185\u5b58\u4e2d\u4efb\u610f\u4e00\u4e2a\u5e27\uff0c\u8fd9\u4e9b\u5e27\u4e0d\u5fc5\u8fde\u7eed\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u79bb\u6563\u5206\u79bb\u3002\u9875\u5f0f\u5b58\u50a8\u7ba1\u7406\u7684\u4f18\u70b9\u662f\uff1a\u6ca1\u6709\u5916\u788e\u7247\uff08\u56e0\u4e3a\u9875\u7684\u5927\u5c0f\u56fa\u5b9a\uff09\uff0c\u4f46\u4f1a\u4ea7\u751f\u5185\u788e\u7247\uff08\u4e00\u4e2a\u9875\u53ef\u80fd\u586b\u5145\u4e0d\u6ee1\uff09</li> <li>\u4e24\u8005\u7684\u4e0d\u540c\u70b9\uff1a<ul> <li>\u76ee\u7684\u4e0d\u540c\uff1a\u5206\u9875\u662f\u7531\u4e8e\u7cfb\u7edf\u7ba1\u7406\u7684\u9700\u8981\u800c\u4e0d\u662f\u7528\u6237\u7684\u9700\u8981\uff0c\u5b83\u662f\u4fe1\u606f\u7684\u7269\u7406\u5355\u4f4d\uff1b\u5206\u6bb5\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u80fd\u66f4\u597d\u5730\u6ee1\u8db3\u7528\u6237\u7684\u9700\u8981\uff0c\u5b83\u662f\u4fe1\u606f\u7684\u903b\u8f91\u5355\u4f4d\uff0c\u5b83\u542b\u6709\u4e00\u7ec4\u5176\u610f\u4e49\u76f8\u5bf9\u5b8c\u6574\u7684\u4fe1\u606f\uff1b</li> <li>\u5927\u5c0f\u4e0d\u540c\uff1a\u9875\u7684\u5927\u5c0f\u56fa\u5b9a\u4e14\u7531\u7cfb\u7edf\u51b3\u5b9a\uff0c\u800c\u6bb5\u7684\u957f\u5ea6\u5374\u4e0d\u56fa\u5b9a\uff0c\u7531\u5176\u6240\u5b8c\u6210\u7684\u529f\u80fd\u51b3\u5b9a\uff1b</li> <li>\u5730\u5740\u7a7a\u95f4\u4e0d\u540c\uff1a \u6bb5\u5411\u7528\u6237\u63d0\u4f9b\u4e8c\u7ef4\u5730\u5740\u7a7a\u95f4\uff1b\u9875\u5411\u7528\u6237\u63d0\u4f9b\u7684\u662f\u4e00\u7ef4\u5730\u5740\u7a7a\u95f4\uff1b</li> <li>\u4fe1\u606f\u5171\u4eab\uff1a\u6bb5\u662f\u4fe1\u606f\u7684\u903b\u8f91\u5355\u4f4d\uff0c\u4fbf\u4e8e\u5b58\u50a8\u4fdd\u62a4\u548c\u4fe1\u606f\u7684\u5171\u4eab\uff0c\u9875\u7684\u4fdd\u62a4\u548c\u5171\u4eab\u53d7\u5230\u9650\u5236\uff1b</li> <li>\u5185\u5b58\u788e\u7247\uff1a\u9875\u5f0f\u5b58\u50a8\u7ba1\u7406\u7684\u4f18\u70b9\u662f\u6ca1\u6709\u5916\u788e\u7247\uff08\u56e0\u4e3a\u9875\u7684\u5927\u5c0f\u56fa\u5b9a\uff09\uff0c\u4f46\u4f1a\u4ea7\u751f\u5185\u788e\u7247\uff08\u4e00\u4e2a\u9875\u53ef\u80fd\u586b\u5145\u4e0d\u6ee1\uff09\uff1b\u800c\u6bb5\u5f0f\u7ba1\u7406\u7684\u4f18\u70b9\u662f\u6ca1\u6709\u5185\u788e\u7247\uff08\u56e0\u4e3a\u6bb5\u5927\u5c0f\u53ef\u53d8\uff0c\u6539\u53d8\u6bb5\u5927\u5c0f\u6765\u6d88\u9664\u5185\u788e\u7247\uff09\u3002\u4f46\u6bb5\u6362\u5165\u6362\u51fa\u65f6\uff0c\u4f1a\u4ea7\u751f\u5916\u788e\u7247\uff08\u6bd4\u5982 4k \u7684\u6bb5\u6362 5k \u7684\u6bb5\uff0c\u4f1a\u4ea7\u751f1k \u7684\u5916\u788e\u7247\uff09\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_39","title":"\u4ec0\u4e48\u662f\u865a\u62df\u5185\u5b58\uff1f","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>BAT\u9762\u8bd5\u4e4b\u64cd\u4f5c\u7cfb\u7edf\u5185\u5b58\u8be6\u89e3</li> </ul> </li> <li>\u5185\u5b58\u7684\u53d1\u5c55\u5386\u7a0b\uff1a\u6ca1\u6709\u5185\u5b58\u62bd\u8c61 (\u5355\u8fdb\u7a0b\uff0c\u9664\u53bb\u64cd\u4f5c\u7cfb\u7edf\u6240\u7528\u7684\u5185\u5b58\u4e4b\u5916\uff0c\u5168\u90e8\u7ed9\u7528\u6237\u7a0b\u5e8f\u4f7f\u7528) \u2014&gt; \u6709\u5185\u5b58\u62bd\u8c61\uff08\u591a\u8fdb\u7a0b\uff0c\u8fdb\u7a0b\u72ec\u7acb\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u4ea4\u6362\u6280\u672f (\u5185\u5b58\u5927\u5c0f\u4e0d\u53ef\u80fd\u5bb9\u7eb3\u4e0b\u6240\u6709\u5e76\u53d1\u6267\u884c\u7684\u8fdb\u7a0b)\uff09\u2014&gt; \u8fde\u7eed\u5185\u5b58\u5206\u914d (\u56fa\u5b9a\u5927\u5c0f\u5206\u533a (\u591a\u9053\u7a0b\u5e8f\u7684\u7a0b\u5ea6\u53d7\u9650)\uff0c\u53ef\u53d8\u5206\u533a (\u9996\u6b21\u9002\u5e94\uff0c\u6700\u4f73\u9002\u5e94\uff0c\u6700\u5dee\u9002\u5e94)\uff0c\u788e\u7247) \u2014&gt; \u4e0d\u8fde\u7eed\u5185\u5b58\u5206\u914d\uff08\u5206\u6bb5\uff0c\u5206\u9875\uff0c\u6bb5\u9875\u5f0f\uff0c\u865a\u62df\u5185\u5b58\uff09\u3002 \u865a\u62df\u5185\u5b58\u662f\u8ba1\u7b97\u673a\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u4e00\u79cd\u5185\u5b58\u7ba1\u7406\u6280\u672f\uff0c\u5b83\u5141\u8bb8\u7a0b\u5e8f\u4f7f\u7528\u6bd4\u5b9e\u9645\u7269\u7406\u5185\u5b58\u66f4\u5927\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u865a\u62df\u5185\u5b58\u901a\u8fc7\u5c06\u7269\u7406\u5185\u5b58\u548c\u786c\u76d8\u7a7a\u95f4\u7ed3\u5408\u8d77\u6765\uff0c\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u63d0\u4f9b\u4e00\u4e2a\u865a\u62df\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u8fdb\u7a0b\u8ba4\u4e3a\u81ea\u5df1\u62e5\u6709\u72ec\u7acb\u7684\u8fde\u7eed\u5185\u5b58\u7a7a\u95f4\uff0c\u800c\u5b9e\u9645\u4e0a\u5176\u6570\u636e\u548c\u6307\u4ee4\u53ef\u4ee5\u5206\u5e03\u5728\u7269\u7406\u5185\u5b58\u548c\u786c\u76d8\u4e0a\u3002</li> </ul> <p>\u865a\u62df\u5185\u5b58\u7684\u4e3b\u8981\u76ee\u7684\u662f\u63d0\u4f9b\u66f4\u5927\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u4ee5\u4fbf\u80fd\u591f\u8fd0\u884c\u66f4\u5927\u7684\u7a0b\u5e8f\uff0c\u800c\u4e0d\u53d7\u7269\u7406\u5185\u5b58\u5927\u5c0f\u7684\u9650\u5236\u3002\u5b83\u8fd8\u53ef\u4ee5\u5b9e\u73b0\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u529f\u80fd\uff1a</p> <ol> <li> <p>\u5185\u5b58\u9694\u79bb\uff1a \u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u72ec\u7acb\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u76f8\u4e92\u4e4b\u95f4\u4e0d\u4f1a\u5e72\u6270\u3002\u8fd9\u79cd\u9694\u79bb\u6027\u4f7f\u5f97\u4e0d\u540c\u8fdb\u7a0b\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u5730\u5740\u7a7a\u95f4\u4e2d\u8fd0\u884c\uff0c\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u548c\u5b89\u5168\u6027\u3002</p> </li> <li> <p>\u5730\u5740\u7a7a\u95f4\u5171\u4eab\uff1a \u865a\u62df\u5185\u5b58\u53ef\u4ee5\u8ba9\u591a\u4e2a\u8fdb\u7a0b\u5171\u4eab\u540c\u4e00\u4e2a\u7269\u7406\u5185\u5b58\u9875\u9762\uff0c\u4ece\u800c\u51cf\u5c11\u4e86\u5185\u5b58\u5360\u7528\u3002\u5171\u4eab\u7684\u9875\u9762\u53ef\u4ee5\u5305\u542b\u4ee3\u7801\u3001\u53ea\u8bfb\u6570\u636e\u7b49\u3002</p> </li> <li> <p>\u5185\u5b58\u6620\u5c04\uff1a \u865a\u62df\u5185\u5b58\u53ef\u4ee5\u5c06\u6587\u4ef6\u6620\u5c04\u5230\u5185\u5b58\u4e2d\uff0c\u4f7f\u5f97\u6587\u4ef6\u7684\u5185\u5bb9\u53ef\u4ee5\u76f4\u63a5\u5728\u5185\u5b58\u4e2d\u64cd\u4f5c\uff0c\u63d0\u9ad8\u4e86\u6587\u4ef6\u8bfb\u5199\u7684\u6027\u80fd\u3002</p> </li> <li> <p>\u9875\u9762\u7f6e\u6362\uff1a \u5f53\u7269\u7406\u5185\u5b58\u4e0d\u8db3\u65f6\uff0c\u865a\u62df\u5185\u5b58\u7cfb\u7edf\u53ef\u4ee5\u5c06\u4e0d\u5e38\u7528\u7684\u9875\u9762\u4ece\u7269\u7406\u5185\u5b58\u4e2d\u7f6e\u6362\u5230\u786c\u76d8\u4e0a\uff0c\u4ee5\u4fbf\u4e3a\u66f4\u91cd\u8981\u7684\u9875\u9762\u817e\u51fa\u7a7a\u95f4\u3002\u8fd9\u79cd\u9875\u9762\u7f6e\u6362\u7b56\u7565\u53ef\u4ee5\u63d0\u9ad8\u7cfb\u7edf\u7684\u8d44\u6e90\u5229\u7528\u7387\u3002</p> </li> <li> <p>\u5185\u5b58\u4fdd\u62a4\uff1a \u865a\u62df\u5185\u5b58\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u9875\u9762\u8bbe\u7f6e\u8bbf\u95ee\u6743\u9650\uff0c\u4ece\u800c\u5b9e\u73b0\u5185\u5b58\u4fdd\u62a4\uff0c\u9632\u6b62\u7a0b\u5e8f\u8d8a\u754c\u8bbf\u95ee\u6216\u8005\u6076\u610f\u4fee\u6539\u5176\u4ed6\u8fdb\u7a0b\u7684\u5185\u5b58\u6570\u636e\u3002</p> </li> <li> <p>\u5c40\u90e8\u6027\u539f\u7406</p> <ul> <li>\u65f6\u95f4\u4e0a\u7684\u5c40\u90e8\u6027\uff1a\u6700\u8fd1\u88ab\u8bbf\u95ee\u7684\u9875\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u8fd8\u4f1a\u88ab\u8bbf\u95ee\uff1b</li> <li>\u7a7a\u95f4\u4e0a\u7684\u5c40\u90e8\u6027\uff1a\u5185\u5b58\u4e2d\u88ab\u8bbf\u95ee\u7684\u9875\u5468\u56f4\u7684\u9875\u4e5f\u5f88\u53ef\u80fd\u88ab\u8bbf\u95ee\u3002</li> </ul> </li> <li>\u9875\u9762\u7f6e\u6362\u7b97\u6cd5<ul> <li>FIFO \u5148\u8fdb\u5148\u51fa\u7b97\u6cd5\uff1a\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7ecf\u5e38\u88ab\u7528\u5230\uff0c\u6bd4\u5982\u4f5c\u4e1a\u8c03\u5ea6\uff08\u4e3b\u8981\u5b9e\u73b0\u7b80\u5355\uff0c\u5f88\u5bb9\u6613\u60f3\u5230\uff09\uff1b</li> <li>LRU\uff08Least recently use\uff09\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7b97\u6cd5\uff1a\u6839\u636e\u4f7f\u7528\u65f6\u95f4\u5230\u73b0\u5728\u7684\u957f\u77ed\u6765\u5224\u65ad\uff1b</li> <li>LFU\uff08Least frequently use\uff09\u6700\u5c11\u4f7f\u7528\u6b21\u6570\u7b97\u6cd5\uff1a\u6839\u636e\u4f7f\u7528\u6b21\u6570\u6765\u5224\u65ad\uff1b</li> <li>OPT\uff08Optimal replacement\uff09\u6700\u4f18\u7f6e\u6362\u7b97\u6cd5\uff1a\u7406\u8bba\u7684\u6700\u4f18\uff0c\u7406\u8bba\uff1b\u5c31\u662f\u8981\u4fdd\u8bc1\u7f6e\u6362\u51fa\u53bb\u7684\u662f\u4e0d\u518d\u88ab\u4f7f\u7528\u7684\u9875\uff0c\u6216\u8005\u662f\u5728\u5b9e\u9645\u5185\u5b58\u4e2d\u6700\u665a\u4f7f\u7528\u7684\u7b97\u6cd5\u3002</li> </ul> </li> </ol>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_40","title":"\u98a0\u7c38(\u6296\u52a8)","text":"<ul> <li>\u98a0\u7c38\u672c\u8d28\u4e0a\u662f\u6307\u9891\u7e41\u7684\u9875\u8c03\u5ea6\u884c\u4e3a\uff0c\u5177\u4f53\u6765\u8bb2\uff0c\u8fdb\u7a0b\u53d1\u751f\u7f3a\u9875\u4e2d\u65ad\uff0c\u8fd9\u65f6\uff0c\u5fc5\u987b\u7f6e\u6362\u67d0\u4e00\u9875\u3002\u7136\u800c\uff0c\u5176\u4ed6\u6240\u6709\u7684\u9875\u90fd\u5728\u4f7f\u7528\uff0c\u5b83\u7f6e\u6362\u4e00\u4e2a\u9875\uff0c\u4f46\u53c8\u7acb\u523b\u518d\u6b21\u9700\u8981\u8fd9\u4e2a\u9875\u3002\u56e0\u6b64\uff0c\u4f1a\u4e0d\u65ad\u4ea7\u751f\u7f3a\u9875\u4e2d\u65ad\uff0c\u5bfc\u81f4\u6574\u4e2a\u7cfb\u7edf\u7684\u6548\u7387\u6025\u5267\u4e0b\u964d\uff0c\u8fd9\u79cd\u73b0\u8c61\u79f0\u4e3a\u98a0\u7c38\uff08\u6296\u52a8\uff09\u3002</li> <li>\u5185\u5b58\u98a0\u7c38\u7684\u89e3\u51b3\u7b56\u7565\u5305\u62ec\uff1a<ul> <li>\u5982\u679c\u662f\u56e0\u4e3a\u9875\u9762\u66ff\u6362\u7b56\u7565\u5931\u8bef\uff0c\u53ef\u4ee5\u4fee\u6539\u66ff\u6362\u7b97\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1b</li> <li>\u5982\u679c\u662f\u56e0\u4e3a\u8fd0\u884c\u7684\u7a0b\u5e8f\u592a\u591a\uff0c\u9020\u6210\u7a0b\u5e8f\u65e0\u6cd5\u540c\u65f6\u5c06\u6240\u6709\u9891\u7e41\u8bbf\u95ee\u7684\u9875\u9762\u8c03\u5165\u5185\u5b58\uff0c\u5219\u8981\u964d\u4f4e\u591a\u9053\u7a0b\u5e8f\u7684\u6570\u91cf\uff1b</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_41","title":"\u8fdb\u7a0b\u8c03\u5ea6\u7b97\u6cd5","text":"<ul> <li>FCFS(\u5148\u6765\u5148\u670d\u52a1\uff0c\u961f\u5217\u5b9e\u73b0\uff0c\u975e\u62a2\u5360\u7684)\uff1a\u5148\u8bf7\u6c42CPU\u7684\u8fdb\u7a0b\u5148\u5206\u914d\u5230CPU</li> <li>SJF(\u6700\u77ed\u4f5c\u4e1a\u4f18\u5148\u8c03\u5ea6\u7b97\u6cd5)\uff1a\u5e73\u5747\u7b49\u5f85\u65f6\u95f4\u6700\u77ed\uff0c\u4f46\u96be\u4ee5\u77e5\u9053\u4e0b\u4e00\u4e2aCPU\u533a\u95f4\u957f\u5ea6</li> <li>\u4f18\u5148\u7ea7\u8c03\u5ea6\u7b97\u6cd5(\u53ef\u4ee5\u662f\u62a2\u5360\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u975e\u62a2\u5360\u7684)\uff1a\u4f18\u5148\u7ea7\u8d8a\u9ad8\u8d8a\u5148\u5206\u914d\u5230CPU\uff0c\u76f8\u540c\u4f18\u5148\u7ea7\u5148\u5230\u5148\u670d\u52a1\uff0c\u5b58\u5728\u7684\u4e3b\u8981\u95ee\u9898\u662f\uff1a\u4f4e\u4f18\u5148\u7ea7\u8fdb\u7a0b\u65e0\u7a77\u7b49\u5f85CPU\uff0c\u4f1a\u5bfc\u81f4\u65e0\u7a77\u963b\u585e\u6216\u9965\u997f\uff1b</li> <li>\u65f6\u95f4\u7247\u8f6e\u8f6c\u8c03\u5ea6\u7b97\u6cd5(\u53ef\u62a2\u5360\u7684)\uff1a\u961f\u5217\u4e2d\u6ca1\u6709\u8fdb\u7a0b\u88ab\u5206\u914d\u8d85\u8fc7\u4e00\u4e2a\u65f6\u95f4\u7247\u7684CPU\u65f6\u95f4\uff0c\u9664\u975e\u5b83\u662f\u552f\u4e00\u53ef\u8fd0\u884c\u7684\u8fdb\u7a0b\u3002\u5982\u679c\u8fdb\u7a0b\u7684CPU\u533a\u95f4\u8d85\u8fc7\u4e86\u4e00\u4e2a\u65f6\u95f4\u7247\uff0c\u90a3\u4e48\u8be5\u8fdb\u7a0b\u5c31\u88ab\u62a2\u5360\u5e76\u653e\u56de\u5c31\u7eea\u961f\u5217\u3002</li> <li>\u591a\u7ea7\u961f\u5217\u8c03\u5ea6\u7b97\u6cd5\uff1a\u5c06\u5c31\u7eea\u961f\u5217\u5206\u6210\u591a\u4e2a\u72ec\u7acb\u7684\u961f\u5217\uff0c\u6bcf\u4e2a\u961f\u5217\u90fd\u6709\u81ea\u5df1\u7684\u8c03\u5ea6\u7b97\u6cd5\uff0c\u961f\u5217\u4e4b\u95f4\u91c7\u7528\u56fa\u5b9a\u4f18\u5148\u7ea7\u62a2\u5360\u8c03\u5ea6\u3002\u5176\u4e2d\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u6839\u636e\u81ea\u8eab\u5c5e\u6027\u88ab\u6c38\u4e45\u5730\u5206\u914d\u5230\u4e00\u4e2a\u961f\u5217\u4e2d\u3002</li> <li>\u591a\u7ea7\u53cd\u9988\u961f\u5217\u8c03\u5ea6\u7b97\u6cd5\uff1a\u4e0e\u591a\u7ea7\u961f\u5217\u8c03\u5ea6\u7b97\u6cd5\u76f8\u6bd4\uff0c\u5176\u5141\u8bb8\u8fdb\u7a0b\u5728\u961f\u5217\u4e4b\u95f4\u79fb\u52a8\uff1a\u82e5\u8fdb\u7a0b\u4f7f\u7528\u8fc7\u591aCPU\u65f6\u95f4\uff0c\u90a3\u4e48\u5b83\u4f1a\u88ab\u8f6c\u79fb\u5230\u66f4\u4f4e\u7684\u4f18\u5148\u7ea7\u961f\u5217\uff1b\u5728\u8f83\u4f4e\u4f18\u5148\u7ea7\u961f\u5217\u7b49\u5f85\u65f6\u95f4\u8fc7\u957f\u7684\u8fdb\u7a0b\u4f1a\u88ab\u8f6c\u79fb\u5230\u66f4\u9ad8\u4f18\u5148\u7ea7\u961f\u5217\uff0c\u4ee5\u9632\u6b62\u9965\u997f\u53d1\u751f\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_42","title":"\u7ecf\u5178\u8fdb\u7a0b\u540c\u6b65\u95ee\u9898","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>\u8fdb\u7a0b\u540c\u6b65\u7684\u57fa\u672c\u6982\u5ff5</li> </ul> </li> <li>\u4fe1\u53f7\u91cf\uff08PV\u64cd\u4f5c\uff09\u3001\u7ba1\u7a0b</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_43","title":"\u8fdb\u7a0b\u7684\u72b6\u6001\u8f6c\u6362","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u8fdb\u7a0b\u7684\u72b6\u6001\u548c\u8f6c\u6362\u8be6\u89e3</li> </ul> </li> <li>\u8fdb\u7a0b\u7684\u4e09\u79cd\u72b6\u6001\u60c5\u51b5\uff1a\u8fd0\u884c\u6001\uff08\u5360\u7528CPU\uff09;\u5c31\u7eea\u6001\uff08\u53ef\u8fd0\u884c\uff0c\u4f46\u6682\u65f6\u6ca1\u6709CPU\u5206\u914d\u7ed9\u5b83\uff09\uff1b\u963b\u585e\u6001(\u9664\u975e\u67d0\u79cd\u5916\u90e8\u6761\u4ef6\u53d1\u751f\uff0c\u5c31\u7b97CPU\u7a7a\u95f2\uff0c\u4e5f\u4e0d\u80fd\u6267\u884c)\u3002unix\u7528block\u963b\u585e\u3002\u72b6\u6001\u8f6c\u6362\u8868</li> <li>\u5c31\u7eea\u72b6\u6001 \uff1a\u4e00\u4e2a\u8fdb\u7a0b\u83b7\u5f97\u4e86\u9664\u5904\u7406\u673a\u5916\u7684\u4e00\u5207\u6240\u9700\u8d44\u6e90\uff0c\u4e00\u65e6\u5f97\u5230\u5904\u7406\u673a\u5373\u53ef\u8fd0\u884c\uff0c\u5219\u79f0\u6b64\u8fdb\u7a0b\u5904\u4e8e\u5c31\u7eea\u72b6\u6001\u3002</li> <li>\u6267\u884c\u72b6\u6001\uff1a\u5f53\u4e00\u4e2a\u8fdb\u7a0b\u5728\u5904\u7406\u673a\u4e0a\u8fd0\u884c\u65f6\uff0c\u5219\u79f0\u8be5\u8fdb\u7a0b\u5904\u4e8e\u8fd0\u884c\u72b6\u6001\u3002</li> <li>\u963b\u585e\u72b6\u6001\uff1a\u4e00\u4e2a\u8fdb\u7a0b\u6b63\u5728\u7b49\u5f85\u67d0\u4e00\u4e8b\u4ef6\u53d1\u751f\uff08\u4f8b\u5982\u8bf7\u6c42I\uff0fO\u800c\u7b49\u5f85I\uff0fO\u5b8c\u6210\u7b49\uff09\u800c\u6682\u65f6\u505c\u6b62\u8fd0\u884c\uff0c\u8fd9\u65f6\u5373\u4f7f\u628a\u5904\u7406\u673a\u5206\u914d\u7ed9\u8fdb\u7a0b\u4e5f\u65e0\u6cd5\u8fd0\u884c\uff0c\u6545\u79f0\u8be5\u8fdb\u7a0b\u5904\u4e8e\u963b\u585e\u72b6\u6001\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_44","title":"\u8fdb\u7a0b\u95f4\u901a\u4fe1\u65b9\u5f0f","text":"<ul> <li> <p>\u4e3b\u8981\u53c2\u8003</p> <ul> <li>\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff08IPC\uff09\u4ecb\u7ecd</li> <li>\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff08Inter-Process Communication\uff0c\u7b80\u79f0IPC\uff09\u662f\u6307\u5728\u591a\u8fdb\u7a0b\u73af\u5883\u4e2d\uff0c\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u8fdb\u884c\u6570\u636e\u4ea4\u6362\u3001\u4fe1\u606f\u5171\u4eab\u548c\u534f\u8c03\u5de5\u4f5c\u7684\u673a\u5236\u548c\u6280\u672f\u3002\u8fdb\u7a0b\u95f4\u901a\u4fe1\u5141\u8bb8\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u5728\u76f8\u4e92\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\u4e2d\u8fdb\u884c\u6570\u636e\u4f20\u9012\uff0c\u4ece\u800c\u5b9e\u73b0\u8fdb\u7a0b\u4e4b\u95f4\u7684\u5408\u4f5c\u548c\u534f\u540c\u3002 \u5e38\u89c1\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\u65b9\u5f0f\u5305\u62ec\uff1a</li> </ul> </li> <li> <p>\u7ba1\u9053\uff08Pipe\uff09\uff1a \u7ba1\u9053\u662f\u4e00\u79cd\u5355\u5411\u901a\u4fe1\u65b9\u5f0f\uff0c\u5141\u8bb8\u4e00\u4e2a\u8fdb\u7a0b\u5199\u5165\u6570\u636e\u5230\u7ba1\u9053\uff0c\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u4ece\u7ba1\u9053\u8bfb\u53d6\u6570\u636e\u3002\u7ba1\u9053\u901a\u5e38\u7528\u4e8e\u7236\u5b50\u8fdb\u7a0b\u4e4b\u95f4\u6216\u8005\u5177\u6709\u5171\u540c\u7956\u5148\u7684\u8fdb\u7a0b\u4e4b\u95f4\u8fdb\u884c\u901a\u4fe1\u3002</p> </li> <li> <p>\u547d\u540d\u7ba1\u9053\uff08Named Pipe\uff09\uff1a \u7c7b\u4f3c\u4e8e\u7ba1\u9053\uff0c\u4f46\u547d\u540d\u7ba1\u9053\u662f\u4e00\u4e2a\u6709\u540d\u5b57\u7684FIFO\u6587\u4ef6\uff0c\u53ef\u4ee5\u5728\u4e0d\u76f8\u5173\u7684\u8fdb\u7a0b\u4e4b\u95f4\u8fdb\u884c\u901a\u4fe1\u3002</p> </li> <li> <p>\u6d88\u606f\u961f\u5217\uff08Message Queue\uff09\uff1a \u6d88\u606f\u961f\u5217\u5141\u8bb8\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u901a\u8fc7\u53d1\u9001\u548c\u63a5\u6536\u6d88\u606f\u8fdb\u884c\u901a\u4fe1\u3002\u6bcf\u4e2a\u6d88\u606f\u90fd\u6709\u4e00\u4e2a\u7279\u5b9a\u7684\u7c7b\u578b\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u9009\u62e9\u63a5\u6536\u7279\u5b9a\u7c7b\u578b\u7684\u6d88\u606f\u3002</p> </li> <li> <p>\u4fe1\u53f7\u91cf\uff08Semaphore\uff09\uff1a \u4fe1\u53f7\u91cf\u7528\u4e8e\u8fdb\u7a0b\u4e4b\u95f4\u7684\u540c\u6b65\u548c\u4e92\u65a5\u64cd\u4f5c\u3002\u8fdb\u7a0b\u53ef\u4ee5\u4f7f\u7528\u4fe1\u53f7\u91cf\u6765\u63a7\u5236\u5bf9\u4e34\u754c\u8d44\u6e90\u7684\u8bbf\u95ee\uff0c\u4ee5\u907f\u514d\u7ade\u4e89\u6761\u4ef6\u3002</p> </li> <li> <p>\u5171\u4eab\u5185\u5b58\uff08Shared Memory\uff09\uff1a \u5171\u4eab\u5185\u5b58\u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u76f8\u540c\u7684\u5185\u5b58\u533a\u57df\uff0c\u4ece\u800c\u5b9e\u73b0\u9ad8\u6548\u7684\u6570\u636e\u4ea4\u6362\u3002\u4f46\u9700\u8981\u7279\u6b8a\u7684\u540c\u6b65\u673a\u5236\u6765\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u548c\u5e76\u53d1\u6027\u3002</p> </li> <li> <p>\u5957\u63a5\u5b57\uff08Socket\uff09\uff1a \u5957\u63a5\u5b57\u662f\u4e00\u79cd\u5728\u7f51\u7edc\u7f16\u7a0b\u4e2d\u5e7f\u6cdb\u4f7f\u7528\u7684\u901a\u4fe1\u673a\u5236\uff0c\u4e0d\u4ec5\u9002\u7528\u4e8e\u672c\u5730\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff0c\u8fd8\u53ef\u4ee5\u5728\u4e0d\u540c\u4e3b\u673a\u4e0a\u7684\u8fdb\u7a0b\u4e4b\u95f4\u8fdb\u884c\u901a\u4fe1\u3002</p> </li> <li> <p>RPC\uff08Remote Procedure Call\uff09\uff1a RPC\u5141\u8bb8\u4e00\u4e2a\u8fdb\u7a0b\u8c03\u7528\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u7684\u51fd\u6570\uff0c\u5c31\u50cf\u8c03\u7528\u672c\u5730\u51fd\u6570\u4e00\u6837\uff0c\u4ece\u800c\u5b9e\u73b0\u8fdc\u7a0b\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</p> </li> </ul> <p>\u7136\u800c\uff0c\u8fdb\u7a0b\u95f4\u901a\u4fe1\u4e5f\u53ef\u80fd\u5f15\u5165\u590d\u6742\u6027\u548c\u7ade\u4e89\u6761\u4ef6\uff0c\u56e0\u6b64\u5728\u8bbe\u8ba1\u548c\u5b9e\u73b0\u65f6\u9700\u8981\u8003\u8651\u8fdb\u7a0b\u540c\u6b65\u3001\u6570\u636e\u4e00\u81f4\u6027\u548c\u5b89\u5168\u6027\u7b49\u95ee\u9898\u3002</p>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_45","title":"\u50f5\u5c38\u8fdb\u7a0b\u548c\u5b64\u513f\u8fdb\u7a0b","text":"<ul> <li>\u5b64\u513f\u8fdb\u7a0b\uff1a\u4e00\u4e2a\u7236\u8fdb\u7a0b\u9000\u51fa\uff0c\u800c\u5b83\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u5b50\u8fdb\u7a0b\u8fd8\u5728\u8fd0\u884c\uff0c\u90a3\u4e48\u90a3\u4e9b\u5b50\u8fdb\u7a0b\u5c06\u6210\u4e3a\u5b64\u513f\u8fdb\u7a0b\u3002\u5b64\u513f\u8fdb\u7a0b\u5c06\u88abinit\u8fdb\u7a0b(\u8fdb\u7a0b\u53f7\u4e3a1)\u6240\u6536\u517b\uff0c\u5e76\u7531init\u8fdb\u7a0b\u5bf9\u5b83\u4eec\u5b8c\u6210\u72b6\u6001\u6536\u96c6\u5de5\u4f5c\u3002</li> <li>\u50f5\u5c38\u8fdb\u7a0b\uff1a\u4e00\u4e2a\u8fdb\u7a0b\u4f7f\u7528fork\u521b\u5efa\u5b50\u8fdb\u7a0b\uff0c\u5982\u679c\u5b50\u8fdb\u7a0b\u9000\u51fa\uff0c\u800c\u7236\u8fdb\u7a0b\u5e76\u6ca1\u6709\u8c03\u7528wait\u6216waitpid\u83b7\u53d6\u5b50\u8fdb\u7a0b\u7684\u72b6\u6001\u4fe1\u606f\uff0c\u90a3\u4e48\u5b50\u8fdb\u7a0b\u7684\u8fdb\u7a0b\u63cf\u8ff0\u7b26\u4ecd\u7136\u4fdd\u5b58\u5728\u7cfb\u7edf\u4e2d\u3002\u8fd9\u79cd\u8fdb\u7a0b\u79f0\u4e4b\u4e3a\u50f5\u6b7b\u8fdb\u7a0b\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#fork","title":"fork\u8fdb\u7a0b","text":"<ul> <li>\u7531fork\u521b\u5efa\u7684\u65b0\u8fdb\u7a0b\u88ab\u79f0\u4e3a\u5b50\u8fdb\u7a0b\uff08child process\uff09\u3002\u8be5\u51fd\u6570\u88ab\u8c03\u7528\u4e00\u6b21\uff0c\u4f46\u8fd4\u56de\u4e24\u6b21\u3002\u4e24\u6b21\u8fd4\u56de\u7684\u533a\u522b\u662f\u5b50\u8fdb\u7a0b\u7684\u8fd4\u56de\u503c\u662f0\uff0c\u800c\u7236\u8fdb\u7a0b\u7684\u8fd4\u56de\u503c\u5219\u662f\u65b0\u8fdb\u7a0b\uff08\u5b50\u8fdb\u7a0b\uff09\u7684\u8fdb\u7a0b id\u3002\u5c06\u5b50\u8fdb\u7a0bid\u8fd4\u56de\u7ed9\u7236\u8fdb\u7a0b\u7684\u7406\u7531\u662f\uff1a\u56e0\u4e3a\u4e00\u4e2a\u8fdb\u7a0b\u7684\u5b50\u8fdb\u7a0b\u53ef\u4ee5\u591a\u4e8e\u4e00\u4e2a\uff0c\u6ca1\u6709\u4e00\u4e2a\u51fd\u6570\u4f7f\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u83b7\u5f97\u5176\u6240\u6709\u5b50\u8fdb\u7a0b\u7684\u8fdb\u7a0bid\u3002\u5bf9\u5b50\u8fdb\u7a0b\u6765\u8bf4\uff0c\u4e4b\u6240\u4ee5fork\u8fd4\u56de0\u7ed9\u5b83\uff0c\u662f\u56e0\u4e3a\u5b83\u968f\u65f6\u53ef\u4ee5\u8c03\u7528getpid()\u6765\u83b7\u53d6\u81ea\u5df1\u7684pid\uff1b\u4e5f\u53ef\u4ee5\u8c03\u7528getppid()\u6765\u83b7\u53d6\u7236\u8fdb\u7a0b\u7684id\u3002(\u8fdb\u7a0bid 0\u603b\u662f\u7531\u4ea4\u6362\u8fdb\u7a0b\u4f7f\u7528\uff0c\u6240\u4ee5\u4e00\u4e2a\u5b50\u8fdb\u7a0b\u7684\u8fdb\u7a0bid\u4e0d\u53ef\u80fd\u4e3a0 )\u3002</li> <li>fork\u4e4b\u540e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u590d\u5236\u4e00\u4e2a\u4e0e\u7236\u8fdb\u7a0b\u5b8c\u5168\u76f8\u540c\u7684\u5b50\u8fdb\u7a0b\uff0c\u867d\u8bf4\u662f\u7236\u5b50\u5173\u7cfb\uff0c\u4f46\u662f\u5728\u64cd\u4f5c\u7cfb\u7edf\u770b\u6765\uff0c\u4ed6\u4eec\u66f4\u50cf\u5144\u5f1f\u5173\u7cfb\uff0c\u8fd92\u4e2a\u8fdb\u7a0b\u5171\u4eab\u4ee3\u7801\u7a7a\u95f4\uff0c\u4f46\u662f\u6570\u636e\u7a7a\u95f4\u662f\u4e92\u76f8\u72ec\u7acb\u7684\uff0c\u5b50\u8fdb\u7a0b\u6570\u636e\u7a7a\u95f4\u4e2d\u7684\u5185\u5bb9\u662f\u7236\u8fdb\u7a0b\u7684\u5b8c\u6574\u62f7\u8d1d\uff0c\u6307\u4ee4\u6307\u9488\u4e5f\u5b8c\u5168\u76f8\u540c\uff0c\u5b50\u8fdb\u7a0b\u62e5\u6709\u7236\u8fdb\u7a0b\u5f53\u524d\u8fd0\u884c\u5230\u7684\u4f4d\u7f6e\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#socket","title":"Socket\u7f16\u7a0b","text":"<ul> <li>Socket Programming in Python (Guide) </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#linuxio","title":"Linux\u7684\u4e94\u79cdIO\u6a21\u578b","text":"<ul> <li> <p>\u4e3b\u8981\u53c2\u8003</p> <ul> <li>\u804a\u804aIO\u591a\u8def\u590d\u7528\u4e4bselect\u3001poll\u3001epoll\u8be6\u89e3</li> <li>\u6f2b\u8bdd\uff1a\u5982\u4f55\u7ed9\u5973\u670b\u53cb\u89e3\u91ca\u4ec0\u4e48\u662fLinux\u7684\u4e94\u79cdIO\u6a21\u578b</li> </ul> </li> <li> <p>\u5728Linux(UNIX)\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u5171\u6709\u4e94\u79cdIO\u6a21\u578b\uff0c\u5206\u522b\u662f\uff1a\u963b\u585eIO\u6a21\u578b\u3001\u975e\u963b\u585eIO\u6a21\u578b\u3001IO\u590d\u7528\u6a21\u578b\u3001\u4fe1\u53f7\u9a71\u52a8IO\u6a21\u578b\u4ee5\u53ca\u5f02\u6b65IO\u6a21\u578b\u3002 I/O\u64cd\u4f5c\uff0c\u4ee5\u4e00\u6b21\u78c1\u76d8\u6587\u4ef6\u8bfb\u53d6\u4e3a\u4f8b\uff0c\u8bfb\u53d6\u7684\u6587\u4ef6\u662f\u5b58\u50a8\u5728\u78c1\u76d8\u4e0a\u7684\uff0c\u6211\u4eec\u7684\u76ee\u7684\u662f\u628a\u5b83\u8bfb\u53d6\u5230\u5185\u5b58\u4e2d\uff0c\u53ef\u4ee5\u628a\u8fd9\u4e2a\u6b65\u9aa4\u7b80\u5316\u6210\uff08\u771f\u6b63\u7684\u6587\u4ef6\u8bfb\u53d6\u8fd8\u6d89\u53ca\u5230\u7f13\u5b58\u7b49\u7ec6\u8282\uff09\u628a\u6570\u636e\u4ece\u786c\u4ef6\uff08\u786c\u76d8\uff09\u4e2d\u8bfb\u53d6\u5230\u7528\u6237\u7a7a\u95f4\u4e2d\u3002\u5173\u4e8e\u7528\u6237\u7a7a\u95f4\u3001\u5185\u6838\u7a7a\u95f4\u4ee5\u53ca\u786c\u4ef6\u7b49\u7684\u5173\u7cfb\u5982\u53ef\u4ee5\u901a\u8fc7\u9493\u9c7c\u7684\u4f8b\u5b50\u7406\u89e3\u3002\u9c7c\u5858\u5c31\u53ef\u4ee5\u6620\u5c04\u6210\u78c1\u76d8\uff0c\u4e2d\u95f4\u8fc7\u6e21\u7684\u9c7c\u94a9\u53ef\u4ee5\u6620\u5c04\u6210\u5185\u6838\u7a7a\u95f4\uff0c\u6700\u7ec8\u653e\u9c7c\u7684\u9c7c\u7bd3\u53ef\u4ee5\u6620\u5c04\u6210\u7528\u6237\u7a7a\u95f4\u3002\u4e00\u6b21\u5b8c\u6574\u7684\u9493\u9c7c\uff08IO\uff09\u64cd\u4f5c\uff0c\u662f\u9c7c\uff08\u6587\u4ef6\uff09\u4ece\u9c7c\u5858\uff08\u786c\u76d8\uff09\u4e2d\u8f6c\u79fb\uff08\u62f7\u8d1d\uff09\u5230\u9c7c\u7bd3\uff08\u7528\u6237\u7a7a\u95f4\uff09\u7684\u8fc7\u7a0b\u3002</p> </li> <li>\u963b\u585eIO\u6a21\u578b\u3002\u5e94\u7528\u8fdb\u7a0b\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u00a0recvfrom\u00a0\u63a5\u6536\u6570\u636e\uff0c\u4f46\u7531\u4e8e\u5185\u6838\u8fd8\u672a\u51c6\u5907\u597d\u6570\u636e\u62a5\uff0c\u5e94\u7528\u8fdb\u7a0b\u5c31\u4f1a\u963b\u585e\u4f4f\uff0c\u76f4\u5230\u5185\u6838\u51c6\u5907\u597d\u6570\u636e\u62a5\uff0crecvfrom\u00a0\u5b8c\u6210\u6570\u636e\u62a5\u590d\u5236\u5de5\u4f5c\uff0c\u5e94\u7528\u8fdb\u7a0b\u624d\u80fd\u7ed3\u675f\u963b\u585e\u72b6\u6001\u3002\uff08\u5e76\u53d1\u4f4e\uff0c\u65f6\u6548\u6027\u8981\u6c42\u4f4e\uff09 </li> <li>\u975e\u963b\u585eIO\u6a21\u578b\u3002\u5e94\u7528\u8fdb\u7a0b\u901a\u8fc7\u00a0recvfrom\u00a0\u8c03\u7528\u4e0d\u505c\u7684\u53bb\u548c\u5185\u6838\u4ea4\u4e92\uff0c\u76f4\u5230\u5185\u6838\u51c6\u5907\u597d\u6570\u636e\u3002\u5982\u679c\u6ca1\u6709\u51c6\u5907\u597d\uff0c\u5185\u6838\u4f1a\u8fd4\u56deerror\uff0c\u5e94\u7528\u8fdb\u7a0b\u5728\u5f97\u5230error\u540e\uff0c\u8fc7\u4e00\u6bb5\u65f6\u95f4\u518d\u53d1\u9001recvfrom\u8bf7\u6c42\u3002\u5728\u4e24\u6b21\u53d1\u9001\u8bf7\u6c42\u7684\u65f6\u95f4\u6bb5\uff0c\u8fdb\u7a0b\u53ef\u4ee5\u5148\u505a\u522b\u7684\u4e8b\u60c5\u3002 </li> <li>IO\u591a\u8def\u590d\u7528\u6a21\u578b\u3002IO\u591a\u8def\u8f6c\u63a5\u662f\u591a\u4e86\u4e00\u4e2aselect\u51fd\u6570\uff0c\u591a\u4e2a\u8fdb\u7a0b\u7684IO\u53ef\u4ee5\u6ce8\u518c\u5230\u540c\u4e00\u4e2aselect\u4e0a\uff0c\u5f53\u7528\u6237\u8fdb\u7a0b\u8c03\u7528\u8be5select\uff0cselect\u4f1a\u76d1\u542c\u6240\u6709\u6ce8\u518c\u597d\u7684IO\uff0c\u5982\u679c\u6240\u6709\u88ab\u76d1\u542c\u7684IO\u9700\u8981\u7684\u6570\u636e\u90fd\u6ca1\u6709\u51c6\u5907\u597d\u65f6\uff0cselect\u8c03\u7528\u8fdb\u7a0b\u4f1a\u963b\u585e\u3002\u5f53\u4efb\u610f\u4e00\u4e2aIO\u6240\u9700\u7684\u6570\u636e\u51c6\u5907\u597d\u4e4b\u540e\uff0cselect\u8c03\u7528\u5c31\u4f1a\u8fd4\u56de\uff0c\u7136\u540e\u8fdb\u7a0b\u5728\u901a\u8fc7recvfrom\u6765\u8fdb\u884c\u6570\u636e\u62f7\u8d1d\u3002\u8fd9\u91cc\u7684IO\u590d\u7528\u6a21\u578b\uff0c\u5e76\u6ca1\u6709\u5411\u5185\u6838\u6ce8\u518c\u4fe1\u53f7\u5904\u7406\u51fd\u6570\uff0c\u6240\u4ee5\uff0c\u4ed6\u5e76\u4e0d\u662f\u975e\u963b\u585e\u7684\u3002\u8fdb\u7a0b\u5728\u53d1\u51faselect\u540e\uff0c\u8981\u7b49\u5230select\u76d1\u542c\u7684\u6240\u6709IO\u64cd\u4f5c\u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a\u9700\u8981\u7684\u6570\u636e\u51c6\u5907\u597d\uff0c\u624d\u4f1a\u6709\u8fd4\u56de\uff0c\u5e76\u4e14\u4e5f\u9700\u8981\u518d\u6b21\u53d1\u9001\u8bf7\u6c42\u53bb\u8fdb\u884c\u6587\u4ef6\u7684\u62f7\u8d1d\u3002PS: \u8fd9\u79cd\u65b9\u5f0f\u7684\u9493\u9c7c\uff0c\u901a\u8fc7\u589e\u52a0\u9c7c\u7aff\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u6709\u6548\u7684\u63d0\u5347\u6548\u7387\u3002 </li> <li>\u4fe1\u53f7\u9a71\u52a8IO\u6a21\u578b\u3002\u5e94\u7528\u8fdb\u7a0b\u9884\u5148\u5411\u5185\u6838\u6ce8\u518c\u4e00\u4e2a\u4fe1\u53f7\u5904\u7406\u51fd\u6570\uff0c\u7136\u540e\u7528\u6237\u8fdb\u7a0b\u8fd4\u56de\uff0c\u5e76\u4e14\u4e0d\u963b\u585e\uff0c\u5f53\u5185\u6838\u6570\u636e\u51c6\u5907\u5c31\u7eea\u65f6\u4f1a\u53d1\u9001\u4e00\u4e2a\u4fe1\u53f7\u7ed9\u8fdb\u7a0b\uff0c\u7528\u6237\u8fdb\u7a0b\u4fbf\u5728\u4fe1\u53f7\u5904\u7406\u51fd\u6570\u4e2d\u5f00\u59cb\u628a\u6570\u636e\u62f7\u8d1d\u7684\u7528\u6237\u7a7a\u95f4\u4e2d\u3002PS: \u8fd9\u79cd\u65b9\u5f0f\u9493\u9c7c\uff0c\u548c\u524d\u51e0\u79cd\u76f8\u6bd4\uff0c\u6240\u4f7f\u7528\u7684\u5de5\u5177\u6709\u4e86\u4e00\u4e9b\u53d8\u5316\uff0c\u9700\u8981\u6709\u4e00\u4e9b\u5b9a\u5236\uff08\u5b9e\u73b0\u590d\u6742\uff09\u3002\u4f46\u662f\u9493\u9c7c\u7684\u4eba\u5c31\u53ef\u4ee5\u5728\u9c7c\u513f\u54ac\u94a9\u4e4b\u524d\u5f7b\u5e95\u505a\u522b\u7684\u4e8b\u513f\u53bb\u4e86\u3002\u7b49\u7740\u62a5\u8b66\u5668\u54cd\u5c31\u884c\u4e86\u3002 </li> <li>\u5f02\u6b65IO\u6a21\u578b\u3002\u7528\u6237\u8fdb\u7a0b\u53d1\u8d77aio_read\u64cd\u4f5c\u4e4b\u540e\uff0c\u7ed9\u5185\u6838\u4f20\u9012\u63cf\u8ff0\u7b26\u3001\u7f13\u51b2\u533a\u6307\u9488\u3001\u7f13\u51b2\u533a\u5927\u5c0f\u7b49\uff0c\u544a\u8bc9\u5185\u6838\u5f53\u6574\u4e2a\u64cd\u4f5c\u5b8c\u6210\u65f6\uff0c\u5982\u4f55\u901a\u77e5\u8fdb\u7a0b\uff0c\u7136\u540e\u5c31\u7acb\u523b\u53bb\u505a\u5176\u4ed6\u4e8b\u60c5\u4e86\u3002\u5f53\u5185\u6838\u6536\u5230aio_read\u540e\uff0c\u4f1a\u7acb\u523b\u8fd4\u56de\uff0c\u7136\u540e\u5185\u6838\u5f00\u59cb\u7b49\u5f85\u6570\u636e\u51c6\u5907\uff0c\u6570\u636e\u51c6\u5907\u597d\u4ee5\u540e\uff0c\u76f4\u63a5\u628a\u6570\u636e\u62f7\u8d1d\u5230\u7528\u6237\u63a7\u4ef6\uff0c\u7136\u540e\u518d\u901a\u77e5\u8fdb\u7a0b\u672c\u6b21IO\u5df2\u7ecf\u5b8c\u6210\u3002(\u5e94\u7528\u8fdb\u7a0b\u628aIO\u8bf7\u6c42\u4f20\u7ed9\u5185\u6838\u540e\uff0c\u5b8c\u5168\u7531\u5185\u6838\u53bb\u64cd\u4f5c\u6587\u4ef6\u62f7\u8d1d\u3002\u5185\u6838\u5b8c\u6210\u76f8\u5173\u64cd\u4f5c\u540e\uff0c\u4f1a\u53d1\u4fe1\u53f7\u544a\u8bc9\u5e94\u7528\u8fdb\u7a0b\u672c\u6b21IO\u5df2\u7ecf\u5b8c\u6210\u3002) </li> <li>\u4e94\u79cdIO\u6a21\u578b\u6bd4\u8f83:\u4ee5\u4e0a\u524d\u56db\u79cd\u90fd\u662f\u540c\u6b65\u7684IO\u6a21\u578b\u3002\u56e0\u4e3a\uff0c\u65e0\u8bba\u4ee5\u4e0a\u90a3\u79cd\u6a21\u578b\uff0c\u771f\u6b63\u7684\u6570\u636e\u62f7\u8d1d\u8fc7\u7a0b\uff0c\u90fd\u662f\u540c\u6b65\u8fdb\u884c\u7684\u3002\u4fe1\u53f7\u9a71\u52a8\u96be\u9053\u4e0d\u662f\u5f02\u6b65\u7684\u4e48\uff1f \u4fe1\u53f7\u9a71\u52a8\uff0c\u5185\u6838\u662f\u5728\u6570\u636e\u51c6\u5907\u597d\u4e4b\u540e\u901a\u77e5\u8fdb\u7a0b\uff0c\u7136\u540e\u8fdb\u7a0b\u518d\u901a\u8fc7recvfrom\u64cd\u4f5c\u8fdb\u884c\u6570\u636e\u62f7\u8d1d\u3002\u6211\u4eec\u53ef\u4ee5\u8ba4\u4e3a\u6570\u636e\u51c6\u5907\u9636\u6bb5\u662f\u5f02\u6b65\u7684\uff0c\u4f46\u662f\uff0c\u6570\u636e\u62f7\u8d1d\u64cd\u4f5c\u662f\u540c\u6b65\u7684\u3002\u6240\u4ee5\uff0c\u6574\u4e2aIO\u8fc7\u7a0b\u4e5f\u4e0d\u80fd\u8ba4\u4e3a\u662f\u5f02\u6b65\u7684\u3002 </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#io","title":"IO \u591a\u8def\u590d\u7528\u6a21\u578b","text":"<ul> <li>I/O\u591a\u8def\u590d\u7528\u5c31\u662f\u901a\u8fc7\u4e00\u79cd\u673a\u5236\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u76d1\u89c6\u591a\u4e2a\u63cf\u8ff0\u7b26\uff0c\u4e00\u65e6\u67d0\u4e2a\u63cf\u8ff0\u7b26\u5c31\u7eea\uff08\u4e00\u822c\u662f\u8bfb\u5c31\u7eea\u6216\u8005\u5199\u5c31\u7eea\uff09\uff0c\u80fd\u591f\u901a\u77e5\u7a0b\u5e8f\u8fdb\u884c\u76f8\u5e94\u7684\u8bfb\u5199\u64cd\u4f5c\u3002\u4f46select\uff0cpselect\uff0cpoll\uff0cepoll\u672c\u8d28\u4e0a\u90fd\u662f\u540c\u6b65I/O(epoll\u662fLinux\u6240\u7279\u6709\uff0c\u800cselect\u5219\u5e94\u8be5\u662fPOSIX\u6240\u89c4\u5b9a\u7684)\uff0c\u56e0\u4e3a\u4ed6\u4eec\u90fd\u9700\u8981\u5728\u8bfb\u5199\u4e8b\u4ef6\u5c31\u7eea\u540e\u81ea\u5df1\u8d1f\u8d23\u8fdb\u884c\u8bfb\u5199\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e2a\u8bfb\u5199\u8fc7\u7a0b\u662f\u963b\u585e\u7684\u3002\u4e0e\u591a\u8fdb\u7a0b\u548c\u591a\u7ebf\u7a0b\u6280\u672f\u76f8\u6bd4\uff0cI/O\u591a\u8def\u590d\u7528\u6280\u672f\u7684\u6700\u5927\u4f18\u52bf\u662f\u7cfb\u7edf\u5f00\u9500\u5c0f\uff0c\u7cfb\u7edf\u4e0d\u5fc5\u521b\u5efa\u8fdb\u7a0b/\u7ebf\u7a0b\uff0c\u4e5f\u4e0d\u5fc5\u7ef4\u62a4\u8fd9\u4e9b\u8fdb\u7a0b/\u7ebf\u7a0b\uff0c\u4ece\u800c\u5927\u5927\u51cf\u5c0f\u4e86\u7cfb\u7edf\u7684\u5f00\u9500\u3002</li> <li>IO\u591a\u8def\u590d\u7528\u662f\u6307\u5185\u6838\u4e00\u65e6\u53d1\u73b0\u8fdb\u7a0b\u6307\u5b9a\u7684\u4e00\u4e2a\u6216\u8005\u591a\u4e2aIO\u6761\u4ef6\u51c6\u5907\u8bfb\u53d6\uff0c\u5b83\u5c31\u901a\u77e5\u8be5\u8fdb\u7a0b\u3002IO\u591a\u8def\u590d\u7528\u9002\u7528\u5982\u4e0b\u573a\u5408\uff1a<ol> <li>\u5f53\u5ba2\u6237\u5904\u7406\u591a\u4e2a\u63cf\u8ff0\u7b26\u65f6\uff08\u4e00\u822c\u662f\u4ea4\u4e92\u5f0f\u8f93\u5165\u548c\u7f51\u7edc\u5957\u63a5\u53e3\uff09\uff0c\u5fc5\u987b\u4f7f\u7528I/O\u590d\u7528\u3002</li> <li>\u5f53\u4e00\u4e2a\u5ba2\u6237\u540c\u65f6\u5904\u7406\u591a\u4e2a\u5957\u63a5\u53e3\u65f6\uff0c\u800c\u8fd9\u79cd\u60c5\u51b5\u662f\u53ef\u80fd\u7684\uff0c\u4f46\u5f88\u5c11\u51fa\u73b0\u3002</li> <li>\u5982\u679c\u4e00\u4e2aTCP\u670d\u52a1\u5668\u65e2\u8981\u5904\u7406\u76d1\u542c\u5957\u63a5\u53e3\uff0c\u53c8\u8981\u5904\u7406\u5df2\u8fde\u63a5\u5957\u63a5\u53e3\uff0c\u4e00\u822c\u4e5f\u8981\u7528\u5230I/O\u590d\u7528</li> <li>\u5982\u679c\u4e00\u4e2a\u670d\u52a1\u5668\u5373\u8981\u5904\u7406TCP\uff0c\u53c8\u8981\u5904\u7406UDP\uff0c\u4e00\u822c\u8981\u4f7f\u7528I/O\u590d\u7528\u3002</li> <li>\u5982\u679c\u4e00\u4e2a\u670d\u52a1\u5668\u8981\u5904\u7406\u591a\u4e2a\u670d\u52a1\u6216\u591a\u4e2a\u534f\u8bae\uff0c\u4e00\u822c\u8981\u4f7f\u7528I/O\u590d\u7528\u3002</li> </ol> </li> <li>\u7528Python\u5b9e\u73b0\u591a\u7528\u6237/\u591a\u670d\u52a1\u5668\u6a21\u578b</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#select","title":"select","text":"<ul> <li>select \u51fd\u6570\u76d1\u89c6\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u52063\u7c7b\uff0c\u5206\u522b\u662fwritefds\u3001readfds\u3001\u548cexceptfds\u3002\u8c03\u7528\u540eselect\u51fd\u6570\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6709\u63cf\u8ff0\u7b26\u5c31\u7eea\uff08\u6709\u6570\u636e \u53ef\u8bfb\u3001\u53ef\u5199\u3001\u6216\u8005\u6709except\uff09\uff0c\u6216\u8005\u8d85\u65f6\uff08timeout\u6307\u5b9a\u7b49\u5f85\u65f6\u95f4\uff0c\u5982\u679c\u7acb\u5373\u8fd4\u56de\u8bbe\u4e3anull\u5373\u53ef\uff09\uff0c\u51fd\u6570\u8fd4\u56de\u3002\u5f53select\u51fd\u6570\u8fd4\u56de\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u904d\u5386fdset\uff0c\u6765\u627e\u5230\u5c31\u7eea\u7684\u63cf\u8ff0\u7b26\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#poll","title":"poll","text":"<ul> <li>poll\u672c\u8d28\u4e0a\u548cselect\u6ca1\u6709\u533a\u522b\uff0c\u5b83\u5c06\u7528\u6237\u4f20\u5165\u7684\u6570\u7ec4\u62f7\u8d1d\u5230\u5185\u6838\u7a7a\u95f4\uff0c\u7136\u540e\u67e5\u8be2\u6bcf\u4e2afd\u5bf9\u5e94\u7684\u8bbe\u5907\u72b6\u6001\uff0c\u5982\u679c\u8bbe\u5907\u5c31\u7eea\u5219\u5728\u8bbe\u5907\u7b49\u5f85\u961f\u5217\u4e2d\u52a0\u5165\u4e00\u9879\u5e76\u7ee7\u7eed\u904d\u5386\uff0c\u5982\u679c\u904d\u5386\u5b8c\u6240\u6709fd\u540e\u6ca1\u6709\u53d1\u73b0\u5c31\u7eea\u8bbe\u5907\uff0c\u5219\u6302\u8d77\u5f53\u524d\u8fdb\u7a0b\uff0c\u76f4\u5230\u8bbe\u5907\u5c31\u7eea\u6216\u8005\u4e3b\u52a8\u8d85\u65f6\uff0c\u88ab\u5524\u9192\u540e\u5b83\u53c8\u8981\u518d\u6b21\u904d\u5386fd\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u7ecf\u5386\u4e86\u591a\u6b21\u65e0\u8c13\u7684\u904d\u5386\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#epoll","title":"epoll","text":"<ul> <li>epoll\u652f\u6301\u6c34\u5e73\u89e6\u53d1\u548c\u8fb9\u7f18\u89e6\u53d1\uff0c\u6700\u5927\u7684\u7279\u70b9\u5728\u4e8e\u8fb9\u7f18\u89e6\u53d1\uff0c\u5b83\u53ea\u544a\u8bc9\u8fdb\u7a0b\u54ea\u4e9bfd\u521a\u521a\u53d8\u4e3a\u5c31\u7eea\u6001\uff0c\u5e76\u4e14\u53ea\u4f1a\u901a\u77e5\u4e00\u6b21\u3002\u8fd8\u6709\u4e00\u4e2a\u7279\u70b9\u662f\uff0cepoll\u4f7f\u7528\u201c\u4e8b\u4ef6\u201d\u7684\u5c31\u7eea\u901a\u77e5\u65b9\u5f0f\uff0c\u901a\u8fc7epoll_ctl\u6ce8\u518cfd\uff0c\u4e00\u65e6\u8be5fd\u5c31\u7eea\uff0c\u5185\u6838\u5c31\u4f1a\u91c7\u7528\u7c7b\u4f3ccallback\u7684\u56de\u8c03\u673a\u5236\u6765\u6fc0\u6d3b\u8be5fd\uff0cepoll_wait\u4fbf\u53ef\u4ee5\u6536\u5230\u901a\u77e5\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#selectpollepoll","title":"select\u3001poll\u3001epoll\u533a\u522b","text":"<ul> <li>\u652f\u6301\u4e00\u4e2a\u8fdb\u7a0b\u6240\u80fd\u6253\u5f00\u7684\u6700\u5927\u8fde\u63a5\u6570 </li> <li>FD\u5267\u589e\u540e\u5e26\u6765\u7684IO\u6548\u7387\u95ee\u9898 </li> <li>\u6d88\u606f\u4f20\u9012\u65b9\u5f0f </li> <li>\u6700\u4f73\u5b9e\u8df5\uff1a\u5e76\u53d1\u6027\u4e0d\u9ad8\u4f46\u8fde\u63a5\u6d3b\u8dc3\u7684\u60c5\u51b5\u4e0b\uff0cselect\u548cpoll\u7684\u6027\u80fd\u53ef\u80fd\u6bd4epoll\u597d\uff0c\u6bd5\u7adfepoll\u7684\u901a\u77e5\u673a\u5236\u9700\u8981\u5f88\u591a\u51fd\u6570\u56de\u8c03\uff1b\u5e76\u53d1\u6027\u9ad8\u4f46\u8fde\u63a5\u4e0d\u6d3b\u8dc3\u60c5\u51b5\u4e0b\uff0cepoll\u7684\u6027\u80fd\u66f4\u597d\uff0cselect\u4f4e\u6548\u662f\u56e0\u4e3a\u6bcf\u6b21\u5b83\u90fd\u9700\u8981\u8f6e\u8be2\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_46","title":"\u8c08\u8c08\u6b7b\u9501","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_47","title":"\u6b7b\u9501\u7684\u6982\u5ff5","text":"<ul> <li>\u5728\u4e24\u4e2a\u6216\u8005\u591a\u4e2a\u5e76\u53d1\u8fdb\u7a0b\u4e2d\uff0c\u5982\u679c\u6bcf\u4e2a\u8fdb\u7a0b\u6301\u6709\u67d0\u79cd\u8d44\u6e90\u800c\u53c8\u7b49\u5f85\u5176\u5b83\u8fdb\u7a0b\u91ca\u653e\u5b83\u6216\u5b83\u4eec\u73b0\u5728\u4fdd\u6301\u7740\u7684\u8d44\u6e90\uff0c\u5728\u672a\u6539\u53d8\u8fd9\u79cd\u72b6\u6001\u4e4b\u524d\u90fd\u4e0d\u80fd\u5411\u524d\u63a8\u8fdb\uff0c\u79f0\u8fd9\u4e00\u7ec4\u8fdb\u7a0b\u4ea7\u751f\u4e86\u6b7b\u9501\u3002\u901a\u4fd7\u7684\u8bb2\uff0c\u5c31\u662f\u4e24\u4e2a\u6216\u591a\u4e2a\u8fdb\u7a0b\u65e0\u9650\u671f\u7684\u963b\u585e\u3001\u76f8\u4e92\u7b49\u5f85\u7684\u4e00\u79cd\u72b6\u6001\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_48","title":"\u6b7b\u9501\u4ea7\u751f\u7684\u539f\u56e0","text":"<ul> <li>\u7cfb\u7edf\u4e2d\u7684\u8d44\u6e90\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a</li> <li>\u53ef\u5265\u593a\u8d44\u6e90\uff0c\u662f\u6307\u67d0\u8fdb\u7a0b\u5728\u83b7\u5f97\u8fd9\u7c7b\u8d44\u6e90\u540e\uff0c\u8be5\u8d44\u6e90\u53ef\u4ee5\u518d\u88ab\u5176\u4ed6\u8fdb\u7a0b\u6216\u7cfb\u7edf\u5265\u593a\uff0cCPU\u548c\u4e3b\u5b58\u5747\u5c5e\u4e8e\u53ef\u5265\u593a\u6027\u8d44\u6e90\uff1b</li> <li>\u4e0d\u53ef\u5265\u593a\u8d44\u6e90\uff0c\u5f53\u7cfb\u7edf\u628a\u8fd9\u7c7b\u8d44\u6e90\u5206\u914d\u7ed9\u67d0\u8fdb\u7a0b\u540e\uff0c\u518d\u4e0d\u80fd\u5f3a\u884c\u6536\u56de\uff0c\u53ea\u80fd\u5728\u8fdb\u7a0b\u7528\u5b8c\u540e\u81ea\u884c\u91ca\u653e\uff0c\u5982\u78c1\u5e26\u673a\u3001\u6253\u5370\u673a\u7b49\u3002</li> <li>\u4ea7\u751f\u6b7b\u9501\u4e2d\u7684\u7ade\u4e89\u8d44\u6e90\u4e4b\u4e00\u6307\u7684\u662f\u7ade\u4e89\u4e0d\u53ef\u5265\u593a\u8d44\u6e90\uff08\u4f8b\u5982\uff1a\u7cfb\u7edf\u4e2d\u53ea\u6709\u4e00\u53f0\u6253\u5370\u673a\uff0c\u53ef\u4f9b\u8fdb\u7a0bP1\u4f7f\u7528\uff0c\u5047\u5b9aP1\u5df2\u5360\u7528\u4e86\u6253\u5370\u673a\uff0c\u82e5P2\u7ee7\u7eed\u8981\u6c42\u6253\u5370\u673a\u6253\u5370\u5c06\u963b\u585e\uff09</li> <li>\u4ea7\u751f\u6b7b\u9501\u4e2d\u7684\u7ade\u4e89\u8d44\u6e90\u53e6\u5916\u4e00\u79cd\u8d44\u6e90\u6307\u7684\u662f\u7ade\u4e89\u4e34\u65f6\u8d44\u6e90\uff08\u4e34\u65f6\u8d44\u6e90\u5305\u62ec\u786c\u4ef6\u4e2d\u65ad\u3001\u4fe1\u53f7\u3001\u6d88\u606f\u3001\u7f13\u51b2\u533a\u5185\u7684\u6d88\u606f\u7b49\uff09\uff0c\u901a\u5e38\u6d88\u606f\u901a\u4fe1\u987a\u5e8f\u8fdb\u884c\u4e0d\u5f53\uff0c\u5219\u4f1a\u4ea7\u751f\u6b7b\u9501\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_49","title":"\u6b7b\u9501\u4ea7\u751f\u7684\u56db\u4e2a\u5fc5\u8981\u6761\u4ef6","text":"<ul> <li>\u4e92\u65a5\uff1a\u81f3\u5c11\u6709\u4e00\u4e2a\u8d44\u6e90\u5fc5\u987b\u5c5e\u4e8e\u975e\u5171\u4eab\u6a21\u5f0f\uff0c\u5373\u4e00\u6b21\u53ea\u80fd\u88ab\u4e00\u4e2a\u8fdb\u7a0b\u4f7f\u7528\uff1b\u82e5\u5176\u4ed6\u7533\u8bf7\u4f7f\u7528\u8be5\u8d44\u6e90\uff0c\u90a3\u4e48\u7533\u8bf7\u8fdb\u7a0b\u5fc5\u987b\u7b49\u5230\u8be5\u8d44\u6e90\u88ab\u91ca\u653e\u4e3a\u6b62\uff1b</li> <li>\u5360\u6709\u5e76\u7b49\u5f85\uff1a\u4e00\u4e2a\u8fdb\u7a0b\u5fc5\u987b\u5360\u6709\u81f3\u5c11\u4e00\u4e2a\u8d44\u6e90\uff0c\u5e76\u7b49\u5f85\u53e6\u4e00\u4e2a\u8d44\u6e90\uff0c\u800c\u8be5\u8d44\u6e90\u4e3a\u5176\u4ed6\u8fdb\u7a0b\u6240\u5360\u6709\uff1b</li> <li>\u975e\u62a2\u5360\uff1a\u8fdb\u7a0b\u4e0d\u80fd\u88ab\u62a2\u5360\uff0c\u5373\u8d44\u6e90\u53ea\u80fd\u88ab\u8fdb\u7a0b\u5728\u5b8c\u6210\u4efb\u52a1\u540e\u81ea\u613f\u91ca\u653e</li> <li>\u5faa\u73af\u7b49\u5f85\uff1a\u82e5\u5e72\u8fdb\u7a0b\u4e4b\u95f4\u5f62\u6210\u4e00\u79cd\u5934\u5c3e\u76f8\u63a5\u7684\u73af\u5f62\u7b49\u5f85\u8d44\u6e90\u5173\u7cfb</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_50","title":"\u89e3\u51b3\u6b7b\u9501\u7684\u57fa\u672c\u65b9\u6cd5","text":"<ul> <li>\u89e3\u51b3\u6b7b\u9501\u7684\u57fa\u672c\u65b9\u6cd5\u4e3b\u8981\u6709 \u9884\u9632\u6b7b\u9501\u3001\u907f\u514d\u6b7b\u9501\u3001\u89e3\u9664\u6b7b\u9501</li> <li>\u9884\u9632\u6b7b\u9501**\u7684\u57fa\u672c\u601d\u60f3\u662f \u53ea\u8981**\u786e\u4fdd\u6b7b\u9501\u53d1\u751f\u7684\u56db\u4e2a\u5fc5\u8981\u6761\u4ef6\u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a\u4e0d\u6210\u7acb\uff0c\u5c31\u80fd\u9884\u9632\u6b7b\u9501\u7684\u53d1\u751f\uff0c\u5177\u4f53\u65b9\u6cd5\u5305\u62ec\uff1a<ul> <li>\u6253\u7834\u4e92\u65a5\u6761\u4ef6\uff1a\u5141\u8bb8\u8fdb\u7a0b\u540c\u65f6\u8bbf\u95ee\u67d0\u4e9b\u8d44\u6e90\u3002\u4f46\u662f\uff0c\u6709\u4e9b\u8d44\u6e90\u662f\u4e0d\u80fd\u88ab\u591a\u4e2a\u8fdb\u7a0b\u6240\u5171\u4eab\u7684\uff0c\u8fd9\u662f\u7531\u8d44\u6e90\u672c\u8eab\u5c5e\u6027\u6240\u51b3\u5b9a\u7684\uff0c\u56e0\u6b64\uff0c\u8fd9\u79cd\u529e\u6cd5\u901a\u5e38\u5e76\u65e0\u5b9e\u7528\u4ef7\u503c\u3002</li> <li>\u6253\u7834\u5360\u6709\u5e76\u7b49\u5f85\u6761\u4ef6\uff1a\u53ef\u4ee5\u5b9e\u884c\u8d44\u6e90\u9884\u5148\u5206\u914d\u7b56\u7565(\u8fdb\u7a0b\u5728\u8fd0\u884c\u524d\u4e00\u6b21\u6027\u5411\u7cfb\u7edf\u7533\u8bf7\u5b83\u6240\u9700\u8981\u7684\u5168\u90e8\u8d44\u6e90\uff0c\u82e5\u6240\u9700\u5168\u90e8\u8d44\u6e90\u5f97\u4e0d\u5230\u6ee1\u8db3\uff0c\u5219\u4e0d\u5206\u914d\u4efb\u4f55\u8d44\u6e90\uff0c\u6b64\u8fdb\u7a0b\u6682\u4e0d\u8fd0\u884c\uff1b\u53ea\u6709\u5f53\u7cfb\u7edf\u80fd\u6ee1\u8db3\u5f53\u524d\u8fdb\u7a0b\u6240\u9700\u7684\u5168\u90e8\u8d44\u6e90\u65f6\uff0c\u624d\u4e00\u6b21\u6027\u5c06\u6240\u7533\u8bf7\u8d44\u6e90\u5168\u90e8\u5206\u914d\u7ed9\u8be5\u7ebf\u7a0b)\u6216\u8005\u53ea\u5141\u8bb8\u8fdb\u7a0b\u5728\u6ca1\u6709\u5360\u7528\u8d44\u6e90\u65f6\u624d\u53ef\u4ee5\u7533\u8bf7\u8d44\u6e90\uff08\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u7533\u8bf7\u4e00\u4e9b\u8d44\u6e90\u5e76\u4f7f\u7528\u5b83\u4eec\uff0c\u4f46\u662f\u5728\u5f53\u524d\u8fdb\u7a0b\u7533\u8bf7\u66f4\u591a\u8d44\u6e90\u4e4b\u524d\uff0c\u5b83\u5fc5\u987b\u5168\u90e8\u91ca\u653e\u5f53\u524d\u6240\u5360\u6709\u7684\u8d44\u6e90\uff09\u3002\u4f46\u662f\u8fd9\u79cd\u7b56\u7565\u4e5f\u5b58\u5728\u4e00\u4e9b\u7f3a\u70b9\uff1a\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u65e0\u6cd5\u9884\u77e5\u4e00\u4e2a\u8fdb\u7a0b\u6267\u884c\u524d\u6240\u9700\u7684\u5168\u90e8\u8d44\u6e90\uff0c\u56e0\u4e3a\u8fdb\u7a0b\u662f\u52a8\u6001\u6267\u884c\u7684\uff0c\u4e0d\u53ef\u9884\u77e5\u7684\uff1b\u540c\u65f6\uff0c\u4f1a\u964d\u4f4e\u8d44\u6e90\u5229\u7528\u7387\uff0c\u5bfc\u81f4\u964d\u4f4e\u4e86\u8fdb\u7a0b\u7684\u5e76\u53d1\u6027\u3002</li> <li>\u6253\u7834\u975e\u62a2\u5360\u6761\u4ef6\uff1a\u5141\u8bb8\u8fdb\u7a0b\u5f3a\u884c\u4ece\u5360\u6709\u8005\u54ea\u91cc\u593a\u53d6\u67d0\u4e9b\u8d44\u6e90\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f46\u4e00\u4e2a\u8fdb\u7a0b\u5360\u6709\u4e86\u4e00\u90e8\u5206\u8d44\u6e90\uff0c\u5728\u5176\u7533\u8bf7\u65b0\u7684\u8d44\u6e90\u4e14\u5f97\u4e0d\u5230\u6ee1\u8db3\u65f6\uff0c\u5b83\u5fc5\u987b\u91ca\u653e\u6240\u6709\u5360\u6709\u7684\u8d44\u6e90\u4ee5\u4fbf\u8ba9\u5176\u5b83\u7ebf\u7a0b\u4f7f\u7528\u3002\u8fd9\u79cd\u9884\u9632\u6b7b\u9501\u7684\u65b9\u5f0f\u5b9e\u73b0\u8d77\u6765\u56f0\u96be\uff0c\u4f1a\u964d\u4f4e\u7cfb\u7edf\u6027\u80fd\u3002</li> <li>\u6253\u7834\u5faa\u73af\u7b49\u5f85\u6761\u4ef6\uff1a\u5b9e\u884c\u8d44\u6e90\u6709\u5e8f\u5206\u914d\u7b56\u7565\u3002\u5bf9\u6240\u6709\u8d44\u6e90\u6392\u5e8f\u7f16\u53f7\uff0c\u6240\u6709\u8fdb\u7a0b\u5bf9\u8d44\u6e90\u7684\u8bf7\u6c42\u5fc5\u987b\u4e25\u683c\u6309\u8d44\u6e90\u5e8f\u53f7\u9012\u589e\u7684\u987a\u5e8f\u63d0\u51fa\uff0c\u5373\u53ea\u6709\u5360\u7528\u4e86\u5c0f\u53f7\u8d44\u6e90\u624d\u80fd\u7533\u8bf7\u5927\u53f7\u8d44\u6e90\uff0c\u8fd9\u6837\u5c31\u4e0d\u56de\u4ea7\u751f\u73af\u8def\uff0c\u9884\u9632\u6b7b\u9501\u7684\u53d1\u751f\u3002</li> </ul> </li> <li>**\u907f\u514d\u6b7b\u9501**\u7684\u57fa\u672c\u601d\u60f3\u662f\u52a8\u6001\u5730\u68c0\u6d4b\u8d44\u6e90\u5206\u914d\u72b6\u6001\uff0c\u4ee5\u786e\u4fdd\u5faa\u73af\u7b49\u5f85\u6761\u4ef6\u4e0d\u6210\u7acb\uff0c\u4ece\u800c\u786e\u4fdd\u7cfb\u7edf\u5904\u4e8e\u5b89\u5168\u72b6\u6001\u3002\u6240\u8c13\u5b89\u5168\u72b6\u6001\u662f\u6307\uff1a\u5982\u679c\u7cfb\u7edf\u80fd\u6309\u67d0\u4e2a\u987a\u5e8f\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u5206\u914d\u8d44\u6e90\uff08\u4e0d\u8d85\u8fc7\u5176\u6700\u5927\u503c\uff09\uff0c\u90a3\u4e48\u7cfb\u7edf\u72b6\u6001\u662f\u5b89\u5168\u7684\uff0c\u6362\u53e5\u8bdd\u8bf4\u5c31\u662f\uff0c\u5982\u679c\u5b58\u5728\u4e00\u4e2a\u5b89\u5168\u5e8f\u5217\uff0c\u90a3\u4e48\u7cfb\u7edf\u5904\u4e8e\u5b89\u5168\u72b6\u6001\u3002\u8d44\u6e90\u5206\u914d\u56fe\u7b97\u6cd5\u548c\u94f6\u884c\u5bb6\u7b97\u6cd5\u662f\u4e24\u79cd\u7ecf\u5178\u7684\u6b7b\u9501\u907f\u514d\u7684\u7b97\u6cd5\uff0c\u5176\u53ef\u4ee5\u786e\u4fdd\u7cfb\u7edf\u59cb\u7ec8\u5904\u4e8e\u5b89\u5168\u72b6\u6001\u3002\u5176\u4e2d\uff0c\u8d44\u6e90\u5206\u914d\u56fe\u7b97\u6cd5\u5e94\u7528\u573a\u666f\u4e3a\u6bcf\u79cd\u8d44\u6e90\u7c7b\u578b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b(\u7533\u8bf7\u8fb9\uff0c\u5206\u914d\u8fb9\uff0c\u9700\u6c42\u8fb9\uff0c\u4e0d\u5f62\u6210\u73af\u624d\u5141\u8bb8\u5206\u914d)\uff0c\u800c\u94f6\u884c\u5bb6\u7b97\u6cd5\u5e94\u7528\u4e8e\u6bcf\u79cd\u8d44\u6e90\u7c7b\u578b\u53ef\u4ee5\u6709\u591a\u4e2a\u5b9e\u4f8b\u7684\u573a\u666f\u3002</li> <li>\u89e3\u9664\u6b7b\u9501<ul> <li>\u7ec8\u6b62\u8fdb\u7a0b\uff08\u7b80\u5355\u7c97\u66b4\uff09\uff0c\u5c31\u662f\u5b57\u9762\u4e0a\u7684\uff0c\u4f60\u4eec\u6b7b\u9501\u4e86\uff0c\u6211\u5c31\u628a\u4f60\u4eec\u4e00\u8d77\u6740\u6389\uff0c\u7f3a\u70b9\u5c31\u662f\u5982\u679c\u4e00\u4e2a\u8fdb\u7a0b\u8dd1\u4e86\u5f88\u957f\u65f6\u95f4\uff0c\u4f46\u662f\u88ab\u6740\u4e86\uff0c\u8fd8\u5f97\u4ece\u5934\u6765\u3002</li> <li>\u9010\u4e2a\u7ec8\u6b62\u8fdb\u7a0b\uff0c\u6309\u7167\u67d0\u79cd\u987a\u5e8f\uff0c\u6328\u4e2a\u6740\u6b7b\u8fdb\u7a0b\uff0c\u6bcf\u6740\u4e00\u4e2a\u8fdb\u7a0b\u5c31\u53bb\u770b\u770b\u6b7b\u9501\u89e3\u9664\u4e86\u6ca1\u6709\uff08\u6bcf\u6740\u4e00\u4e2a\u8fdb\u7a0b\u90fd\u4f1a\u91ca\u653e\u4e00\u4e9b\u8d44\u6e90\uff0c\u5982\u679c\u91ca\u653e\u597d\u7c97\u6765\u7684\u8d44\u6e90\u89e3\u51b3\u4e86\u6b7b\u9501\u95ee\u9898\uff0c\u5c31\u6ca1\u5fc5\u8981\u518d\u6ee5\u6740\u65e0\u8f9c\u4e86\uff09\uff0c\u6ca1\u89e3\u9664\u5c31\u7ee7\u7eed\u6740\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_51","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u7bc7","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>\u534f\u8bae\u68ee\u6797</li> <li>HTTP\u534f\u8bae\u8be6\u89e3</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_52","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u6982\u8ff0","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#url","title":"\u4eceURL\u8f93\u5165\u5230\u9875\u9762\u5c55\u73b0\u5230\u5e95\u53d1\u751f\u4ec0\u4e48\uff1f","text":"<ul> <li>DNS\u67e5\u8be2\uff0cARP\u89e3\u6790\uff0cTCP\u4e09\u6b21\u63e1\u624b\u8fde\u63a5\uff0cHTTP\u8bf7\u6c42\uff0c\u53cd\u5411\u4ee3\u7406Nginx\uff0cuwsgi/gunicorn\uff08WSGI\u670d\u52a1\u5668\uff09,\u670d\u52a1\u5668\u54cd\u5e94\uff0c\u6d4f\u89c8\u5668\u9875\u9762\u6e32\u67d3\uff0cTCP\u56db\u6b21\u6325\u624b\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#arp","title":"ARP \u534f\u8bae\u5de5\u4f5c\u539f\u7406","text":"<ul> <li>\u7f51\u7edc\u5c42\u7684 ARP \u534f\u8bae\u5b8c\u6210\u4e86 IP \u5730\u5740\u4e0e\u7269\u7406\u5730\u5740\u7684\u6620\u5c04\u3002\u9996\u5148\uff0c\u6bcf\u53f0\u4e3b\u673a\u90fd\u4f1a\u5728\u81ea\u5df1\u7684 ARP \u7f13\u51b2\u533a\u4e2d\u5efa\u7acb\u4e00\u4e2a ARP\u5217\u8868\uff0c\u4ee5\u8868\u793a IP \u5730\u5740\u548c MAC \u5730\u5740\u7684\u5bf9\u5e94\u5173\u7cfb\u3002\u5f53\u6e90\u4e3b\u673a\u9700\u8981\u5c06\u4e00\u4e2a\u6570\u636e\u5305\u8981\u53d1\u9001\u5230\u76ee\u7684\u4e3b\u673a\u65f6\uff0c\u4f1a\u9996\u5148\u68c0\u67e5\u81ea\u5df1 ARP \u5217\u8868\u4e2d\u662f\u5426\u5b58\u5728\u8be5 IP \u5730\u5740\u5bf9\u5e94\u7684 MAC \u5730\u5740\uff1a\u5982\u679c\u6709\uff0c\u5c31\u76f4\u63a5\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u8fd9\u4e2a MAC \u5730\u5740\uff1b\u5982\u679c\u6ca1\u6709\uff0c\u5c31\u5411\u672c\u5730\u7f51\u6bb5\u53d1\u8d77\u4e00\u4e2a ARP \u8bf7\u6c42\u7684\u5e7f\u64ad\u5305\uff0c\u67e5\u8be2\u6b64\u76ee\u7684\u4e3b\u673a\u5bf9\u5e94\u7684 MAC \u5730\u5740\u3002\u6b64 ARP \u8bf7\u6c42\u6570\u636e\u5305\u91cc\u5305\u62ec\u6e90\u4e3b\u673a\u7684 IP \u5730\u5740\u3001\u786c\u4ef6\u5730\u5740\u3001\u4ee5\u53ca\u76ee\u7684\u4e3b\u673a\u7684 IP \u5730\u5740\u3002\u7f51\u7edc\u4e2d\u6240\u6709\u7684\u4e3b\u673a\u6536\u5230\u8fd9\u4e2a ARP \u8bf7\u6c42\u540e\uff0c\u4f1a\u68c0\u67e5\u6570\u636e\u5305\u4e2d\u7684\u76ee\u7684 IP \u662f\u5426\u548c\u81ea\u5df1\u7684 IP \u5730\u5740\u4e00\u81f4\u3002\u5982\u679c\u4e0d\u76f8\u540c\u5c31\u5ffd\u7565\u6b64\u6570\u636e\u5305\uff1b\u5982\u679c\u76f8\u540c\uff0c\u8be5\u4e3b\u673a\u9996\u5148\u5c06\u53d1\u9001\u7aef\u7684 MAC \u5730\u5740\u548c IP \u5730\u5740\u6dfb\u52a0\u5230\u81ea\u5df1\u7684 ARP \u5217\u8868\u4e2d\uff0c\u5982\u679c ARP \u8868\u4e2d\u5df2\u7ecf\u5b58\u5728\u8be5 IP \u7684\u4fe1\u606f\uff0c\u5219\u5c06\u5176\u8986\u76d6\uff0c\u7136\u540e\u7ed9\u6e90\u4e3b\u673a\u53d1\u9001\u4e00\u4e2a ARP \u54cd\u5e94\u6570\u636e\u5305\uff0c\u544a\u8bc9\u5bf9\u65b9\u81ea\u5df1\u662f\u5b83\u9700\u8981\u67e5\u627e\u7684 MAC \u5730\u5740\uff1b\u6e90\u4e3b\u673a\u6536\u5230\u8fd9\u4e2a ARP \u54cd\u5e94\u6570\u636e\u5305\u540e\uff0c\u5c06\u5f97\u5230\u7684\u76ee\u7684\u4e3b\u673a\u7684 IP \u5730\u5740\u548c MAC \u5730\u5740\u6dfb\u52a0\u5230\u81ea\u5df1\u7684 ARP \u5217\u8868\u4e2d\uff0c\u5e76\u5229\u7528\u6b64\u4fe1\u606f\u5f00\u59cb\u6570\u636e\u7684\u4f20\u8f93\u3002\u5982\u679c\u6e90\u4e3b\u673a\u4e00\u76f4\u6ca1\u6709\u6536\u5230 ARP \u54cd\u5e94\u6570\u636e\u5305\uff0c\u8868\u793a ARP \u67e5\u8be2\u5931\u8d25\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#tcp","title":"TCP \u4e09\u6b21\u63e1\u624b","text":"<ul> <li>\u91cd\u70b9\u8bb0\u4f4f\u6bcf\u4e2a\u9636\u6bb5\u4ee5\u540e\u5ba2\u6237\u548c\u670d\u52a1\u5668\u7684\u72b6\u6001\u53d8\u5316 </li> <li>\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u7528\u4e24\u6b21\u63e1\u624b\u8fdb\u884c\u8fde\u63a5\uff1f \u7b54\uff1a\u4e3a\u4e86\u9632\u6b62 \u5df2\u5931\u6548\u7684\u94fe\u63a5\u8bf7\u6c42\u62a5\u6587\u7a81\u7136\u53c8\u4f20\u9001\u5230\u4e86\u670d\u52a1\u7aef\uff0c\u56e0\u800c\u4ea7\u751f\u9519\u8bef\u3002\u5ba2\u6237\u7aef\u53d1\u51fa\u7684\u8fde\u63a5\u8bf7\u6c42\u62a5\u6587\u5e76\u672a\u4e22\u5931\uff0c\u800c\u662f\u5728\u67d0\u4e2a\u7f51\u7edc\u8282\u70b9\u957f\u65f6\u95f4\u6ede\u7559\u4e86\uff0c\u4ee5\u81f4\u5ef6\u8bef\u5230\u94fe\u63a5\u91ca\u653e\u4ee5\u540e\u7684\u67d0\u4e2a\u65f6\u95f4\u624d\u5230\u8fbe Server\u3002\u8fd9\u662f\uff0cServer \u8bef\u4ee5\u4e3a\u8fd9\u662f Client \u53d1\u51fa\u7684\u4e00\u4e2a\u65b0\u7684\u94fe\u63a5\u8bf7\u6c42\uff0c\u4e8e\u662f\u5c31\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u786e\u8ba4\u6570\u636e\u5305\uff0c\u540c\u610f\u5efa\u7acb\u94fe\u63a5\u3002\u82e5\u4e0d\u91c7\u7528 \u201c\u4e09\u6b21\u63e1\u624b\u201d\uff0c\u90a3\u4e48\u53ea\u8981 Server \u53d1\u51fa\u786e\u8ba4\u6570\u636e\u5305\uff0c\u65b0\u7684\u94fe\u63a5\u5c31\u5efa\u7acb\u4e86\u3002\u7531\u4e8e client \u6b64\u65f6\u5e76\u672a\u53d1\u51fa\u5efa\u7acb\u94fe\u63a5\u7684\u8bf7\u6c42\uff0c\u6240\u4ee5\u5176\u4e0d\u4f1a\u7406\u776c Server \u7684\u786e\u8ba4\uff0c\u4e5f\u4e0d\u4e0e Server\u901a\u4fe1\uff1b\u800c\u8fd9\u65f6 Server \u4e00\u76f4\u5728\u7b49\u5f85 Client \u7684\u8bf7\u6c42\uff0c\u8fd9\u6837Server \u5c31\u767d\u767d\u6d6a\u8d39\u4e86\u4e00\u5b9a\u7684\u8d44\u6e90\u3002\u82e5\u91c7\u7528 \u201c\u4e09\u6b21\u63e1\u624b\u201d\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7531\u4e8e Server \u7aef\u6ca1\u6709\u6536\u5230\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u786e\u8ba4\uff0c\u5219\u5c31\u4f1a\u77e5\u9053 Client \u5e76\u6ca1\u6709\u8981\u6c42\u5efa\u7acb\u8bf7\u6c42\uff0c\u5c31\u4e0d\u4f1a\u5efa\u7acb\u94fe\u63a5\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#tcp_1","title":"TCP \u56db\u6b21\u6325\u624b","text":"<p> * \u4e3a\u4ec0\u4e48TIME_WAIT\u72b6\u6001\u9700\u8981\u7ecf\u8fc72MSL(\u6700\u5927\u62a5\u6587\u6bb5\u751f\u5b58\u65f6\u95f4)\u624d\u80fd\u8fd4\u56de\u5230CLOSE\u72b6\u6001\uff1f \u7b54\uff1a\u867d\u7136\u6309\u9053\u7406\uff0c\u56db\u4e2a\u62a5\u6587\u90fd\u53d1\u9001\u5b8c\u6bd5\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u8fdb\u5165CLOSE\u72b6\u6001\u4e86\uff0c\u4f46\u662f\u6211\u4eec\u5fc5\u987b\u5047\u8c61\u7f51\u7edc\u662f\u4e0d\u53ef\u9760\u7684\uff0c\u6709\u53ef\u4ee5\u6700\u540e\u4e00\u4e2aACK\u4e22\u5931\u3002\u6240\u4ee5TIME_WAIT\u72b6\u6001\u5c31\u662f\u7528\u6765\u91cd\u53d1\u53ef\u80fd\u4e22\u5931\u7684ACK\u62a5\u6587\u3002\u5728Client\u53d1\u9001\u51fa\u6700\u540e\u7684ACK\u56de\u590d\uff0c\u4f46\u8be5ACK\u53ef\u80fd\u4e22\u5931\u3002Server\u5982\u679c\u6ca1\u6709\u6536\u5230ACK\uff0c\u5c06\u4e0d\u65ad\u91cd\u590d\u53d1\u9001FIN\u7247\u6bb5\u3002\u6240\u4ee5Client\u4e0d\u80fd\u7acb\u5373\u5173\u95ed\uff0c\u5b83\u5fc5\u987b\u786e\u8ba4Server\u63a5\u6536\u5230\u4e86\u8be5ACK\u3002Client\u4f1a\u5728\u53d1\u9001\u51faACK\u4e4b\u540e\u8fdb\u5165\u5230TIME_WAIT\u72b6\u6001\u3002Client\u4f1a\u8bbe\u7f6e\u4e00\u4e2a\u8ba1\u65f6\u5668\uff0c\u7b49\u5f852MSL\u7684\u65f6\u95f4\u3002\u5982\u679c\u5728\u8be5\u65f6\u95f4\u5185\u518d\u6b21\u6536\u5230FIN\uff0c\u90a3\u4e48Client\u4f1a\u91cd\u53d1ACK\u5e76\u518d\u6b21\u7b49\u5f852MSL\u3002\u6240\u8c13\u76842MSL\u662f\u4e24\u500d\u7684MSL(Maximum Segment Lifetime)\u3002MSL\u6307\u4e00\u4e2a\u7247\u6bb5\u5728\u7f51\u7edc\u4e2d\u6700\u5927\u7684\u5b58\u6d3b\u65f6\u95f4\uff0c2MSL\u5c31\u662f\u4e00\u4e2a\u53d1\u9001\u548c\u4e00\u4e2a\u56de\u590d\u6240\u9700\u7684\u6700\u5927\u65f6\u95f4\u3002\u5982\u679c\u76f4\u52302MSL\uff0cClient\u90fd\u6ca1\u6709\u518d\u6b21\u6536\u5230FIN\uff0c\u90a3\u4e48Client\u63a8\u65adACK\u5df2\u7ecf\u88ab\u6210\u529f\u63a5\u6536\uff0c\u5219\u7ed3\u675fTCP\u8fde\u63a5\u3002</p>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#tcp_2","title":"TCP \u600e\u6837\u4fdd\u8bc1\u53ef\u9760\u6027","text":"<ul> <li>\u6570\u636e\u5305\u6821\u9a8c\uff1a\u76ee\u7684\u662f\u68c0\u6d4b\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684\u4efb\u4f55\u53d8\u5316\uff0c\u82e5\u6821\u9a8c\u51fa\u5305\u6709\u9519\uff0c\u5219\u4e22\u5f03\u62a5\u6587\u6bb5\u5e76\u4e14\u4e0d\u7ed9\u51fa\u54cd\u5e94\uff0c\u8fd9\u65f6 TCP \u53d1\u9001\u6570\u636e\u7aef\u8d85\u65f6\u540e\u4f1a\u91cd\u53d1\u6570\u636e\uff1b</li> <li>\u5bf9\u5931\u5e8f\u6570\u636e\u5305\u91cd\u6392\u5e8f\uff1a\u65e2\u7136 TCP \u62a5\u6587\u6bb5\u4f5c\u4e3a IP \u6570\u636e\u62a5\u6765\u4f20\u8f93\uff0c\u800c IP \u6570\u636e\u62a5\u7684\u5230\u8fbe\u53ef\u80fd\u4f1a\u5931\u5e8f\uff0c\u56e0\u6b64TCP \u62a5\u6587\u6bb5\u7684\u5230\u8fbe\u4e5f\u53ef\u80fd\u4f1a\u5931\u5e8f\u3002TCP \u5c06\u5bf9\u5931\u5e8f\u6570\u636e\u8fdb\u884c\u91cd\u65b0\u6392\u5e8f\uff0c\u7136\u540e\u624d\u4ea4\u7ed9\u5e94\u7528\u5c42\uff1b</li> <li>\u4e22\u5f03\u91cd\u590d\u6570\u636e\uff1a\u5bf9\u4e8e\u91cd\u590d\u6570\u636e\uff0c\u80fd\u591f\u4e22\u5f03\u91cd\u590d\u6570\u636e\uff1b</li> <li>\u5e94\u7b54\u673a\u5236\uff1a\u5f53 TCP \u6536\u5230\u53d1\u81ea TCP \u8fde\u63a5\u53e6\u4e00\u7aef\u7684\u6570\u636e\uff0c\u5b83\u5c06\u53d1\u9001\u4e00\u4e2a\u786e\u8ba4\u3002\u8fd9\u4e2a\u786e\u8ba4\u4e0d\u662f\u7acb\u5373\u53d1\u9001\uff0c\u901a\u5e38\u5c06\u63a8\u8fdf\u51e0\u5206\u4e4b\u4e00\u79d2\uff1b</li> <li>\u8d85\u65f6\u91cd\u53d1\uff1a\u5f53 TCP \u53d1\u51fa\u4e00\u4e2a\u6bb5\u540e\uff0c\u5b83\u542f\u52a8\u4e00\u4e2a\u5b9a\u65f6\u5668\uff0c\u7b49\u5f85\u76ee\u7684\u7aef\u786e\u8ba4\u6536\u5230\u8fd9\u4e2a\u62a5\u6587\u6bb5\u3002\u5982\u679c\u4e0d\u80fd\u53ca\u65f6\u6536\u5230\u4e00\u4e2a\u786e\u8ba4\uff0c\u5c06\u91cd\u53d1\u8fd9\u4e2a\u62a5\u6587\u6bb5\uff1b</li> <li>\u6d41\u91cf\u63a7\u5236\uff1aTCP \u8fde\u63a5\u7684\u6bcf\u4e00\u65b9\u90fd\u6709\u56fa\u5b9a\u5927\u5c0f\u7684\u7f13\u51b2\u7a7a\u95f4\u3002TCP \u7684\u63a5\u6536\u7aef\u53ea\u5141\u8bb8\u53e6\u4e00\u7aef\u53d1\u9001\u63a5\u6536\u7aef\u7f13\u51b2\u533a\u6240\u80fd\u63a5\u7eb3\u7684\u6570\u636e\uff0c\u8fd9\u53ef\u4ee5\u9632\u6b62\u8f83\u5feb\u4e3b\u673a\u81f4\u4f7f\u8f83\u6162\u4e3b\u673a\u7684\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u8fd9\u5c31\u662f\u6d41\u91cf\u63a7\u5236\u3002TCP \u4f7f\u7528\u7684\u6d41\u91cf\u63a7\u5236\u534f\u8bae\u662f\u53ef\u53d8\u5927\u5c0f\u7684\u6ed1\u52a8\u7a97\u53e3\u534f\u8bae\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_53","title":"\u6d41\u91cf\u63a7\u5236\u548c\u62e5\u585e\u63a7\u5236","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>TCP\u7684\u6d41\u91cf\u63a7\u5236\u548c\u62e5\u585e\u63a7\u5236</li> </ul> </li> <li>\u533a\u522b\u6ce8\u610f\uff0c\u62e5\u585e\u63a7\u5236\u548c\u6d41\u91cf\u63a7\u5236\u4e0d\u540c\uff0c\u524d\u8005\u662f\u4e00\u4e2a\u5168\u5c40\u6027\u7684\u8fc7\u7a0b\uff0c\u800c\u540e\u8005\u6307\u70b9\u5bf9\u70b9\u901a\u4fe1\u91cf\u7684\u63a7\u5236\u3002<ul> <li>\u62e5\u585e\u63a7\u5236\uff1a\u62e5\u585e\u63a7\u5236\u662f\u4f5c\u7528\u4e8e\u7f51\u7edc\u7684\uff0c\u5b83\u662f\u9632\u6b62\u8fc7\u591a\u7684\u6570\u636e\u6ce8\u5165\u5230\u7f51\u7edc\u4e2d\uff0c\u907f\u514d\u51fa\u73b0\u7f51\u7edc\u8d1f\u8f7d\u8fc7\u5927\u7684\u60c5\u51b5\uff1b\u5e38\u7528\u7684\u65b9\u6cd5\u5c31\u662f\uff1a\u6162\u5f00\u59cb\u3001\u62e5\u585e\u907f\u514d\uff1b\u5feb\u91cd\u4f20\u3001\u5feb\u6062\u590d\u3002</li> <li>\u6d41\u91cf\u63a7\u5236\uff1a\u6d41\u91cf\u63a7\u5236\u662f\u4f5c\u7528\u4e8e\u63a5\u6536\u8005\u7684\uff0c\u5b83\u662f\u63a7\u5236\u53d1\u9001\u8005\u7684\u53d1\u9001\u901f\u5ea6\u4ece\u800c\u4f7f\u63a5\u6536\u8005\u6765\u5f97\u53ca\u63a5\u6536\uff0c\u9632\u6b62\u5206\u7ec4\u4e22\u5931\u7684\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#tcp_udp","title":"TCP \u4e0e UDP \u7684\u533a\u522b","text":"<ul> <li>TCP \u662f\u9762\u5411\u8fde\u63a5\u7684\uff0cUDP \u662f\u65e0\u8fde\u63a5\u7684\uff1b</li> <li>TCP \u662f\u53ef\u9760\u7684\uff0cUDP \u662f\u4e0d\u53ef\u9760\u7684\uff1b</li> <li>TCP \u53ea\u652f\u6301\u70b9\u5bf9\u70b9\u901a\u4fe1\uff0cUDP \u652f\u6301\u4e00\u5bf9\u4e00\u3001\u4e00\u5bf9\u591a\u3001\u591a\u5bf9\u4e00\u3001\u591a\u5bf9\u591a\u7684\u901a\u4fe1\u6a21\u5f0f\uff1b</li> <li>TCP \u662f\u9762\u5411\u5b57\u8282\u6d41\u7684\uff0cUDP \u662f\u9762\u5411\u62a5\u6587\u7684\uff1b</li> <li>TCP \u6709\u62e5\u585e\u63a7\u5236\u673a\u5236; UDP \u6ca1\u6709\u62e5\u585e\u63a7\u5236\uff0c\u9002\u5408\u5a92\u4f53\u901a\u4fe1\uff1b</li> <li>TCP \u9996\u90e8\u5f00\u9500 (20 \u4e2a\u5b57\u8282) \u6bd4 UDP \u7684\u9996\u90e8\u5f00\u9500 (8 \u4e2a\u5b57\u8282) \u8981\u5927</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#http","title":"HTTP\u534f\u8bae","text":"<ul> <li>\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae(HTTP)\u662f\u4e00\u79cd\u901a\u4fe1\u534f\u8bae\uff0c\u5b83\u5141\u8bb8\u5c06\u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00(HTML)\u6587\u6863\u4eceWeb\u670d\u52a1\u5668\u4f20\u9001\u5230\u5ba2\u6237\u7aef\u7684\u6d4f\u89c8\u5668\uff0c\u76ee\u524d\u6211\u4eec\u4f7f\u7528\u7684\u662fHTTP/1.1 \u7248\u672c\u3002</li> <li>HTTP\u534f\u8bae\u662f\u65e0\u72b6\u6001\u7684\uff0c\u540c\u4e00\u4e2a\u5ba2\u6237\u7aef\u7684\u8fd9\u6b21\u8bf7\u6c42\u548c\u4e0a\u6b21\u8bf7\u6c42\u662f\u6ca1\u6709\u5bf9\u5e94\u5173\u7cfb\uff0c\u5bf9http\u670d\u52a1\u5668\u6765\u8bf4\uff0c\u5b83\u5e76\u4e0d\u77e5\u9053\u8fd9\u4e24\u4e2a\u8bf7\u6c42\u6765\u81ea\u540c\u4e00\u4e2a\u5ba2\u6237\u7aef\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c Web\u7a0b\u5e8f\u5f15\u5165\u4e86Cookie\u673a\u5236\u548csession\u673a\u5236\u6765\u7ef4\u62a4\u72b6\u6001\u3002</li> <li>HTTP/1.1\u8d77\uff0c\u9ed8\u8ba4\u90fd\u5f00\u542f\u4e86Keep-Alive\uff0c\u4fdd\u6301\u8fde\u63a5\u7279\u6027\uff0c\u7b80\u5355\u5730\u8bf4\uff0c\u5f53\u4e00\u4e2a\u7f51\u9875\u6253\u5f00\u5b8c\u6210\u540e\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7528\u4e8e\u4f20\u8f93HTTP\u6570\u636e\u7684TCP\u8fde\u63a5\u4e0d\u4f1a\u5173\u95ed\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u518d\u6b21\u8bbf\u95ee\u8fd9\u4e2a\u670d\u52a1\u5668\u4e0a\u7684\u7f51\u9875\uff0c\u4f1a\u7ee7\u7eed\u4f7f\u7528\u8fd9\u4e00\u6761\u5df2\u7ecf\u5efa\u7acb\u7684\u8fde\u63a5\u3002Keep-Alive\u4e0d\u4f1a\u6c38\u4e45\u4fdd\u6301\u8fde\u63a5\uff0c\u5b83\u6709\u4e00\u4e2a\u4fdd\u6301\u65f6\u95f4\uff0c\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u670d\u52a1\u5668\u8f6f\u4ef6\uff08\u5982Apache\uff09\u4e2d\u8bbe\u5b9a\u8fd9\u4e2a\u65f6\u95f4\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#http_https","title":"HTTP \u548c HTTPS \u7684\u533a\u522b","text":"<ol> <li>https\u534f\u8bae\u9700\u8981\u5230CA\u7533\u8bf7\u8bc1\u4e66\uff0c\u4e00\u822c\u514d\u8d39\u8bc1\u4e66\u8f83\u5c11\uff0c\u56e0\u800c\u9700\u8981\u4e00\u5b9a\u8d39\u7528\u3002</li> <li>http\u662f\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff0c\u4fe1\u606f\u662f\u660e\u6587\u4f20\u8f93\uff0chttps\u5219\u662f\u5177\u6709\u5b89\u5168\u6027\u7684ssl/tls\u52a0\u5bc6\u4f20\u8f93\u534f\u8bae\u3002</li> <li>http\u548chttps\u4f7f\u7528\u7684\u662f\u5b8c\u5168\u4e0d\u540c\u7684\u8fde\u63a5\u65b9\u5f0f\uff0c\u7528\u7684\u7aef\u53e3\u4e5f\u4e0d\u4e00\u6837\uff0c\u524d\u8005\u662f80\uff0c\u540e\u8005\u662f443\u3002</li> <li>http\u7684\u8fde\u63a5\u5f88\u7b80\u5355\uff0c\u662f\u65e0\u72b6\u6001\u7684\uff1bHTTPS\u534f\u8bae\u662f\u7531SSL/TLS+HTTP\u534f\u8bae\u6784\u5efa\u7684\u53ef\u8fdb\u884c\u52a0\u5bc6\u4f20\u8f93\u3001\u8eab\u4efd\u8ba4\u8bc1\u7684\u7f51\u7edc\u534f\u8bae\uff0c\u6bd4http\u534f\u8bae\u5b89\u5168\u3002</li> </ol>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#url_1","title":"URL\u8be6\u89e3","text":"<ul> <li>URL(Uniform Resource Locator) \u5730\u5740\u7528\u4e8e\u63cf\u8ff0\u4e00\u4e2a\u7f51\u7edc\u4e0a\u7684\u8d44\u6e90,\u00a0 \u57fa\u672c\u683c\u5f0f\u5982\u4e0b\uff1a <pre><code>schema://host[:port#]/path/.../[?query-string][#anchor]\n&gt;schema\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u6307\u5b9a\u4f4e\u5c42\u4f7f\u7528\u7684\u534f\u8bae(\u4f8b\u5982\uff1ahttp, https,ftp)\nhost\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 HTTP\u670d\u52a1\u5668\u7684IP\u5730\u5740\u6216\u8005\u57df\u540d\nport#\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0HTTP\u670d\u52a1\u5668\u7684\u9ed8\u8ba4\u7aef\u53e3\u662f80\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u7aef\u53e3\u53f7\u53ef\u4ee5\u7701\u7565\u3002\u5982\u679c\u4f7f\u7528\u4e86\u522b\u7684\u7aef\u53e3\uff0c\u5fc5\u987b\u6307\u660e\npath\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u8bbf\u95ee\u8d44\u6e90\u7684\u8def\u5f84\nquery-string\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u53d1\u9001\u7ed9http\u670d\u52a1\u5668\u7684\u6570\u636e\nanchor\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u951a\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#http_getput","title":"HTTP \u5e38\u89c1\u65b9\u6cd5\uff08GET/PUT\uff09","text":"<ul> <li>Http\u534f\u8bae\u5b9a\u4e49\u4e86\u5f88\u591a\u4e0e\u670d\u52a1\u5668\u4ea4\u4e92\u7684\u65b9\u6cd5\uff0c\u6700\u57fa\u672c\u7684\u67094\u79cd\uff0c\u5206\u522b\u662fGET,POST,PUT,DELETE. \u4e00\u4e2aURL\u5730\u5740\u7528\u4e8e\u63cf\u8ff0\u4e00\u4e2a\u7f51\u7edc\u4e0a\u7684\u8d44\u6e90\uff0c\u800cHTTP\u4e2d\u7684GET, POST, PUT, DELETE\u5c31\u5bf9\u5e94\u7740\u5bf9\u8fd9\u4e2a\u8d44\u6e90\u7684\u67e5\uff0c\u6539\uff0c\u589e\uff0c\u52204\u4e2a\u64cd\u4f5c\u3002 </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_54","title":"\u5b89\u5168\u6027\u548c\u5e42\u7b49\u6027","text":"<ul> <li>\u5b89\u5168\u610f\u5473\u7740\u8be5\u64cd\u4f5c\u7528\u4e8e\u83b7\u53d6\u4fe1\u606f\u800c\u975e\u4fee\u6539\u4fe1\u606f\u3002\u5e42\u7b49\u610f\u5473\u7740\u5bf9\u540c\u4e00 URL \u7684\u591a\u4e2a\u8bf7\u6c42\u5e94\u8be5\u8fd4\u56de\u540c\u6837\u7684\u7ed3\u679c\u3002 </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#getpost","title":"GET\u548cPOST \u533a\u522b","text":"<ul> <li>\u6700\u5e38\u89c1\u7684\u5c31\u662fGET\u548cPOST\u4e86\u3002GET\u4e00\u822c\u7528\u4e8e\u83b7\u53d6/\u67e5\u8be2\u8d44\u6e90\u4fe1\u606f\uff0c\u800cPOST\u4e00\u822c\u7528\u4e8e\u66f4\u65b0\u8d44\u6e90\u4fe1\u606f.</li> <li>GET\u63d0\u4ea4\u7684\u6570\u636e\u4f1a\u653e\u5728URL\u4e4b\u540e\uff0c\u4ee5?\u5206\u5272URL\u548c\u4f20\u8f93\u6570\u636e\uff0c\u53c2\u6570\u4e4b\u95f4\u4ee5&amp;\u76f8\u8fde?name=test1&amp;id=123456.\u00a0 POST\u65b9\u6cd5\u662f\u628a\u63d0\u4ea4\u7684\u6570\u636e\u653e\u5728HTTP\u5305\u7684Body\u4e2d.</li> <li>GET\u63d0\u4ea4\u7684\u6570\u636e\u5927\u5c0f\u6709\u9650\u5236\uff08\u56e0\u4e3a\u6d4f\u89c8\u5668\u5bf9URL\u7684\u957f\u5ea6\u6709\u9650\u5236\uff09\uff0c\u800cPOST\u65b9\u6cd5\u63d0\u4ea4\u7684\u6570\u636e\u6ca1\u6709\u9650\u5236\u3002</li> <li>GET\u65b9\u5f0f\u63d0\u4ea4\u6570\u636e\uff0c\u4f1a\u5e26\u6765\u5b89\u5168\u95ee\u9898\uff0c\u6bd4\u5982\u4e00\u4e2a\u767b\u5f55\u9875\u9762\uff0c\u901a\u8fc7GET\u65b9\u5f0f\u63d0\u4ea4\u6570\u636e\u65f6\uff0c\u7528\u6237\u540d\u548c\u5bc6\u7801\u5c06\u51fa\u73b0\u5728URL\u4e0a\uff0c\u5982\u679c\u9875\u9762\u53ef\u4ee5\u88ab\u7f13\u5b58\u6216\u8005\u5176\u4ed6\u4eba\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u53f0\u673a\u5668\uff0c\u5c31\u53ef\u4ee5\u4ece\u5386\u53f2\u8bb0\u5f55\u83b7\u5f97\u8be5\u7528\u6237\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#http_1","title":"\u5e38\u89c1 HTTP \u72b6\u6001\u7801","text":"<ul> <li>Response \u6d88\u606f\u4e2d\u7684\u7b2c\u4e00\u884c\u53eb\u505a\u72b6\u6001\u884c\uff0c\u7531HTTP\u534f\u8bae\u7248\u672c\u53f7\uff0c\u72b6\u6001\u7801\uff0c\u72b6\u6001\u6d88\u606f\u4e09\u90e8\u5206\u7ec4\u6210\u3002\u72b6\u6001\u7801\u7528\u6765\u544a\u8bc9HTTP\u5ba2\u6237\u7aef,HTTP\u670d\u52a1\u5668\u662f\u5426\u4ea7\u751f\u4e86\u9884\u671f\u7684Response\u3002HTTP/1.1\u4e2d\u5b9a\u4e49\u4e865\u7c7b\u72b6\u6001\u7801\uff0c\u72b6\u6001\u7801\u7531\u4e09\u4f4d\u6570\u5b57\u7ec4\u6210\uff0c\u7b2c\u4e00\u4e2a\u6570\u5b57\u5b9a\u4e49\u4e86\u54cd\u5e94\u7684\u7c7b\u522b     <pre><code>1XX\u00a0 \u63d0\u793a\u4fe1\u606f - \u8868\u793a\u8bf7\u6c42\u5df2\u88ab\u6210\u529f\u63a5\u6536\uff0c\u7ee7\u7eed\u5904\u7406\n2XX\u00a0 \u6210\u529f - \u8868\u793a\u8bf7\u6c42\u5df2\u88ab\u6210\u529f\u63a5\u6536\uff0c\u7406\u89e3\uff0c\u63a5\u53d7\n    200 OK :  \u8868\u660e\u8be5\u8bf7\u6c42\u88ab\u6210\u529f\u5730\u5b8c\u6210\uff0c\u6240\u8bf7\u6c42\u7684\u8d44\u6e90\u53d1\u9001\u56de\u5ba2\u6237\u7aef\n3XX\u00a0 \u91cd\u5b9a\u5411 - \u8981\u5b8c\u6210\u8bf7\u6c42\u5fc5\u987b\u8fdb\u884c\u66f4\u8fdb\u4e00\u6b65\u7684\u5904\u7406\n    302 Found :  \u91cd\u5b9a\u5411\uff0c\u65b0\u7684URL\u4f1a\u5728response \u4e2d\u7684Location\u4e2d\u8fd4\u56de\uff0c\u6d4f\u89c8\u5668\u5c06\u4f1a\n    \u81ea\u52a8\u4f7f\u7528\u65b0\u7684URL\u53d1\u51fa\u65b0\u7684Request\n    304 Not Modified :  \u4ee3\u8868\u4e0a\u6b21\u7684\u6587\u6863\u5df2\u7ecf\u88ab\u7f13\u5b58\u4e86\uff0c \u8fd8\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\n    \uff08\u63d0\u793a\uff1a\u5982\u679c\u4f60\u4e0d\u60f3\u4f7f\u7528\u672c\u5730\u7f13\u5b58\u53ef\u4ee5\u7528Ctrl+F5 \u5f3a\u5236\u5237\u65b0\u9875\u9762\uff09\n4XX\u00a0 \u5ba2\u6237\u7aef\u9519\u8bef -\u00a0 \u8bf7\u6c42\u6709\u8bed\u6cd5\u9519\u8bef\u6216\u8bf7\u6c42\u65e0\u6cd5\u5b9e\u73b0\n    400 Bad Request\u00a0\uff1a \u5ba2\u6237\u7aef\u8bf7\u6c42\u4e0e\u8bed\u6cd5\u9519\u8bef\uff0c\u4e0d\u80fd\u88ab\u670d\u52a1\u5668\u6240\u7406\u89e3\n    403 Forbidden :  \u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\uff0c\u4f46\u662f\u62d2\u7edd\u63d0\u4f9b\u670d\u52a1\n    404 Not Found : \u8bf7\u6c42\u8d44\u6e90\u4e0d\u5b58\u5728\uff08\u8fd8\u6709\u53ef\u80fd\u662f\u8f93\u9519\u4e86URL)\n5XX\u00a0 \u670d\u52a1\u5668\u7aef\u9519\u8bef -\u00a0\u00a0 \u670d\u52a1\u5668\u672a\u80fd\u5b9e\u73b0\u5408\u6cd5\u7684\u8bf7\u6c42\n    500 Internal Server Error:\u670d\u52a1\u5668\u53d1\u751f\u4e86\u4e0d\u53ef\u9884\u671f\u7684\u9519\u8bef\n    503 Server Unavailable:\u670d\u52a1\u5668\u5f53\u524d\u4e0d\u80fd\u5904\u7406\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\uff0c\u4e00\u6bb5\u65f6\u95f4\u540e\u53ef\u80fd\u6062\u590d\u6b63\u5e38\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#http_2","title":"HTTP \u957f\u8fde\u63a5\u4e0e\u77ed\u8fde\u63a5","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_55","title":"\u957f\u8fde\u63a5","text":"<ul> <li>\u957f\u8fde\u63a5\u5b9a\u4e49\uff1aclient\u65b9\u4e0eserver\u65b9\u5148\u5efa\u7acb\u8fde\u63a5\uff0c\u8fde\u63a5\u5efa\u7acb\u540e\u4e0d\u65ad\u5f00\uff0c\u7136\u540e\u518d\u8fdb\u884c\u62a5\u6587\u53d1\u9001\u548c\u63a5\u6536\u3002\u8fd9\u79cd\u65b9\u5f0f\u4e0b\u7531\u4e8e\u901a\u8baf\u8fde\u63a5\u4e00\u76f4\u5b58\u5728\u3002\u6b64\u79cd\u65b9\u5f0f\u5e38\u7528\u4e8eP2P\u70b9\u5bf9\u70b9\u7684\u901a\u4fe1\u3002\u957f\u8fde\u63a5\u7684\u64cd\u4f5c\u6b65\u9aa4\u662f\uff1a\u5efa\u7acb\u8fde\u63a5\u2014\u2014\u6570\u636e\u4f20\u8f93...\uff08\u4fdd\u6301\u8fde\u63a5\uff09...\u6570\u636e\u4f20\u8f93\u2014\u2014\u5173\u95ed\u8fde\u63a5</li> <li>\u957f\u8fde\u63a5\u9002\u7528\u573a\u666f\uff1a\u4ee5\u4e0b\u8fd9\u4e9b\u8fde\u63a5\uff0c\u5982\u679c\u6bcf\u6b21\u64cd\u4f5c\u90fd\u8981\u5efa\u7acb\u8fde\u63a5\u7136\u540e\u518d\u64cd\u4f5c\u7684\u8bdd\u5904\u7406\u901f\u5ea6\u4f1a\u964d\u4f4e\u3002\u6240\u4ee5\u64cd\u4f5c\u65f6\u7b2c\u4e00\u6b21\u8fde\u63a5\u4e0a\u4ee5\u540e\uff0c\u4ee5\u540e\u6bcf\u6b21\u76f4\u63a5\u53d1\u9001\u6570\u636e\u5c31\u53ef\u4ee5\u4e86\uff0c\u4e0d\u7528\u518d\u5efa\u7acbTCP\u8fde\u63a5\u3002\u5e38\u8fde\u63a5\u591a\u7528\u4e8e\u64cd\u4f5c\u9891\u7e41\uff0c\u70b9\u5bf9\u70b9\u7684\u901a\u8baf\uff0c\u800c\u4e14\u8fde\u63a5\u6570\u4e0d\u80fd\u592a\u591a\u7684\u60c5\u51b5\u3002<ul> <li>\u5373\u65f6\u901a\u4fe1\u7cfb\u7edf\uff1a\u5176\u5b83\u7528\u6237\u767b\u5f55\u3001\u53d1\u9001\u4fe1\u606f\uff1b</li> <li>\u5373\u65f6\u62a5\u4ef7\u7cfb\u7edf\uff1a\u540e\u53f0\u6570\u636e\u5e93\u5185\u5bb9\u53d1\u751f\u53d8\u5316\uff1b</li> <li>\u6570\u636e\u5e93\u7684\u8fde\u63a5\u7528\u957f\u8fde\u63a5\uff0c\u5982\u679c\u7528\u77ed\u8fde\u63a5\u9891\u7e41\u7684\u901a\u4fe1\u4f1a\u9020\u6210socket\u9519\u8bef\uff0c\u9891\u7e41\u7684socket\u521b\u5efa\u4e5f\u662f\u5bf9\u8d44\u6e90\u7684\u6d6a\u8d39\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_56","title":"\u77ed\u8fde\u63a5","text":"<ul> <li>\u77ed\u8fde\u63a5\u5b9a\u4e49: Client\u65b9\u4e0eserver\u6bcf\u8fdb\u884c\u4e00\u6b21\u62a5\u6587\u6536\u53d1\u4ea4\u6613\u65f6\u624d\u8fdb\u884c\u901a\u8baf\u8fde\u63a5\uff0c\u4ea4\u6613\u5b8c\u6bd5\u540e\u7acb\u5373\u65ad\u5f00\u8fde\u63a5\u3002\u6b64\u65b9\u5f0f\u5e38\u7528\u4e8e\u4e00\u70b9\u5bf9\u591a\u70b9\u901a\u8baf\u3002\u77ed\u8fde\u63a5\u7684\u64cd\u4f5c\u6b65\u9aa4\u662f\uff1a\u5efa\u7acb\u8fde\u63a5\u2014\u2014\u6570\u636e\u4f20\u8f93\u2014\u2014\u5173\u95ed\u8fde\u63a5...\u5efa\u7acb\u8fde\u63a5\u2014\u2014\u6570\u636e\u4f20\u8f93\u2014\u2014\u5173\u95ed\u8fde\u63a5</li> <li>\u77ed\u8fde\u63a5\u7684\u9002\u7528\u573a\u666f\uff1a\u6bcf\u4e2aTCP\u8fde\u63a5\u7684\u5efa\u7acb\u90fd\u9700\u8981\u4e09\u6b21\u63e1\u624b\uff0c\u6bcf\u4e2aTCP\u8fde\u63a5\u7684\u65ad\u5f00\u8981\u56db\u6b21\u63e1\u624b\u3002web\u7f51\u7ad9\u7684http\u670d\u52a1\u4e00\u822c\u90fd\u7528\u77ed\u8fde\u63a5\u3002\u56e0\u4e3a\u957f\u8fde\u63a5\u5bf9\u4e8e\u670d\u52a1\u5668\u6765\u8bf4\u8981\u8017\u8d39\u4e00\u5b9a\u7684\u8d44\u6e90\u3002\u50cfweb\u7f51\u7ad9\u8fd9\u4e48\u9891\u7e41\u7684\u6210\u5343\u4e0a\u4e07\u751a\u81f3\u4e0a\u4ebf\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u7528\u77ed\u8fde\u63a5\u66f4\u7701\u4e00\u4e9b\u8d44\u6e90\u3002\u00a0</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#cookie_session","title":"cookie \u548c session \u7684\u533a\u522b","text":"<ul> <li>\u4f1a\u8bdd\u72b6\u6001\u4fdd\u5b58\u5728\u5ba2\u6237\u7aef\u3002\u5ba2\u6237\u7aef\u8bf7\u6c42\u670d\u52a1\u5668\uff0c\u5982\u679c\u670d\u52a1\u5668\u9700\u8981\u8bb0\u5f55\u8be5\u7528\u6237\u72b6\u6001\uff0c\u5c31\u5411\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u9881\u53d1\u4e00\u4e2a Cookie\uff0c\u800c\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u4f1a\u628aCookie \u4fdd\u5b58\u8d77\u6765\u3002\u5f53\u6d4f\u89c8\u5668\u518d\u8bf7\u6c42\u8be5\u7f51\u7ad9\u65f6\uff0c\u6d4f\u89c8\u5668\u628a\u8bf7\u6c42\u7684\u7f51\u5740\u8fde\u540c\u8be5 Cookie \u4e00\u540c\u63d0\u4ea4\u7ed9\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u68c0\u67e5\u8be5Cookie\uff0c\u4ee5\u6b64\u6765\u8fa8\u8ba4\u7528\u6237\u72b6\u6001\u3002\u670d\u52a1\u5668\u8fd8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u4fee\u6539Cookie \u7684\u5185\u5bb9\u3002</li> <li>\u4f1a\u8bdd\u72b6\u6001\u4e5f\u53ef\u4ee5\u4fdd\u5b58\u5728\u670d\u52a1\u5668\u7aef\u3002\u5ba2\u6237\u7aef\u8bf7\u6c42\u670d\u52a1\u5668\uff0c\u5982\u679c\u670d\u52a1\u5668\u8bb0\u5f55\u8be5\u7528\u6237\u72b6\u6001\uff0c\u5c31\u83b7\u53d6 Session \u6765\u4fdd\u5b58\u72b6\u6001\uff0c\u8fd9\u65f6\uff0c\u5982\u679c\u670d\u52a1\u5668\u5df2\u7ecf\u4e3a\u6b64\u5ba2\u6237\u7aef\u521b\u5efa\u8fc7 session\uff0c\u670d\u52a1\u5668\u5c31\u6309\u7167 sessionid \u628a\u8fd9\u4e2a session \u68c0\u7d22\u51fa\u6765\u4f7f\u7528\uff1b\u5982\u679c\u5ba2\u6237\u7aef\u8bf7\u6c42\u4e0d\u5305\u542b sessionid\uff0c\u5219\u4e3a\u6b64\u5ba2\u6237\u7aef\u521b\u5efa\u4e00\u4e2asession \u5e76\u4e14\u751f\u6210\u4e00\u4e2a\u4e0e\u6b64 session \u76f8\u5173\u8054\u7684 sessionid\uff0c\u5e76\u5c06\u8fd9\u4e2a sessionid \u5728\u672c\u6b21\u54cd\u5e94\u4e2d\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u4fdd\u5b58\u3002\u4fdd\u5b58\u8fd9\u4e2a sessionid \u7684\u65b9\u5f0f\u53ef\u4ee5\u91c7\u7528 cookie \u673a\u5236 \uff0c\u8fd9\u6837\u5728\u4ea4\u4e92\u8fc7\u7a0b\u4e2d\u6d4f\u89c8\u5668\u53ef\u4ee5\u81ea\u52a8\u7684\u6309\u7167\u89c4\u5219\u628a\u8fd9\u4e2a\u6807\u8bc6\u53d1\u6325\u7ed9\u670d\u52a1\u5668\uff1b\u82e5\u6d4f\u89c8\u5668\u7981\u7528 Cookie \u7684\u8bdd\uff0c\u53ef\u4ee5\u901a\u8fc7 URL \u91cd\u5199\u673a\u5236\u5c06sessionid \u4f20\u56de\u670d\u52a1\u5668\u3002</li> <li>\u5b9e\u73b0\u673a\u5236\uff1aSession \u7684\u5b9e\u73b0\u5e38\u5e38\u4f9d\u8d56\u4e8e Cookie \u673a\u5236\uff0c\u901a\u8fc7 Cookie \u673a\u5236\u56de\u4f20 SessionID\uff1b</li> <li>\u5b89\u5168\u6027\uff1aCookie \u5b58\u5728\u5b89\u5168\u9690\u60a3\uff0c\u901a\u8fc7\u62e6\u622a\u6216\u672c\u5730\u6587\u4ef6\u627e\u5f97\u5230 cookie \u540e\u53ef\u4ee5\u8fdb\u884c\u653b\u51fb\uff0c\u800c Session \u7531\u4e8e\u4fdd\u5b58\u5728\u670d\u52a1\u5668\u7aef\uff0c\u76f8\u5bf9\u66f4\u52a0\u5b89\u5168\uff1b</li> <li>\u5927\u5c0f\u9650\u5236\uff1aCookie \u6709\u5927\u5c0f\u9650\u5236\u5e76\u4e14\u6d4f\u89c8\u5668\u5bf9\u6bcf\u4e2a\u7ad9\u70b9\u4e5f\u6709 cookie \u7684\u4e2a\u6570\u9650\u5236\uff0cSession \u6ca1\u6709\u5927\u5c0f\u9650\u5236\uff0c\u7406\u8bba\u4e0a\u53ea\u4e0e\u670d\u52a1\u5668\u7684\u5185\u5b58\u5927\u5c0f\u6709\u5173\uff1b</li> <li>\u670d\u52a1\u5668\u8d44\u6e90\u6d88\u8017\uff1aSession \u662f\u4fdd\u5b58\u5728\u670d\u52a1\u5668\u7aef\u4e0a\u4f1a\u5b58\u5728\u4e00\u6bb5\u65f6\u95f4\u624d\u4f1a\u6d88\u5931\uff0c\u5982\u679c session \u8fc7\u591a\u4f1a\u589e\u52a0\u670d\u52a1\u5668\u7684\u538b\u529b\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#json_web_token","title":"JSON Web Token","text":"<ul> <li>\u4e3b\u8981\u53c2\u8003<ul> <li>JSON Web Token \u5165\u95e8\u6559\u7a0b </li> </ul> </li> <li>JWT \u662f\u4e3a\u4e86\u5728\u7f51\u7edc\u5e94\u7528\u73af\u5883\u95f4\u4f20\u9012\u58f0\u660e\u800c\u6267\u884c\u7684\u4e00\u79cd\u57fa\u4e8eJSON\u7684\u5f00\u653e\u6807\u51c6\uff0c\u8be5token\u88ab\u8bbe\u8ba1\u4e3a\u7d27\u51d1\u4e14\u5b89\u5168\u7684\uff0c\u7279\u522b\u9002\u7528\u4e8e\u5206\u5e03\u5f0f\u7ad9\u70b9\u7684\u5355\u70b9\u767b\u5f55\u573a\u666f\u3002JWT\u7684\u58f0\u660e\u4e00\u822c\u88ab\u7528\u6765\u5728\u8eab\u4efd\u63d0\u4f9b\u8005\u548c\u670d\u52a1\u63d0\u4f9b\u8005\u95f4\u4f20\u9012\u88ab\u8ba4\u8bc1\u7684\u7528\u6237\u8eab\u4efd\u4fe1\u606f\uff0c\u4ee5\u4fbf\u4e8e\u4ece\u8d44\u6e90\u670d\u52a1\u5668\u83b7\u53d6\u8d44\u6e90\uff0c\u4e5f\u53ef\u4ee5\u589e\u52a0\u4e00\u4e9b\u989d\u5916\u7684\u5176\u5b83\u4e1a\u52a1\u903b\u8f91\u6240\u5fc5\u987b\u7684\u58f0\u660e\u4fe1\u606f\uff0c\u8be5token\u4e5f\u53ef\u76f4\u63a5\u88ab\u7528\u4e8e\u8ba4\u8bc1\uff0c\u4e5f\u53ef\u88ab\u52a0\u5bc6\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#ip","title":"IP \u5730\u5740\u7684\u5206\u7c7b","text":"<ul> <li>IP \u5730\u5740\u662f\u6307\u4e92\u8054\u7f51\u534f\u8bae\u5730\u5740\uff0c\u662f IP \u534f\u8bae\u63d0\u4f9b\u7684\u4e00\u79cd\u7edf\u4e00\u7684\u5730\u5740\u683c\u5f0f\uff0c\u5b83\u4e3a\u4e92\u8054\u7f51\u4e0a\u7684\u6bcf\u4e00\u4e2a\u7f51\u7edc\u548c\u6bcf\u4e00\u53f0\u4e3b\u673a\u5206\u914d\u4e00\u4e2a\u903b\u8f91\u5730\u5740\uff0c\u4ee5\u6b64\u6765\u5c4f\u853d\u7269\u7406\u5730\u5740\u7684\u5dee\u5f02\u3002IP \u5730\u5740\u7f16\u5740\u65b9\u6848\u5c06 IP \u5730\u5740\u7a7a\u95f4\u5212\u5206\u4e3a A\u3001B\u3001C\u3001D\u3001E \u4e94\u7c7b\uff0c\u5176\u4e2d A\u3001B\u3001C \u662f\u57fa\u672c\u7c7b\uff0cD\u3001E \u7c7b\u4f5c\u4e3a\u591a\u64ad\u548c\u4fdd\u7559\u4f7f\u7528\uff0c\u4e3a\u7279\u6b8a\u5730 \u5740\u3002</li> <li>\u6bcf\u4e2a IP \u5730\u5740\u5305\u62ec\u4e24\u4e2a\u6807\u8bc6\u7801\uff08ID\uff09\uff0c\u5373\u7f51\u7edc ID \u548c\u4e3b\u673aID\u3002\u540c\u4e00\u4e2a\u7269\u7406\u7f51\u7edc\u4e0a\u7684\u6240\u6709\u4e3b\u673a\u90fd\u4f7f\u7528\u540c\u4e00\u4e2a\u7f51\u7edc ID\uff0c\u7f51\u7edc\u4e0a\u7684\u4e00\u4e2a\u4e3b\u673a\uff08\u5305\u62ec\u7f51\u7edc\u4e0a\u5de5\u4f5c\u7ad9\uff0c\u670d\u52a1\u5668\u548c\u8def\u7531\u5668\u7b49\uff09\u6709\u4e00\u4e2a\u4e3b\u673a ID \u4e0e\u5176\u5bf9\u5e94\u3002A~E \u7c7b\u5730\u5740\u7684\u7279\u70b9\u5982\u4e0b\uff1a<ul> <li>A \u7c7b\u5730\u5740\uff1a\u4ee5 0 \u5f00\u5934\uff0c\u7b2c\u4e00\u4e2a\u5b57\u8282\u8303\u56f4\uff1a0~127\uff1b</li> <li>B \u7c7b\u5730\u5740\uff1a\u4ee5 10 \u5f00\u5934\uff0c\u7b2c\u4e00\u4e2a\u5b57\u8282\u8303\u56f4\uff1a128~191\uff1b</li> <li>C \u7c7b\u5730\u5740\uff1a\u4ee5 110 \u5f00\u5934\uff0c\u7b2c\u4e00\u4e2a\u5b57\u8282\u8303\u56f4\uff1a192~223\uff1b</li> <li>D \u7c7b\u5730\u5740\uff1a\u4ee5 1110 \u5f00\u5934\uff0c\u7b2c\u4e00\u4e2a\u5b57\u8282\u8303\u56f4\u4e3a: 224~239\uff1b</li> <li>E \u7c7b\u5730\u5740\uff1a\u4ee5 1111 \u5f00\u5934\uff0c\u4fdd\u7559\u5730\u5740</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#osi","title":"OSI\u4e03\u5c42\u53c2\u8003\u6a21\u578b","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_57","title":"\u6570\u636e\u5e93\u7bc7","text":"<ul> <li>\u5b66\u4e60\u4e66\u7c4d\u63a8\u8350<ul> <li>\u77e5\u4e4e\u9f9a\u5b50\u6377\u7684\u56de\u7b54</li> <li>\u300a\u9ad8\u6027\u80fdMySQL\u300b</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_58","title":"\u6570\u636e\u5e93\u7cfb\u7edf\u6982\u5ff5","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_59","title":"\u6570\u636e\u5e93\u8303\u5f0f","text":"<ul> <li>\u7b2c\u4e00\u8303\u5f0f\uff1a\u5217\u4e0d\u53ef\u5206\uff0ceg:\u3010\u8054\u7cfb\u4eba\u3011\uff08\u59d3\u540d\uff0c\u6027\u522b\uff0c\u7535\u8bdd\uff09\uff0c\u4e00\u4e2a\u8054\u7cfb\u4eba\u6709\u5bb6\u5ead\u7535\u8bdd\u548c\u516c\u53f8\u7535\u8bdd\uff0c\u90a3\u4e48\u8fd9\u79cd\u8868\u7ed3\u6784\u8bbe\u8ba1\u5c31\u6ca1\u6709\u8fbe\u5230 1NF\uff1b</li> <li>\u7b2c\u4e8c\u8303\u5f0f\uff1a\u6709\u4e3b\u952e\uff0c\u4fdd\u8bc1\u5b8c\u5168\u4f9d\u8d56\u3002eg:\u8ba2\u5355\u660e\u7ec6\u8868\u3010OrderDetail\u3011\uff08OrderID\uff0cProductID\uff0cUnitPrice\uff0cDiscount\uff0cQuantity\uff0cProductName\uff09\uff0cDiscount\uff08\u6298\u6263\uff09\uff0cQuantity\uff08\u6570\u91cf\uff09\u5b8c\u5168\u4f9d\u8d56\uff08\u53d6\u51b3\uff09\u4e8e\u4e3b\u952e\uff08OderID\uff0cProductID\uff09\uff0c\u800c UnitPrice\uff0cProductName \u53ea\u4f9d\u8d56\u4e8e ProductID\uff0c\u4e0d\u7b26\u54082NF\uff1b</li> <li>\u7b2c\u4e09\u8303\u5f0f\uff1a\u65e0\u4f20\u9012\u4f9d\u8d56 (\u975e\u4e3b\u952e\u5217 A \u4f9d\u8d56\u4e8e\u975e\u4e3b\u952e\u5217B\uff0c\u975e\u4e3b\u952e\u5217 B \u4f9d\u8d56\u4e8e\u4e3b\u952e\u7684\u60c5\u51b5)\uff0ceg: \u8ba2\u5355\u8868\u3010Order\u3011\uff08OrderID\uff0cOrderDate\uff0cCustomerID\uff0cCustomerName\uff0cCustomerAddr\uff0cCustomerCity\uff09\u4e3b\u952e\u662f\uff08OrderID\uff09\uff0cCustomerName\uff0cCustomerAddr\uff0cCustomerCity\u76f4\u63a5\u4f9d\u8d56\u7684\u662f CustomerID\uff08\u975e\u4e3b\u952e\u5217\uff09\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u4f9d\u8d56\u4e8e\u4e3b\u952e\uff0c\u5b83\u662f\u901a\u8fc7\u4f20\u9012\u624d\u4f9d\u8d56\u4e8e\u4e3b\u952e\uff0c\u6240\u4ee5\u4e0d\u7b26\u5408 3NF\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_60","title":"\u89c6\u56fe","text":"<ul> <li>\u89c6\u56fe\u662f\u4e00\u79cd\u865a\u62df\u7684\u8868\uff0c\u901a\u5e38\u662f\u6709\u4e00\u4e2a\u8868\u6216\u8005\u591a\u4e2a\u8868\u7684\u884c\u6216\u5217\u7684\u5b50\u96c6\uff0c\u5177\u6709\u548c\u7269\u7406\u8868\u76f8\u540c\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u5bf9\u89c6\u56fe\u8fdb\u884c\u589e\uff0c\u5220\uff0c\u6539\uff0c\u67e5\u7b49\u64cd\u4f5c\u3002\u7279\u522b\u5730\uff0c\u5bf9\u89c6\u56fe\u7684\u4fee\u6539\u4e0d\u5f71\u54cd\u57fa\u672c\u8868\u3002\u76f8\u6bd4\u591a\u8868\u67e5\u8be2\uff0c\u5b83\u4f7f\u5f97\u6211\u4eec\u83b7\u53d6\u6570\u636e\u66f4\u5bb9\u6613\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_61","title":"\u6e38\u6807","text":"<ul> <li>\u6e38\u6807\u662f\u5bf9\u67e5\u8be2\u51fa\u6765\u7684\u7ed3\u679c\u96c6\u4f5c\u4e3a\u4e00\u4e2a\u5355\u5143\u6765\u6709\u6548\u7684\u5904\u7406\u3002\u6e38\u6807\u53ef\u4ee5\u5b9a\u5728\u8be5\u5355\u5143\u4e2d\u7684\u7279\u5b9a\u884c\uff0c\u4ece\u7ed3\u679c\u96c6\u7684\u5f53\u524d\u884c\u68c0\u7d22\u4e00\u884c\u6216\u591a\u884c\uff0c\u53ef\u4ee5\u5bf9\u7ed3\u679c\u96c6\u5f53\u524d\u884c\u505a\u4fee\u6539\u3002\u4e00\u822c\u4e0d\u4f7f\u7528\u6e38\u6807\uff0c\u4f46\u662f\u9700\u8981\u9010\u6761\u5904\u7406\u6570\u636e\u7684\u65f6\u5019\uff0c\u6e38\u6807\u663e\u5f97\u5341\u5206\u91cd\u8981\u3002 MySQL \u68c0\u7d22\u64cd\u4f5c\u8fd4\u56de\u4e00\u7ec4\u79f0\u4e3a\u7ed3\u679c\u96c6\u7684\u884c\uff0c\u8fd9\u7ec4\u8fd4\u56de\u7684\u884c\u90fd\u662f\u4e0e SQL \u8bed\u53e5\u76f8\u5339\u914d\u7684\u884c\uff08\u96f6\u884c\u6216\u591a\u884c\uff09\uff0c\u4f7f\u7528\u7b80\u5355\u7684 SELECT \u8bed\u53e5\uff0c\u4e0d\u5b58\u5728\u6bcf\u6b21\u4e00\u884c\u5730\u5904\u7406\u6240\u6709\u884c\u7684\u7b80\u5355\u65b9\u6cd5\uff08\u76f8\u5bf9\u4e8e\u6210\u6279\u5730\u5904\u7406\u5b83\u4eec\uff09\u3002\u6709\u65f6\u9700\u8981\u5728\u68c0\u7d22\u51fa\u6765\u7684\u884c\u4e2d\u524d\u8fdb\u6216\u540e\u9000\u4e00\u884c\u6216\u591a\u884c\uff0c\u8fd9\u5c31\u662f\u4f7f\u7528\u6e38\u6807\u7684\u539f\u56e0\u3002\u6e38\u6807\uff08cursor\uff09\u662f\u4e00\u4e2a\u5b58\u50a8\u5728 MySQL \u670d\u52a1\u5668\u4e0a\u7684\u6570\u636e\u5e93\u67e5\u8be2\uff0c\u5b83\u4e0d\u662f\u4e00\u6761 SELECT \u8bed\u53e5\uff0c\u800c\u662f\u88ab\u8be5\u8bed\u53e5\u68c0\u7d22\u51fa\u6765\u7684\u7ed3\u679c\u96c6\u3002\u5728\u5b58\u50a8\u4e86\u6e38\u6807\u4e4b\u540e\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u6839\u636e\u9700\u8981\u6eda\u52a8\u6216\u6d4f\u89c8\u5176\u4e2d\u7684\u6570\u636e\u3002\u6e38\u6807\u4e3b\u8981\u7528\u4e8e\u4ea4\u4e92\u5f0f\u5e94\u7528\uff0c\u5176\u4e2d\u7528\u6237\u9700\u8981\u6eda\u52a8\u5c4f\u5e55\u4e0a\u7684\u6570\u636e\uff0c\u5e76\u5bf9\u6570\u636e\u8fdb\u884c\u6d4f\u89c8\u6216\u505a\u51fa\u66f4\u6539\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_62","title":"\u89e6\u53d1\u5668","text":"<ul> <li>\u89e6\u53d1\u5668\u662f\u4e0e\u8868\u76f8\u5173\u7684\u6570\u636e\u5e93\u5bf9\u8c61\uff0c\u5728\u6ee1\u8db3\u5b9a\u4e49\u6761\u4ef6\u65f6\u89e6\u53d1\uff0c\u5e76\u6267\u884c\u89e6\u53d1\u5668\u4e2d\u5b9a\u4e49\u7684\u8bed\u53e5\u96c6\u5408\u3002\u89e6\u53d1\u5668\u7684\u8fd9\u79cd\u7279\u6027\u53ef\u4ee5\u534f\u52a9\u5e94\u7528\u5728\u6570\u636e\u5e93\u7aef\u786e\u4fdd\u6570\u636e\u5e93\u7684\u5b8c\u6574\u6027\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_63","title":"\u5b58\u50a8\u8fc7\u7a0b","text":"<ul> <li>\u5b58\u50a8\u8fc7\u7a0b\u662f\u4e8b\u5148\u7ecf\u8fc7\u7f16\u8bd1\u5e76\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\u7684\u4e00\u6bb5 SQL\u8bed\u53e5\u7684\u96c6\u5408\u3002\u5b58\u50a8\u8fc7\u7a0b\u662f\u7531\u4e00\u4e9b T-SQL \u8bed\u53e5\u7ec4\u6210\u7684\u4ee3\u7801\u5757\uff0c\u8fd9\u4e9b T-SQL \u8bed\u53e5\u4ee3\u7801\u50cf\u4e00\u4e2a\u65b9\u6cd5\u4e00\u6837\u5b9e\u73b0\u4e00\u4e9b\u529f\u80fd\uff08\u5bf9\u5355\u8868\u6216\u591a\u8868\u7684\u589e\u5220\u6539\u67e5\uff09\uff0c\u7136\u540e\u518d\u7ed9\u8fd9\u4e2a\u4ee3\u7801\u5757\u53d6\u4e00\u4e2a\u540d\u5b57\uff0c\u5728\u7528\u5230\u8fd9\u4e2a\u529f\u80fd\u7684\u65f6\u5019\u8c03\u7528\u4ed6\u5c31\u884c\u4e86\u3002\u5b58\u50a8\u8fc7\u7a0b\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a<ul> <li>\u5b58\u50a8\u8fc7\u7a0b\u53ea\u5728\u521b\u5efa\u65f6\u8fdb\u884c\u7f16\u8bd1\uff0c\u4ee5\u540e\u6bcf\u6b21\u6267\u884c\u5b58\u50a8\u8fc7\u7a0b\u90fd\u4e0d\u9700\u518d\u91cd\u65b0\u7f16\u8bd1\uff0c\u800c\u4e00\u822c SQL \u8bed\u53e5\u6bcf\u6267\u884c\u4e00\u6b21\u5c31\u7f16\u8bd1\u4e00\u6b21\uff0c\u6240\u4ee5\u4f7f\u7528\u5b58\u50a8\u8fc7\u7a0b\u53ef\u63d0\u9ad8\u6570\u636e\u5e93\u6267\u884c\u6548\u7387\uff1b</li> <li>\u5f53 SQL \u8bed\u53e5\u6709\u53d8\u52a8\u65f6\uff0c\u53ef\u4ee5\u53ea\u4fee\u6539\u6570\u636e\u5e93\u4e2d\u7684\u5b58\u50a8\u8fc7\u7a0b\u800c\u4e0d\u5fc5\u4fee\u6539\u4ee3\u7801\uff1b</li> <li>\u51cf\u5c11\u7f51\u7edc\u4f20\u8f93\uff0c\u5728\u5ba2\u6237\u7aef\u8c03\u7528\u4e00\u4e2a\u5b58\u50a8\u8fc7\u7a0b\u5f53\u7136\u6bd4\u6267\u884c\u4e00\u4e32 SQL \u4f20\u8f93\u7684\u6570\u636e\u91cf\u8981\u5c0f\uff1b</li> <li>\u901a\u8fc7\u5b58\u50a8\u8fc7\u7a0b\u80fd\u591f\u4f7f\u6ca1\u6709\u6743\u9650\u7684\u7528\u6237\u5728\u63a7\u5236\u4e4b\u4e0b\u95f4\u63a5\u5730\u5b58\u53d6\u6570\u636e\u5e93\uff0c\u4ece\u800c\u786e\u4fdd\u6570\u636e\u7684\u5b89\u5168\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#mysql","title":"MySQL \u57fa\u7840\u95ee\u9898","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#sql","title":"\u5e38\u7528 SQL \u8bed\u53e5","text":"<ul> <li>\u5185\u8fde\u63a5\uff0c\u5de6\u8fde\u63a5\uff0c\u5168\u8fde\u63a5</li> <li>union \u548cunion all\u7684\u533a\u522b\uff1aunion\u4f1a\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u5904\u7406\u6392\u9664\u6389\u76f8\u540c\u7684\u7ed3\u679c\uff0cunion all \u4e0d\u4f1a\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u5904\u7406\uff0c\u4e0d\u4f1a\u5904\u7406\u6389\u76f8\u540c\u7684\u7ed3\u679c\u3002</li> <li>MySQL \u5e38\u7528\u6570\u636e\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u3001\u6570\u503c\u3001\u65e5\u671f</li> <li>\u6570\u636e\u5e93\u67e5\u8be2\u8bed\u8a00\u5206\u7c7b<ul> <li>DQL\uff08Data Query Language\uff09\u6570\u636e\u67e5\u8be2\u8bed\u8a00DQL\u7531SELECT\u5b50\u53e5\uff0cFROM\u5b50\u53e5\uff0cWHERE\u5b50\u53e5\u7ec4\u6210</li> <li>DML\uff08Data Manipulation Language\uff09\u6570\u636e\u64cd\u7eb5\u8bed\u8a00DML\u5305\u542bINSERT\uff0cUPDATE\uff0cDELETE</li> <li>DDL\uff08Data Definition Language\uff09\u6570\u636e\u5b9a\u4e49\u8bed\u8a00DDL\u7528\u6765\u521b\u5efa\u6570\u636e\u5e93\u4e2d\u7684\u5404\u79cd\u5bf9\u8c61-----\u8868\u3001\u89c6\u56fe\u3001 \u7d22\u5f15\u3001\u540c\u4e49\u8bcd\u3001\u805a\u7c07\u7b49\uff0c\u5982\uff1aCREATE TABLE/VIEW/INDEX/SYN/CLUSTER\u3002DDL\u64cd\u4f5c\u662f\u9690\u6027\u63d0\u4ea4\u7684\uff01\u4e0d\u80fdrollback</li> <li>DCL\uff08Data Control Language\uff09\u6570\u636e\u63a7\u5236\u8bed\u8a00\uff08DCL\uff09\u662f\u7528\u6765\u8bbe\u7f6e\u6216\u8005\u66f4\u6539\u6570\u636e\u5e93\u7528\u6237\u6216\u89d2\u8272\u6743\u9650\u7684\u8bed\u53e5\uff0c\u8fd9\u4e9b\u8bed\u53e5\u5305\u62ecGRANT\u3001DENY\u3001REVOKE\u7b49\u8bed\u53e5\uff0c\u5728\u9ed8\u8ba4\u72b6\u6001\u4e0b\uff0c\u53ea\u6709sysadmin\u3001dbcreator\u3001db_owner\u6216db_securityadmin\u7b49\u89d2\u8272\u7684\u6210\u5458\u624d\u6709\u6743\u5229\u6267\u884c\u6570\u636e\u63a7\u5236\u8bed\u8a00\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#innot_inexistsnot_exists","title":"in\u4e0enot in,exists\u4e0enot exists\u7684\u533a\u522b","text":"<ul> <li>exist\u4f1a\u9488\u5bf9\u5b50\u67e5\u8be2\u7684\u8868\u4f7f\u7528\u7d22\u5f15</li> <li>not exist\u4f1a\u5bf9\u4e3b\u5b50\u67e5\u8be2\u90fd\u4f1a\u4f7f\u7528\u7d22\u5f15</li> <li>in\u4e0e\u5b50\u67e5\u8be2\u4e00\u8d77\u4f7f\u7528\u7684\u65f6\u5019,\u53ea\u9488\u5bf9\u4e3b\u67e5\u8be2\u4f7f\u7528\u7d22\u5f15</li> <li>not in\u5219\u4e0d\u4f1a\u4f7f\u7528\u4efb\u4f55\u7d22\u5f15</li> <li>\u5982\u679c\u67e5\u8be2\u7684\u4e24\u4e2a\u8868\u5927\u5c0f\u76f8\u5f53\uff0c\u90a3\u4e48\u7528in\u548cexists\u5dee\u522b\u4e0d\u5927\uff1b\u5982\u679c\u4e24\u4e2a\u8868\u4e2d\u4e00\u4e2a\u8f83\u5c0f\u4e00\u4e2a\u8f83\u5927\uff0c\u5219\u5b50\u67e5\u8be2\u8868\u5927\u7684\u7528exists\uff0c\u5b50\u67e5\u8be2\u8868\u5c0f\u7684\u7528in\uff0c\u6240\u4ee5\u65e0\u8bba\u54ea\u4e2a\u8868\u5927\uff0c\u7528not exists\u90fd\u6bd4not in \u8981\u5feb\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#dropdelete_truncate","title":"drop\u3001delete \u4e0e truncate \u7684\u533a\u522b","text":"<ul> <li>delete \u7528\u6765\u5220\u9664\u8868\u7684\u5168\u90e8\u6216\u8005\u4e00\u90e8\u5206\u6570\u636e\u884c\uff0c\u6267\u884cdelete \u4e4b\u540e\uff0c\u7528\u6237\u9700\u8981\u63d0\u4ea4 (commmit) \u6216\u8005\u56de\u6eda(rollback) \u6765\u6267\u884c\u5220\u9664\u6216\u8005\u64a4\u9500\u5220\u9664\uff0c delete \u547d\u4ee4\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u8868\u4e0a\u6240\u6709delete \u89e6\u53d1\u5668\uff1b</li> <li>truncate \u5220\u9664\u8868\u4e2d\u7684\u6240\u6709\u6570\u636e\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u4e0d\u80fd\u56de\u6eda\uff0c\u4e5f\u4e0d\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u8868\u4e0a\u7684\u89e6\u53d1\u5668\uff0ctruncate \u6bd4 delete \u66f4\u5feb\uff0c\u5360\u7528\u7684\u7a7a\u95f4\u66f4\u5c0f\uff1b</li> <li>drop \u547d\u4ee4\u4ece\u6570\u636e\u5e93\u4e2d\u5220\u9664\u8868\uff0c\u6240\u6709\u7684\u6570\u636e\u884c\uff0c\u7d22\u5f15\u548c\u6743\u9650\u4e5f\u4f1a\u88ab\u5220\u9664\uff0c\u6240\u6709\u7684 DML \u89e6\u53d1\u5668\u4e5f\u4e0d\u4f1a\u88ab\u89e6\u53d1\uff0c\u8fd9\u4e2a\u547d\u4ee4\u4e5f\u4e0d\u80fd\u56de\u6eda\u3002</li> <li>\u56e0\u6b64\uff0c\u5728\u4e0d\u518d\u9700\u8981\u4e00\u5f20\u8868\u7684\u65f6\u5019\uff0c\u7528 drop\uff1b\u5728\u60f3\u5220\u9664\u90e8\u5206\u6570\u636e\u884c\u65f6\u5019\uff0c\u7528 delete\uff1b\u5728\u4fdd\u7559\u8868\u800c\u5220\u9664\u6240\u6709\u6570\u636e\u7684\u65f6\u5019\u7528 truncate\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_64","title":"\u6570\u636e\u5e93\u4e8b\u52a1","text":"<ul> <li>\u4e8b\u52a1\u662f\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u6570\u636e\u5e93\u64cd\u4f5c\u5e8f\u5217\uff0c\u4e5f\u662f\u6570\u636e\u5e93\u5e76\u53d1\u63a7\u5236\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u5176\u6267\u884c\u7684\u7ed3\u679c\u5fc5\u987b\u4f7f\u6570\u636e\u5e93\u4ece\u4e00\u79cd\u4e00\u81f4\u6027\u72b6\u6001\u53d8\u5230\u53e6\u4e00\u79cd\u4e00\u81f4\u6027\u72b6\u6001\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#acid","title":"\u4e8b\u52a1\u7684\u7279\u5f81(ACID)","text":"<ul> <li>\u539f\u5b50\u6027 (Atomicity)\uff1a\u4e8b\u52a1\u6240\u5305\u542b\u7684\u4e00\u7cfb\u5217\u6570\u636e\u5e93\u64cd\u4f5c\u8981\u4e48\u5168\u90e8\u6210\u529f\u6267\u884c\uff0c\u8981\u4e48\u5168\u90e8\u56de\u6eda\uff1b</li> <li>\u4e00\u81f4\u6027 (Consistency)\uff1a\u4e8b\u52a1\u7684\u6267\u884c\u7ed3\u679c\u5fc5\u987b\u4f7f\u6570\u636e\u5e93\u4ece\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\u5230\u53e6\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\uff1b</li> <li>\u9694\u79bb\u6027 (Isolation)\uff1a\u5e76\u53d1\u6267\u884c\u7684\u4e8b\u52a1\u4e4b\u95f4\u4e0d\u80fd\u76f8\u4e92\u5f71\u54cd\uff1b</li> <li>\u6301\u4e45\u6027 (Durability)\uff1a\u4e8b\u52a1\u4e00\u65e6\u63d0\u4ea4\uff0c\u5bf9\u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684\u6539\u53d8\u662f\u6c38\u4e45\u6027\u7684\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_65","title":"\u4e8b\u52a1\u5e76\u53d1\u5e26\u6765\u7684\u95ee\u9898","text":"<ul> <li>\u810f\u8bfb\uff1a\u4e00\u4e2a\u4e8b\u52a1\u8bfb\u53d6\u4e86\u53e6\u4e00\u4e2a\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u6570\u636e\uff1b\uff08eg\uff1a\u4e8b\u52a1A\uff1a\u5f20\u4e09\u59bb\u5b50\u7ed9\u5f20\u4e09\u8f6c\u8d26100\u5143\u3002\u4e8b\u52a1B\uff1a\u5f20\u4e09\u67e5\u8be2\u4f59\u989d\u3002\u4e8b\u52a1A\u8f6c\u8d26\u540e\uff08\u8fd8\u672a\u63d0\u4ea4\uff09\uff0c\u4e8b\u52a1B\u67e5\u8be2\u591a\u4e86100\u5143\u3002\u4e8b\u52a1A\u7531\u4e8e\u67d0\u79cd\u95ee\u9898\uff0c\u6bd4\u5982\u8d85\u65f6\uff0c\u8fdb\u884c\u56de\u6eda\u3002\u4e8b\u52a1B\u67e5\u8be2\u5230\u7684\u6570\u636e\u662f\u5047\u6570\u636e\u3002\uff09</li> <li>\u4e0d\u53ef\u91cd\u590d\u8bfb\uff1a\u4e0d\u53ef\u91cd\u590d\u8bfb\u7684\u91cd\u70b9\u662f\u4fee\u6539\uff0c\u540c\u6837\u6761\u4ef6\u4e0b\u4e24\u6b21\u8bfb\u53d6\u7ed3\u679c\u4e0d\u540c\uff1b\uff08eg\uff1a\u4e8b\u52a1A\uff1a\u5f20\u4e09\u59bb\u5b50\u7ed9\u5f20\u4e09\u8f6c\u8d26100\u5143\u3002\u4e8b\u52a1B\uff1a\u5f20\u4e09\u4e24\u6b21\u67e5\u8be2\u4f59\u989d\u3002\u4e8b\u52a1B\u7b2c\u4e00\u6b21\u67e5\u8be2\u4f59\u989d\uff0c\u4e8b\u52a1A\u8fd8\u6ca1\u6709\u8f6c\u8d26\uff0c\u7b2c\u4e8c\u6b21\u67e5\u8be2\u4f59\u989d\uff0c\u4e8b\u52a1A\u5df2\u7ecf\u8f6c\u8d26\u4e86\uff0c\u5bfc\u81f4\u4e00\u4e2a\u4e8b\u52a1\u4e2d\uff0c\u4e24\u6b21\u8bfb\u53d6\u540c\u4e00\u4e2a\u6570\u636e\uff0c\u8bfb\u53d6\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u3002\uff09</li> <li>\u5e7b\u8bfb\uff1a\u5e7b\u8bfb\u7684\u91cd\u70b9\u5728\u4e8e\u65b0\u589e\u6216\u8005\u5220\u9664\uff0c\u4e00\u4e2a\u4e8b\u52a1\u4e24\u6b21\u8bfb\u53d6\u4e00\u4e2a\u8303\u56f4\u7684\u8bb0\u5f55\uff0c\u4e24\u6b21\u8bfb\u53d6\u7684\u8bb0\u5f55\u6570\u4e0d\u4e00\u81f4\u3002\uff08eg\uff1a\u4e8b\u52a1A\uff1a\u5f20\u4e09\u59bb\u5b50\u4e24\u6b21\u67e5\u8be2\u5f20\u4e09\u6709\u51e0\u5f20\u94f6\u884c\u5361\u3002\u4e8b\u52a1B\uff1a\u5f20\u4e09\u65b0\u529e\u4e00\u5f20\u94f6\u884c\u5361\u3002\u4e8b\u52a1A\u7b2c\u4e00\u6b21\u67e5\u8be2\u94f6\u884c\u5361\u6570\u7684\u65f6\u5019\uff0c\u5f20\u4e09\u8fd8\u6ca1\u6709\u65b0\u529e\u94f6\u884c\u5361\uff0c\u7b2c\u4e8c\u6b21\u67e5\u8be2\u94f6\u884c\u5361\u6570\u7684\u65f6\u5019\uff0c\u5f20\u4e09\u5df2\u7ecf\u65b0\u529e\u4e86\u4e00\u5f20\u94f6\u884c\u5361\uff0c\u5bfc\u81f4\u4e24\u6b21\u8bfb\u53d6\u7684\u94f6\u884c\u5361\u6570\u4e0d\u4e00\u6837\u3002\uff09</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_66","title":"\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b","text":"<ul> <li>\u53c2\u8003\u6570\u636e\u5e93\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b-- \u810f\u8bfb\u3001\u5e7b\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\uff08\u6e05\u6670\u89e3\u91ca\uff09</li> <li>\u6570\u636e\u5e93\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b\u67094\u4e2a\uff0c\u7531\u4f4e\u5230\u9ad8\u4f9d\u6b21\u4e3aRead uncommitted \u3001Read committed \u3001Repeatable read \u3001Serializable\uff08\u6700\u9ad8\u7ea7\u522b\u7684\u9694\u79bb\uff0c\u53ea\u5141\u8bb8\u4e8b\u52a1\u4e32\u884c\u6267\u884c\u3002\uff09\uff0c\u540e\u4e09\u4e2a\u7ea7\u522b\u53ef\u4ee5\u9010\u4e2a\u89e3\u51b3\u810f\u8bfb \u3001\u4e0d\u53ef\u91cd\u590d\u8bfb \u3001\u5e7b\u8bfb\u8fd9\u51e0\u7c7b\u95ee\u9898\uff0cMySQL \u7684 InnoDB\u5b58\u50a8\u5f15\u64ce\u90fd\u652f\u6301\uff0cMySQL \u9ed8\u8ba4\u7684\u9694\u79bb\u7ea7\u522b\u662f Repeatable read\u3002 </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#mysql_1","title":"MySQL \u7684\u4e8b\u52a1\u652f\u6301","text":"<ul> <li>MySQL \u7684\u4e8b\u52a1\u652f\u6301\u4e0d\u662f\u7ed1\u5b9a\u5728 MySQL \u670d\u52a1\u5668\u672c\u8eab\uff0c\u800c\u662f\u4e0e\u5b58\u50a8\u5f15\u64ce\u76f8\u5173\uff1a<ul> <li>MyISAM\uff1a\u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u7528\u4e8e\u53ea\u8bfb\u7a0b\u5e8f\u63d0\u9ad8\u6027\u80fd\uff1b</li> <li>InnoDB\uff1a\u652f\u6301 ACID \u4e8b\u52a1\u3001\u884c\u7ea7\u9501\u3001\u5e76\u53d1\uff1b</li> <li>Berkeley DB\uff1a\u652f\u6301\u4e8b\u52a1\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_67","title":"\u6570\u636e\u5e93\u7d22\u5f15","text":"<ul> <li>\u7d22\u5f15\u662f\u5bf9\u6570\u636e\u5e93\u8868\u4e2d\u4e00\u4e2a\u6216\u591a\u4e2a\u5217\u7684\u503c\u8fdb\u884c\u6392\u5e8f\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4ee5\u534f\u52a9\u5feb\u901f\u67e5\u8be2\u3001\u66f4\u65b0\u6570\u636e\u5e93\u8868\u4e2d\u6570\u636e\u3002\u7d22\u5f15\u7684\u5b9e\u73b0\u901a\u5e38\u4f7f\u7528 B\u6811\u548cB+\u6811\uff0c\u7d22\u5f15\u52a0\u901f\u4e86\u6570\u636e\u8bbf\u95ee\uff0c\u56e0\u4e3a\u5b58\u50a8\u5f15\u64ce\u4e0d\u4f1a\u518d\u53bb\u626b\u63cf\u6574\u5f20\u8868\u5f97\u5230\u9700\u8981\u7684\u6570\u636e\uff1b\u76f8\u53cd\uff0c\u5b83\u4ece\u6839\u8282\u70b9\u5f00\u59cb\uff0c\u6839\u8282\u70b9\u4fdd\u5b58\u4e86\u5b50\u8282\u70b9\u7684\u6307\u9488\uff0c\u5b58\u50a8\u5f15\u64ce\u4f1a\u6839\u636e\u6307\u9488\u5feb\u901f\u5bfb\u627e\u6570\u636e\u3002</li> <li>\u5728\u6570\u636e\u7ed3\u6784\u4e2d\uff0c\u6211\u4eec\u6700\u4e3a\u5e38\u89c1\u7684\u641c\u7d22\u7ed3\u6784\u5c31\u662f\u4e8c\u53c9\u641c\u7d22\u6811\u548c AVL \u6811 (\u9ad8\u5ea6\u5e73\u8861\u7684\u4e8c\u53c9\u641c\u7d22\u6811\uff0c\u4e3a\u4e86\u63d0\u9ad8\u4e8c\u53c9\u641c\u7d22\u6811\u7684\u6548\u7387\uff0c\u51cf\u5c11\u6811\u7684\u5e73\u5747\u641c\u7d22\u957f\u5ea6) \u4e86\u3002\u7136\u800c\uff0c\u65e0\u8bba\u4e8c\u53c9\u641c\u7d22\u6811\u8fd8\u662f AVL \u6811\uff0c\u5f53\u6570\u636e\u91cf\u6bd4\u8f83\u5927\u65f6\uff0c\u90fd\u4f1a\u7531\u4e8e\u6811\u7684\u6df1\u5ea6\u8fc7\u5927\u800c\u9020\u6210 I/O \u8bfb\u5199\u8fc7\u4e8e\u9891\u7e41\uff0c\u8fdb\u800c\u5bfc\u81f4\u67e5\u8be2\u6548\u7387\u4f4e\u4e0b\uff0c\u56e0\u6b64\u5bf9\u4e8e\u7d22\u5f15\u800c\u8a00\uff0cB \u6811\uff08\u5e73\u8861\u591a\u8def\u67e5\u627e\u6811\uff09\u5404\u64cd\u4f5c\u80fd\u4f7f B \u6811\u4fdd\u6301\u8f83\u4f4e\u7684\u9ad8\u5ea6\uff0c\u4ece\u800c\u4fdd\u8bc1\u9ad8\u6548\u7684\u67e5\u627e\u6548\u7387\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_68","title":"\u7d22\u5f15\u7684\u4f18\u70b9\u548c\u7f3a\u70b9","text":"<ul> <li>\u4f18\u70b9<ul> <li>\u5927\u5927\u52a0\u5feb\u6570\u636e\u7684\u68c0\u7d22\u901f\u5ea6\uff0c\u8fd9\u4e5f\u662f\u521b\u5efa\u7d22\u5f15\u7684\u6700\u4e3b\u8981\u7684\u539f\u56e0\uff1b</li> <li>\u52a0\u901f\u8868\u548c\u8868\u4e4b\u95f4\u7684\u8fde\u63a5\uff1b</li> <li>\u5728\u4f7f\u7528\u5206\u7ec4\u548c\u6392\u5e8f\u5b50\u53e5\u8fdb\u884c\u6570\u636e\u68c0\u7d22\u65f6\uff0c\u540c\u6837\u53ef\u4ee5\u663e\u8457\u51cf\u5c11\u67e5\u8be2\u4e2d\u5206\u7ec4\u548c\u6392\u5e8f\u7684\u65f6\u95f4\uff1b</li> <li>\u901a\u8fc7\u521b\u5efa\u552f\u4e00\u6027\u7d22\u5f15\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u5e93\u8868\u4e2d\u6bcf\u4e00\u884c\u6570\u636e\u7684\u552f\u4e00\u6027\uff1b</li> </ul> </li> <li>\u7f3a\u70b9<ul> <li>\u65f6\u95f4\u65b9\u9762\uff1a\u521b\u5efa\u7d22\u5f15\u548c\u7ef4\u62a4\u7d22\u5f15\u8981\u8017\u8d39\u65f6\u95f4\uff0c\u5177\u4f53\u5730\u5bf9\u8868\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u589e\u52a0\u3001\u5220\u9664\u548c\u4fee\u6539\u7684\u65f6\u5019\uff0c\u7d22\u5f15\u4e5f\u8981\u52a8\u6001\u7684\u7ef4\u62a4\uff0c\u8fd9\u6837\u5c31\u964d\u4f4e\u4e86\u6570\u636e\u7684\u7ef4\u62a4\u901f\u5ea6\uff1b</li> <li>\u7a7a\u95f4\u65b9\u9762\uff1a\u7d22\u5f15\u9700\u8981\u5360\u7269\u7406\u7a7a\u95f4\uff1b</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#b_b","title":"B \u6811\u548c B+ \u6811","text":"<ul> <li>\u53c2\u8003\u91cd\u6e29\u6570\u636e\u7ed3\u6784\uff1a\u7406\u89e3 B \u6811\u3001B+ \u6811\u7279\u70b9\u53ca\u4f7f\u7528\u573a\u666f</li> <li>B+ \u6811\u76f8\u6bd4 B \u6811\u7684\u4f18\u52bf<ul> <li>B+ \u6811\u7684\u78c1\u76d8\u8bfb\u5199\u4ee3\u4ef7\u66f4\u4f4e\uff1aB+\u6811\u7684\u5185\u90e8\u7ed3\u70b9\u5e76\u6ca1\u6709\u6307\u5411\u5173\u952e\u5b57\u5177\u4f53\u4fe1\u606f\u7684\u6307\u9488\uff0c\u56e0\u6b64\u5176\u5185\u90e8\u7ed3\u70b9\u76f8\u5bf9 B \u6811\u66f4\u5c0f\u3002\u5982\u679c\u628a\u6240\u6709\u540c\u4e00\u5185\u90e8\u7ed3\u70b9\u7684\u5173\u952e\u5b57\u5b58\u653e\u5728\u540c\u4e00\u76d8\u5757\u4e2d\uff0c\u90a3\u4e48\u76d8\u5757\u6240\u80fd\u5bb9\u7eb3\u7684\u5173\u952e\u5b57\u6570\u91cf\u4e5f\u8d8a\u591a\u3002\u4e00\u6b21\u6027\u8bfb\u5165\u5185\u5b58\u4e2d\u7684\u9700\u8981\u67e5\u627e\u7684\u5173\u952e\u5b57\u4e5f\u5c31\u8d8a\u591a\uff0c\u76f8\u5bf9\u6765\u8bf4 IO \u8bfb\u5199\u6b21\u6570\u4e5f\u5c31\u964d\u4f4e\u4e86\uff1b</li> <li>B+ \u6811\u7684\u67e5\u8be2\u6548\u7387\u66f4\u52a0\u7a33\u5b9a\uff1a\u7531\u4e8e\u5185\u90e8\u7ed3\u70b9\u5e76\u4e0d\u662f\u6700\u7ec8\u6307\u5411\u6587\u4ef6\u5185\u5bb9\u7684\u7ed3\u70b9\uff0c\u800c\u53ea\u662f\u53f6\u5b50\u7ed3\u70b9\u4e2d\u5173\u952e\u5b57\u7684\u7d22\u5f15\uff0c\u6240\u4ee5\uff0c\u4efb\u4f55\u5173\u952e\u5b57\u7684\u67e5\u627e\u5fc5\u987b\u8d70\u4e00\u6761\u4ece\u6839\u7ed3\u70b9\u5230\u53f6\u5b50\u7ed3\u70b9\u7684\u8def\u3002\u6240\u6709\u5173\u952e\u5b57\u67e5\u8be2\u7684\u8def\u5f84\u957f\u5ea6\u76f8\u540c\uff0c\u5bfc\u81f4\u6bcf\u4e00\u4e2a\u6570\u636e\u7684\u67e5\u8be2\u6548\u7387\u76f8\u5f53\uff1b</li> <li>B+ \u6811\u53ea\u8981\u904d\u5386\u53f6\u5b50\u8282\u70b9\u5c31\u53ef\u4ee5\u5b9e\u73b0\u6574\u68f5\u6811\u7684\u904d\u5386\uff0c\u800c\u4e14\u5728\u6570\u636e\u5e93\u4e2d\u57fa\u4e8e\u8303\u56f4\u7684\u67e5\u8be2\u662f\u975e\u5e38\u9891\u7e41\u7684\uff0c\u800c B \u6811\u53ea\u80fd\u4e2d\u5e8f\u904d\u5386\u6240\u6709\u8282\u70b9\uff0c\u6548\u7387\u592a\u4f4e\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_69","title":"\u7d22\u5f15\u7684\u5206\u7c7b","text":"<ul> <li>\u666e\u901a\u7d22\u5f15\u548c\u552f\u4e00\u6027\u7d22\u5f15\uff1a\u7d22\u5f15\u5217\u7684\u503c\u7684\u552f\u4e00\u6027</li> <li>\u4e3b\u952e\u7d22\u5f15\uff1a\u6307\u7684\u5c31\u662f\u4e3b\u952e\uff0c\u4e3b\u952e\u662f\u7d22\u5f15\u7684\u4e00\u79cd\uff0c\u662f\u552f\u4e00\u7d22\u5f15\u7684\u7279\u6b8a\u7c7b\u578b\uff08\uff08\u552f\u4e00\u7d22\u5f15\u5141\u8bb8\u7a7a\u503c\uff0c\u4e3b\u952e\u4e0d\u5141\u8bb8\u6709\u7a7a\u503c\uff09\u3002\u521b\u5efa\u4e3b\u952e\u7684\u65f6\u5019\uff0c\u6570\u636e\u5e93\u9ed8\u8ba4\u4f1a\u4e3a\u4e3b\u952e\u521b\u5efa\u4e00\u4e2a\u552f\u4e00\u7d22\u5f15\uff1bInnoDB \u4f5c\u4e3a MySQL \u5b58\u50a8\u5f15\u64ce\u65f6\uff0c\u9ed8\u8ba4\u6309\u7167\u4e3b\u952e\u8fdb\u884c\u805a\u96c6\uff0c\u5982\u679c\u6ca1\u6709\u5b9a\u4e49\u4e3b\u952e\uff0cInnoDB \u4f1a\u8bd5\u7740\u4f7f\u7528\u552f\u4e00\u7684\u975e\u7a7a\u7d22\u5f15\u6765\u4ee3\u66ff\u3002\u5982\u679c\u6ca1\u6709\u8fd9\u79cd\u7d22\u5f15\uff0cInnoDB \u5c31\u4f1a\u5b9a\u4e49\u9690\u85cf\u7684\u4e3b\u952e\u7136\u540e\u5728\u4e0a\u9762\u8fdb\u884c\u805a\u96c6\u3002\u6240\u4ee5\uff0c\u5bf9\u4e8e\u805a\u96c6\u7d22\u5f15\u6765\u8bf4\uff0c\u4f60\u521b\u5efa \u4e3b\u952e\u7684\u65f6\u5019\uff0c\u81ea\u52a8\u5c31\u521b\u5efa\u4e86\u4e3b\u952e\u7684\u805a\u96c6\u7d22\u5f15\u3002</li> <li>\u5355\u4e2a\u7d22\u5f15\u548c\u590d\u5408\u7d22\u5f15\uff1a\u7d22\u5f15\u5217\u6240\u5305\u542b\u7684\u5217\u6570</li> <li>\u805a\u96c6\u7d22\u5f15\u6309\u7167\u6570\u636e\u7684\u7269\u7406\u5b58\u50a8\u8fdb\u884c\u5212\u5206\u7684\u3002\u5bf9\u4e8e\u4e00\u5806\u8bb0\u5f55\u6765\u8bf4\uff0c\u4f7f\u7528\u805a\u96c6\u7d22\u5f15\u5c31\u662f\u5bf9\u8fd9\u5806\u8bb0\u5f55\u8fdb\u884c\u5806\u5212\u5206\uff0c\u5373\u4e3b\u8981\u63cf\u8ff0\u7684\u662f\u7269\u7406\u4e0a\u7684\u5b58\u50a8\u3002\u805a\u96c6\u7d22\u5f15\u53ef\u4ee5\u5e2e\u52a9\u628a\u5f88\u5927\u7684\u8303\u56f4\uff0c\u8fc5\u901f\u51cf\u5c0f\u8303\u56f4\uff0c\u7136\u540e\u67e5\u627e\u6307\u5b9a\u8bb0\u5f55\uff1b\u800c\u975e\u805a\u96c6\u7d22\u5f15\u662f\u628a\u4e00\u4e2a\u5f88\u5927\u7684\u8303\u56f4\uff0c\u8f6c\u6362\u6210\u4e00\u4e2a\u5c0f\u7684\u5730\u56fe\uff0c\u7136\u540e\u4f60\u9700\u8981\u5728\u8fd9\u4e2a\u5c0f\u5730\u56fe\u4e2d\u627e\u4f60\u8981\u5bfb\u627e\u7684\u4fe1\u606f\u7684\u4f4d\u7f6e\uff0c\u6700\u540e\u901a\u8fc7\u8fd9\u4e2a\u4f4d\u7f6e\uff0c\u518d\u53bb\u627e\u4f60\u6240\u9700\u8981\u7684\u8bb0\u5f55\u3002\u53c2\u8003\u81ea\u5feb\u901f\u7406\u89e3\u805a\u96c6\u7d22\u5f15\u548c\u975e\u805a\u96c6\u7d22\u5f15</li> <li>\u805a\u96c6\u548c\u975e\u805a\u96c6\u6307\uff1aB+\u6811\u53f6\u8282\u70b9\u5b58\u7684\u6307\u9488\u8fd8\u662f\u6570\u636e\u8bb0\u5f55\uff0cmyISAM \u975e\u805a\u96c6\uff08\u6307\u9488\uff09innoDB\u805a\u96c6\uff08\u6307\u9488+\u8bb0\u5f55\uff09</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#mysql_2","title":"MySQL \u4e2d\u7684\u9501","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_70","title":"\u4e50\u89c2\u9501\u548c\u60b2\u89c2\u9501","text":"<ul> <li>\u60b2\u89c2\u9501\u7684\u7279\u70b9\u662f\u5148\u83b7\u53d6\u9501\uff0c\u518d\u8fdb\u884c\u4e1a\u52a1\u64cd\u4f5c\uff0c\u5373 \u201c\u60b2\u89c2\u201d \u7684\u8ba4\u4e3a\u6240\u6709\u7684\u64cd\u4f5c\u5747\u4f1a\u5bfc\u81f4\u5e76\u53d1\u5b89\u5168\u95ee\u9898\uff0c\u56e0\u6b64\u8981\u5148\u786e\u4fdd\u83b7\u53d6\u9501\u6210\u529f\u518d\u8fdb\u884c\u4e1a\u52a1\u64cd\u4f5c\u3002\u901a\u5e38\u6765\u8bb2\uff0c\u5728\u6570\u636e\u5e93\u4e0a\u7684\u60b2\u89c2\u9501\u9700\u8981\u6570\u636e\u5e93\u672c\u8eab\u63d0\u4f9b\u652f\u6301\uff0c\u5373\u901a\u8fc7\u5e38\u7528\u7684 select \u2026 for update \u64cd\u4f5c\u6765\u5b9e\u73b0\u60b2\u89c2\u9501\u3002\u5f53\u6570\u636e\u5e93\u6267\u884c select \u2026 for update \u65f6\u4f1a\u83b7\u53d6\u88ab select \u4e2d\u7684\u6570\u636e\u884c\u7684\u884c\u9501\uff0c\u56e0\u6b64\u5176\u4ed6\u5e76\u53d1\u6267\u884c\u7684 select \u2026 for update \u5982\u679c\u8bd5\u56fe\u9009\u4e2d\u540c\u4e00\u884c\u5219\u4f1a\u53d1\u751f\u6392\u65a5\uff08\u9700\u8981\u7b49\u5f85\u884c\u9501\u88ab\u91ca\u653e\uff09\uff0c\u56e0\u6b64\u8fbe\u5230\u9501\u7684\u6548\u679c\u3002select for update \u83b7\u53d6\u7684\u884c\u9501\u4f1a\u5728\u5f53\u524d\u4e8b\u52a1\u7ed3\u675f\u65f6\u81ea\u52a8\u91ca\u653e\uff0c\u56e0\u6b64\u5fc5\u987b\u5728\u4e8b\u52a1\u4e2d\u4f7f\u7528\u3002\u53e6\u5916\u8fd8\u6709\u4e2a\u95ee\u9898\u662f: select\u2026 for update \u8bed\u53e5\u6267\u884c\u4e2d\u6240\u6709\u626b\u63cf\u8fc7\u7684\u884c\u90fd\u4f1a\u88ab\u9501\u4e0a\uff0c\u8fd9\u4e00\u70b9\u5f88\u5bb9\u6613\u9020\u6210\u95ee\u9898\u3002\u56e0\u6b64\uff0c\u5982\u679c\u5728 mysql \u4e2d\u7528\u60b2\u89c2\u9501\u52a1\u5fc5\u8981\u786e\u5b9a\u4f7f\u7528\u4e86\u7d22\u5f15\uff0c\u800c\u4e0d\u662f\u5168\u8868\u626b\u63cf\u3002\uff08\u5148\u4e0a\u9501\uff0c\u518d\u64cd\u4f5c\uff0c\u4e00\u9501\u4e8c\u67e5\u4e09\u66f4\u65b0\uff09</li> <li>\u4e50\u89c2\u9501\u662f\u5426\u5728\u4e8b\u52a1\u4e2d\u5176\u5b9e\u90fd\u662f\u65e0\u6240\u8c13\u7684\uff0c\u5176\u5e95\u5c42\u673a\u5236\u662f\u8fd9\u6837\uff1a\u5728\u6570\u636e\u5e93\u5185\u90e8 update \u540c\u4e00\u884c\u7684\u65f6\u5019\u662f\u4e0d\u5141\u8bb8\u5e76\u53d1\u7684\uff0c\u5373\u6570\u636e\u5e93\u6bcf\u6b21\u6267\u884c\u4e00\u6761 update \u8bed\u53e5\u65f6\u4f1a\u83b7\u53d6\u88ab update \u884c\u7684\u5199\u9501\uff0c\u76f4\u5230\u8fd9\u4e00\u884c\u88ab\u6210\u529f\u66f4\u65b0\u540e\u624d\u91ca\u653e\u3002\u56e0\u6b64\u5728\u4e1a\u52a1\u64cd\u4f5c\u8fdb\u884c\u524d\u83b7\u53d6\u9700\u8981\u9501\u7684\u6570\u636e\u7684\u5f53\u524d\u7248\u672c\u53f7\uff0c\u7136\u540e\u5b9e\u9645\u66f4\u65b0\u6570\u636e\u65f6\u518d\u6b21\u5bf9\u6bd4\u7248\u672c\u53f7\u786e\u8ba4\u4e0e\u4e4b\u524d\u83b7\u53d6\u7684\u76f8\u540c\uff0c\u5e76\u66f4\u65b0\u7248\u672c\u53f7\uff0c\u5373\u53ef\u786e\u8ba4\u8fd9\u5176\u95f4\u6ca1\u6709\u53d1\u751f\u5e76\u53d1\u7684\u4fee\u6539\u3002\u5982\u679c\u66f4\u65b0\u5931\u8d25\uff0c\u5373\u53ef\u8ba4\u4e3a\u8001\u7248\u672c\u7684\u6570\u636e\u5df2\u7ecf\u88ab\u5e76\u53d1\u4fee\u6539\u6389\u800c\u4e0d\u5b58\u5728\u4e86\uff0c\u6b64\u65f6\u8ba4\u4e3a\u83b7\u53d6\u9501\u5931\u8d25\uff0c\u9700\u8981\u56de\u6eda\u6574\u4e2a\u4e1a\u52a1\u64cd\u4f5c\u5e76\u53ef\u6839\u636e\u9700\u8981\u91cd\u8bd5\u6574\u4e2a\u8fc7\u7a0b\u3002\uff08\u5148\u4fee\u6539\uff0c\u66f4\u65b0\u65f6\u53d1\u73b0\u6570\u636e\u53d8\u5316\u5c31\u4f1a\u6eda\uff09</li> <li>\u60b2\u89c2\u9501\u4e0e\u4e50\u89c2\u9501\u7684\u5e94\u7528\u573a\u666f\uff1a\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u8bfb\u591a\u5199\u5c11\u66f4\u9002\u5408\u7528\u4e50\u89c2\u9501\uff0c\u8bfb\u5c11\u5199\u591a\u66f4\u9002\u5408\u7528\u60b2\u89c2\u9501\u3002\u4e50\u89c2\u9501\u5728\u4e0d\u53d1\u751f\u53d6\u9501\u5931\u8d25\u7684\u60c5\u51b5\u4e0b\u5f00\u9500\u6bd4\u60b2\u89c2\u9501\u5c0f\uff0c\u4f46\u662f\u4e00\u65e6\u53d1\u751f\u5931\u8d25\u56de\u6eda\u5f00\u9500\u5219\u6bd4\u8f83\u5927\uff0c\u56e0\u6b64\u9002\u5408\u7528\u5728\u53d6\u9501\u5931\u8d25\u6982\u7387\u6bd4\u8f83\u5c0f\u7684\u573a\u666f\uff0c\u53ef\u4ee5\u63d0\u5347\u7cfb\u7edf\u5e76\u53d1\u6027\u80fd\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#mysql_3","title":"MySQL \u884c\u7ea7\u9501","text":"<ul> <li>MyISAM \u53ea\u652f\u6301\u8868\u7ea7\u9501\uff0c\u7528\u6237\u5728\u64cd\u4f5cMyISAM \u8868\u65f6\uff0cselect\u3001update\u3001delete \u548c insert\u8bed\u53e5\u90fd\u4f1a\u7ed9\u8868\u81ea\u52a8\u52a0\u9501\uff0c\u5982\u679c\u52a0\u9501\u4ee5\u540e\u7684\u8868\u6ee1\u8db3insert \u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u5728\u8868\u7684\u5c3e\u90e8\u63d2\u5165\u65b0\u7684\u6570\u636e\u3002InnoDB \u652f\u6301\u4e8b\u52a1\u548c\u884c\u7ea7\u9501\uff0c\u884c\u9501\u5927\u5e45\u5ea6\u63d0\u9ad8\u4e86\u591a\u7528\u6237\u5e76\u53d1\u64cd\u4f5c\u7684\u65b0\u80fd\uff0c\u4f46\u662f InnoDB \u7684\u884c\u9501\u53ea\u662f\u5728 WHERE \u7684\u4e3b\u952e\u662f\u6709\u6548\u7684\uff0c\u975e\u4e3b\u952e\u7684 WHERE \u90fd\u4f1a\u9501\u5168\u8868\u3002</li> <li>\u5171\u4eab\u9501\u53c8\u79f0\u8bfb\u9501\uff0c\u662f\u8bfb\u53d6\u64cd\u4f5c\u521b\u5efa\u7684\u9501\u3002\u5176\u4ed6\u7528\u6237\u53ef\u4ee5\u5e76\u53d1\u8bfb\u53d6\u6570\u636e\uff0c\u4f46\u4efb\u4f55\u4e8b\u52a1\u90fd\u4e0d\u80fd\u5bf9\u6570\u636e\u8fdb\u884c\u4fee\u6539\u3002\u5982\u679c\u4e8b\u52a1T\u5bf9\u6570\u636eA\u52a0\u4e0a\u5171\u4eab\u9501\u540e\uff0c\u5219\u5176\u4ed6\u4e8b\u52a1\u53ea\u80fd\u5bf9A\u518d\u52a0\u5171\u4eab\u9501\uff0c\u4e0d\u80fd\u52a0\u6392\u5b83\u9501\u3002SELECT ... LOCK IN SHARE MODE \u4f1a\u5bf9\u67e5\u8be2\u51fa\u7684\u6bcf\u4e00\u6761\u6570\u636e\u52a0\u5171\u4eab\u9501\uff0c\u5982\u679c\u5176\u5b83\u7ebf\u7a0b\u518d\u52a0\u6392\u5b83\u9501\u5c31\u4f1a\u963b\u585e\u3002</li> <li>\u6392\u4ed6\u9501\u53c8\u79f0\u5199\u9501\uff0c\u5982\u679c\u4e8b\u52a1T\u5bf9\u6570\u636eA\u52a0\u4e0a\u6392\u4ed6\u9501\u540e\uff0c\u5219\u5176\u4ed6\u4e8b\u52a1\u4e0d\u80fd\u518d\u5bf9A\u52a0\u4efb\u4efb\u4f55\u7c7b\u578b\u7684\u9501\uff0c\u83b7\u51c6\u6392\u4ed6\u9501\u7684\u4e8b\u52a1\u65e2\u80fd\u8bfb\u6570\u636e\uff0c\u53c8\u80fd\u4fee\u6539\u6570\u636e\u3002SELECT ... FOR UPDATE \u4e2d\u4f1a\u5bf9\u67e5\u8be2\u7ed3\u679c\u4e2d\u7684\u6bcf\u884c\u90fd\u52a0\u6392\u4ed6\u9501\uff0c\u5f53\u6ca1\u6709\u5176\u4ed6\u7ebf\u7a0b\u5bf9\u67e5\u8be2\u7ed3\u679c\u96c6\u4e2d\u7684\u4efb\u4f55\u4e00\u884c\u4f7f\u7528\u6392\u4ed6\u9501\u65f6\uff0c\u53ef\u4ee5\u6210\u529f\u7533\u8bf7\u6392\u4ed6\u9501\uff0c\u5426\u5219\u4f1a\u88ab\u963b\u585e\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#myisam_innodb","title":"\u5b58\u50a8\u5f15\u64ce MyISAM \u548c InnoDB \u533a\u522b","text":"<ul> <li>\u4e8b\u52a1\u652f\u6301\uff1aMyISAM \u5f3a\u8c03\u7684\u662f\u6027\u80fd\uff0c\u6bcf\u6b21\u67e5\u8be2\u5177\u6709\u539f\u5b50\u6027\uff0c\u5176\u6267\u884c\u901f\u5ea6\u6bd4 InnoDB \u66f4\u5feb\uff0c\u4f46\u662f\u4e0d\u652f\u6301\u4e8b\u52a1\u3002InnoDB \u63d0\u4f9b\u4e8b\u52a1\u3001\u5916\u952e\u7b49\u9ad8\u7ea7\u6570\u636e\u5e93\u529f\u80fd\uff0c\u5177\u6709\u4e8b\u52a1\u63d0\u4ea4\u3001\u56de\u6eda\u80fd\u529b\u3002</li> <li>AUTO_INCREMENT\uff1a\u5bf9AUTO_INCREMENT\u7684\u5904\u7406\u65b9\u5f0f\u4e0d\u4e00\u6837\u3002\u5982\u679c\u5c06\u67d0\u4e2a\u5b57\u6bb5\u8bbe\u7f6e\u4e3aINCREMENT\uff0cInnoDB\u4e2d\u89c4\u5b9a\u5fc5\u987b\u5305\u542b\u53ea\u6709\u8be5\u5b57\u6bb5\u7684\u7d22\u5f15\uff0c\u5982\u679c\u662f\u7ec4\u5408\u7d22\u5f15\u4e5f\u5fc5\u987b\u662f\u7ec4\u5408\u7d22\u5f15\u7684\u7b2c\u4e00\u5217\u3002\u4f46\u662f\u5728MyISAM\u4e2d\uff0c\u53ef\u4ee5\u5c06\u8be5\u5b57\u6bb5\u548c\u5176\u4ed6\u5b57\u6bb5\u4e00\u8d77\u5efa\u7acb\u7ec4\u5408\u7d22\u5f15\uff0c\u53ef\u4ee5\u4e0d\u662f\u7b2c\u4e00\u5217\u3002</li> <li>\u8868\u4e3b\u952e\uff1aMyISAM \u5141\u8bb8\u6ca1\u6709\u4efb\u4f55\u7d22\u5f15\u548c\u4e3b\u952e\u7684\u8868\u5b58\u5728\uff0c\u7d22\u5f15\u90fd\u662f\u4fdd\u5b58\u884c\u7684\u5730\u5740\u3002\u5bf9\u4e8e InnoDB\uff0c\u5982\u679c\u6ca1\u6709\u8bbe\u5b9a\u4e3b\u952e\u6216\u8005\u975e\u7a7a\u552f\u4e00\u7d22\u5f15\uff0c\u5c31\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a6\u5b57\u8282\u7684\u4e3b\u952e (\u7528\u6237\u4e0d\u53ef\u89c1)\uff0c\u6570\u636e\u662f\u4e3b\u7d22\u5f15\u7684\u4e00\u90e8\u5206\u3002</li> <li>\u8868\u7684\u5177\u4f53\u884c\u6570\uff1aMyISAM\u5185\u7f6e\u4e86\u4e00\u4e2a\u8ba1\u6570\u5668\u6765\u5b58\u50a8\u8868\u7684\u884c\u6570\u3002\u6267\u884c select count(*)\u65f6\u76f4\u63a5\u4ece\u8ba1\u6570\u5668\u4e2d\u8bfb\u53d6\uff0c\u901f\u5ea6\u975e\u5e38\u5feb\u3002\u800c InnoDB\u4e0d\u4fdd\u5b58\u8fd9\u4e9b\u4fe1\u606f\uff0c\u5982\u679c\u4f7f\u7528 select count( *) from table \u5c31\u4f1a\u904d\u5386\u6574\u4e2a\u8868\uff0c\u6d88\u8017\u76f8\u5f53\u5927\u3002\uff08\u5728\u52a0\u4e86wehre \u6761\u4ef6\u540e\uff0cmyisam \u548c innodb \u5904\u7406\u7684\u65b9\u5f0f\u90fd\u4e00\u6837\uff09</li> <li>\u5168\u6587\u7d22\u5f15\uff1aMyISAM\u652f\u6301 FULLTEXT\u7c7b\u578b\u7684\u5168\u6587\u7d22\u5f15\uff0cInnoDB\u4e0d\u652f\u6301FULLTEXT\u7c7b\u578b\u7684\u5168\u6587\u7d22\u5f15\uff0c\u4f46\u662finnodb\u53ef\u4ee5\u4f7f\u7528sphinx\u63d2\u4ef6\u652f\u6301\u5168\u6587\u7d22\u5f15\uff0c\u5e76\u4e14\u6548\u679c\u66f4\u597d\u3002</li> <li>\u5916\u952e\uff1aMyISAM \u4e0d\u652f\u6301\u5916\u952e\uff0c\u800c InnoDB \u652f\u6301\u5916\u952e\u3002</li> <li>\u5b58\u50a8\u7ed3\u6784\uff1a\u6bcf\u4e2a MyISAM \u5728\u78c1\u76d8\u4e0a\u5b58\u50a8\u6210\u4e09\u4e2a\u6587\u4ef6\uff1a\u7b2c\u4e00\u4e2a\u6587\u4ef6\u7684\u540d\u5b57\u4ee5\u8868\u7684\u540d\u5b57\u5f00\u59cb\uff0c\u6269\u5c55\u540d\u6307\u51fa\u6587\u4ef6\u7c7b\u578b\u3002.frm \u6587\u4ef6\u5b58\u50a8\u8868\u5b9a\u4e49\uff0c\u6570\u636e\u6587\u4ef6\u7684\u6269\u5c55\u540d\u4e3a. MYD (MYData)\uff0c\u7d22\u5f15\u6587\u4ef6\u7684\u6269\u5c55\u540d\u662f. MYI(MYIndex)\u3002InnoDB \u6240\u6709\u7684\u8868\u90fd\u4fdd\u5b58\u5728\u540c\u4e00\u4e2a\u6570\u636e\u6587\u4ef6\u4e2d\uff08\u4e5f\u53ef\u80fd\u662f\u591a\u4e2a\u6587\u4ef6\uff0c\u6216\u8005\u662f\u72ec\u7acb\u7684\u8868\u7a7a\u95f4\u6587\u4ef6\uff09\uff0cInnoDB \u8868\u7684\u5927\u5c0f\u53ea\u53d7\u9650\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u4e00\u822c\u4e3a 2GB\u3002</li> <li>CURD\u64cd\u4f5c\uff1a\u5982\u679c\u6267\u884c\u5927\u91cf\u7684SELECT\uff0cMyISAM\u662f\u66f4\u597d\u7684\u9009\u62e9\u3002\u5982\u679c\u4f60\u7684\u6570\u636e\u6267\u884c\u5927\u91cf\u7684INSERT\u6216UPDATE\uff0c\u51fa\u4e8e\u6027\u80fd\u65b9\u9762\u7684\u8003\u8651\uff0c\u5e94\u8be5\u4f7f\u7528InnoDB\u8868\u3002DELETE \u4ece\u6027\u80fd\u4e0aInnoDB\u66f4\u4f18\uff0c\u4f46DELETE FROM table\u65f6\uff0cInnoDB\u4e0d\u4f1a\u91cd\u65b0\u5efa\u7acb\u8868\uff0c\u800c\u662f\u4e00\u884c\u4e00\u884c\u7684\u5220\u9664\uff0c\u5728innodb\u4e0a\u5982\u679c\u8981\u6e05\u7a7a\u4fdd\u5b58\u6709\u5927\u91cf\u6570\u636e\u7684\u8868\uff0c\u6700\u597d\u4f7f\u7528truncate table\u8fd9\u4e2a\u547d\u4ee4\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#mvcc","title":"\u5b9e\u73b0MVCC","text":"<ul> <li>MVCC \u5168\u79f0\u662fMulti-Version Concurrent Control\uff0c\u5373\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff0c\u5728MVCC\u534f\u8bae\u4e0b\uff0c\u6bcf\u4e2a\u8bfb\u64cd\u4f5c\u4f1a\u770b\u5230\u4e00\u4e2a\u4e00\u81f4\u6027\u7684snapshot\uff0c\u5e76\u4e14\u53ef\u4ee5\u5b9e\u73b0\u975e\u963b\u585e\u7684\u8bfb\u3002MVCC\u5141\u8bb8\u6570\u636e\u5177\u6709\u591a\u4e2a\u7248\u672c\uff0c\u8fd9\u4e2a\u7248\u672c\u53ef\u4ee5\u662f\u65f6\u95f4\u6233\u6216\u8005\u662f\u5168\u5c40\u9012\u589e\u7684\u4e8b\u52a1ID\uff0c\u5728\u540c\u4e00\u4e2a\u65f6\u95f4\u70b9\uff0c\u4e0d\u540c\u7684\u4e8b\u52a1\u770b\u5230\u7684\u6570\u636e\u662f\u4e0d\u540c\u7684\u3002</li> <li>innodb\u4f1a\u4e3a\u6bcf\u4e00\u884c\u6dfb\u52a0\u4e24\u4e2a\u5b57\u6bb5\uff0c\u5206\u522b\u8868\u793a\u8be5\u884c\u521b\u5efa\u7684\u7248\u672c\u548c\u5220\u9664\u7684\u7248\u672c\uff0c\u586b\u5165\u7684\u662f\u4e8b\u52a1\u7684\u7248\u672c\u53f7\uff0c\u8fd9\u4e2a\u7248\u672c\u53f7\u968f\u7740\u4e8b\u52a1\u7684\u521b\u5efa\u4e0d\u65ad\u9012\u589e\u3002\u5728repeated read\u7684\u9694\u79bb\u7ea7\u522b\u4e0b\uff0c\u5177\u4f53\u5404\u79cd\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u5b9e\u73b0\uff1a<ul> <li>select\uff1a\u6ee1\u8db3\u4ee5\u4e0b\u4e24\u4e2a\u6761\u4ef6innodb\u4f1a\u8fd4\u56de\u8be5\u884c\u6570\u636e\uff1a\u8be5\u884c\u7684\u521b\u5efa\u7248\u672c\u53f7\u5c0f\u4e8e\u7b49\u4e8e\u5f53\u524d\u7248\u672c\u53f7\uff0c\u7528\u4e8e\u4fdd\u8bc1\u5728select\u64cd\u4f5c\u4e4b\u524d\u6240\u6709\u7684\u64cd\u4f5c\u5df2\u7ecf\u6267\u884c\u843d\u5730\u3002\u8be5\u884c\u7684\u5220\u9664\u7248\u672c\u53f7\u5927\u4e8e\u5f53\u524d\u7248\u672c\u6216\u8005\u4e3a\u7a7a\u3002\u5220\u9664\u7248\u672c\u53f7\u5927\u4e8e\u5f53\u524d\u7248\u672c\u610f\u5473\u7740\u6709\u4e00\u4e2a\u5e76\u53d1\u4e8b\u52a1\u5c06\u8be5\u884c\u5220\u9664\u4e86\u3002</li> <li>insert\uff1a\u5c06\u65b0\u63d2\u5165\u7684\u884c\u7684\u521b\u5efa\u7248\u672c\u53f7\u8bbe\u7f6e\u4e3a\u5f53\u524d\u7cfb\u7edf\u7684\u7248\u672c\u53f7\u3002</li> <li>delete\uff1a\u5c06\u8981\u5220\u9664\u7684\u884c\u7684\u5220\u9664\u7248\u672c\u53f7\u8bbe\u7f6e\u4e3a\u5f53\u524d\u7cfb\u7edf\u7684\u7248\u672c\u53f7\u3002</li> <li>update\uff1a\u4e0d\u6267\u884c\u539f\u5730update\uff0c\u800c\u662f\u8f6c\u6362\u6210insert + delete\u3002\u5c06\u65e7\u884c\u7684\u5220\u9664\u7248\u672c\u53f7\u8bbe\u7f6e\u4e3a\u5f53\u524d\u7248\u672c\u53f7\uff0c\u5e76\u5c06\u65b0\u884cinsert\u540c\u65f6\u8bbe\u7f6e\u521b\u5efa\u7248\u672c\u53f7\u4e3a\u5f53\u524d\u7248\u672c\u53f7\u3002</li> </ul> </li> <li>\u5176\u4e2d\uff0c\u5199\u64cd\u4f5c\uff08insert\u3001delete\u548cupdate\uff09\u6267\u884c\u65f6\uff0c\u9700\u8981\u5c06\u7cfb\u7edf\u7248\u672c\u53f7\u9012\u589e\u3002\u7531\u4e8e\u65e7\u6570\u636e\u5e76\u4e0d\u771f\u6b63\u7684\u5220\u9664\uff0c\u6240\u4ee5\u5fc5\u987b\u5bf9\u8fd9\u4e9b\u6570\u636e\u8fdb\u884c\u6e05\u7406\uff0cinnodb\u4f1a\u5f00\u542f\u4e00\u4e2a\u540e\u53f0\u7ebf\u7a0b\u6267\u884c\u6e05\u7406\u5de5\u4f5c\uff0c\u5177\u4f53\u7684\u89c4\u5219\u662f\u5c06\u5220\u9664\u7248\u672c\u53f7\u5c0f\u4e8e\u5f53\u524d\u7cfb\u7edf\u7248\u672c\u7684\u884c\u5220\u9664\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53eb\u505apurge\u3002\u901a\u8fc7MVCC\u5f88\u597d\u7684\u5b9e\u73b0\u4e86\u4e8b\u52a1\u7684\u9694\u79bb\u6027\uff0c\u53ef\u4ee5\u8fbe\u5230repeated read\u7ea7\u522b\uff0c\u8981\u5b9e\u73b0serializable\u8fd8\u5fc5\u987b\u52a0\u9501\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#mysql_4","title":"\u5b9e\u8df5\u4e2d\u5982\u4f55\u4f18\u5316 MySQL","text":"<ul> <li>\u5b9e\u8df5\u4e2d\uff0cMySQL \u7684\u4f18\u5316\u4e3b\u8981\u6d89\u53ca SQL \u8bed\u53e5\u7684\u4f18\u5316\uff0c\u7d22\u5f15\u7684\u4f18\u5316\uff0c\u6570\u636e\u8868\u7ed3\u6784\u7684\u4f18\u5316\u3002\u5176\u4ed6\u5305\u62ec\u7cfb\u7edf\u914d\u7f6e\u548c\u786c\u4ef6\u7684\u4f18\u5316\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#sql_1","title":"SQL \u8bed\u53e5\u7684\u4f18\u5316","text":"<ul> <li>\u53d1\u73b0\u6709\u95ee\u9898\u7684 SQL\uff1aMySQL \u7684\u6162\u67e5\u8be2\u65e5\u5fd7\u662f MySQL \u63d0\u4f9b\u7684\u4e00\u79cd\u65e5\u5fd7\u8bb0\u5f55\uff0c\u7528\u6765\u8bb0\u5f55\u5728 MySQL \u4e2d\u54cd\u5e94\u65f6\u95f4\u8d85\u8fc7\u9600\u503c\u7684\u8bed\u53e5\uff0c\u5177\u4f53\u6307\u8fd0\u884c\u65f6\u95f4\u8d85\u8fc7 long_query_time(long_query_time \u7684\u9ed8\u8ba4\u503c\u4e3a 10\uff0c\u610f\u601d\u662f\u8fd0\u884c10s \u4ee5\u4e0a\u7684\u8bed\u53e5\u3002) \u503c\u7684 SQL\uff0c\u5219\u4f1a\u88ab\u8bb0\u5f55\u5230\u6162\u67e5\u8be2\u65e5\u5fd7\u4e2d\u3002\u901a\u8fc7 MySQL \u7684\u6162\u67e5\u8be2\u65e5\u5fd7\u53ef\u4ee5\u67e5\u8be2\u51fa\u6267\u884c\u6b21\u6570\u591a\u3001\u5360\u7528\u65f6\u95f4\u957f\u7684 SQL\uff0c\u7528 pt_query_disgest(\u4e00\u79cd mysql \u6162\u65e5\u5fd7\u5206\u6790\u5de5\u5177) \u5206\u6790 Rows examine(MySQL \u6267\u884c\u5668\u9700\u8981\u68c0\u67e5\u7684\u884c\u6570) \u9879\u53bb\u627e\u51fa IO \u5927\u7684 SQL \u4ee5\u53ca\u53d1\u73b0\u672a\u547d\u4e2d\u7d22\u5f15\u7684 SQL\uff0c\u5bf9\u5176\u8fdb\u884c\u4f18\u5316\u3002</li> <li>\u5206\u6790 SQL \u7684\u6267\u884c\u8ba1\u5212\uff1a\u4f7f\u7528 EXPLAIN \u5173\u952e\u5b57\u53ef\u4ee5\u77e5\u9053 MySQL \u662f\u5982\u4f55\u5904\u7406 SQL \u8bed\u53e5\u7684\uff0c\u4ee5\u4fbf\u5206\u6790\u67e5\u8be2\u8bed\u53e5\u6216\u662f\u8868\u7ed3\u6784\u7684\u6027\u80fd\u74f6\u9888\u3002\u901a\u8fc7 explain \u547d\u4ee4\u53ef\u4ee5\u5f97\u5230\u8868\u7684\u8bfb\u53d6\u987a\u5e8f\u3001\u54ea\u4e9b\u7d22\u5f15\u88ab\u5b9e\u9645\u4f7f\u7528\u3001\u8868\u4e4b\u95f4\u7684\u5f15\u7528\u4ee5\u53ca\u6bcf\u5f20\u8868\u6709\u591a\u5c11\u884c\u88ab\u4f18\u5316\u5668\u67e5\u8be2\u7b49\u95ee\u9898\u3002\u5f53\u6269\u5c55\u5217 extra \u51fa\u73b0 Using filesort \u548c Using temporay\uff0c\u5219\u5f80\u5f80\u8868\u793aSQL \u9700\u8981\u4f18\u5316\u4e86\u3002\u5177\u4f53\u53c2\u8003MySQL \u6027\u80fd\u4f18\u5316\u795e\u5668 Explain \u4f7f\u7528\u5206\u6790</li> <li>\u4f18\u5316 SQL \u8bed\u53e5\uff1a<ul> <li>\u4f18\u5316 insert \u8bed\u53e5\uff1a\u4e00\u6b21\u63d2\u5165\u591a\u503c</li> <li>\u5e94\u5c3d\u91cf\u907f\u514d\u5728 where \u5b50\u53e5\u4e2d\u4f7f\u7528!= \u6216 &lt;&gt; \u64cd\u4f5c\u7b26\uff0c\u5219\u5c06\u5f15\u64ce\u653e\u5f03\u4f7f\u7528\u7d22\u5f15\u800c\u8fdb\u884c\u5168\u8868\u626b\u63cf\uff1b</li> <li>\u5e94\u5c3d\u91cf\u907f\u514d\u5728 where \u5b50\u53e5\u4e2d\u5bf9\u5b57\u6bb5\u8fdb\u884c null \u503c\u5224\u65ad\uff0c\u5426\u5219\u5c06\u5bfc\u81f4\u5f15\u64ce\u653e\u5f03\u4f7f\u7528\u7d22\u5f15\u800c\u8fdb\u884c\u5168\u8868\u626b\u63cf\uff1b</li> <li>\u4f18\u5316\u5d4c\u5957\u67e5\u8be2\uff1a\u5b50\u67e5\u8be2\u53ef\u4ee5\u88ab\u66f4\u6709\u6548\u7387\u7684\u8fde\u63a5 (Join)\u66ff\u4ee3\uff1b</li> <li>\u5f88\u591a\u65f6\u5019\u7528 exists \u4ee3\u66ff in \u662f\u4e00\u4e2a\u597d\u7684\u9009\u62e9\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_71","title":"\u7d22\u5f15\u7684\u4f18\u5316","text":"<ul> <li>\u9002\u5408\u521b\u5efa\u7d22\u5f15\u7684\u5b57\u6bb5<ul> <li>\u7ecf\u5e38\u4f5c\u67e5\u8be2\u9009\u62e9\u7684\u5b57\u6bb5</li> <li>\u7ecf\u5e38\u4f5c\u8868\u8fde\u63a5\u7684\u5b57\u6bb5</li> <li>\u7ecf\u5e38\u51fa\u73b0\u5728 order by, group by, distinct \u540e\u9762\u7684\u5b57\u6bb5</li> </ul> </li> <li>\u521b\u5efa\u7d22\u5f15\u65f6\u9700\u8981\u6ce8\u610f\u4ec0\u4e48<ul> <li>\u975e\u7a7a\u5b57\u6bb5\uff1a\u5e94\u8be5\u6307\u5b9a\u5217\u4e3a NOT NULL\uff0c\u9664\u975e\u4f60\u60f3\u5b58\u50a8NULL\u3002\u5728 MySQL \u4e2d\u542b\u6709\u7a7a\u503c\u7684\u5217\u5f88\u96be\u8fdb\u884c\u67e5\u8be2\u4f18\u5316\uff0c\u56e0\u4e3a\u5b83\u4eec\u4f7f\u5f97\u7d22\u5f15\u3001\u7d22\u5f15\u7684\u7edf\u8ba1\u4fe1\u606f\u4ee5\u53ca\u6bd4\u8f83\u8fd0\u7b97\u66f4\u52a0\u590d\u6742\u3002\u5e94\u8be5\u7528 0\u3001\u4e00\u4e2a\u7279\u6b8a\u7684\u503c\u6216\u8005\u4e00\u4e2a\u7a7a\u4e32\u4ee3\u66ff\u7a7a\u503c\uff1b</li> <li>\u53d6\u503c\u79bb\u6563\u5927\u7684\u5b57\u6bb5\uff08\u53d8\u91cf\u5404\u4e2a\u53d6\u503c\u4e4b\u95f4\u7684\u5dee\u5f02\u7a0b\u5ea6\uff09\u7684\u5217\u653e\u5230\u8054\u5408\u7d22\u5f15\u7684\u524d\u9762\uff0c\u53ef\u4ee5\u901a\u8fc7 count() \u51fd\u6570\u67e5\u770b\u5b57\u6bb5\u7684\u5dee\u5f02\u503c\uff0c\u8fd4\u56de\u503c\u8d8a\u5927\u8bf4\u660e\u5b57\u6bb5\u7684\u552f\u4e00\u503c\u8d8a\u591a\u5b57\u6bb5\u7684\u79bb\u6563\u7a0b\u5ea6\u9ad8\uff1b</li> <li>\u7d22\u5f15\u5b57\u6bb5\u8d8a\u5c0f\u8d8a\u597d\uff1a\u6570\u636e\u5e93\u7684\u6570\u636e\u5b58\u50a8\u4ee5\u9875\u4e3a\u5355\u4f4d\uff0c\u4e00\u9875\u5b58\u50a8\u7684\u6570\u636e\u8d8a\u591a\uff0c\u4e00\u6b21 IO \u64cd\u4f5c\u83b7\u53d6\u7684\u6570\u636e\u8d8a\u591a\uff0c\u6548\u7387\u8d8a\u9ad8\u3002</li> </ul> </li> <li>\u7d22\u5f15\u5931\u6548\u7684\u60c5\u51b5<ul> <li>\u4ee5 \u201c%(\u8868\u793a\u4efb\u610f 0 \u4e2a\u6216\u591a\u4e2a\u5b57\u7b26)\u201d \u5f00\u5934\u7684 LIKE \u8bed\u53e5\uff0c\u6a21\u7cca\u5339\u914d\uff1b</li> <li>OR \u8bed\u53e5\u524d\u540e\u6ca1\u6709\u540c\u65f6\u4f7f\u7528\u7d22\u5f15\uff1b</li> <li>\u6570\u636e\u7c7b\u578b\u51fa\u73b0\u9690\u5f0f\u8f6c\u5316\uff08\u5982 varchar \u4e0d\u52a0\u5355\u5f15\u53f7\u7684\u8bdd\u53ef\u80fd\u4f1a\u81ea\u52a8\u8f6c\u6362\u4e3a int \u578b\uff09\uff1b</li> <li>\u5bf9\u4e8e\u591a\u5217\u7d22\u5f15\uff0c\u5fc5\u987b\u6ee1\u8db3 \u6700\u5de6\u5339\u914d\u539f\u5219 (eg\uff1a\u591a\u5217\u7d22\u5f15 col1\u3001col2 \u548c col3\uff0c\u5219 \u7d22\u5f15\u751f\u6548\u7684\u60c5\u5f62\u5305\u62ec col1\u6216 col1\uff0ccol2 \u6216 col1\uff0ccol2\uff0ccol3)\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_72","title":"\u6570\u636e\u8868\u7ed3\u6784\u7684\u4f18\u5316","text":"<ul> <li>\u9009\u62e9\u5408\u9002\u6570\u636e\u7c7b\u578b<ul> <li>\u4f7f\u7528\u8f83\u5c0f\u7684\u6570\u636e\u7c7b\u578b\u89e3\u51b3\u95ee\u9898\uff1b</li> <li>\u4f7f\u7528\u7b80\u5355\u7684\u6570\u636e\u7c7b\u578b (mysql \u5904\u7406 int \u8981\u6bd4 varchar\u5bb9\u6613)\uff1b</li> <li>\u5c3d\u53ef\u80fd\u7684\u4f7f\u7528 not null \u5b9a\u4e49\u5b57\u6bb5\uff1b</li> <li>\u5c3d\u91cf\u907f\u514d\u4f7f\u7528 text \u7c7b\u578b\uff0c\u975e\u7528\u4e0d\u53ef\u65f6\u6700\u597d\u8003\u8651\u5206\u8868\u3002</li> </ul> </li> <li>\u8868\u7684\u8303\u5f0f\u7684\u4f18\u5316\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u8868\u7684\u8bbe\u8ba1\u5e94\u8be5\u9075\u5faa\u4e09\u5927\u8303\u5f0f\u3002</li> <li>\u8868\u7684\u5782\u76f4\u62c6\u5206<ul> <li>\u628a\u4e0d\u5e38\u7528\u7684\u5b57\u6bb5\u5355\u72ec\u653e\u5728\u540c\u4e00\u4e2a\u8868\u4e2d\uff1b</li> <li>\u628a\u5927\u5b57\u6bb5\u72ec\u7acb\u653e\u5165\u4e00\u4e2a\u8868\u4e2d\uff1b</li> <li>\u628a\u7ecf\u5e38\u4f7f\u7528\u7684\u5b57\u6bb5\u653e\u5728\u4e00\u8d77\uff1b</li> </ul> </li> <li>\u8868\u7684\u6c34\u5e73\u62c6\u5206<ul> <li>\u8868\u7684\u6c34\u5e73\u62c6\u5206\u7528\u4e8e\u89e3\u51b3\u6570\u636e\u8868\u4e2d\u6570\u636e\u8fc7\u5927\u7684\u95ee\u9898\uff0c\u6c34\u5e73\u62c6\u5206\u6bcf\u4e00\u4e2a\u8868\u7684\u7ed3\u6784\u90fd\u662f\u5b8c\u5168\u4e00\u81f4\u7684\u3002\u4e00\u822c\u5730\uff0c\u5c06\u6570\u636e\u5e73\u5206\u5230 N \u5f20\u8868\u4e2d\u7684\u5e38\u7528\u65b9\u6cd5\u3002\u5305\u62ec\u4ee5\u4e0b\u4e24\u79cd\uff1a\u5bf9 ID \u8fdb\u884c hash \u8fd0\u7b97\uff0c\u5982\u679c\u8981\u62c6\u5206\u6210 5 \u4e2a\u8868\uff0cmod(id,5) \u53d6\u51fa 0~4 \u4e2a\u503c\uff1b\u9488\u5bf9\u4e0d\u540c\u7684 hashID \u5c06\u6570\u636e\u5b58\u5165\u4e0d\u540c\u7684\u8868\u4e2d\uff1b</li> <li>\u8868\u5206\u5272\u540e\u53ef\u4ee5\u964d\u4f4e\u5728\u67e5\u8be2\u65f6\u9700\u8981\u8bfb\u7684\u6570\u636e\u548c\u7d22\u5f15\u7684\u9875\u6570\uff0c\u540c\u65f6\u4e5f\u964d\u4f4e\u4e86\u7d22\u5f15\u7684\u5c42\u6570\uff0c\u63d0\u9ad8\u67e5\u8be2\u901f\u5ea6\uff1b</li> <li>\u8868\u4e2d\u7684\u6570\u636e\u672c\u6765\u5c31\u6709\u72ec\u7acb\u6027\uff0c\u4f8b\u5982\u8868\u4e2d\u5206\u522b\u8bb0\u5f55\u5404\u4e2a\u5730\u533a\u7684\u6570\u636e\u6216\u4e0d\u540c\u65f6\u671f\u7684\u6570\u636e\uff0c\u7279\u522b\u662f\u6709\u4e9b\u6570\u636e\u5e38\u7528\uff0c\u800c\u53e6\u5916\u4e00\u4e9b\u6570\u636e\u4e0d\u5e38\u7528\u3002</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#redis","title":"Redis","text":"<ul> <li>\u53c2\u8003 \u9762\u8bd5\u4e2d\u5173\u4e8eRedis\u7684\u95ee\u9898\u770b\u8fd9\u7bc7\u5c31\u591f\u4e86</li> <li>Redis \u662f\u4e00\u4e2a\u4f7f\u7528 C \u8bed\u8a00\u5199\u6210\u7684\uff0c\u5f00\u6e90\u7684 key-value \u6570\u636e\u5e93\u3002\u548cMemcached\u7c7b\u4f3c\uff0c\u4f46\u652f\u6301\u5b58\u50a8\u7684value\u7c7b\u578b\u76f8\u5bf9\u66f4\u591a\uff0c\u5305\u62ecstring(\u5b57\u7b26\u4e32)\u3001list(\u94fe\u8868)\u3001set(\u96c6\u5408)\u3001zset(sorted set \u2013\u6709\u5e8f\u96c6\u5408)\u548chash\uff08\u54c8\u5e0c\u7c7b\u578b\uff09\uff0c\u8fd9\u4e9b\u6570\u636e\u7c7b\u578b\u90fd\u652f\u6301push/pop\u3001add/remove\u53ca\u53d6\u4ea4\u96c6\u5e76\u96c6\u548c\u5dee\u96c6\u53ca\u66f4\u4e30\u5bcc\u7684\u64cd\u4f5c\uff0c\u800c\u4e14\u8fd9\u4e9b\u64cd\u4f5c\u90fd\u662f\u539f\u5b50\u6027\u7684\u3002\u5728\u6b64\u57fa\u7840\u4e0a\uff0credis\u652f\u6301\u5404\u79cd\u4e0d\u540c\u65b9\u5f0f\u7684\u6392\u5e8f\uff0c\u4e0ememcached\u4e00\u6837\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u6548\u7387\uff0c\u6570\u636e\u90fd\u662f\u7f13\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u533a\u522b\u7684\u662fredis\u4f1a\u5468\u671f\u6027\u7684\u628a\u66f4\u65b0\u7684\u6570\u636e\u5199\u5165\u78c1\u76d8\u6216\u8005\u628a\u4fee\u6539\u64cd\u4f5c\u5199\u5165\u8ffd\u52a0\u7684\u8bb0\u5f55\u6587\u4ef6\uff0c\u5e76\u4e14\u5728\u6b64\u57fa\u7840\u4e0a\u5b9e\u73b0\u4e86master-slave(\u4e3b\u4ece)\u540c\u6b65\u3002</li> <li>\u9002\u5408\u5b58\u50a8\u5728\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\uff1a\u5173\u7cfb\u4e0d\u662f\u5f88\u5bc6\u5207\u7684\u7684\u6570\u636e\uff0c\u6bd4\u5982\u7528\u6237\u4fe1\u606f\uff0c\u73ed\u7ea7\u4fe1\u606f\uff0c\u8bc4\u8bba\u6570\u91cf\u7b49\u7b49\uff1b\u91cf\u6bd4\u8f83\u5927\u7684\u6570\u636e\uff0c\u5982\u8bbf\u95ee\u8bb0\u5f55\u7b49\uff1b\u8bbf\u95ee\u6bd4\u8f83\u9891\u7e41\u7684\u6570\u636e\uff0c\u5982\u7528\u6237\u4fe1\u606f\uff0c\u8bbf\u95ee\u6570\u91cf\uff0c\u6700\u65b0\u5fae\u535a\u7b49\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#redis_1","title":"Redis\u6570\u636e\u7c7b\u578b","text":"<ul> <li>string \u5e38\u7528\u547d\u4ee4: set,get,decr,incr,mget \uff0c\u662f\u6700\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e00\u4e2a\u952e\u5bf9\u5e94\u4e00\u4e2a\u503c\uff0c\u9700\u8981\u6ce8\u610f\u662f\u4e00\u4e2a\u952e\u503c\u6700\u5927\u5b58\u50a8512MB\u3002\u7528\u4e8e\u5e38\u89c4\u8ba1\u6570\uff1a\u5fae\u535a\u6570\uff0c\u7c89\u4e1d\u6570\u7b49\u3002</li> <li>hash \u5e38\u7528\u547d\u4ee4\uff1ahget,hset,hgetall \u7b49\uff0credis hash\u662f\u4e00\u4e2a\u952e\u503c\u5bf9\u7684\u96c6\u5408\uff0c\u662f\u4e00\u4e2astring\u7c7b\u578b\u7684field\u548cvalue\u7684\u6620\u5c04\u8868\uff0c\u9002\u7528\u4e8e\u5b58\u50a8\u7528\u6237\u4fe1\u606f\uff0c\u5546\u54c1\u4fe1\u606f\u3002</li> <li>List \u5e38\u7528\u547d\u4ee4: lpush,rpush,lpop,rpop,lrange\u7b49\uff0c\u662fRedis\u6700\u91cd\u8981\u7684\u6570\u636e\u7ed3\u6784\u4e4b\u4e00\uff0c\u6bd4\u5982\u5fae\u535a\u7684\u5173\u6ce8\u5217\u8868\uff0c\u7c89\u4e1d\u5217\u8868\uff0c\u6700\u65b0\u6d88\u606f\u6392\u884c\u7b49\u529f\u80fd\u90fd\u53ef\u4ee5\u7528Redis\u7684list\u7ed3\u6784\u6765\u5b9e\u73b0\u3002Redis list\u7684\u5b9e\u73b0\u4e3a\u4e00\u4e2a\u53cc\u5411\u94fe\u8868\uff0c\u53ef\u4ee5\u652f\u6301\u53cd\u5411\u67e5\u627e\u548c\u904d\u5386\uff0c\u66f4\u65b9\u4fbf\u64cd\u4f5c\uff0c\u4e0d\u8fc7\u5e26\u6765\u4e86\u90e8\u5206\u989d\u5916\u7684\u5185\u5b58\u5f00\u9500\u3002</li> <li>Set\u5e38\u7528\u547d\u4ee4\uff1asadd,spop,smembers,sunion \u7b49\uff0c\u5bf9\u5916\u63d0\u4f9b\u7684\u529f\u80fd\u4e0elist\u7c7b\u4f3c\u662f\u4e00\u4e2a\u5217\u8868\u7684\u529f\u80fd\uff0c\u7279\u6b8a\u4e4b\u5904\u5728\u4e8eset\u662f\u53ef\u4ee5\u81ea\u52a8\u53bb\u91cd\u7684\uff0c\u5e76\u4e14set\u63d0\u4f9b\u4e86\u5224\u65ad\u67d0\u4e2a\u6210\u5458\u662f\u5426\u5728\u4e00\u4e2aset\u96c6\u5408\u5185\u7684\u91cd\u8981\u63a5\u53e3\u3002\u5728\u5fae\u535a\u5e94\u7528\u4e2d\uff0c\u53ef\u4ee5\u5c06\u4e00\u4e2a\u7528\u6237\u6240\u6709\u7684\u5173\u6ce8\u4eba\u5b58\u5728\u4e00\u4e2a\u96c6\u5408\u4e2d\uff0c\u5c06\u5176\u6240\u6709\u7c89\u4e1d\u5b58\u5728\u4e00\u4e2a\u96c6\u5408\u3002Redis\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u5b9e\u73b0\u5982\u5171\u540c\u5173\u6ce8\u3001\u5171\u540c\u559c\u597d\u3001\u4e8c\u5ea6\u597d\u53cb\u7b49\u529f\u80fd\u3002</li> <li>Sorted Set\u5e38\u7528\u547d\u4ee4\uff1a zadd,zrange,zrem,zcard \u7b49\uff0c\u548cset\u76f8\u6bd4\uff0csorted set\u589e\u52a0\u4e86\u4e00\u4e2a\u6743\u91cd\u53c2\u6570score\uff0c\u4f7f\u5f97\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u80fd\u591f\u6309  score \u8fdb\u884c\u6709\u5e8f\u6392\u5217\u3002\uff08\u76f4\u64ad\u7cfb\u7edf\u4e2d\uff0c\u5b9e\u65f6\u6392\u884c\u4fe1\u606f\u5305\u542b\u76f4\u64ad\u95f4\u5728\u7ebf\u7528\u6237\u5217\u8868\uff0c\u5404\u79cd\u793c\u7269\u6392\u884c\u699c\uff0c\u5f39\u5e55\u6d88\u606f\uff08\u53ef\u4ee5\u7406\u89e3\u4e3a\u6309\u6d88\u606f\u7ef4\u5ea6\u7684\u6d88\u606f\u6392\u884c\u699c\uff09\u7b49\u4fe1\u606f\uff0c\u9002\u5408\u4f7f\u7528Redis\u4e2d\u7684SortedSet\u7ed3\u6784\u8fdb\u884c\u5b58\u50a8\u3002\uff09</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#redis_2","title":"Redis\u7684\u5e94\u7528\u573a\u666f","text":"<ul> <li>\u8bbf\u95ee\u70ed\u70b9\u6570\u636e\uff0c\u51cf\u5c11\u54cd\u5e94\u65f6\u95f4\uff0c\u63d0\u5347\u541e\u5410\u91cf<ul> <li>\u4f1a\u8bdd\u7f13\u5b58\uff08\u6700\u5e38\u7528\uff09</li> <li>\u6d88\u606f\u961f\u5217\uff0c\u6bd4\u5982\u652f\u4ed8</li> <li>\u6d3b\u52a8\u6392\u884c\u699c\u6216\u8ba1\u6570</li> <li>\u53d1\u5e03\uff0c\u8ba2\u9605\u6d88\u606f\uff08\u6d88\u606f\u901a\u77e5\uff09</li> <li>\u5546\u54c1\u5217\u8868\uff0c\u8bc4\u8bba\u5217\u8868\u7b49</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#redis_3","title":"Redis \u6301\u4e45\u5316","text":"<ul> <li>\u53c2\u8003redis\u7684\u6301\u4e45\u5316\u548c\u7f13\u5b58\u673a\u5236</li> <li>\u5feb\u7167\u662f\u9ed8\u8ba4\u7684\u6301\u4e45\u5316\u65b9\u5f0f\u3002\u8fd9\u79cd\u65b9\u5f0f\u662f\u5c31\u662f\u5c06\u5185\u5b58\u4e2d\u6570\u636e\u4ee5\u5feb\u7167\u7684\u65b9\u5f0f\u5199\u5165\u5230\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d,\u9ed8\u8ba4\u7684\u6587\u4ef6\u540d\u4e3adump.rdb\u3002\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u8bbe\u7f6e\u81ea\u52a8\u505a\u5feb\u7167\u6301\u4e45\u5316\u7684\u65b9\u5f0f\u3002\u53ef\u4ee5\u914d\u7f6e redis\u5728 n \u79d2\u5185\u5982\u679c\u8d85\u8fc7 m \u4e2a key \u88ab\u4fee\u6539\u5c31\u81ea\u52a8\u505a\u5feb\u7167\uff0c\u4e0b\u9762\u662f\u9ed8\u8ba4\u7684\u5feb\u7167\u4fdd\u5b58\u914d\u7f6e\uff1a <pre><code>\u4fdd\u5b58 900 1   # 900\u79d2\u5185\u5982\u679c\u8d85\u8fc71\u4e2aKey\u88ab\u4fee\u6539\uff0c\u5219\u542f\u52a8\u5feb\u7167\u4fdd\u5b58\n\u4fdd\u5b58300 10   # 300\u79d2\u5185\u5982\u679c\u8d85\u8fc710\u4e2aKey\u88ab\u4fee\u6539\uff0c\u5219\u542f\u52a8\u5feb\u7167\u4fdd\u5b58\n\u4fdd\u5b5860 10000 # 60\u79d2\u5185\u5982\u679c\u8d85\u8fc710000\u4e2aKey\u88ab\u4fee\u6539\uff0c\u5219\u542f\u52a8\u5feb\u7167\u4fdd\u5b58 \n</code></pre></li> <li>aof \u6bd4\u5feb\u7167\u65b9\u5f0f\u6709\u66f4\u597d\u7684\u6301\u4e45\u5316\u6027\uff0c\u662f\u7531\u4e8e\u5728\u4f7f\u7528 aof \u6301\u4e45\u5316\u65b9\u5f0f\u65f6,redis \u4f1a\u5c06\u6bcf\u4e00\u4e2a\u6536\u5230\u7684\u5199\u547d\u4ee4\u90fd\u901a\u8fc7 write \u51fd\u6570\u8ffd\u52a0\u5230\u6587\u4ef6\u4e2d(\u9ed8\u8ba4\u662f appendonly.aof)\u3002\u5f53 redis \u91cd\u542f\u65f6\u4f1a\u901a\u8fc7\u91cd\u65b0\u6267\u884c\u6587\u4ef6\u4e2d\u4fdd\u5b58\u7684\u5199\u547d\u4ee4\u6765\u5728\u5185\u5b58\u4e2d\u91cd\u5efa\u6574\u4e2a\u6570\u636e\u5e93\u7684\u5185\u5bb9\uff0cAOF\u6301\u4e45\u5316\u5b58\u50a8\u65b9\u5f0f\u53c2\u6570\u8bf4\u660e <pre><code>appendonly yes  # \u5f00\u542fAOF\u6301\u4e45\u5316\u5b58\u50a8\u65b9\u5f0f \nappendfsync always  # \u6536\u5230\u5199\u547d\u4ee4\u540e\u5c31\u7acb\u5373\u5199\u5165\u78c1\u76d8\uff0c\u6548\u7387\u6700\u5dee\uff0c\u6548\u679c\u6700\u597d\nappendfsync everysec  # \u6bcf\u79d2\u5199\u5165\u78c1\u76d8\u4e00\u6b21\uff0c\u6548\u7387\u4e0e\u6548\u679c\u5c45\u4e2d\nappendfsync no  # \u5b8c\u5168\u4f9d\u8d56\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6548\u7387\u6700\u4f73\uff0c\u6548\u679c\u6ca1\u6cd5\u4fdd\u8bc1\n</code></pre></li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_73","title":"\u7f13\u5b58\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u7684\u5751","text":"<ul> <li>\u5f15\u7528\u81ea \u7f13\u5b58\u7a7f\u900f\uff0c\u7f13\u5b58\u51fb\u7a7f\uff0c\u7f13\u5b58\u96ea\u5d29\u89e3\u51b3\u65b9\u6848\u5206\u6790</li> <li>\u7f13\u5b58\u7a7f\u900f\u662f\u6307\u67e5\u8be2\u4e00\u4e2a\u4e00\u5b9a\u4e0d\u5b58\u5728\u7684\u6570\u636e\uff0c\u7531\u4e8e\u7f13\u5b58\u662f\u4e0d\u547d\u4e2d\u65f6\u88ab\u52a8\u5199\u7684\uff0c\u5e76\u4e14\u51fa\u4e8e\u5bb9\u9519\u8003\u8651\uff0c\u5982\u679c\u4ece\u5b58\u50a8\u5c42\u67e5\u4e0d\u5230\u6570\u636e\u5219\u4e0d\u5199\u5165\u7f13\u5b58\uff0c\u8fd9\u5c06\u5bfc\u81f4\u8fd9\u4e2a\u4e0d\u5b58\u5728\u7684\u6570\u636e\u6bcf\u6b21\u8bf7\u6c42\u90fd\u8981\u5230\u5b58\u50a8\u5c42\u53bb\u67e5\u8be2\uff0c\u5931\u53bb\u4e86\u7f13\u5b58\u7684\u610f\u4e49\u3002\u5728\u6d41\u91cf\u5927\u65f6\uff0c\u53ef\u80fdDB\u5c31\u6302\u6389\u4e86\uff0c\u8981\u662f\u6709\u4eba\u5229\u7528\u4e0d\u5b58\u5728\u7684key\u9891\u7e41\u653b\u51fb\u6211\u4eec\u7684\u5e94\u7528\uff0c\u8fd9\u5c31\u662f\u6f0f\u6d1e\u3002\u89e3\u51b3\u65b9\u6848\uff1a\u5982\u679c\u4e00\u4e2a\u67e5\u8be2\u8fd4\u56de\u7684\u6570\u636e\u4e3a\u7a7a\uff08\u4e0d\u7ba1\u662f\u6570 \u636e\u4e0d\u5b58\u5728\uff0c\u8fd8\u662f\u7cfb\u7edf\u6545\u969c\uff09\uff0c\u6211\u4eec\u4ecd\u7136\u628a\u8fd9\u4e2a\u7a7a\u7ed3\u679c\u8fdb\u884c\u7f13\u5b58\uff0c\u4f46\u5b83\u7684\u8fc7\u671f\u65f6\u95f4\u4f1a\u5f88\u77ed\uff0c\u6700\u957f\u4e0d\u8d85\u8fc7\u4e94\u5206\u949f\u3002</li> <li>\u7f13\u5b58\u96ea\u5d29\u662f\u6307\u5728\u6211\u4eec\u8bbe\u7f6e\u7f13\u5b58\u65f6\u91c7\u7528\u4e86\u76f8\u540c\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u5bfc\u81f4\u7f13\u5b58\u5728\u67d0\u4e00\u65f6\u523b\u540c\u65f6\u5931\u6548\uff0c\u8bf7\u6c42\u5168\u90e8\u8f6c\u53d1\u5230DB\uff0cDB\u77ac\u65f6\u538b\u529b\u8fc7\u91cd\u96ea\u5d29\u3002\u89e3\u51b3\u65b9\u6848\uff1a\u5c06\u7f13\u5b58\u5931\u6548\u65f6\u95f4\u5206\u6563\u5f00\uff0c\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u5728\u539f\u6709\u7684\u5931\u6548\u65f6\u95f4\u57fa\u7840\u4e0a\u589e\u52a0\u4e00\u4e2a\u968f\u673a\u503c\uff0c\u6bd4\u59821-5\u5206\u949f\u968f\u673a\uff0c\u8fd9\u6837\u6bcf\u4e00\u4e2a\u7f13\u5b58\u7684\u8fc7\u671f\u65f6\u95f4\u7684\u91cd\u590d\u7387\u5c31\u4f1a\u964d\u4f4e\uff0c\u5c31\u5f88\u96be\u5f15\u53d1\u96c6\u4f53\u5931\u6548\u7684\u4e8b\u4ef6\u3002</li> <li>\u7f13\u5b58\u51fb\u7a7f\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u8bbe\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684key\uff0c\u5982\u679c\u8fd9\u4e9bkey\u53ef\u80fd\u4f1a\u5728\u67d0\u4e9b\u65f6\u95f4\u70b9\u88ab\u8d85\u9ad8\u5e76\u53d1\u5730\u8bbf\u95ee\uff0c\u662f\u4e00\u79cd\u975e\u5e38\u201c\u70ed\u70b9\u201d\u7684\u6570\u636e\u3002\u8fd9\u4e2a\u65f6\u5019\uff0c\u9700\u8981\u8003\u8651\u4e00\u4e2a\u95ee\u9898\uff1a\u7f13\u5b58\u88ab\u201c\u51fb\u7a7f\u201d\u7684\u95ee\u9898\uff0c\u8fd9\u4e2a\u548c\u7f13\u5b58\u96ea\u5d29\u7684\u533a\u522b\u5728\u4e8e\u8fd9\u91cc\u9488\u5bf9\u67d0\u4e00key\u7f13\u5b58\uff0c\u524d\u8005\u5219\u662f\u5f88\u591akey\u3002\u7f13\u5b58\u5728\u67d0\u4e2a\u65f6\u95f4\u70b9\u8fc7\u671f\u7684\u65f6\u5019\uff0c\u6070\u597d\u5728\u8fd9\u4e2a\u65f6\u95f4\u70b9\u5bf9\u8fd9\u4e2aKey\u6709\u5927\u91cf\u7684\u5e76\u53d1\u8bf7\u6c42\u8fc7\u6765\uff0c\u8fd9\u4e9b\u8bf7\u6c42\u53d1\u73b0\u7f13\u5b58\u8fc7\u671f\u4e00\u822c\u90fd\u4f1a\u4ece\u540e\u7aefDB\u52a0\u8f7d\u6570\u636e\u5e76\u56de\u8bbe\u5230\u7f13\u5b58\uff0c\u8fd9\u4e2a\u65f6\u5019\u5927\u5e76\u53d1\u7684\u8bf7\u6c42\u53ef\u80fd\u4f1a\u77ac\u95f4\u628a\u540e\u7aefDB\u538b\u57ae\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_74","title":"\u5176\u4ed6\u95ee\u9898","text":"<ul> <li>\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u6570\u636e\u91cd\u590d\u63d2\u5165\u7684\u95ee\u9898<ul> <li>\u4f7f\u7528\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u552f\u4e00\u7d22\u5f15</li> <li>Redis \u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff1a</li> </ul> </li> <li>Redis\u5e38\u89c1\u6027\u80fd\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848<ul> <li>Master\u6700\u597d\u4e0d\u8981\u505a\u4efb\u4f55\u6301\u4e45\u5316\u5de5\u4f5c\uff0c\u5982RDB\u5185\u5b58\u5feb\u7167\u548cAOF\u65e5\u5fd7\u6587\u4ef6</li> <li>\u5982\u679c\u6570\u636e\u6bd4\u8f83\u91cd\u8981\uff0c\u67d0\u4e2aSlave\u5f00\u542fAOF\u5907\u4efd\u6570\u636e\uff0c\u7b56\u7565\u8bbe\u7f6e\u4e3a\u6bcf\u79d2\u540c\u6b65\u4e00\u6b21</li> <li>\u4e3a\u4e86\u4e3b\u4ece\u590d\u5236\u7684\u901f\u5ea6\u548c\u8fde\u63a5\u7684\u7a33\u5b9a\u6027\uff0cMaster\u548cSlave\u6700\u597d\u5728\u540c\u4e00\u4e2a\u5c40\u57df\u7f51\u5185</li> <li>\u5c3d\u91cf\u907f\u514d\u5728\u538b\u529b\u5f88\u5927\u7684\u4e3b\u5e93\u4e0a\u589e\u52a0\u4ece\u5e93</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_75","title":"\u6700\u4f73\u5b9e\u8df5","text":"<ul> <li>Phodal\u7684\u5168\u6808\u589e\u957f\u5de5\u7a0b\u5e08\u5b9e\u6218 </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_76","title":"\u7f16\u7801\u89c4\u8303","text":"<ul> <li>PEP8</li> <li>Python \u4e4b\u7985</li> <li>\u4e86\u89e3 dosctring</li> <li>\u4e86\u89e3\u7c7b\u578b\u6ce8\u89e3</li> <li>Python \u5bf9\u8c61\u7684\u547d\u540d\u89c4\u8303\uff0c\u4f8b\u5982\u65b9\u6cd5\u6216\u8005\u7c7b</li> <li>Python \u4e2d\u7684\u6ce8\u91ca</li> <li>\u4f18\u96c5\u7684\u7ed9\u4e00\u4e2a\u51fd\u6570\u52a0\u6ce8\u91ca</li> <li>\u7ed9\u53d8\u91cf\u52a0\u6ce8\u91ca</li> <li>Python \u4ee3\u7801\u7f29\u8fdb\u4e2d\u662f\u5426\u652f\u6301 Tab \u952e\u548c\u7a7a\u683c\u6df7\u7528</li> <li>\u662f\u5426\u53ef\u4ee5\u5728\u4e00\u53e5 import \u4e2d\u5bfc\u5165\u591a\u4e2a\u5e93</li> <li>\u5728\u7ed9 Py \u6587\u4ef6\u547d\u540d\u7684\u65f6\u5019\u9700\u8981\u6ce8\u610f\u4ec0\u4e48</li> <li>\u4f8b\u4e3e\u51e0\u4e2a\u89c4\u8303 Python \u4ee3\u7801\u98ce\u683c\u7684\u5de5\u5177</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_77","title":"\u6b63\u786e\u7684\u6d41\u7a0b\u5f00\u53d1","text":"<ol> <li>\u7528GitHub\u6216\u7c7b\u4f3c\u7684\u73b0\u4ee3\u5e73\u53f0</li> <li>\u5e73\u53f0\u4e0a\u8bbe\u7f6e\u7981\u6b62\u76f4\u63a5push\u5230\u4e3b\u5e72\uff0c\u6240\u6709\u7684\u4fee\u6539\u5fc5\u987bfork\u540e\u8d70Pull Request</li> <li>\u542f\u7528CI\uff08\u6301\u7eed\u96c6\u6210\uff09\uff0c\u63d0PR\u65f6\u5e73\u53f0\u81ea\u52a8\u6267\u884cCI\u6b65\u9aa4\uff0c\u5931\u8d25\u7684\u4e0d\u80fd\u88ab\u5408\u5e76\uff08\u4e0d\u51c6\u5f00\u4efb\u4f55\u540e\u95e8\uff09</li> <li>CI\u52a0\u5165linter\uff0c\u786e\u4fdd\u4ee3\u7801\u89c4\u8303\uff1b\u6240\u6709\u4ee3\u7801\u89c4\u8303\u5fc5\u987b\u8981\u53ef\u7531linter\u68c0\u6d4b\uff0c\u4ee3\u7801\u89c4\u8303/linter\u914d\u7f6e\u89c4\u5219\u4e5f\u8981\u9488\u5bf9\u5b9e\u8df5\u4e2d\u53d1\u73b0\u7684\u95ee\u9898\u4e0d\u65ad\u8865\u5145\u7ec6\u5316\u548c\u66f4\u65b0</li> <li>CI\u52a0\u5165\u5355\u5143\u6d4b\u8bd5\uff0c\u4ee3\u7801\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u81f3\u5c1160%\u4ee5\u4e0a\uff0c\u6838\u5fc3\u6a21\u5757\u6d4b\u8bd5\u8986\u76d6\u7387\u5fc5\u987b90%\u4ee5\u4e0a\uff1b\u6240\u6709\u53d1\u73b0\u7684bug\u5fc5\u987b\u7531\u9020\u6210bug\u7684\u4eba\u8d1f\u8d23\u8865\u4e0a\u5355\u5143\u6d4b\u8bd5</li> <li>\u6bcf\u4e2aPR\u5f3a\u5236\u8981\u6c42\u6539\u52a8\u4ee3\u7801\u884c\u6570\u5c0f\u4e8e100\u884c\uff0c\u65b0\u4eba\u8981\u6c42\u5c0f\u4e8e60\u884c\uff0c\u4ee5\u5229code review</li> <li>\u6bcf\u4e2aPR\u5728CI\u901a\u8fc7\u540e\u5fc5\u987b\u6709\u5176\u4ed6\u4eba\u8fdb\u884c\u8fc7code review\u5e76approve\uff0c\u5426\u5219\u4e0d\u80fd\u88abmerge\uff0c\u65b0\u4eba\u7684\u4ee3\u7801\u5fc5\u987b\u81f3\u5c11\u6709\u4e24\u4ebareview\u548capprove\uff08\u6bd4\u5982\u65b0\u4eba\u7684mentor\u548c\u76f8\u5173\u4ee3\u7801\u6587\u4ef6\u6216\u76ee\u5f55\u7684owner\uff09</li> <li>\u9488\u5bf9\u6bcf\u4e2aPR\u81ea\u52a8\u90e8\u7f72\u4e00\u4efd\u5230\u6d4b\u8bd5\u73af\u5883\uff0c\u65b9\u4fbf\u81ea\u6d4b\u6216\u63d0\u4f9b\u7ed9\u6d4b\u8bd5\u56e2\u961f\u8fdb\u884c\u5fc5\u8981\u7684\u6d4b\u8bd5</li> <li>\u6bcf2\u5468\u68c0\u67e5\u8fd1\u671fbug\uff0c\u603b\u7ed3\u7ecf\u9a8c\u6559\u8bad\uff0c\u7279\u522b\u662f\u91cd\u590d\u72af\u7684\u9519\u8bef\u4e00\u5b9a\u8981\u5efa\u7acb\u673a\u5236\u53bb\u9632\u8303</li> </ol>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_78","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u5355\u5143\u6d4b\u8bd5\u53ef\u4ee5\u9632\u6b62\u56de\u5f52\u7684\u65f6\u5019\u51fa\u73b0\u95ee\u9898,\u4e00\u4e2a\u51fd\u6570\uff0c\u4e00\u4e2a\u7c7b\u7684\u9010\u6b21\u5f00\u59cb\u9a8c\u8bc1\uff0c\u81ea\u5e95\u5411\u4e0a\u6d4b\u8bd5\uff0c\u6613\u6d4b\u8bd5\u7684\u4ee3\u7801\u5f80\u5f80\u662f\u9ad8\u5185\u805a\u4f4e\u8026\u5408\u7684\u3002</li> <li>Django\u6d4b\u8bd5</li> <li>\u5355\u5143\u6d4b\u8bd5\u76f8\u5173\u7684\u5e93</li> <li>nose/pytest\u8f83\u4e3a\u5e38\u7528</li> <li>mock\u6a21\u5757\u7528\u6765\u6a21\u62df\u66ff\u6362\u7f51\u7edc\u8bf7\u6c42</li> <li>coverage \u7edf\u8ba1\u6d4b\u8bd5\u8986\u76d6\u7387</li> <li>\u6d4b\u8bd5\u7528\u4f8b\u8bbe\u8ba1\u539f\u5219\uff1a<ul> <li>\u6b63\u5e38\u503c\u529f\u80fd\u6d4b\u8bd5</li> <li>\u8fb9\u754c\u503c\uff08\u6700\u5927\u6700\u5c0f\uff0c\u6216\u8005\u6700\u5de6\u6700\u53f3\uff09</li> <li>\u5f02\u5e38\u503c\uff08none\uff0c\u7a7a\u503c\uff0c\u975e\u6cd5\u503c\uff09</li> </ul> </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#cicd","title":"CI/CD\u5de5\u5177\u7bc7","text":"<ul> <li>\u8c01\u624d\u662f\u4e16\u754c\u4e0a\u6700\u597d\u7684 CI/CD \u5de5\u5177\uff1f</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#vim","title":"Vim \u7f16\u8f91\u5668","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#gitflight_rules","title":"Git\u98de\u884c\u89c4\u5219(Flight Rules)","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#docker","title":"Docker \u7bc7","text":"<ul> <li>\u7528Docker\u90e8\u7f72\u4e00\u4e2aWeb\u5e94\u7528</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#web","title":"Web \u6269\u5c55","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#web_1","title":"Web\u5b89\u5168\u7bc7","text":""},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#ddos","title":"DDos \u653b\u51fb","text":"<ul> <li>\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u9001\u8bf7\u6c42\u94fe\u63a5\u6570\u636e\u5305\uff0c\u670d\u52a1\u7aef\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u786e\u8ba4\u6570\u636e\u5305\uff0c\u5ba2\u6237\u7aef\u4e0d\u5411\u670d\u52a1\u7aef\u53d1\u9001\u786e\u8ba4\u6570\u636e\u5305\uff0c\u670d\u52a1\u5668\u4e00\u76f4\u7b49\u5f85\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u786e\u8ba4\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#xss","title":"XSS \u653b\u51fb","text":"<ul> <li>XSS \u662f\u6307\u6076\u610f\u653b\u51fb\u8005\u5229\u7528\u7f51\u7ad9\u6ca1\u6709\u5bf9\u7528\u6237\u63d0\u4ea4\u6570\u636e\u8fdb\u884c\u8f6c\u4e49\u5904\u7406\u6216\u8005\u8fc7\u6ee4\u4e0d\u8db3\u7684\u7f3a\u70b9\uff0c\u8fdb\u800c\u6dfb\u52a0\u4e00\u4e9b\u811a\u672c\u4ee3\u7801\u5d4c\u5165\u5230 web \u9875\u9762\u4e2d\u53bb\uff0c\u4f7f\u522b\u7684\u7528\u6237\u8bbf\u95ee\u90fd\u4f1a\u6267\u884c\u76f8\u5e94\u7684\u5d4c\u5165\u4ee3\u7801\uff0c\u4ece\u800c\u76d7\u53d6\u7528\u6237\u8d44\u6599\u3001\u5229\u7528\u7528\u6237\u8eab\u4efd\u8fdb\u884c\u67d0\u79cd\u52a8\u4f5c\u6216\u8005\u5bf9\u8bbf\u95ee\u8005\u8fdb\u884c\u75c5\u6bd2\u4fb5\u5bb3\u7684\u4e00\u79cd\u653b\u51fb\u65b9\u5f0f\u3002</li> <li>\u4e3b\u8981\u539f\u56e0\uff1a\u8fc7\u4e8e\u4fe1\u4efb\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684\u6570\u636e\uff01\u89e3\u51b3\u529e\u6cd5\uff1a\u4e0d\u4fe1\u4efb\u4efb\u4f55\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u53ea\u8981\u662f\u5ba2\u6237 \u7aef\u63d0\u4ea4\u7684\u6570\u636e\u5c31\u5e94\u8be5\u5148\u8fdb\u884c\u76f8\u5e94\u7684\u8fc7\u6ee4\u5904\u7406\u7136\u540e\u65b9\u53ef\u8fdb\u884c\u4e0b\u4e00\u6b65\u7684\u64cd\u4f5c\u3002</li> <li>\u53cd\u5c04\u6027 XSS \u653b\u51fb (\u975e\u6301\u4e45\u6027 XSS \u653b\u51fb)\u548c\u6301\u4e45\u6027 XSS \u653b\u51fb (\u7559\u8a00\u677f\u573a\u666f)</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#sql_2","title":"SQL \u6ce8\u5165\u653b\u51fb","text":"<ul> <li>SQL \u6ce8\u5165\u5c31\u662f\u901a\u8fc7\u628a SQL \u547d\u4ee4\u63d2\u5165\u5230 Web \u8868\u5355\u63d0\u4ea4\u6216\u8f93\u5165\u57df\u540d\u6216\u9875\u9762\u8bf7\u6c42\u7684\u67e5\u8be2\u5b57\u7b26\u4e32\uff0c\u6700\u7ec8\u8fbe\u5230\u6b3a\u9a97\u670d\u52a1\u5668\u6267\u884c\u6076\u610f\u7684 SQL \u547d\u4ee4\u3002</li> <li>SQL \u6ce8\u5165\u653b\u51fb\u7684\u603b\u4f53\u601d\u8def\uff1a\u5bfb\u627e\u5230 SQL \u6ce8\u5165\u7684\u4f4d\u7f6e\uff0c\u5224\u65ad\u670d\u52a1\u5668\u7c7b\u578b\u548c\u540e\u53f0\u6570\u636e\u5e93\u7c7b\u578b\uff0c\u9488\u5bf9\u4e0d\u540c\u7684\u670d\u52a1\u5668\u548c\u6570\u636e\u5e93\u7279\u70b9\u8fdb\u884c SQL \u6ce8\u5165\u653b\u51fb\u3002</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_79","title":"\u52a0\u5bc6","text":"<ul> <li>\u5bf9\u79f0\u5bc6\u94a5\u52a0\u5bc6\u662f\u6307\u52a0\u5bc6\u548c\u89e3\u5bc6\u4f7f\u7528\u540c\u4e00\u4e2a\u5bc6\u94a5\u7684\u65b9\u5f0f\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5b58\u5728\u7684\u6700\u5927\u95ee\u9898\u5c31\u662f\u5bc6\u94a5\u53d1\u9001\u95ee\u9898\uff0c\u5373\u5982\u4f55\u5b89\u5168\u5730\u5c06\u5bc6\u94a5\u53d1\u7ed9\u5bf9\u65b9\uff1b\u800c\u975e\u5bf9\u79f0\u52a0\u5bc6\u662f\u6307\u4f7f\u7528\u4e00\u5bf9\u975e\u5bf9\u79f0\u5bc6\u94a5\uff0c\u5373\u516c\u94a5\u548c\u79c1\u94a5\uff0c\u516c\u94a5\u53ef\u4ee5\u968f\u610f\u53d1\u5e03\uff0c\u4f46\u79c1\u94a5\u53ea\u6709\u81ea\u5df1\u77e5\u9053\u3002\u53d1\u9001\u5bc6\u6587\u7684\u4e00\u65b9\u4f7f\u7528\u5bf9\u65b9\u7684\u516c\u94a5\u8fdb\u884c\u52a0\u5bc6\u5904\u7406\uff0c\u5bf9\u65b9\u63a5\u6536\u5230\u52a0\u5bc6\u4fe1\u606f\u540e\uff0c\u4f7f\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u8fdb\u884c\u89e3\u5bc6\u3002</li> <li>\u7531\u4e8e\u975e\u5bf9\u79f0\u52a0\u5bc6\u7684\u65b9\u5f0f\u4e0d\u9700\u8981\u53d1\u9001\u7528\u6765\u89e3\u5bc6\u7684\u79c1\u94a5\uff0c\u6240\u4ee5\u53ef\u4ee5\u4fdd\u8bc1\u5b89\u5168\u6027\uff1b\u4f46\u662f\u548c\u5bf9\u79f0\u52a0\u5bc6\u6bd4\u8d77\u6765\uff0c\u5b83\u975e\u5e38\u7684\u6162\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u662f\u8981\u7528\u5bf9\u79f0\u52a0\u5bc6\u6765\u4f20\u9001\u6d88\u606f\uff0c\u4f46\u5bf9\u79f0\u52a0\u5bc6\u6240\u4f7f\u7528\u7684\u5bc6\u94a5\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u975e\u5bf9\u79f0\u52a0\u5bc6\u7684\u65b9\u5f0f\u53d1\u9001\u51fa\u53bb\u3002</li> <li>\u7528\u4e8e\u6d88\u606f\u9a8c\u8bc1\u7684hash\u7b97\u6cd5\uff1aHMAC </li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_80","title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u7bc7","text":"<ul> <li>\u53ef\u80fd\u662f\u6700\u597d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u6559\u7a0b\u7b14\u8bb0\u4e86\u5427...</li> </ul>"},{"location":"12_%E9%9D%A2%E8%AF%95/PythonWebInterview.html#_81","title":"\u5176\u4ed6","text":"<ul> <li>\u4f18\u8d28 Python \u64ad\u5ba2\u63a8\u8350</li> <li>PYCON CHINA 2019</li> <li>JetBrains IDE \u57fa\u672c\u5feb\u6377\u952e</li> </ul>"},{"location":"%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%A4%A7%E6%A8%A1%E5%9E%8B/index.html","title":"\u5927\u6a21\u578b","text":""},{"location":"%E8%BF%90%E7%BB%B4/Linux/Linux%E5%9F%BA%E7%A1%80/Systemd.html","title":"Systemd","text":""}]}